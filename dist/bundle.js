!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(191),(new(function(){function t(){this.type="WebGL",PIXI.utils.isWebGLSupported()||(this.type="canvas"),PIXI.utils.sayHello(this.type),this.app=new PIXI.Application({width:256,height:256}),this.app.renderer.backgroundColor=398905}return t.prototype.init=function(){document.body.appendChild(this.app.view)},t}())).init()},function(t,e,r){"use strict";e.__esModule=!0;e.VERSION="4.8.1",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var n=r(1);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=r(5);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=r(6);Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return z(o).default}});var s=r(32);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return z(s).default}});var a=r(77);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return z(a).default}});var u=r(16);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return z(u).default}});var h=r(75);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return z(h).default}});var l=r(76);Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return z(l).default}});var c=r(30);Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return z(c).default}});var f=r(28);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return z(f).default}});var d=r(160);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return z(d).default}});var p=r(24);Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return z(p).default}});var v=r(157);Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return z(v).default}});var y=r(141);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return z(y).default}});var g=r(62);Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return z(g).default}});var _=r(61);Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return z(_).default}});var m=r(139);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return z(m).default}});var b=r(60);Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return z(b).default}});var x=r(137);Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return z(x).default}});var T=r(130);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return z(T).default}});var E=r(129);Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return z(E).default}});var w=r(8);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return z(w).default}});var S=r(64);Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return z(S).default}});var O=r(10);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return z(O).default}});var M=r(25);Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return z(M).default}});var P=r(69);Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return z(P).default}});var C=r(72);Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return z(C).default}});var A=r(71);Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return z(A).default}});var R=r(68);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return z(R).default}});var I=r(13);Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return z(I).default}});var D=r(14);Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return z(D).default}});var L=r(20);Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return z(L).default}});var N=r(18);Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return z(N).default}});var k=r(63);Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return z(k).default}});var F=r(66);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return z(F).default}});var B=r(65);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return z(B).default}});var j=r(59);Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return z(j).default}});var U=r(58);Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var X=V(r(3)),W=V(r(26)),H=z(r(4)),G=z(r(15)),Y=z(r(19));function V(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function z(t){return t&&t.__esModule?t:{default:t}}e.settings=H.default,e.utils=X,e.ticker=W,e.CanvasRenderer=G.default,e.WebGLRenderer=Y.default},function(t,e,r){"use strict";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++p},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){var r=i.default.RETINA_PREFIX.exec(t);if(r)return parseFloat(r[1]);return void 0!==e?e:1},e.decomposeDataUri=function(t){var e=n.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]};return},e.getUrlFileExtension=function(t){var e=n.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase();return},e.getSvgSize=function(t){var e=n.SVG_SIZE.exec(t),r={};e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7])));return r},e.skipHello=function(){v=!0},e.sayHello=function(t){if(v)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+n.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+n.VERSION+" - "+t+" - http://www.pixijs.com/");v=!0},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in y)y[t].destroy();for(t in g)g[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in y)delete y[t];for(t in g)delete g[t]},e.correctBlendMode=function(t,e){return _[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i=i*e+.5|0)},e.premultiplyRgba=function(t,e,r,n){r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]);return r[3]=e,r},e.premultiplyTintToRgba=function(t,e,r,n){(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e);return r[3]=e,r};var n=r(1),i=d(r(4)),o=d(r(9)),s=d(r(172)),a=f(r(171)),u=f(r(31)),h=d(r(170)),l=d(r(169)),c=d(r(29));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=!1;e.isMobile=u,e.removeItems=h.default,e.EventEmitter=o.default,e.pluginTarget=s.default,e.mixins=a,e.earcut=c.default;var y=e.TextureCache=Object.create(null),g=e.BaseTextureCache=Object.create(null);var _=e.premultiplyBlendMode=(0,l.default)()},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(174)),i=o(r(173));function o(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,n.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,i.default)(),MESH_CANVAS_PADDING:0}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(36);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return f(n).default}});var i=r(88);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return f(i).default}});var o=r(35);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return f(o).default}});var s=r(87);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return f(s).default}});var a=r(184);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return f(a).default}});var u=r(183);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return f(u).default}});var h=r(182);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return f(h).default}});var l=r(34);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return f(l).default}});var c=r(181);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return f(c).default}})},function(t,e,r){var n={createContext:r(180),setVertexAttribArrays:r(86),GLBuffer:r(179),GLFramebuffer:r(178),GLShader:r(177),GLTexture:r(85),VertexArrayObject:r(176),shader:r(175)};void 0!==t&&t.exports&&(t.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return n.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return e=r(o(e.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),i="/"===s(t,-1);return(t=r(o(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&i&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var h=[];for(u=a;u<i.length;u++)h.push("..");return(h=h.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(154))},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=c(r(10)),o=c(r(72)),s=c(r(71)),a=c(r(9)),u=r(5),h=r(3),l=c(r(4));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(r,n,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if(a.noFrame=!1,n||(a.noFrame=!0,n=new u.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),a.baseTexture=r,a._frame=n,a.trim=o,a.valid=!1,a.requiresUpdate=!1,a._uvs=null,a.orig=i||n,a._rotate=Number(s||0),!0===s)a._rotate=2;else if(a._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(a.noFrame&&(n=new u.Rectangle(0,0,r.width,r.height),r.on("update",a.onBaseTextureUpdated,a)),a.frame=n):r.once("loaded",a.onBaseTextureLoaded,a),a._updateID=0,a.transform=null,a.textureCacheIds=[],a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(h.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new s.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,r,n,o){var s=h.TextureCache[t];return s||(s=new e(i.default.fromImage(t,r,n,o)),e.addToCache(s,t)),s},e.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(i.default.fromCanvas(t,r,n))},e.fromVideo=function(t,r){return"string"==typeof t?e.fromVideoUrl(t,r):new e(o.default.fromVideo(t,r))},e.fromVideoUrl=function(t,r){return new e(o.default.fromUrl(t,r))},e.from=function(t){if("string"==typeof t){var r=h.TextureCache[t];return r||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t))}return t instanceof HTMLImageElement?new e(i.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,l.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof i.default?new e(t):t},e.fromLoader=function(t,r,n){var o=new i.default(t,void 0,(0,h.getResolutionOfUrl)(r)),s=new e(o);return o.imageUrl=r,n||(n=r),i.default.addToCache(s.baseTexture,n),e.addToCache(s,n),n!==r&&(i.default.addToCache(s.baseTexture,r),e.addToCache(s,r)),s},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),h.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),h.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=h.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete h.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)h.TextureCache[t.textureCacheIds[n]]===t&&delete h.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},n(e,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,s=r+i>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,h="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+h)}this.valid=n&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(a.default);function d(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.default=f,f.EMPTY=new f(new i.default),d(f.EMPTY),d(f.EMPTY.baseTexture),f.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new f(new i.default(t))}(),d(f.WHITE),d(f.WHITE.baseTexture)},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t,e){var r=i?i+t:t,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,a=new Array(s);o<s;o++)a[o]=n[o].fn;return a},a.prototype.emit=function(t,e,r,n,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var u,h,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,o),!0;case 6:return l.fn.call(l.context,e,r,n,o,s),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l.fn.apply(l.context,u)}else{var f,d=l.length;for(h=0;h<d;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),c){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,e);break;case 3:l[h].fn.call(l[h].context,e,r);break;case 4:l[h].fn.call(l[h].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l[h].fn.apply(l[h].context,u)}}return!0},a.prototype.on=function(t,e,r){var n=new s(e,r||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},a.prototype.once=function(t,e,r){var n=new s(e,r||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},a.prototype.removeListener=function(t,e,r,n){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||(0==--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var u=0,h=[],l=a.length;u<l;u++)(a[u].fn!==e||n&&!a[u].once||r&&a[u].context!==r)&&h.push(a[u]);h.length?this._events[s]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new o:delete this._events[s]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,t.exports=a},function(t,e,r){"use strict";e.__esModule=!0;var n=r(3),i=u(r(4)),o=u(r(9)),s=u(r(74)),a=u(r(27));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return a.uid=(0,n.uid)(),a.touched=0,a.resolution=s||i.default.RESOLUTION,a.width=100,a.height=100,a.realWidth=100,a.realHeight=100,a.scaleMode=void 0!==o?o:i.default.SCALE_MODE,a.hasLoaded=!1,a.isLoading=!1,a.source=null,a.origSource=null,a.imageType=null,a.sourceScale=1,a.premultipliedAlpha=!0,a.imageUrl=null,a.isPowerOfTwo=!1,a.mipmap=i.default.MIPMAP_TEXTURES,a.wrapMode=i.default.WRAP_MODE,a._glTextures={},a._enabled=0,a._virtalBoundId=-1,a._destroyed=!1,a.textureCacheIds=[],r&&a.loadSource(r),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=a.default.isPow2(this.realWidth)&&a.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var n=this;if(t.onload=function(){n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),"svg"!==n.imageType?n.emit("loaded",n):n._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,n.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(!(e=(0,n.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else(e=(0,n.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,n.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var r=(0,n.getSvgSize)(t),i=r.width,o=r.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var s=document.createElement("canvas");s.width=this.realWidth,s.height=this.realHeight,s._pixiId="canvas_"+(0,n.uid)(),s.getContext("2d").drawImage(this.source,0,0,i,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=s,e.addToCache(this,s._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,r,i,o){var a=n.BaseTextureCache[t];if(!a){var u=new Image;void 0===r&&0!==t.indexOf("data:")?u.crossOrigin=(0,s.default)(t):r&&(u.crossOrigin="string"==typeof r?r:"anonymous"),(a=new e(u,i)).imageUrl=t,o&&(a.sourceScale=o),a.resolution=(0,n.getResolutionOfUrl)(t),u.src=t,e.addToCache(a,t)}return a},e.fromCanvas=function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=i+"_"+(0,n.uid)());var o=n.BaseTextureCache[t._pixiId];return o||(o=new e(t,r),e.addToCache(o,t._pixiId)),o},e.from=function(t,r,i){if("string"==typeof t)return e.fromImage(t,void 0,r,i);if(t instanceof HTMLImageElement){var o=t.src,s=n.BaseTextureCache[o];return s||((s=new e(t,r)).imageUrl=o,i&&(s.sourceScale=i),s.resolution=(0,n.getResolutionOfUrl)(o),e.addToCache(s,o)),s}return t instanceof HTMLCanvasElement?e.fromCanvas(t,r):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),n.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),n.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=n.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete n.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete n.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(o.default);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),o=function(t){return t&&t.__esModule?t:{default:t}}(r(8));var s=new i.Point,a=new i.Polygon,u=function(t){function e(r,n,s,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h._texture=r||o.default.EMPTY,h.uvs=s||new Float32Array([0,0,1,0,1,1,0,1]),h.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),h.indices=a||new Uint16Array([0,1,3,2]),h.dirty=0,h.indexDirty=0,h.vertexDirty=0,h.autoUpdate=!0,h.blendMode=i.BLEND_MODES.NORMAL,h.canvasPadding=i.settings.MESH_CANVAS_PADDING,h.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,h.shader=null,h.tintRgb=new Float32Array([1,1,1]),h._glDatas={},h._uvTransform=new i.TextureMatrix(h._texture),h.uploadUvTransform=!1,h.pluginName="mesh",h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,s);for(var r=this.vertices,n=a.points,i=this.indices,o=this.indices.length,u=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,h=0;h+2<o;h+=u){var l=2*i[h],c=2*i[h+1],f=2*i[h+2];if(n[0]=r[l],n[1]=r[l+1],n[2]=r[c],n[3]=r[c+1],n[4]=r[f],n[5]=r[f+1],a.contains(s.x,s.y))return!0}return!1},e.prototype.destroy=function(e){for(var r in this._glDatas){var n=this._glDatas[r];n.destroy?n.destroy():(n.vertexBuffer&&(n.vertexBuffer.destroy(),n.vertexBuffer=null),n.indexBuffer&&(n.indexBuffer.destroy(),n.indexBuffer=null),n.uvBuffer&&(n.uvBuffer.destroy(),n.uvBuffer=null),n.vao&&(n.vao.destroy(),n.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,e)},n(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return i.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=i.utils.hex2rgb(t,this.tintRgb)}}]),e}(i.Container);e.default=u,u.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,r){"use strict";var n=r(105).default,i=r(22).default,o=r(43),s=r(42);n.Resource=i,n.async=o,n.base64=s,t.exports=n,t.exports.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=r(6),i=function(t){return t&&t.__esModule?t:{default:t}}(r(4));function o(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}var s=function(t){function e(r,n,s,a,u){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,o(n,u||i.default.PRECISION_VERTEX),o(s,u||i.default.PRECISION_FRAGMENT),void 0,a))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n.GLShader);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=l(r(70)),i=l(r(159)),o=l(r(68)),s=l(r(158)),a=r(3),u=r(1),h=l(r(4));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(r,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"Canvas",r,n,o));return a.type=u.RENDERER_TYPE.CANVAS,a.rootContext=a.view.getContext("2d",{alpha:a.transparent}),a.context=a.rootContext,a.refresh=!0,a.maskManager=new i.default(a),a.smoothProperty="imageSmoothingEnabled",a.rootContext.imageSmoothingEnabled||(a.rootContext.webkitImageSmoothingEnabled?a.smoothProperty="webkitImageSmoothingEnabled":a.rootContext.mozImageSmoothingEnabled?a.smoothProperty="mozImageSmoothingEnabled":a.rootContext.oImageSmoothingEnabled?a.smoothProperty="oImageSmoothingEnabled":a.rootContext.msImageSmoothingEnabled&&(a.smoothProperty="msImageSmoothingEnabled")),a.initPlugins(),a.blendModes=(0,s.default)(),a._activeBlendMode=null,a.renderingToScreen=!1,a.resize(a.options.width,a.options.height),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var s=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new o.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!i){var h=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=h}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=a,t.renderCanvas(this),this.context=c,a.restore(),this.resolution=s,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=h.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(n.default);e.default=c,a.pluginTarget.mixin(c)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(3);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.children=[],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);(0,i.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,i.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,i.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=t,n="number"==typeof e?e:this.children.length,i=n-r,o=void 0;if(i>0&&i<=n){o=this.children.splice(r,i);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},n(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(77)).default);e.default=o,o.prototype.containerUpdateTransform=o.prototype.updateTransform},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.nativeLines?function(t,e){var r=0,n=t.points;if(0===n.length)return;var o=e.points,s=n.length/2,a=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,h=a[0]*u,l=a[1]*u,c=a[2]*u;for(r=1;r<s;r++){var f=n[2*(r-1)],d=n[2*(r-1)+1],p=n[2*r],v=n[2*r+1];o.push(f,d),o.push(h,l,c,u),o.push(p,v),o.push(h,l,c,u)}}(t,r):function(t,e){var r=t.points;if(0===r.length)return;var o=new n.Point(r[0],r[1]),s=new n.Point(r[r.length-2],r[r.length-1]);if(o.x===s.x&&o.y===s.y){(r=r.slice()).pop(),r.pop();var a=(s=new n.Point(r[r.length-2],r[r.length-1])).x+.5*(o.x-s.x),u=s.y+.5*(o.y-s.y);r.unshift(a,u),r.push(a,u)}var h=e.points,l=e.indices,c=r.length/2,f=r.length,d=h.length/6,p=t.lineWidth/2,v=(0,i.hex2rgb)(t.lineColor),y=t.lineAlpha,g=v[0]*y,_=v[1]*y,m=v[2]*y,b=r[0],x=r[1],T=r[2],E=r[3],w=0,S=0,O=-(x-E),M=b-T,P=0,C=0,A=0,R=0,I=Math.sqrt(O*O+M*M);O/=I,M/=I,O*=p,M*=p;var D=t.lineAlignment,L=2*(1-D),N=2*D;h.push(b-O*L,x-M*L,g,_,m,y),h.push(b+O*N,x+M*N,g,_,m,y);for(var k=1;k<c-1;++k){b=r[2*(k-1)],x=r[2*(k-1)+1],T=r[2*k],E=r[2*k+1],w=r[2*(k+1)],S=r[2*(k+1)+1],O=-(x-E),M=b-T,I=Math.sqrt(O*O+M*M),O/=I,M/=I,O*=p,M*=p,P=-(E-S),C=T-w,I=Math.sqrt(P*P+C*C),P/=I,C/=I;var F=-M+x-(-M+E),B=-O+T-(-O+b),j=(-O+b)*(-M+E)-(-O+T)*(-M+x),U=-(C*=p)+S-(-C+E),X=-(P*=p)+T-(-P+w),W=(-P+w)*(-C+E)-(-P+T)*(-C+S),H=F*X-U*B;if(Math.abs(H)<.1)H+=10.1,h.push(T-O*L,E-M*L,g,_,m,y),h.push(T+O*N,E+M*N,g,_,m,y);else{var G=(B*W-X*j)/H,Y=(U*j-F*W)/H,V=(G-T)*(G-T)+(Y-E)*(Y-E);V>196*p*p?(A=O-P,R=M-C,I=Math.sqrt(A*A+R*R),A/=I,R/=I,A*=p,R*=p,h.push(T-A*L,E-R*L),h.push(g,_,m,y),h.push(T+A*N,E+R*N),h.push(g,_,m,y),h.push(T-A*N*L,E-R*L),h.push(g,_,m,y),f++):(h.push(T+(G-T)*L,E+(Y-E)*L),h.push(g,_,m,y),h.push(T-(G-T)*N,E-(Y-E)*N),h.push(g,_,m,y))}}b=r[2*(c-2)],x=r[2*(c-2)+1],T=r[2*(c-1)],E=r[2*(c-1)+1],O=-(x-E),M=b-T,I=Math.sqrt(O*O+M*M),O/=I,M/=I,O*=p,M*=p,h.push(T-O*L,E-M*L),h.push(g,_,m,y),h.push(T+O*N,E+M*N),h.push(g,_,m,y),l.push(d);for(var z=0;z<f;++z)l.push(d++);l.push(d-1)}(t,e)};var n=r(5),i=r(3)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(5),i=r(1),o=function(t){return t&&t.__esModule?t:{default:t}}(r(4)),s=r(6);var a=function(){function t(e,r,a,u,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new n.Rectangle(0,0,1,1),this.resolution=h||o.default.RESOLUTION,this.projectionMatrix=new n.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new n.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==u?u:o.default.SCALE_MODE,this.root=l,this.root?(this.frameBuffer=new s.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=s.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===i.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,a)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=_(r(70)),i=_(r(156)),o=_(r(153)),s=_(r(152)),a=_(r(18)),u=_(r(20)),h=_(r(150)),l=_(r(10)),c=_(r(149)),f=_(r(148)),d=_(r(146)),p=_(r(145)),v=r(3),y=_(r(6)),g=r(1);function _(t){return t&&t.__esModule?t:{default:t}}var m=0,b=function(t){function e(r,n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"WebGL",r,n,s));return a.legacy=a.options.legacy,a.legacy&&(y.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=g.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new i.default(a),a.stencilManager=new o.default(a),a.emptyRenderer=new u.default(a),a.currentRenderer=a.emptyRenderer,a.textureManager=null,a.filterManager=null,a.initPlugins(),a.options.context&&(0,p.default)(a.options.context),a.gl=a.options.context||y.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=m++,a.state=new f.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.drawModes=(0,d.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new h.default(this),this.filterManager=new s.default(this),this.textureGC=new c.default(this),this.state.resetToDefault(),this.rootRenderTarget=new a.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new y.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new l.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){n.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new y.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(n.default);e.default=b,v.pluginTarget.mixin(b)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(function(t){return t&&t.__esModule?t:{default:t}}(r(14)).default);e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),i=function(t){return t&&t.__esModule?t:{default:t}}(r(38));var o=n.ticker.shared;n.settings.UPLOADS_PER_FRAME=4;var s=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.limiter=new i.default(n.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(f),this.registerFindHook(d),this.registerFindHook(a),this.registerFindHook(u),this.registerFindHook(h),this.registerUploadHook(l),this.registerUploadHook(c)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,o.addOnce(this.tick,this,n.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)o.addOnce(this.tick,this,n.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var a=0,u=s.length;a<u;a++)s[a]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof n.Container)for(var i=t.children.length-1;i>=0;i--)this.add(t.children[i]);return this},t.prototype.destroy=function(){this.ticking&&o.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function a(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof n.Texture){var o=t._textures[i].baseTexture;-1===e.indexOf(o)&&(e.push(o),r=!0)}return r}function u(t,e){return t instanceof n.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function h(t,e){if(t._texture&&t._texture instanceof n.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function l(t,e){return e instanceof n.Text&&(e.updateText(!0),!0)}function c(t,e){if(e instanceof n.TextStyle){var r=e.toFontString();return n.TextMetrics.measureFont(r),!0}return!1}function f(t,e){if(t instanceof n.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function d(t,e){return t instanceof n.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=s(r(44)),o=s(r(45));function s(t){return t&&t.__esModule?t:{default:t}}var a=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),u=null;function h(){}var l=function(){function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,r){c(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){c(t._xhrTypeMap,e,r)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(r)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:a&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=r,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(f(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(f(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===n&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2===(n/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,u||(u=document.createElement("a")),u.href=t;var r=!(t=(0,i.default)(u.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(n>-1?n:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function c(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function f(t){return t.toString().replace("object ","")}e.default=l,l.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},l.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},l.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},l._loadTypeMap={gif:l.LOAD_TYPE.IMAGE,png:l.LOAD_TYPE.IMAGE,bmp:l.LOAD_TYPE.IMAGE,jpg:l.LOAD_TYPE.IMAGE,jpeg:l.LOAD_TYPE.IMAGE,tif:l.LOAD_TYPE.IMAGE,tiff:l.LOAD_TYPE.IMAGE,webp:l.LOAD_TYPE.IMAGE,tga:l.LOAD_TYPE.IMAGE,svg:l.LOAD_TYPE.IMAGE,"svg+xml":l.LOAD_TYPE.IMAGE,mp3:l.LOAD_TYPE.AUDIO,ogg:l.LOAD_TYPE.AUDIO,wav:l.LOAD_TYPE.AUDIO,mp4:l.LOAD_TYPE.VIDEO,webm:l.LOAD_TYPE.VIDEO},l._xhrTypeMap={xhtml:l.XHR_RESPONSE_TYPE.DOCUMENT,html:l.XHR_RESPONSE_TYPE.DOCUMENT,htm:l.XHR_RESPONSE_TYPE.DOCUMENT,xml:l.XHR_RESPONSE_TYPE.DOCUMENT,tmx:l.XHR_RESPONSE_TYPE.DOCUMENT,svg:l.XHR_RESPONSE_TYPE.DOCUMENT,tsx:l.XHR_RESPONSE_TYPE.DOCUMENT,gif:l.XHR_RESPONSE_TYPE.BLOB,png:l.XHR_RESPONSE_TYPE.BLOB,bmp:l.XHR_RESPONSE_TYPE.BLOB,jpg:l.XHR_RESPONSE_TYPE.BLOB,jpeg:l.XHR_RESPONSE_TYPE.BLOB,tif:l.XHR_RESPONSE_TYPE.BLOB,tiff:l.XHR_RESPONSE_TYPE.BLOB,webp:l.XHR_RESPONSE_TYPE.BLOB,tga:l.XHR_RESPONSE_TYPE.BLOB,json:l.XHR_RESPONSE_TYPE.JSON,text:l.XHR_RESPONSE_TYPE.TEXT,txt:l.XHR_RESPONSE_TYPE.TEXT,ttf:l.XHR_RESPONSE_TYPE.BUFFER,otf:l.XHR_RESPONSE_TYPE.BUFFER},l.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(3);var i={getTintedTexture:function(t,e){var r=t._texture,n="#"+("00000"+(0|(e=i.roundColor(e))).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var o=r.tintCache[n],s=void 0;if(o){if(o.tintId===r._updateID)return r.tintCache[n];s=r.tintCache[n]}else s=i.canvas||document.createElement("canvas");if(i.tintMethod(r,e,s),s.tintId=r._updateID,i.convertTintToImage){var a=new Image;a.src=s.toDataURL(),r.tintCache[n]=a}else r.tintCache[n]=s,i.canvas=null;return s},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithPerPixel:function(t,e,r){var i=r.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.restore();for(var a=(0,n.hex2rgb)(e),u=a[0],h=a[1],l=a[2],c=i.getImageData(0,0,o.width,o.height),f=c.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=h,f[d+2]*=l;i.putImageData(c,0,0)},roundColor:function(t){var e=i.cacheStepsPerColorChannel,r=(0,n.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,n.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,function(t){return t&&t.__esModule?t:{default:t}}(r(67)).default)(),tintMethod:0};i.tintMethod=i.canUseMultiply?i.tintWithMultiply:i.tintWithPerPixel,e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=i(r(69));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=null;if(!(r instanceof n.default)){var s=arguments[1],a=arguments[2],u=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+a+") instead of the ctor directly."),o=arguments[0],i=null,r=new n.default(s,a,u,h)}var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,i));return l.legacyRenderer=o,l.valid=!0,l._updateUvs(),l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,r){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,r,i,o){return new e(new n.default(t,r,i,o))},e}(i(r(8)).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0,e.Ticker=e.shared=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(162));var i=new n.default;i.autoStart=!0,i.destroy=function(){},e.shared=i,e.Ticker=n.default},function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(5),o=r(3),s=r(1),a=h(r(8)),u=h(r(16));function h(t){return t&&t.__esModule?t:{default:t}}var l=new i.Point,c=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n._anchor=new i.ObservablePoint(n._onAnchorUpdate,n),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=s.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||a.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,h=t.trim,l=t.orig,c=this._anchor,f=0,d=0,p=0,v=0;h?(f=(d=h.x-c._x*l.width)+h.width,p=(v=h.y-c._y*l.height)+h.height):(f=(d=-c._x*l.width)+l.width,p=(v=-c._y*l.height)+l.height),u[0]=r*d+i*v+s,u[1]=o*v+n*d+a,u[2]=r*f+i*v+s,u[3]=o*v+n*f+a,u[4]=r*f+i*p+s,u[5]=o*p+n*f+a,u[6]=r*d+i*p+s,u[7]=o*p+n*d+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=-n._x*r.width,f=c+r.width,d=-n._y*r.height,p=d+r.height;e[0]=o*c+a*d+h,e[1]=u*d+s*c+l,e[2]=o*f+a*d+h,e[3]=u*d+s*f+l,e[4]=o*f+a*p+h,e[5]=u*p+s*f+l,e[6]=o*c+a*p+h,e[7]=u*p+s*c+l},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return l.x>=n&&l.x<n+e&&(i=-r*this.anchor.y,l.y>=i&&l.y<i+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t){return new e(a.default.from(t))},e.fromFrame=function(t){var r=o.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(r)},e.fromImage=function(t,r,n){return new e(a.default.fromImage(t,r,n))},n(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(u.default);e.default=c},function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n,a,u,h,l,d,v,y=e&&e.length,g=y?e[0]*r:t.length,_=i(t,0,g,r,!0),m=[];if(!_)return m;if(y&&(_=function(t,e,r,n){var s,a,u,h,l,d=[];for(s=0,a=e.length;s<a;s++)u=e[s]*n,h=s<a-1?e[s+1]*n:t.length,(l=i(t,u,h,n,!1))===l.next&&(l.steiner=!0),d.push(p(l));for(d.sort(c),s=0;s<d.length;s++)f(d[s],r),r=o(r,r.next);return r}(t,e,_,r)),t.length>80*r){n=u=t[0],a=h=t[1];for(var b=r;b<g;b+=r)l=t[b],d=t[b+1],l<n&&(n=l),d<a&&(a=d),l>u&&(u=l),d>h&&(h=d);v=0!==(v=Math.max(u-n,h-a))?1/v:0}return s(_,m,r,n,a,v),m}function i(t,e,r,n,i){var o,s;if(i===S(t,e,r,n)>0)for(o=e;o<r;o+=n)s=T(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=T(o,t[o],t[o+1],s);return s&&_(s,s.next)&&(E(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!_(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(E(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function s(t,e,r,n,i,c,f){if(t){!f&&c&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,s,a,u,h=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<h&&(a++,n=n.nextZ);e++);for(u=h;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(s>1)}(i)}(t,n,i,c);for(var p,v,y=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?u(t,n,i,c):a(t))e.push(p.i/r),e.push(t.i/r),e.push(v.i/r),E(t),t=v.next,y=v.next;else if((t=v)===y){f?1===f?s(t=h(t,e,r),e,r,n,i,c,2):2===f&&l(t,e,r,n,i,c):s(o(t),e,r,n,i,c,1);break}}}function a(t){var e=t.prev,r=t,n=t.next;if(g(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(v(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,s=t.next;if(g(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,h=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,l=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=d(a,u,e,r,n),f=d(h,l,e,r,n),p=t.prevZ,y=t.nextZ;p&&p.z>=c&&y&&y.z<=f;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;y&&y.z<=f;){if(y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function h(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!_(i,o)&&m(i,n,n.next,o)&&b(i,o)&&b(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),E(n),E(n.next),n=t=o),n=n.next}while(n!==t);return n}function l(t,e,r,n,i,a){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&y(u,h)){var l=x(u,h);return u=o(u,u.next),l=o(l,l.next),s(u,e,r,n,i,a),void s(l,e,r,n,i,a)}h=h.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r.prev;var u,h=r,l=r.x,c=r.y,f=1/0;n=r.next;for(;n!==h;)i>=n.x&&n.x>=l&&i!==n.x&&v(o<c?i:s,o,l,c,o<c?s:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<f||u===f&&n.x>r.x)&&b(n,t)&&(r=n,f=u),n=n.next;return r}(t,e)){var r=x(e,t);o(r,r.next)}}function d(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function v(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&m(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function g(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,r,n){return!!(_(t,e)&&_(r,n)||_(t,n)&&_(r,e))||g(t,e,r)>0!=g(t,e,n)>0&&g(r,n,t)>0!=g(r,n,e)>0}function b(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function x(t,e){var r=new w(t.i,t.x,t.y),n=new w(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function T(t,e,r,n){var i=new w(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function w(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=n,t.exports.default=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(S(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,l=a<u-1?e[a+1]*r:t.length;s-=Math.abs(S(t,h,l,r))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(5);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},t}();e.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},function(t,e,r){var n,i,o;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
!function(r){var s=/iPhone/i,a=/iPod/i,u=/iPad/i,h=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,l=/Android/i,c=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,f=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,d=/Windows Phone/i,p=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,v=/BlackBerry/i,y=/BB10/i,g=/Opera Mini/i,_=/(CriOS|Chrome)(?=.*\bMobile\b)/i,m=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),x=function(t,e){return t.test(e)},T=function(t){var e=t||navigator.userAgent,r=e.split("[FBAN");if(void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]),this.apple={phone:x(s,e),ipod:x(a,e),tablet:!x(s,e)&&x(u,e),device:x(s,e)||x(a,e)||x(u,e)},this.amazon={phone:x(c,e),tablet:!x(c,e)&&x(f,e),device:x(c,e)||x(f,e)},this.android={phone:x(c,e)||x(h,e),tablet:!x(c,e)&&!x(h,e)&&(x(f,e)||x(l,e)),device:x(c,e)||x(f,e)||x(h,e)||x(l,e)},this.windows={phone:x(d,e),tablet:x(p,e),device:x(d,e)||x(p,e)},this.other={blackberry:x(v,e),blackberry10:x(y,e),opera:x(g,e),firefox:x(m,e),chrome:x(_,e),device:x(v,e)||x(y,e)||x(g,e)||x(m,e)||x(_,e)},this.seven_inch=x(b,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},E=function(){var t=new T;return t.Class=T,t};void 0!==t&&t.exports&&"undefined"==typeof window?t.exports=T:void 0!==t&&t.exports&&"undefined"!=typeof window?t.exports=E():(i=[],n=r.isMobile=E(),void 0===(o="function"==typeof n?n.apply(e,i):n)||(t.exports=o))}(this)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(5);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((t=t||new n.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[2],s=t[3],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[4],s=t[5],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[6],s=t[7],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){var o=t.worldTransform,s=o.a,a=o.b,u=o.c,h=o.d,l=o.tx,c=o.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,y=s*e+u*r+l,g=a*e+h*r+c;f=y<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*n+h*r+c,f=(y=s*n+u*r+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*e+h*i+c,f=(y=s*e+u*i+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*n+h*i+c,f=(y=s*n+u*i+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,r,n){for(var i=t.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=r;v<n;v+=2){var y=e[v],g=e[v+1],_=o*y+a*g+h,m=u*g+s*y+l;c=_<c?_:c,f=m<f?m:f,d=_>d?_:d,p=m>p?m:p}this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t}();e.default=i},function(t,e){var r=null,n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,e){if(!r){var i=Object.keys(n);r={};for(var o=0;o<i.length;++o){var s=i[o];r[t[s]]=n[s]}}return r[e]}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1);var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(o),this.type=i.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n},n(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(r(36)),o=r(1);var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=s,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new i.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new i.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,o=t.y;return e.x=this.d*r*n+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*o+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){return this.a=Math.cos(s+u)*i,this.b=Math.sin(s+u)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,s=-Math.atan2(-n,i),a=Math.atan2(r,e),u=Math.abs(s+a);return u<1e-5||Math.abs(o.PI_2-u)<1e-5?(t.rotation=a,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=n},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(11));var i=function(t){function e(r,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s._ready=!0,s.verticesX=i||10,s.verticesY=o||10,s.drawMode=n.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,r=[],n=[],i=[],o=this.verticesX-1,s=this.verticesY-1,a=t.width/o,u=t.height/s,h=0;h<e;h++){var l=h%this.verticesX,c=h/this.verticesX|0;r.push(l*a,c*u),n.push(l/o,c/s)}for(var f=o*s,d=0;d<f;d++){var p=d%o,v=d/o|0,y=v*this.verticesX+p,g=v*this.verticesX+p+1,_=(v+1)*this.verticesX+p,m=(v+1)*this.verticesX+p+1;i.push(y,g,_),i.push(g,m,_)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(n),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){n.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(n.default);e.default=i},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===n.Resource.TYPE.IMAGE&&(t.texture=i.default.fromLoader(t.data,t.url,t.name)),e()}};var n=r(12),i=function(t){return t&&t.__esModule?t:{default:t}}(r(8))},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){var r=t.name+"_image";if(t.data&&t.type===n.Resource.TYPE.JSON&&t.data.frames&&!this.resources[r]){var i={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},a=s(t,this.baseUrl);this.add(r,a,i,function(r){if(r.error)e(r.error);else{var n=new o.Spritesheet(r.texture.baseTexture,t.data,t.url);n.parse(function(){t.spritesheet=n,t.textures=n.textures,e()})}})}else e()}},e.getResourcePath=s;var n=r(12),i=function(t){return t&&t.__esModule?t:{default:t}}(r(73)),o=r(2);function s(t,e){return t.isDataUrl?t.data.meta.image:i.default.resolve(t.url.replace(e,""),t.data.meta.image)}},function(t,e,r){"use strict";e.__esModule=!0,e.encodeBinary=function(t){var e="",r=0;for(;r<t.length;){for(var i=[0,0,0],o=[0,0,0,0],s=0;s<i.length;++s)r<t.length?i[s]=255&t.charCodeAt(r++):i[s]=0;o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2];var a=r-(t.length-1);switch(a){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var u=0;u<o.length;++u)e+=n.charAt(o[u])}return e};var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t,e,r){"use strict";function n(){}function i(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,r,n){var i=0,o=t.length;!function s(a){a||i===o?r&&r(a):n?setTimeout(function(){e(t[i++],s)},1):e(t[i++],s)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,o={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){r=0,o.drain=n,o.started=!1,o._tasks=[]},unshift:function(t,e){s(t,!0,e)},process:function(){for(;!o.paused&&r<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(r+=1)===o.concurrency&&o.saturated(),t(e.data,i(a(e)))}},length:function(){return o._tasks.length},running:function(){return r},idle:function(){return o._tasks.length+r===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function s(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var i={data:t,callback:"function"==typeof r?r:n};e?o._tasks.unshift(i):o._tasks.push(i),setTimeout(function(){return o.process()},1)}}function a(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),r<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(t,e,n){e&&(i[r.q.name][e]=n)}),i}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return n(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){i(this,t),this._head=this._tail=void 0}return n(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.parse=s,e.default=function(){return function(t,e){if(t.data&&t.type===i.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":n.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");for(var o=t.data.getElementsByTagName("page"),a={},u=function(r){a[r.metadata.pageFile]=r.texture,Object.keys(a).length===o.length&&(s(t,a),e())},h=0;h<o.length;++h){var l=o[h].getAttribute("file"),c=r+l,f=!1;for(var d in this.resources)if(this.resources[d].url===c){this.resources[d].metadata.pageFile=l,u(this.resources[d]),f=!0;break}if(!f){var p={crossOrigin:t.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(c,p,u)}}}else e();else e()}};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(7)),i=r(12),o=r(56);function s(t,e){t.bitmapFont=o.BitmapText.registerFont(t.data,e)}},function(t,e,r){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},n(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),o=u(r(54)),s=u(r(53)),a=u(r(52));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!1),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||i.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!1),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,n),t.returnRenderTarget(h)}},n(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;for(;r>e;)r-=2;return r}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=n[t],r=e.length,o=i,s="",a=void 0,u=0;u<t;u++){var h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",u);a=u,u>=r&&(a=t-u-1),h=h.replace("%value%",e[a]),s+=h,s+="\n"}return o=(o=o.replace("%blur%",s)).replace("%size%",t)};var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=Math.ceil(t/2),i=n,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a);u=u.replace("%sampleIndex%",a-(r-1)+".0"),o+=u,o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)};var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),o=u(r(54)),s=u(r(53)),a=u(r(52));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!0),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||i.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!0),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,n),t.returnRenderTarget(h)}},n(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var n=r(122);Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return a(n).default}});var i=r(121);Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return a(i).default}});var o=r(120);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return a(o).default}});var s=r(119);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return a(s).default}}),r(118),r(117),r(116)},function(t,e,r){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=function(t,e,r,s){var a=t&&t.forceCanvas;void 0!==s&&(a=s);if(!a&&n.isWebGLSupported())return new o.default(t,e,r);return new i.default(t,e,r)};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(3)),i=s(r(15)),o=s(r(19));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(58),o=h(r(16)),s=r(26),a=h(r(4)),u=r(1);function h(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,r,n,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:r||a.default.RENDER_OPTIONS.height,forceCanvas:!!u,sharedTicker:!!h},n)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,i.autoDetectRenderer)(e),this.stage=new o.default,this._ticker=null,this.ticker=e.sharedTicker?s.shared:new s.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t,e){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},n(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e,r,n,i,o,s,a,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lineWidth=e,this.lineAlignment=h,this.nativeLines=a,this.lineColor=r,this.lineAlpha=n,this._lineTint=r,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=s,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e,r,n,i,o,s,a,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=h}return t.measureText=function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;n=n||r.wordWrap;var o=r.toFontString(),s=t.measureFont(o),a=i.getContext("2d");a.font=o;for(var u=(n?t.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),h=new Array(u.length),l=0,c=0;c<u.length;c++){var f=a.measureText(u[c]).width+(u[c].length-1)*r.letterSpacing;h[c]=f,l=Math.max(l,f)}var d=l+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var p=r.lineHeight||s.fontSize+r.strokeThickness,v=Math.max(p,s.fontSize+r.strokeThickness)+(u.length-1)*(p+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new t(e,r,d,v,u,h,p+r.leading,l,s)},t.wordWrap=function(e,r){for(var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d"),i=0,o="",s="",a={},u=r.letterSpacing,h=r.whiteSpace,l=t.collapseSpaces(h),c=t.collapseNewlines(h),f=!l,d=r.wordWrapWidth+u,p=t.tokenize(e),v=0;v<p.length;v++){var y=p[v];if(t.isNewline(y)){if(!c){s+=t.addLine(o),f=!l,o="",i=0;continue}y=" "}if(l){var g=t.isBreakingSpace(y),_=t.isBreakingSpace(o[o.length-1]);if(g&&_)continue}var m=t.getFromCache(y,u,a,n);if(m>d)if(""!==o&&(s+=t.addLine(o),o="",i=0),t.canBreakWords(y,r.breakWords))for(var b=y.split(""),x=0;x<b.length;x++){for(var T=b[x],E=1;b[x+E];){var w=b[x+E],S=T[T.length-1];if(t.canBreakChars(S,w,y,x,r.breakWords))break;T+=w,E++}x+=T.length-1;var O=t.getFromCache(T,u,a,n);O+i>d&&(s+=t.addLine(o),f=!1,o="",i=0),o+=T,i+=O}else{o.length>0&&(s+=t.addLine(o),o="",i=0);var M=v===p.length-1;s+=t.addLine(y,!M),f=!1,o="",i=0}else m+i>d&&(f=!1,s+=t.addLine(o),o="",i=0),(o.length>0||!t.isBreakingSpace(y)||f)&&(o+=y,i+=m)}return s+=t.addLine(o,!1)},t.addLine=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),e=r?e+"\n":e},t.getFromCache=function(t,e,r,n){var i=r[t];if(void 0===i){var o=t.length*e;i=n.measureText(t).width+o,r[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if("string"!=typeof e)return r;for(var i=0;i<e.length;i++){var o=e[i];t.isBreakingSpace(o)||t.isNewline(o)?(""!==n&&(r.push(n),n=""),r.push(o)):n+=o}return""!==n&&r.push(n),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,n,i){return!0},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={},n=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(i.measureText(o).width),a=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=2*a;a=a*t.BASELINE_MULTIPLIER|0,n.width=s,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,s,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,a);var h=i.getImageData(0,0,s,u).data,l=h.length,c=4*s,f=0,d=0,p=!1;for(f=0;f<a;++f){for(var v=0;v<c;v+=4)if(255!==h[d+v]){p=!0;break}if(p)break;d+=c}for(r.ascent=a-f,d=l-c,p=!1,f=u;f>a;--f){for(var y=0;y<c;y+=4)if(255!==h[d+y]){p=!0;break}if(p)break;d-=c}return r.descent=f-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?delete t._fonts[e]:t._fonts={}},t}();e.default=n;var i=document.createElement("canvas");i.width=i.height=10,n._canvas=i,n._context=i.getContext("2d"),n._fonts={},n.METRICS_STRING="|Éq",n.BASELINE_SYMBOL="M",n.BASELINE_MULTIPLIER=1.4,n._newlines=[10,13],n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(3);var s={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleID=0,this.reset(),l(this,e,e)}return t.prototype.clone=function(){var e={};return l(e,this,s),new t(e)},t.prototype.reset=function(){l(this,s,s)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();/([\"\'])[^\'\"]+\1/.test(n)||(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=h(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=h(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=h(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function u(t){return"number"==typeof t?(0,o.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function h(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=u(t[e]);return t}return u(t)}function l(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(6)),i=o(r(23));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,i.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(e,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(r(35));var o=new i.default,s=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._texture=e,this.mapCoord=new i.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===r?.5:r}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(o.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(o));var s=e.baseTexture,a=this.uClampFrame,u=this.clampMargin/s.resolution,h=this.clampOffset;return a[0]=(e._frame.x+u+h)/s.width,a[1]=(e._frame.y+u+h)/s.height,a[2]=(e._frame.x+e._frame.width-u+h)/s.width,a[3]=(e._frame.y+e._frame.height-u+h)/s.height,this.uClampOffset[0]=h/s.realWidth,this.uClampOffset[1]=h/s.realHeight,!0},n(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=u(r(155)),o=r(3),s=r(1),a=u(r(4));function u(t){return t&&t.__esModule?t:{default:t}}var h={},l=function(){function t(e,r,n){for(var u in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=s.BLEND_MODES.NORMAL,this.uniformData=n||(0,i.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[u]=this.uniformData[u].value,this.uniformData[u].type&&(this.uniformData[u].type=this.uniformData[u].type.toLowerCase());this.glShaders={},h[this.vertexSrc+this.fragmentSrc]||(h[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=h[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=a.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},n(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0;var n=s(r(65)),i=r(5),o=(r(7),s(r(64)));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new i.Matrix,o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,o.maskSprite=r,o.maskMatrix=n,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=this.maskSprite,i=this.maskSprite.texture;i.valid&&(i.transform||(i.transform=new o.default(i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(i.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,t.applyFilter(this,e,r))},e}(n.default);e.default=a},function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(r(4));var o=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||i.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},n(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(10)),i=o(r(4));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],s=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,o));return a.resolution=s||i.default.RESOLUTION,a.width=Math.ceil(r),a.height=Math.ceil(n),a.realWidth=a.width*a.resolution,a.realHeight=a.height*a.resolution,a.scaleMode=void 0!==o?o:i.default.SCALE_MODE,a.hasLoaded=!0,a._glRenderTargets={},a._canvasRenderTarget=null,a.valid=!1,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(n.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(3),o=r(5),s=r(1),a=c(r(4)),u=c(r(16)),h=c(r(25)),l=c(r(9));function c(t){return t&&t.__esModule?t:{default:t}}var f=new o.Matrix,d=function(t){function e(r,n,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return(0,i.sayHello)(r),"number"==typeof n&&(n=Object.assign({width:n,height:h||a.default.RENDER_OPTIONS.height},l)),n=Object.assign({},a.default.RENDER_OPTIONS,n),c.options=n,c.type=s.RENDERER_TYPE.UNKNOWN,c.screen=new o.Rectangle(0,0,n.width,n.height),c.view=n.view||document.createElement("canvas"),c.resolution=n.resolution||a.default.RESOLUTION,c.transparent=n.transparent,c.autoResize=n.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=n.preserveDrawingBuffer,c.clearBeforeRender=n.clearBeforeRender,c.roundPixels=n.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=n.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new u.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,n){n=n||t.getLocalBounds();var i=h.default.create(0|n.width,0|n.height,e,r);return f.tx=-n.x,f.ty=-n.y,this.render(t,i,!1,f,!0),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,i.hex2string)(t),(0,i.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(l.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(87));var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,r){var i=e.width,o=e.height;if(r){var s=t.width/2/i,a=t.height/2/o,u=t.x/i+s,h=t.y/o+a;r=n.default.add(r,n.default.NW),this.x0=u+s*n.default.uX(r),this.y0=h+a*n.default.uY(r),r=n.default.add(r,2),this.x1=u+s*n.default.uX(r),this.y1=h+a*n.default.uY(r),r=n.default.add(r,2),this.x2=u+s*n.default.uX(r),this.y2=h+a*n.default.uY(r),r=n.default.add(r,2),this.x3=u+s*n.default.uX(r),this.y3=h+a*n.default.uY(r)}else this.x0=t.x/i,this.y0=t.y/o,this.x1=(t.x+t.width)/i,this.y1=t.y/o,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/o,this.x3=t.x/i,this.y3=(t.y+t.height)/o;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=h(r(10)),o=r(3),s=r(26),a=r(1),u=h(r(74));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));return i.width=r.videoWidth,i.height=r.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),r.addEventListener("play",i._onPlayStart.bind(i)),r.addEventListener("pause",i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(r.addEventListener("canplay",i._onCanPlay),r.addEventListener("canplaythrough",i._onCanPlay)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(s.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&s.shared.remove(this.update,this),this.source&&this.source._pixiId&&(i.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,r){t._pixiId||(t._pixiId="video_"+(0,o.uid)());var n=o.BaseTextureCache[t._pixiId];return n||(n=new e(t,r),i.default.addToCache(n,t._pixiId)),n},e.fromUrl=function(t,r,n){var i=document.createElement("video");i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","");var o=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===n&&0!==o.indexOf("data:")?i.crossOrigin=(0,u.default)(o):n&&(i.crossOrigin="string"==typeof n?n:"anonymous"),Array.isArray(t))for(var s=0;s<t.length;++s)i.appendChild(c(t[s].src||t[s],t[s].mime));else i.appendChild(c(o,t.mime));return i.load(),e.fromVideo(i,r)},n(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(s.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(i.default);function c(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}e.default=l,l.fromUrls=l.fromUrl},function(t,e,r){"use strict";var n=r(168),i=r(166);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=m,e.resolve=function(t,e){return m(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?m(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=m(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(h),c=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=r(165);function m(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",h=t.split(a);h[0]=h[0].replace(/\\/g,"/");var m=t=h.join(a);if(m=m.trim(),!r&&1===t.split("#").length){var b=u.exec(m);if(b)return this.path=m,this.href=m,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=s.exec(m);if(x){var T=(x=x[0]).toLowerCase();this.protocol=T,m=m.substr(x.length)}if(r||x||m.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===m.substr(0,2);!E||x&&y[x]||(m=m.substr(2),this.slashes=!0)}if(!y[x]&&(E||x&&!g[x])){for(var w,S,O=-1,M=0;M<f.length;M++){-1!==(P=m.indexOf(f[M]))&&(-1===O||P<O)&&(O=P)}-1!==(S=-1===O?m.lastIndexOf("@"):m.lastIndexOf("@",O))&&(w=m.slice(0,S),m=m.slice(S+1),this.auth=decodeURIComponent(w)),O=-1;for(M=0;M<c.length;M++){var P;-1!==(P=m.indexOf(c[M]))&&(-1===O||P<O)&&(O=P)}-1===O&&(O=m.length),this.host=m.slice(0,O),m=m.slice(O),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var A=this.hostname.split(/\./),R=(M=0,A.length);M<R;M++){var I=A[M];if(I&&!I.match(d)){for(var D="",L=0,N=I.length;L<N;L++)I.charCodeAt(L)>127?D+="x":D+=I[L];if(!D.match(d)){var k=A.slice(0,M),F=A.slice(M+1),B=I.match(p);B&&(k.push(B[1]),F.unshift(B[2])),F.length&&(m="/"+F.join(".")+m),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=n.toASCII(this.hostname));var j=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+j,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/"+m))}if(!v[T])for(M=0,R=l.length;M<R;M++){var X=l[M];if(-1!==m.indexOf(X)){var W=encodeURIComponent(X);W===X&&(W=escape(X)),m=m.split(X).join(W)}}var H=m.indexOf("#");-1!==H&&(this.hash=m.substr(H),m=m.slice(0,H));var G=m.indexOf("?");if(-1!==G?(this.search=m.substr(G),this.query=m.substr(G+1),e&&(this.query=_.parse(this.query)),m=m.slice(0,G)):e&&(this.search="",this.query={}),m&&(this.pathname=m),g[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var Y=this.search||"";this.path=j+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=_.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(m(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),h=0;h<u.length;h++){var l=u[h];"protocol"!==l&&(r[l]=t[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",_=r.search||"";r.path=v+_}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||m||r.host&&t.pathname,T=x,E=r.pathname&&r.pathname.split("/")||[],w=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(w&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(""===p[0]||""===E[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(w)r.hostname=r.host=E.shift(),(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=E.slice(-1)[0],O=(r.host||t.host||E.length>1)&&("."===S||".."===S)||""===S,M=0,P=E.length;P>=0;P--)"."===(S=E[P])?E.splice(P,1):".."===S?(E.splice(P,1),M++):M&&(E.splice(P,1),M--);if(!x&&!T)for(;M--;M)E.unshift("..");!x||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),O&&"/"!==E.join("/").substr(-1)&&E.push("");var C,A=""===E[0]||E[0]&&"/"===E[0].charAt(0);w&&(r.hostname=r.host=A?"":E.length?E.shift():"",(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift()));return(x=x||r.host&&E.length)&&!A&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,i||(i=document.createElement("a"));i.href=t;var r=!(t=n.default.parse(i.href)).port&&""===e.port||t.port===e.port;if(t.hostname!==e.hostname||!r||t.protocol!==e.protocol)return"anonymous";return""};var n=function(t){return t&&t.__esModule?t:{default:t}}(r(73));var i=void 0},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(5);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new i.Point(0,0),r.scale=new i.Point(1,1),r.skew=new i.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new i.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},n(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(30)).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(5);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new i.ObservablePoint(r.onChange,r,0,0),r.scale=new i.ObservablePoint(r.onChange,r,1,1),r.pivot=new i.ObservablePoint(r.onChange,r,0,0),r.skew=new i.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},n(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(30)).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=c(r(9)),o=r(1),s=c(r(4)),a=c(r(76)),u=c(r(75)),h=c(r(32)),l=r(5);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),n=s.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?a.default:u.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new h.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new l.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(i.default);e.default=f,f.prototype.displayObjectUpdateTransform=f.prototype.updateTransform},function(t,e){var r=function(t){return function(){return this.data[t].value}},n={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},i={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)}};function o(t,e){return function(r){this.data[t].value=r;var o=this.data[t].location;1===e.size?n[e.type](this.gl,o,r):i[e.type](this.gl,o,r)}}function s(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}t.exports=function(t,e){var n={data:{}};n.gl=t;for(var i=Object.keys(e),a=0;a<i.length;a++){var u=i[a],h=u.split("."),l=h[h.length-1],c=s(h,n),f=e[u];c.data[l]=f,c.gl=t,Object.defineProperty(c,l,{get:r(l),set:o(l,f)})}return n}},function(t,e){t.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},function(t,e){var r=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};t.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e,r){var n=r(33),i=r(80);t.exports=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]/,""),h=n(t,a.type);r[u]={type:h,size:a.size,location:t.getUniformLocation(e,u),value:i(h,a.size)}}return r}},function(t,e){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return r[t]}},function(t,e,r){var n=r(33),i=r(82),o=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};t.exports=function(t,e){for(var r={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<s;a++){var u=t.getActiveAttrib(e,a),h=n(t,u.type);r[u.name]={type:h,size:i(h),location:t.getAttribLocation(e,u.name),pointer:o}}return r}},function(t,e){var r=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};t.exports=function(t,e,n,i){var o=r(t,t.VERTEX_SHADER,e),s=r(t,t.FRAGMENT_SHADER,n),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,s),i)for(var u in i)t.bindAttribLocation(a,i[u],u);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(o),t.deleteShader(s),a}},function(t,e){var r=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};r.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var n=!1;r.prototype.uploadData=function(t,e,r){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!n){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");n=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},r.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},r.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},r.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},r.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},r.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},r.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},r.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},r.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},r.fromSource=function(t,e,n){var i=new r(t);return i.premultiplyAlpha=n||!1,i.upload(e),i},r.fromData=function(t,e,n,i){var o=new r(t);return o.uploadData(e,n,i),o},t.exports=r},function(t,e){t.exports=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(35));var i=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],o=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],s=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],a=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],u=[],h=[];function l(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];h.push(e);for(var r=0;r<16;r++)for(var c=l(i[t]*i[r]+s[t]*o[r]),f=l(o[t]*i[r]+a[t]*o[r]),d=l(i[t]*s[r]+s[t]*a[r]),p=l(o[t]*s[r]+a[t]*a[r]),v=0;v<16;v++)if(i[v]===c&&o[v]===f&&s[v]===d&&a[v]===p){e.push(v);break}}for(var y=0;y<16;y++){var g=new n.default;g.set(i[y],o[y],s[y],a[y],0,0),u.push(g)}}();var c={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return i[t]},uY:function(t){return o[t]},vX:function(t){return s[t]},vY:function(t){return a[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return h[t][e]},sub:function(t,e){return h[t][c.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?c.S:c.N:2*Math.abs(e)<=Math.abs(t)?t>0?c.E:c.W:e>0?t>0?c.SE:c.SW:t>0?c.NE:c.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=u[c.inv(e)];i.tx=r,i.ty=n,t.append(i)}};e.default=c},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.set=function(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},n(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2));var i=16,o=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.uploadHookHelper=n,n.canvas=document.createElement("canvas"),n.canvas.width=i,n.canvas.height=i,n.ctx=n.canvas.getContext("2d"),n.registerUploadHook(s),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(function(t){return t&&t.__esModule?t:{default:t}}(r(21)).default);function s(t,e){if(e instanceof n.BaseTexture){var r=e.source,i=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),o=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,i,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.default=o,n.CanvasRenderer.registerPlugin("prepare",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2));var i=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.uploadHookHelper=n.renderer,n.registerFindHook(a),n.registerUploadHook(o),n.registerUploadHook(s),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(21)).default);function o(t,e){return e instanceof n.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function s(t,e){return e instanceof n.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function a(t,e){return t instanceof n.Graphics&&(e.push(t),!0)}e.default=i,n.WebGLRenderer.registerPlugin("prepare",i)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(91);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return u(n).default}});var i=r(90);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return u(i).default}});var o=r(21);Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return u(o).default}});var s=r(38);Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return u(s).default}});var a=r(89);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(6)),i=o(r(23));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<r.length;++o){var s=r[o];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,unsignedByte:s.unsignedByte,offset:s.offset},n[o]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,i.default)(this.size),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var o=this.dynamicProperties[r];o.offset=e,e+=o.size,this.dynamicStride+=o.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=n.default.GLBuffer.createVertexBuffer(t,s,t.STREAM_DRAW);var a=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var h=this.staticProperties[u];h.offset=a,a+=h.size,this.staticStride+=h.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=n.default.GLBuffer.createVertexBuffer(t,l,t.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var f=this.dynamicProperties[c];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var d=0;d<this.staticProperties.length;++d){var p=this.staticProperties[d];p.unsignedByte?this.vao.addAttribute(this.staticBuffer,p.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*p.offset):this.vao.addAttribute(this.staticBuffer,p.attribute,t.FLOAT,!1,4*this.staticStride,4*p.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(13)).default);e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),i=a(r(94)),o=a(r(93)),s=r(3);function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new n.Matrix,i.CONTEXT_UID=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,o=this.renderer,s=e.length;if(0!==s){s>r&&(s=r);var a=t._glBuffers[o.CONTEXT_UID];a||(a=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.renderer.setBlendMode(n.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));var h=o.gl,l=t.worldTransform.copy(this.tempMatrix);l.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uColor=n.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(u);for(var c=!1,f=0,d=0;f<s;f+=i,d+=1){var p=s-f;if(p>i&&(p=i),d>=a.length){if(!t.autoResize)break;a.push(this._generateOneMoreBuffer(t))}var v=a[d];v.uploadDynamic(e,f,p);var y=t._bufferUpdateIDs[d]||0;(c=c||v._updateID<y)&&(v._updateID=t._updateID,v.uploadStatic(e,f,p)),o.bindVao(v.vao),v.vao.draw(h.TRIANGLES,6*p)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],n=t._maxSize,i=t._batchSize,s=t._properties,a=0;a<n;a+=i)r.push(new o.default(e,this.properties,s,i));return r},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,r=t._batchSize,n=t._properties;return new o.default(e,this.properties,n,r)},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var s=0,a=0,u=0,h=0,l=0;l<r;++l){var c=t[e+l],f=c._texture,d=c.scale.x,p=c.scale.y,v=f.trim,y=f.orig;v?(s=(a=v.x-c.anchor.x*y.width)+v.width,u=(h=v.y-c.anchor.y*y.height)+v.height):(s=y.width*(1-c.anchor.x),a=y.width*-c.anchor.x,u=y.height*(1-c.anchor.y),h=y.height*-c.anchor.y),n[o]=a*d,n[o+1]=h*p,n[o+i]=s*d,n[o+i+1]=h*p,n[o+2*i]=s*d,n[o+2*i+1]=u*p,n[o+3*i]=a*d,n[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var u=t[e+a],h=u._texture.baseTexture.premultipliedAlpha,l=u.alpha,c=l<1&&h?(0,s.premultiplyTint)(u._tintRGB,l):u._tintRGB+(255*l<<24);n[o]=c,n[o+i]=c,n[o+2*i]=c,n[o+3*i]=c,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(n.ObjectRenderer);e.default=u,n.WebGLRenderer.registerPlugin("particle",u)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),o=r(3);var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o>16384&&(o=16384),o>r&&(o=r),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=o,a._glBuffers={},a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=i.BLEND_MODES.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,s=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var h=this.children[u];if(h.visible){var l=h._texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),n=!1),i=h.anchor.x*(-l.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-l.height*h.scale.y)+h.position.y+.5,s=l.width*h.scale.x,a=l.height*h.scale.y;else{n||(n=!0),h.displayObjectUpdateTransform();var c=h.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution|0,c.ty*t.resolution|0):e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution,c.ty*t.resolution),i=h.anchor.x*-l.width+.5,o=h.anchor.y*-l.height+.5,s=l.width,a=l.height}var f=h._texture.baseTexture.resolution;e.drawImage(h._texture.baseTexture.source,l.x*f,l.y*f,l.width*f,l.height*f,i*t.resolution,o*t.resolution,s*t.resolution,a*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},n(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),e}(i.Container);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=r(96);Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return o(n).default}});var i=r(95);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.points=n,i.vertices=new Float32Array(4*n.length),i.uvs=new Float32Array(4*n.length),i.colors=new Float32Array(2*n.length),i.indices=new Uint16Array(2*n.length),i.autoUpdate=!0,i.refresh(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,n=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var i=t.length,o=1;o<i;o++){var s=4*o,a=o/(i-1);e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1,n[s=2*o]=1,n[s+1]=1,r[s=2*o]=s,r[s+1]=s+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,s=t.length,a=0;a<s;a++){var u=t[a],h=4*a;i=-((r=a<t.length-1?t[a+1]:u).x-e.x),n=r.y-e.y;var l=10*(1-a/(s-1));l>1&&(l=1);var c=Math.sqrt(n*n+i*i),f=this._texture.height/2;n/=c,i/=c,n*=f,i*=f,o[h]=u.x+n,o[h+1]=u.y+i,o[h+2]=u.x-n,o[h+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(function(t){return t&&t.__esModule?t:{default:t}}(r(11)).default);e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=10,o=function(t){function e(r,n,o,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,4,4));return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u._leftWidth=void 0!==n?n:i,u._rightWidth=void 0!==s?s:i,u._topHeight=void 0!==o?o:i,u._bottomHeight=void 0!==a?a:i,u.refresh(!0),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var r=this.worldTransform,n=t.resolution;t.roundPixels?e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);var i=this._texture.baseTexture,o=i.source,s=i.width*i.resolution,a=i.height*i.resolution;this.drawSegment(e,o,s,a,0,1,10,11),this.drawSegment(e,o,s,a,2,3,12,13),this.drawSegment(e,o,s,a,4,5,14,15),this.drawSegment(e,o,s,a,8,9,18,19),this.drawSegment(e,o,s,a,10,11,20,21),this.drawSegment(e,o,s,a,12,13,22,23),this.drawSegment(e,o,s,a,16,17,26,27),this.drawSegment(e,o,s,a,18,19,28,29),this.drawSegment(e,o,s,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,n,i,o,s,a){var u=this.uvs,h=this.vertices,l=(u[s]-u[i])*r,c=(u[a]-u[o])*n,f=h[s]-h[i],d=h[a]-h[o];l<1&&(l=1),c<1&&(c=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[i]*r,u[o]*n,l,c,h[i],h[o],f,d)},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var n=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},n(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(39)).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),i=function(t){return t&&t.__esModule?t:{default:t}}(r(11));var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldTransform,o=e.resolution;e.roundPixels?r.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o|0,n.ty*o|0):r.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===i.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],s=2*e[n+2];this._renderDrawTriangle(t,i,o,s)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var u=a.baseTexture,h=u.source,l=u.width,c=u.height,f=void 0,d=void 0,p=void 0,v=void 0,y=void 0,g=void 0;if(t.uploadUvTransform){var _=t._uvTransform.mapCoord;f=(o[e]*_.a+o[e+1]*_.c+_.tx)*u.width,d=(o[r]*_.a+o[r+1]*_.c+_.tx)*u.width,p=(o[n]*_.a+o[n+1]*_.c+_.tx)*u.width,v=(o[e]*_.b+o[e+1]*_.d+_.ty)*u.height,y=(o[r]*_.b+o[r+1]*_.d+_.ty)*u.height,g=(o[n]*_.b+o[n+1]*_.d+_.ty)*u.height}else f=o[e]*u.width,d=o[r]*u.width,p=o[n]*u.width,v=o[e+1]*u.height,y=o[r+1]*u.height,g=o[n+1]*u.height;var m=s[e],b=s[r],x=s[n],T=s[e+1],E=s[r+1],w=s[n+1],S=t.canvasPadding/this.renderer.resolution;if(S>0){var O=S/Math.abs(t.worldTransform.a),M=S/Math.abs(t.worldTransform.d),P=(m+b+x)/3,C=(T+E+w)/3,A=m-P,R=T-C,I=Math.sqrt(A*A+R*R);m=P+A/I*(I+O),T=C+R/I*(I+M),R=E-C,b=P+(A=b-P)/(I=Math.sqrt(A*A+R*R))*(I+O),E=C+R/I*(I+M),R=w-C,x=P+(A=x-P)/(I=Math.sqrt(A*A+R*R))*(I+O),w=C+R/I*(I+M)}i.save(),i.beginPath(),i.moveTo(m,T),i.lineTo(b,E),i.lineTo(x,w),i.closePath(),i.clip();var D=f*y+v*p+d*g-y*p-v*d-f*g,L=m*y+v*x+b*g-y*x-v*b-m*g,N=f*b+m*p+d*x-b*p-m*d-f*x,k=f*y*x+v*b*p+m*d*g-m*y*p-v*d*x-f*b*g,F=T*y+v*w+E*g-y*w-v*E-T*g,B=f*E+T*p+d*w-E*p-T*d-f*w,j=f*y*w+v*E*p+T*d*g-T*y*p-v*d*w-f*E*g;i.transform(L/D,F/D,N/D,B/D,k/D,j/D),i.drawImage(h,0,0,l*u.resolution,c*u.resolution,0,0,l,c),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,s=r[o],a=r[o+1],u=r[o+2],h=r[o+3],l=r[o+4],c=r[o+5];e.moveTo(s,a),e.lineTo(u,h),e.lineTo(l,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=o,n.CanvasRenderer.registerPlugin("mesh",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),i=s(r(6)),o=s(r(11));r(7);function s(t){return t&&t.__esModule?t:{default:t}}var a=n.Matrix.IDENTITY,u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,r=e.gl,s=t._texture;if(s.valid){var u=t._glDatas[e.CONTEXT_UID];u||(e.bindVao(null),(u={shader:this.shader,vertexBuffer:i.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:i.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:i.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty}).vao=new i.default.VertexArrayObject(r).addIndex(u.indexBuffer).addAttribute(u.vertexBuffer,u.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(u.uvBuffer,u.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=u),e.bindVao(u.vao),t.dirty!==u.dirty&&(u.dirty=t.dirty,u.uvBuffer.upload(t.uvs)),t.indexDirty!==u.indexDirty&&(u.indexDirty=t.indexDirty,u.indexBuffer.upload(t.indices)),t.vertexDirty!==u.vertexDirty&&(u.vertexDirty=t.vertexDirty,u.vertexBuffer.upload(t.vertices)),e.bindShader(u.shader),u.shader.uniforms.uSampler=e.bindTexture(s),e.state.setBlendMode(n.utils.correctBlendMode(t.blendMode,s.baseTexture.premultipliedAlpha)),u.shader.uniforms.uTransform&&(t.uploadUvTransform?u.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):u.shader.uniforms.uTransform=a.toArray(!0)),u.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),u.shader.uniforms.uColor=n.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,u.shader.uniforms.uColor,s.baseTexture.premultipliedAlpha);var h=t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;u.vao.draw(h,t.indices.length,0)}},e}(n.ObjectRenderer);e.default=u,n.WebGLRenderer.registerPlugin("mesh",u)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(11);Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return h(n).default}});var i=r(101);Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return h(i).default}});var o=r(100);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return h(o).default}});var s=r(39);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return h(s).default}});var a=r(99);Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return h(a).default}});var u=r(98);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return h(u).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===i.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=function(){var r=a.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=i.default.TYPE.IMAGE,t.data.onload=function(){a.revokeObjectURL(r),t.data.onload=null,e()},{v:void 0}}();if("object"===(void 0===r?"undefined":n(r)))return r.v}}else{var s=t.xhr.getResponseHeader("content-type");if(s&&0===s.indexOf("image"))return t.data=new Image,t.data.src="data:"+s+";base64,"+o.default.encodeBinary(t.xhr.responseText),t.type=i.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}};var i=s(r(22)),o=s(r(42));function s(t){return t&&t.__esModule?t:{default:t}}var a=window.URL||window.webkitURL},function(t,e,r){"use strict";e.__esModule=!0;var n=h(r(12)),i=r(103),o=h(r(9)),s=h(r(40)),a=h(r(41)),u=h(r(46));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));o.default.call(i);for(var s=0;s<e._pixiMiddleware.length;++s)i.use(e._pixiMiddleware[s]());return i.onStart.add(function(t){return i.emit("start",t)}),i.onProgress.add(function(t,e){return i.emit("progress",t,e)}),i.onError.add(function(t,e,r){return i.emit("error",t,e,r)}),i.onLoad.add(function(t,e){return i.emit("load",t,e)}),i.onComplete.add(function(t,e){return i.emit("complete",t,e)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(n.default);for(var c in e.default=l,o.default.prototype)l.prototype[c]=o.default.prototype[c];l._pixiMiddleware=[i.blobMiddlewareFactory,s.default,a.default,u.default];var f=n.default.Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=h(r(45)),s=h(r(44)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(43)),u=h(r(22));function h(t){return t&&t.__esModule?t:{default:t}}var l=/(#[\w-]+)?$/,c=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=a.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default}return t.prototype.add=function(t,e,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":n(t))&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new u.default(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var s=r.parentResource,a=[],h=0;h<s.children.length;++h)s.children[h].isComplete||a.push(s.children[h]);var l=s.progressChunk*(a.length+1)/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,s.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=l.exec(r)[0];-1!==(r=r.substr(0,r.length-n.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=n}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,a.eachSeries(this._beforeMiddleware,function(e,n){e.call(r,t,function(){n(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),a.eachSeries(this._afterMiddleware,function(r,n){r.call(e,t,n)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},i(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();e.default=c},function(t,e,r){"use strict";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var n=r(46);Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return h(n).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return n.parse}});var i=r(41);Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return h(i).default}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=r(40);Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return h(o).default}});var s=r(12);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return s.Resource}});var a=h(r(59)),u=h(r(104));function h(t){return t&&t.__esModule?t:{default:t}}e.Loader=u.default;var l=new u.default;l.destroy=function(){},e.shared=l;var c=a.default.prototype;c._loader=null,Object.defineProperty(c,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?l:new u.default}return this._loader}}),c._parentDestroy=c.destroy,c.destroy=function(t,e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,e)}},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),o=l(r(50)),s=l(r(49)),a=l(r(48)),u=l(r(9)),h=l(r(47));function l(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,h.default);var c=1,f={target:null,data:{global:null}},d=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n=n||{},a.renderer=r,a.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,a.interactionFrequency=n.interactionFrequency||10,a.mouse=new o.default,a.mouse.identifier=c,a.mouse.global.set(-999999),a.activeInteractionData={},a.activeInteractionData[c]=a.mouse,a.interactionDataPool=[],a.eventData=new s.default,a.interactionDOMElement=null,a.moveWhenInside=!1,a.eventsAdded=!1,a.mouseOverRenderer=!1,a.supportsTouchEvents="ontouchstart"in window,a.supportsPointerEvents=!!window.PointerEvent,a.onPointerUp=a.onPointerUp.bind(a),a.processPointerUp=a.processPointerUp.bind(a),a.onPointerCancel=a.onPointerCancel.bind(a),a.processPointerCancel=a.processPointerCancel.bind(a),a.onPointerDown=a.onPointerDown.bind(a),a.processPointerDown=a.processPointerDown.bind(a),a.onPointerMove=a.onPointerMove.bind(a),a.processPointerMove=a.processPointerMove.bind(a),a.onPointerOut=a.onPointerOut.bind(a),a.processPointerOverOut=a.processPointerOverOut.bind(a),a.onPointerOver=a.onPointerOver.bind(a),a.cursorStyles={default:"inherit",pointer:"pointer"},a.currentCursorMode=null,a.cursor=null,a._tempPoint=new i.Point,a.resolution=1,a.setTargetElement(a.renderer.view,a.renderer.resolution),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":n(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=i=e.interactive||i,u=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,u=!1)),a=!1):e._mask&&n&&(e._mask.containsPoint(o)||(n=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(var h=e.children,l=h.length-1;l>=0;l--){var c=h[l],f=this.processInteractive(t,c,r,n,a);if(f){if(!c.parent)continue;a=!1,f&&(t.target&&(n=!1),s=!0)}}return i&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType||"pen"===i.pointerType){var a=2===i.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new a.default(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<i;s++){var a=n[s],u=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(h.data.originalEvent=t,this.processInteractive(h,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,h)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(a.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data,i=t.data.identifier,o=e.trackedPointers[i],s="touch"===n.pointerType,u="mouse"===n.pointerType||"pen"===n.pointerType,h=!1;if(u){var l=2===n.button,c=a.default.FLAGS,f=l?c.RIGHT_DOWN:c.LEFT_DOWN,d=void 0!==o&&o.flags&f;r?(this.dispatchEvent(e,l?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,l?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,l?"rightupoutside":"mouseupoutside",t),o&&(l?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(u&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=t;var a="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,s=e.trackedPointers[i];r&&!s&&(s=e.trackedPointers[i]=new a.default(i)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,r=void 0;return e===c||"mouse"===t.pointerType?r=this.mouse:this.activeInteractionData[e]?r=this.activeInteractionData[e]:((r=this.interactionDataPool.pop()||new o.default).identifier=e,this.activeInteractionData[e]=r),r.copyEvent(t),r},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),i.twist=0,i.tangentialPressure=0,void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=c),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(u.default);e.default=d,i.WebGLRenderer.registerPlugin("interaction",d),i.CanvasRenderer.registerPlugin("interaction",d)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(50);Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return u(n).default}});var i=r(107);Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return u(i).default}});var o=r(47);Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return u(o).default}});var s=r(48);Object.defineProperty(e,"InteractionTrackingData",{enumerable:!0,get:function(){return u(s).default}});var a=r(49);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2));r(7);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return n.alpha=r,n.glShaderKey="alpha",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2));r(7);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),s=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,n,i){t=t||.2,e=e||.15;var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((n=n||3375104)>>16&255)/255,h=(n>>8&255)/255,l=(255&n)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,u,h,l,e,0,o-u,s-h,a-l,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},n(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o,o.prototype.grayscale=o.prototype.greyscale},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),o=a(r(55)),s=a(r(51));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h.blurXFilter=new o.default(r,n,a,u),h.blurYFilter=new s.default(r,n,a,u),h.padding=0,h.resolution=a||i.settings.RESOLUTION,h.quality=n||4,h.blur=r||8,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},n(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(i.Filter);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2));r(7);var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new i.Matrix;r.renderable=!1;var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=r,s.maskMatrix=o,s.uniforms.mapSampler=r._texture,s.uniforms.filterMatrix=o,s.uniforms.scale={x:1,y:1},null!==n&&void 0!==n||(n=20),s.scale=new i.Point(n,n),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},n(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2));r(7);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=r,i.seed=n,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2));r(7);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n.Filter);e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=r(114);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return c(n).default}});var i=r(113);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return c(i).default}});var o=r(112);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return c(o).default}});var s=r(111);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return c(s).default}});var a=r(55);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return c(a).default}});var u=r(51);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return c(u).default}});var h=r(110);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return c(h).default}});var l=r(109);function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return c(l).default}})},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2));n.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2));n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),i=a(r(8)),o=a(r(10)),s=r(3);function a(t){return t&&t.__esModule?t:{default:t}}var u=n.DisplayObject,h=new n.Matrix;u.prototype._cacheAsBitmap=!1,u.prototype._cacheData=!1;var l=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(u.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new l),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),u.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},u.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var a=this._filters[0].padding;r.pad(a)}var u=t._activeRenderTarget,l=t.filterManager.filterStack,c=n.RenderTexture.create(0|r.width,0|r.height),f="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=f,o.default.addToCache(c.baseTexture,f),i.default.addToCache(c,f);var d=h;d.tx=-r.x,d.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,c,!0,d,!0),t.bindRenderTarget(u),t.filterManager.filterStack=l,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var p=new n.Sprite(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=e,p._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},u.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},u.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var a=t.context,u=n.RenderTexture.create(0|e.width,0|e.height),l="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=l,o.default.addToCache(u.baseTexture,l),i.default.addToCache(u,l);var c=h;this.transform.localTransform.copy(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,u,!0,c,!1),t.context=a,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var f=new n.Sprite(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f._bounds=this._bounds,f.alpha=r,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=f,this.containsPoint=f.containsPoint.bind(f)}},u.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},u.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},u.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},u.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),o=u(r(88)),s=r(3),a=u(r(4));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},i.font=n.font,i._text=r,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new o.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,n=new i.Point,o=[],s=[],a=this.text.replace(/(?:\r\n|\r)/g,"\n"),u=a.length,h=this._maxWidth*t.size/this._font.size,l=null,c=0,f=0,d=0,p=-1,v=0,y=0,g=0,_=0;_<u;_++){var m=a.charCodeAt(_),b=a.charAt(_);if(/(?:\s)/.test(b)&&(p=_,v=c),"\r"!==b&&"\n"!==b){var x=t.chars[m];x&&(l&&x.kerning[l]&&(n.x+=x.kerning[l]),o.push({texture:x.texture,line:d,charCode:m,position:new i.Point(n.x+x.xOffset+this._letterSpacing/2,n.y+x.yOffset)}),n.x+=x.xAdvance+this._letterSpacing,c=n.x,g=Math.max(g,x.yOffset+x.texture.height),l=m,-1!==p&&h>0&&n.x>h&&(++y,i.utils.removeItems(o,1+p-y,1+_-p),_=p,p=-1,s.push(v),f=Math.max(f,v),d++,n.x=0,n.y+=t.lineHeight,l=null))}else s.push(c),f=Math.max(f,c),++d,++y,n.x=0,n.y+=t.lineHeight,l=null}var T=a.charAt(a.length-1);"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(c=v),s.push(c),f=Math.max(f,c));for(var E=[],w=0;w<=d;w++){var S=0;"right"===this._font.align?S=f-s[w]:"center"===this._font.align&&(S=(f-s[w])/2),E.push(S)}for(var O=o.length,M=this.tint,P=0;P<O;P++){var C=this._glyphs[P];C?C.texture=o[P].texture:(C=new i.Sprite(o[P].texture),this._glyphs.push(C)),C.position.x=(o[P].position.x+E[o[P].line])*r,C.position.y=o[P].position.y*r,C.scale.x=C.scale.y=r,C.tint=M,C.parent||this.addChild(C)}for(var A=O;A<this._glyphs.length;++A)this.removeChild(this._glyphs[A]);if(this._textWidth=f*r,this._textHeight=(n.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var R=0;R<O;R++)this._glyphs[R].x-=this._textWidth*this.anchor.x,this._glyphs[R].y-=this._textHeight*this.anchor.y;this._maxLineHeight=g*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,r){var n={},o=t.getElementsByTagName("info")[0],u=t.getElementsByTagName("common")[0],h=t.getElementsByTagName("page"),l=(0,s.getResolutionOfUrl)(h[0].getAttribute("file"),a.default.RESOLUTION),c={};n.font=o.getAttribute("face"),n.size=parseInt(o.getAttribute("size"),10),n.lineHeight=parseInt(u.getAttribute("lineHeight"),10)/l,n.chars={},r instanceof i.Texture&&(r=[r]);for(var f=0;f<h.length;f++){var d=h[f].getAttribute("id"),p=h[f].getAttribute("file");c[d]=r instanceof Array?r[f]:r[p]}for(var v=t.getElementsByTagName("char"),y=0;y<v.length;y++){var g=v[y],_=parseInt(g.getAttribute("id"),10),m=g.getAttribute("page")||0,b=new i.Rectangle(parseInt(g.getAttribute("x"),10)/l+c[m].frame.x/l,parseInt(g.getAttribute("y"),10)/l+c[m].frame.y/l,parseInt(g.getAttribute("width"),10)/l,parseInt(g.getAttribute("height"),10)/l);n.chars[_]={xOffset:parseInt(g.getAttribute("xoffset"),10)/l,yOffset:parseInt(g.getAttribute("yoffset"),10)/l,xAdvance:parseInt(g.getAttribute("xadvance"),10)/l,kerning:{},texture:new i.Texture(c[m].baseTexture,b),page:m}}for(var x=t.getElementsByTagName("kerning"),T=0;T<x.length;T++){var E=x[T],w=parseInt(E.getAttribute("first"),10)/l,S=parseInt(E.getAttribute("second"),10)/l,O=parseInt(E.getAttribute("amount"),10)/l;n.chars[S]&&(n.chars[S].kerning[w]=O)}return e.fonts[n.font]=n,n},n(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(i.Container);e.default=h,h.fonts={}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),i=r(1);r(7);var o=new n.Matrix,s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n.simpleShader=null,n.quad=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new n.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var s=r.vertices;s[0]=s[6]=t._width*-t.anchor.x,s[1]=s[3]=t._height*-t.anchor.y,s[2]=s[4]=t._width*(1-t.anchor.x),s[5]=s[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((s=r.uvs)[0]=s[6]=-t.anchor.x,s[1]=s[3]=-t.anchor.y,s[2]=s[4]=1-t.anchor.x,s[5]=s[7]=1-t.anchor.y),r.upload();var a=t._texture,u=a.baseTexture,h=t.tileTransform.localTransform,l=t.uvTransform,c=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;c&&(u._glTextures[e.CONTEXT_UID]?c=u.wrapMode!==i.WRAP_MODES.CLAMP:u.wrapMode===i.WRAP_MODES.CLAMP&&(u.wrapMode=i.WRAP_MODES.REPEAT));var f=c?this.simpleShader:this.shader;e.bindShader(f);var d=a.width,p=a.height,v=t._width,y=t._height;o.set(h.a*d/v,h.b*d/y,h.c*p/v,h.d*p/y,h.tx/v,h.ty/y),o.invert(),c?o.prepend(l.mapCoord):(f.uniforms.uMapCoord=l.mapCoord.toArray(!0),f.uniforms.uClampFrame=l.uClampFrame,f.uniforms.uClampOffset=l.uClampOffset),f.uniforms.uTransform=o.toArray(!0),f.uniforms.uColor=n.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,u.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(a),e.setBlendMode(n.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(n.ObjectRenderer);e.default=s,n.WebGLRenderer.registerPlugin("tilingSprite",s)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),o=function(t){return t&&t.__esModule?t:{default:t}}(r(24));var s=new i.Point,a=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s.tileTransform=new i.TransformStatic,s._width=n,s._height=o,s._canvasPattern=null,s.uvTransform=r.transform||new i.TextureMatrix(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,s=t.resolution,a=e.baseTexture,u=a.resolution,h=this.tilePosition.x/this.tileScale.x%e._frame.width*u,l=this.tilePosition.y/this.tileScale.y%e._frame.height*u;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var c=new i.CanvasRenderTarget(e._frame.width,e._frame.height,u);16777215!==this.tint?(this.tintedTexture=o.default.getTintedTexture(this,this.tint),c.context.drawImage(this.tintedTexture,0,0)):c.context.drawImage(a.source,-e._frame.x*u,-e._frame.y*u),this.cachedTint=this.tint,this._canvasPattern=c.context.createPattern(c.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*s,n.b*s,n.c*s,n.d*s,n.tx*s,n.ty*s),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/u,this.tileScale.y/u);var f=this.anchor.x*-this._width,d=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(h,l),r.fillRect(-h+f,-l+d,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u)):(r.translate(h+f,l+d),r.fillRect(-h,-l,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,s);var e=this._width,r=this._height,n=-e*this.anchor._x;if(s.x>=n&&s.x<n+e){var i=-r*this.anchor._y;if(s.y>=i&&s.y<i+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,r,n){return new e(i.Texture.from(t),r,n)},e.fromFrame=function(t,r,n){var o=i.utils.TextureCache[t];if(!o)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(o,r,n)},e.fromImage=function(t,r,n,o,s){return new e(i.Texture.fromImage(t,o,s),r,n)},n(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(i.Sprite);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2));var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r[0]instanceof i.Texture?r[0]:r[0].texture));return o._textures=null,o._durations=null,o.textures=r,o._autoUpdate=!1!==n,o.animationSpeed=1,o.loop=!0,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&i.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(i.Texture.fromFrame(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(i.Texture.fromImage(t[n]));return new e(r)},n(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(i.Sprite);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2));var i=new n.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=i).width=this.renderer.width,s.height=this.renderer.height);var u=s.width*o,h=s.height*o,l=new n.CanvasRenderTarget(u,h),c=r.getImageData(s.x*o,s.y*o,u,h);return l.context.putImageData(c,0,0),l.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;return t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=i).width=e.width,s.height=e.height),r.getImageData(0,0,s.width*o,s.height*o).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,n.CanvasRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2));var i=new n.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=!1,u=void 0,h=!1;t&&(t instanceof n.RenderTexture?u=t:(u=this.renderer.generateTexture(t),h=!0)),u?(o=(r=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=u.frame,a=!1):(o=(r=this.renderer.rootRenderTarget).resolution,a=!0,(s=i).width=r.size.width,s.height=r.size.height);var l=s.width*o,c=s.height*o,f=new n.CanvasRenderTarget(l,c);if(r){e.bindRenderTarget(r);var d=new Uint8Array(4*l*c),p=e.gl;p.readPixels(s.x*o,s.y*o,l,c,p.RGBA,p.UNSIGNED_BYTE,d);var v=f.context.getImageData(0,0,l,c);v.data.set(d),f.context.putImageData(v,0,0),a&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-c))}return h&&u.destroy(!0),f.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0,u=!1;t&&(t instanceof n.RenderTexture?a=t:(a=this.renderer.generateTexture(t),u=!0)),a?(o=(r=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=a.frame):(o=(r=this.renderer.rootRenderTarget).resolution,(s=i).width=r.size.width,s.height=r.size.height);var h=s.width*o,l=s.height*o,c=new Uint8Array(4*h*l);if(r){e.bindRenderTarget(r);var f=e.gl;f.readPixels(s.x*o,s.y*o,h,l,f.RGBA,f.UNSIGNED_BYTE,c)}return u&&a.destroy(!0),c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,n.WebGLRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(124);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return o(n).default}});var i=r(123);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),i=s(r(31)),o=s(r(57));function s(t){return t&&t.__esModule?t:{default:t}}n.utils.mixins.delayMixin(n.DisplayObject.prototype,o.default);var a=100,u=0,h=0,l=2,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!i.default.tablet&&!i.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=a+"px",r.style.height=a+"px",r.style.position="absolute",r.style.top=u+"px",r.style.left=h+"px",r.style.zIndex=l,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,n.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=s._accessibleDiv;var a=s.hitArea,u=s.worldTransform;s.hitArea?(i.style.left=(u.tx+a.x*u.a)*e+"px",i.style.top=(u.ty+a.y*u.d)*r+"px",i.style.width=a.width*u.a*e+"px",i.style.height=a.height*u.d*r+"px"):(a=s.getBounds(),this.capHitArea(a),i.style.left=a.x*e+"px",i.style.top=a.y*r+"px",i.style.width=a.width*e+"px",i.style.height=a.height*r+"px",i.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(i.title=s.accessibleTitle),i.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&i.setAttribute("aria-label",s.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=a+"px",e.style.height=a+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=l,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=c,n.WebGLRenderer.registerPlugin("accessibility",c),n.CanvasRenderer.registerPlugin("accessibility",c)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(57);Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return o(n).default}});var i=r(126);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.mesh,r=t.particles,n=t.extras,o=t.filters,s=t.prepare,a=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return i("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return i("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return i("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return i("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return i("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function(){return i("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),n.AnimatedSprite}},TilingSprite:{get:function(){return i("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),n.TilingSprite}},BitmapText:{get:function(){return i("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),n.BitmapText}},blendModes:{get:function(){return i("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return i("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return i("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return i("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return i("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return i("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return i("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var h=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=function(e){var r=h[e];Object.defineProperty(t[r.parent],"DEFAULT",{get:function(){return i("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]},set:function(e){i("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]=e}})},c=0;c<h.length;c++)l(c);Object.defineProperties(t.settings,{PRECISION:{get:function(){return i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),n.AnimatedSprite&&Object.defineProperties(n,{MovieClip:{get:function(){return i("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),n.AnimatedSprite}}});n&&Object.defineProperties(n,{TextureTransform:{get:function(){return i("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}});t.DisplayObject.prototype.generateTexture=function(t,e,r){return i("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},t.Graphics.prototype.generateTexture=function(t,e){return i("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return i("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,r,n){this.legacyRenderer.render(t,this,r,e,!n),i("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return i("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return i("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return i("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return i("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,i("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},n.BitmapText&&(n.BitmapText.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});t.Text.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return i("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return i("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return i("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return i("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,i("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return i("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return i("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){i("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){i("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var n=0;n<e.length;++n)if(e[n].match(/(px|pt|em|%)/)){r=n,this._fontSize=e[n];break}this._fontWeight="normal";for(var o=0;o<r;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(r>-1&&r<e.length-1){this._fontFamily="";for(var s=r+1;s<e.length;++s)this._fontFamily+=e[s]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,i("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,r){t.Texture.addToCache(e,r),i("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return i("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return i("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return i("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return i("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return i("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var f=!0;Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(i("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),f=t},get:function(){return f}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function(t,e){return i("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this});s.canvas&&Object.defineProperty(s.canvas,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});s.webgl&&Object.defineProperty(s.webgl,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});if(a.Loader){var d=a.Resource,p=a.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return i("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===d.TYPE.JSON}},isXml:{get:function(){return i("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===d.TYPE.XML}},isImage:{get:function(){return i("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return i("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return i("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return i("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return i("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(t){i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}});u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(t){i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(t){i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var n={};function i(t){if(!n[t]){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),n[t]=!0}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(2),o=r(3);var s=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseTexture=e,this.textures={},this.data=r,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,o.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE,o=this.baseTexture.sourceScale;r-e<n&&r<this._frameKeys.length;){var s=this._frameKeys[r],a=this._frames[s],u=a.frame;if(u){var h=null,l=null,c=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,f=new i.Rectangle(0,0,Math.floor(c.w*o)/this.resolution,Math.floor(c.h*o)/this.resolution);h=a.rotated?new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.h*o)/this.resolution,Math.floor(u.w*o)/this.resolution):new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(l=new i.Rectangle(Math.floor(a.spriteSourceSize.x*o)/this.resolution,Math.floor(a.spriteSourceSize.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution)),this.textures[s]=new i.Texture(this.baseTexture,h,f,l,a.rotated?2:0),i.Texture.addToCache(this.textures[s],s)}r++}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():e._parseComplete()},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(15)),i=r(1);var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,o=t.transform.worldTransform,s=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(o.a*s,o.b*s,o.c*s,o.d*s,o.tx*s,o.ty*s),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var u=t.graphicsData[a],h=u.shape,l=u._fillTint,c=u._lineTint;if(r.lineWidth=u.lineWidth,u.type===i.SHAPES.POLY){r.beginPath(),this.renderPolygon(h.points,h.closed,r);for(var f=0;f<u.holes.length;f++)this.renderPolygon(u.holes[f].points,!0,r);u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===i.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fillRect(h.x,h.y,h.width,h.height)),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(h.x,h.y,h.width,h.height));else if(u.type===i.SHAPES.CIRC)r.beginPath(),r.arc(h.x,h.y,h.radius,0,2*Math.PI),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke());else if(u.type===i.SHAPES.ELIP){var d=2*h.width,p=2*h.height,v=h.x-d/2,y=h.y-p/2;r.beginPath();var g=d/2*.5522848,_=p/2*.5522848,m=v+d,b=y+p,x=v+d/2,T=y+p/2;r.moveTo(v,T),r.bezierCurveTo(v,T-_,x-g,y,x,y),r.bezierCurveTo(x+g,y,m,T-_,m,T),r.bezierCurveTo(m,T+_,x+g,b,x,b),r.bezierCurveTo(x-g,b,v,T+_,v,T),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===i.SHAPES.RREC){var E=h.x,w=h.y,S=h.width,O=h.height,M=h.radius,P=Math.min(S,O)/2|0;M=M>P?P:M,r.beginPath(),r.moveTo(E,w+M),r.lineTo(E,w+O-M),r.quadraticCurveTo(E,w+O,E+M,w+O),r.lineTo(E+S-M,w+O),r.quadraticCurveTo(E+S,w+O,E+S,w+O-M),r.lineTo(E+S,w+M),r.quadraticCurveTo(E+S,w,E+S-M,w),r.lineTo(E+M,w),r.quadraticCurveTo(E,w,E,w+M),r.closePath(),(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255}},t.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=o,n.default.registerPlugin("graphics",o)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var s=t.shape,a=s.x,u=s.y,h=void 0,l=void 0;t.type===i.SHAPES.CIRC?(h=s.radius,l=s.radius):(h=s.width,l=s.height);if(0===h||0===l)return;var c=Math.floor(30*Math.sqrt(s.radius))||Math.floor(15*Math.sqrt(s.width+s.height)),f=2*Math.PI/c;if(t.fill){var d=(0,o.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,y=d[1]*p,g=d[2]*p,_=e.points,m=e.indices,b=_.length/6;m.push(b);for(var x=0;x<c+1;x++)_.push(a,u,v,y,g,p),_.push(a+Math.sin(f*x)*h,u+Math.cos(f*x)*l,v,y,g,p),m.push(b++,b++);m.push(b-1)}if(t.lineWidth){var T=t.points;t.points=[];for(var E=0;E<c+1;E++)t.points.push(a+Math.sin(f*-E)*h,u+Math.cos(f*-E)*l);(0,n.default)(t,e,r),t.points=T}};var n=function(t){return t&&t.__esModule?t:{default:t}}(r(17)),i=r(1),o=r(3)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var s=t.shape,a=s.x,h=s.y,l=s.width,c=s.height,f=s.radius,d=[];if(d.push(a,h+f),u(a,h+c-f,a,h+c,a+f,h+c,d),u(a+l-f,h+c,a+l,h+c,a+l,h+c-f,d),u(a+l,h+f,a+l,h,a+l-f,h,d),u(a+f,h,a,h,a,h+f+1e-10,d),t.fill){for(var p=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,m=e.points,b=e.indices,x=m.length/6,T=(0,n.default)(d,null,2),E=0,w=T.length;E<w;E+=3)b.push(T[E]+x),b.push(T[E]+x),b.push(T[E+1]+x),b.push(T[E+2]+x),b.push(T[E+2]+x);for(var S=0,O=d.length;S<O;S++)m.push(d[S],d[++S],y,g,_,v)}if(t.lineWidth){var M=t.points;t.points=d,(0,i.default)(t,e,r),t.points=M}};var n=s(r(29)),i=s(r(17)),o=r(3);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return t+(e-t)*r}function u(t,e,r,n,i,o){for(var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=0,h=0,l=0,c=0,f=0,d=0,p=0,v=0;p<=20;++p)u=a(t,r,v=p/20),h=a(e,n,v),l=a(r,i,v),c=a(n,o,v),f=a(u,l,v),d=a(h,c,v),s.push(f,d);return s}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var o=t.shape,s=o.x,a=o.y,u=o.width,h=o.height;if(t.fill){var l=(0,i.hex2rgb)(t.fillColor),c=t.fillAlpha,f=l[0]*c,d=l[1]*c,p=l[2]*c,v=e.points,y=e.indices,g=v.length/6;v.push(s,a),v.push(f,d,p,c),v.push(s+u,a),v.push(f,d,p,c),v.push(s,a+h),v.push(f,d,p,c),v.push(s+u,a+h),v.push(f,d,p,c),y.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var _=t.points;t.points=[s,a,s+u,a,s+u,a+h,s,a+h,s,a],(0,n.default)(t,e,r),t.points=_}};var n=function(t){return t&&t.__esModule?t:{default:t}}(r(17)),i=r(3)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.points=t.shape.points.slice();var s=t.points;if(t.fill&&s.length>=6){for(var a=[],u=t.holes,h=0;h<u.length;h++){var l=u[h];a.push(s.length/2),s=s.concat(l.points)}var c=e.points,f=e.indices,d=s.length/2,p=(0,i.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,m=(0,o.default)(s,a,2);if(!m)return;for(var b=c.length/6,x=0;x<m.length;x+=3)f.push(m[x]+b),f.push(m[x]+b),f.push(m[x+1]+b),f.push(m[x+2]+b),f.push(m[x+2]+b);for(var T=0;T<d;T++)c.push(s[2*T],s[2*T+1],y,g,_,v)}t.lineWidth>0&&(0,n.default)(t,e,r)};var n=s(r(17)),i=r(3),o=s(r(29));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(13)).default);e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(6));var i=function(){function t(e,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=n.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new n.default.VertexArrayObject(e,i).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=r(3),i=r(1),o=d(r(20)),s=d(r(19)),a=d(r(136)),u=d(r(135)),h=d(r(134)),l=d(r(133)),c=d(r(132)),f=d(r(131));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)},e.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,r=e.gl,i=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var s=this.primitiveShader;e.bindShader(s),e.state.setBlendMode(t.blendMode);for(var a=0,u=o.data.length;a<u;a++){var h=(i=o.data[a]).shader;e.bindShader(h),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.tint=(0,n.hex2rgb)(t.tint),h.uniforms.alpha=t.worldAlpha,e.bindVao(i.vao),i.nativeLines?r.drawArrays(r.LINES,0,i.points.length/6):i.vao.draw(r.TRIANGLE_STRIP,i.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if(r||(r=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),r.dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var o=void 0,s=void 0,a=r.lastIndex;a<t.graphicsData.length;a++){var u=t.graphicsData[a];o=this.getWebGLData(r,0),u.nativeLines&&u.lineWidth&&(s=this.getWebGLData(r,0,!0),r.lastIndex++),u.type===i.SHAPES.POLY&&(0,h.default)(u,o,s),u.type===i.SHAPES.RECT?(0,l.default)(u,o,s):u.type===i.SHAPES.CIRC||u.type===i.SHAPES.ELIP?(0,f.default)(u,o,s):u.type===i.SHAPES.RREC&&(0,c.default)(u,o,s),r.lastIndex++}this.renderer.bindVao(null);for(var d=0;d<r.data.length;d++)(o=r.data[d]).dirty&&o.upload()},e.prototype.getWebGLData=function(t,e,r){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==r||n.points.length>32e4)&&((n=this.graphicsDataPool.pop()||new a.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,n.reset(e),t.data.push(n)),n.dirty=!0,n},e}(o.default);e.default=p,s.default.registerPlugin("graphics",p)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r,n,i,o,s,a,u){var h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],l=0,c=0,f=0,d=0,p=0;h.push(t,e);for(var v=1,y=0;v<=u;++v)f=(c=(l=1-(y=v/u))*l)*l,p=(d=y*y)*y,h.push(f*t+3*c*y*r+3*l*d*i+p*s,f*e+3*c*y*n+3*l*d*o+p*a);return h}},function(t,e,r){"use strict";e.__esModule=!0;var n=p(r(16)),i=p(r(25)),o=p(r(8)),s=p(r(60)),a=p(r(28)),u=r(5),h=r(3),l=r(1),c=p(r(32)),f=p(r(138)),d=p(r(15));function p(t){return t&&t.__esModule?t:{default:t}}var v=void 0,y=new u.Matrix,g=new u.Point,_=new Float32Array(4),m=new Float32Array(4),b=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.lineAlignment=.5,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=l.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new c.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function(t,e,r,n,i,o){var s=t-(2*r+i),a=e-(2*n+o),u=(r-2)*t*2,h=(n-2)*e*2,l=4*(s*s+a*a),c=4*(s*u+a*h),f=u*u+h*h,d=2*Math.sqrt(l+c+f),p=Math.sqrt(l),v=2*l*p,y=2*Math.sqrt(f),g=c/p;return(v*d+p*c*(d-y)+(4*f*l-c*c)*Math.log((2*p+g+d)/(g+y)))/(4*v)},e.prototype._bezierCurveLength=function(t,e,r,n,i,o,s,a){for(var u=0,h=0,l=0,c=0,f=0,d=0,p=0,v=0,y=0,g=0,_=0,m=t,b=e,x=1;x<=10;++x)g=m-(v=(p=(d=(f=1-(h=x/10))*f)*f)*t+3*d*h*r+3*f*(l=h*h)*i+(c=l*h)*s),_=b-(y=p*e+3*d*h*n+3*f*l*o+c*a),m=v,b=y,u+=Math.sqrt(g*g+_*_);return u},e.prototype._segmentsCount=function(t){var r=Math.ceil(t/e.CURVES.maxLength);return r<e.CURVES.minSegments?r=e.CURVES.minSegments:r>e.CURVES.maxSegments&&(r=e.CURVES.maxSegments),r},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.lineAlignment=n,this.currentPath)if(this.currentPath.shape.points.length){var i=new u.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function(t,e){var r=new u.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,s=0,a=0;0===o.length&&this.moveTo(0,0);for(var u=o[o.length-2],h=o[o.length-1],l=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(u,h,t,r,n,i)):20,c=1;c<=l;++c){var f=c/l;s=u+(t-u)*f,a=h+(r-h)*f,o.push(s+(t+(n-t)*f-s)*f,a+(r+(i-r)*f-a)*f)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,r,n,i,o,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,u=a[a.length-2],h=a[a.length-1];a.length-=2;var l=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(u,h,t,r,n,i,o,s)):20;return(0,f.default)(u,h,t,r,n,i,o,s,l,a),this.dirty++,this},e.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1]-e,u=s-t,h=n-e,l=r-t,c=Math.abs(a*l-u*h);if(c<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=a*a+u*u,d=h*h+l*l,p=a*h+u*l,v=i*Math.sqrt(f)/c,y=i*Math.sqrt(d)/c,g=v*p/f,_=y*p/d,m=v*l+y*u,b=v*h+y*a,x=u*(y+g),T=a*(y+g),E=l*(v+_),w=h*(v+_),S=Math.atan2(T-b,x-m),O=Math.atan2(w-b,E-m);this.arc(m+t,b+e,i,S,O,u*h>l*a)}return this.dirty++,this},e.prototype.arc=function(t,r,n,i,o){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===o)return this;!s&&o<=i?o+=l.PI_2:s&&i<=o&&(i+=l.PI_2);var a=o-i,u=e.CURVES.adaptive?this._segmentsCount(Math.abs(a)*n):40*Math.ceil(Math.abs(a)/l.PI_2);if(0===a)return this;var h=t+Math.cos(i)*n,c=r+Math.sin(i)*n,f=this.currentPath?this.currentPath.shape.points:null;f?f[f.length-2]===h&&f[f.length-1]===c||f.push(h,c):(this.moveTo(h,c),f=this.currentPath.shape.points);for(var d=a/(2*u),p=2*d,v=Math.cos(d),y=Math.sin(d),g=u-1,_=g%1/g,m=0;m<=g;++m){var b=d+i+p*(m+_*m),x=Math.cos(b),T=-Math.sin(b);f.push((v*x+y*T)*n+t,(v*-T+y*x)*n+r)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new u.Rectangle(t,e,r,n)),this},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new u.RoundedRectangle(t,e,r,n,i)),this},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new u.Circle(t,e,r)),this},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new u.Ellipse(t,e,r,n)),this},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof u.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new u.Polygon(e);return i.closed=r,this.drawShape(i),this},e.prototype.drawStar=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i=i||n/2;for(var s=-1*Math.PI/2+o,a=2*r,u=l.PI_2/a,h=[],c=0;c<a;c++){var f=c%2?i:n,d=c*u+s;h.push(t+f*Math.cos(d),e+f*Math.sin(d))}return this.drawPolygon(h)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===l.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new a.default(new o.default(o.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var n=_,i=m;(0,h.hex2rgb)(this.graphicsData[0].fillColor,n),(0,h.hex2rgb)(this.tint,i),n[0]*=i[0],n[1]*=i[1],n[2]*=i[2],r.tint=(0,h.rgb2hex)(n)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=e.width,r._texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,g);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&(n.shape&&n.shape.contains(g.x,g.y))){if(n.holes)for(var i=0;i<n.holes.length;i++){if(n.holes[i].contains(g.x,g.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,o=0,s=0,a=0,u=0,h=0;h<this.graphicsData.length;h++){var c=this.graphicsData[h],f=c.type,d=c.lineWidth;if(i=c.shape,f===l.SHAPES.RECT||f===l.SHAPES.RREC)o=i.x-d/2,s=i.y-d/2,a=i.width+d,u=i.height+d,t=o<t?o:t,e=o+a>e?o+a:e,r=s<r?s:r,n=s+u>n?s+u:n;else if(f===l.SHAPES.CIRC)o=i.x,s=i.y,a=i.radius+d/2,u=i.radius+d/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else if(f===l.SHAPES.ELIP)o=i.x,s=i.y,a=i.width+d/2,u=i.height+d/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else for(var p=i.points,v=0,y=0,g=0,_=0,m=0,b=0,x=0,T=0,E=0;E+2<p.length;E+=2)o=p[E],s=p[E+1],v=p[E+2],y=p[E+3],g=Math.abs(v-o),_=Math.abs(y-s),u=d,(a=Math.sqrt(g*g+_*_))<1e-9||(b=(u/a*g+_)/2,T=(y+s)/2,t=(x=(v+o)/2)-(m=(u/a*_+g)/2)<t?x-m:t,e=x+m>e?x+m:e,r=T-b<r?T-b:r,n=T+b>n?T+b:n)}else t=0,e=0,r=0,n=0;var w=this.boundsPadding;this._localBounds.minX=t-w,this._localBounds.maxX=e+w,this._localBounds.minY=r-w,this._localBounds.maxY=n+w},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new s.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===l.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=i.default.create(r.width,r.height,t,e);v||(v=new d.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(y),y.invert(),y.tx-=r.x,y.ty-=r.y,v.render(this,n,!0,y);var s=o.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t,"graphics");return s.baseTexture.resolution=e,s.baseTexture.update(),s},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webGL)for(var i=0;i<this._webGL[n].data.length;++i)this._webGL[n].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(n.default);e.default=b,b._SPRITE_TEXTURE=null,b.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r).data,o=i.length,s={top:null,left:null,right:null,bottom:null},a=void 0,u=void 0,h=void 0;for(a=0;a<o;a+=4)0!==i[a+3]&&(u=a/4%e,h=~~(a/4/e),null===s.top&&(s.top=h),null===s.left?s.left=u:u<s.left&&(s.left=u),null===s.right?s.right=u+1:s.right<u&&(s.right=u+1),null===s.bottom?s.bottom=h:s.bottom<h&&(s.bottom=h));e=s.right-s.left,r=s.bottom-s.top+1;var l=n.getImageData(s.left,s.top,e,r);return{height:r,width:e,data:l}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=d(r(28)),o=d(r(8)),s=r(5),a=r(3),u=r(1),h=d(r(4)),l=d(r(62)),c=d(r(61)),f=d(r(140));function d(t){return t&&t.__esModule?t:{default:t}}var p={texture:!0,children:!1,baseTexture:!0},v=function(t){function e(r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=i||document.createElement("canvas")).width=3,i.height=3;var a=o.default.fromCanvas(i,h.default.SCALE_MODE,"text");a.orig=new s.Rectangle,a.trim=new s.Rectangle;var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,a));return o.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=i,u.context=u.canvas.getContext("2d"),u.resolution=h.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=r,u.style=n,u.localStyleID=-1,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r=this.context,n=c.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=n.width,o=n.height,s=n.lines,a=n.lineHeight,u=n.lineWidths,h=n.maxLineWidth,l=n.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=e.stroke,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;var f=void 0,d=void 0;if(e.dropShadow){r.fillStyle=e.dropShadowColor,r.globalAlpha=e.dropShadowAlpha,r.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(r.shadowColor=e.dropShadowColor);for(var p=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,v=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,y=0;y<s.length;y++)f=e.strokeThickness/2,d=e.strokeThickness/2+y*a+l.ascent,"right"===e.align?f+=h-u[y]:"center"===e.align&&(f+=(h-u[y])/2),e.fill&&(this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding),e.stroke&&e.strokeThickness&&(r.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding,!0),r.strokeStyle=e.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(e,s);for(var g=0;g<s.length;g++)f=e.strokeThickness/2,d=e.strokeThickness/2+g*a+l.ascent,"right"===e.align?f+=h-u[g]:"center"===e.align&&(f+=(h-u[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o=String.prototype.split.call(t,""),s=e,a=0,u="";a<t.length;)u=o[a++],n?this.context.strokeText(u,s,r):this.context.fillText(u,s,r),s+=this.context.measureText(u).width+i;else n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,f.default)(t);t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,r.trim.width=r._frame.width=t.width/this.resolution,r.trim.height=r._frame.height=t.height/this.resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,h=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=h.length+1,f=1;f<c;++f)l.push(f/c);if(h.unshift(t.fill[0]),l.unshift(0),h.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),n=(h.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var p=0;p<h.length;p++)o="number"==typeof l[p]?l[p]/e.length+d/e.length:i/n,r.addColorStop(o,h[p]),i++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),n=h.length+1,i=1;for(var v=0;v<h.length;v++)o="number"==typeof l[v]?l[v]:i/n,r.addColorStop(o,h[v]),i++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},p,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},n(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof l.default?this._style=t:this._style=new l.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(i.default);e.default=v},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var s=document.createElement("canvas");s.width=1,s.height=1,e=n.default.createContext(s)}var a=e.createShader(e.FRAGMENT_SHADER);for(;;){var u=i.replace(/%forloop%/gi,o(t));if(e.shaderSource(a,u),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS))break;t=t/2|0}r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext();return t};var n=function(t){return t&&t.__esModule?t:{default:t}}(r(6));var i=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function o(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=i;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var o=new n.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r),s=[],a=0;a<e;a++)s[a]=a;return o.bind(),o.uniforms.uSamplers=s,o};var n=function(t){return t&&t.__esModule?t:{default:t}}(r(13));r(7);var i=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var n=r(1)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var n=r(1)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(147));var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,n.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=r(1),i=function(t){return t&&t.__esModule?t:{default:t}}(r(4));var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=i.default.GC_MAX_IDLE,this.checkCountMax=i.default.GC_MAX_CHECK_COUNT,this.mode=i.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==n.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=r(6),i=r(1),o=function(t){return t&&t.__esModule?t:{default:t}}(r(18)),s=r(3);var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var r=this.gl,s=!!t._glRenderTargets;if(!t.hasLoaded)return null;var a=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<a.length;++u)if(a[u]===t){e=u;break}}a[e]=t,r.activeTexture(r.TEXTURE0+e);var h=t._glTextures[this.renderer.CONTEXT_UID];if(h)s?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):h.upload(t.source);else{if(s){var l=new o.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,h=l.texture}else(h=new n.GLTexture(this.gl,null,null,null,null)).bind(e),h.premultiplyAlpha=!0,h.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=h,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&h.enableMipmap(),t.wrapMode===i.WRAP_MODES.CLAMP?h.enableWrapClamp():t.wrapMode===i.WRAP_MODES.REPEAT?h.enableWrapRepeat():h.enableWrapMirrorRepeat()):h.enableWrapClamp(),t.scaleMode===i.SCALE_MODES.NEAREST?h.enableNearestScaling():h.enableLinearScaling()}return h},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer.CONTEXT_UID,n=t._glTextures,i=t._glRenderTargets;if(n[r]&&(this.renderer.unbindTexture(t),n[r].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete n[r],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,s.removeItems)(this._managedTextures,o,1)}i&&i[r]&&(i[r].destroy(),delete i[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n},e.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n},e.calculateSpriteMatrix=function(t,e,r,i){var o=i._texture.orig,s=t.set(r.width,0,0,r.height,e.x,e.y),a=i.worldTransform.copy(n.Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(i.anchor.x,i.anchor.y),s};var n=r(5)},function(t,e,r){"use strict";e.__esModule=!0;var n=l(r(14)),i=l(r(18)),o=l(r(63)),s=r(5),a=l(r(13)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(151)),h=l(r(27));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function(){function t(){c(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new s.Rectangle,this.destinationFrame=new s.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),d=function(t){function e(r){c(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.gl=n.renderer.gl,n.quad=new o.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n.managedFilters=[],n.renderer.on("prerender",n.onPrerender,n),n._screenWidth=r.view.width,n._screenHeight=r.view.height,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new f;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index],s=n.stack[0].destinationFrame;o||(o=n.stack[n.index]=new f);var a=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===r.screen.width&&t.filterArea.height===r.screen.height,u=e[0].resolution,h=0|e[0].padding,l=a?r.screen:t.filterArea||t.getBounds(!0),c=o.sourceFrame,d=o.destinationFrame;c.x=(l.x*u|0)/u,c.y=(l.y*u|0)/u,c.width=(l.width*u|0)/u,c.height=(l.height*u|0)/u,a||(n.stack[0].renderTarget.transform||e[0].autoFit&&c.fit(s),c.pad(h)),d.width=c.width,d.height=c.height;var p=this.getPotRenderTarget(r.gl,c.width,c.height,u);o.target=t,o.filters=e,o.resolution=u,o.renderTarget=p,p.setFrame(d,c),r.bindRenderTarget(p),p.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,i,o,!0,r);var a=i;i=o,o=a}n[s].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}r.clear(),t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,s=t.glShaders[i.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s,this.managedFilters.push(t)):(s=t.glShaders[i.CONTEXT_UID]=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(s)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(s);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(s,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var r=e.uniformData,n=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var u in r){var h=r[u].type;if("sampler2d"===h&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(n[u].baseTexture,i);else{t.uniforms[u]=i;var l=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],l.activeTexture(l.TEXTURE0+i),n[u].texture.bind()}i++}else if("mat3"===h)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===h)if(void 0!==n[u].x){var c=t.uniforms[u]||new Float32Array(2);c[0]=n[u].x,c[1]=n[u].y,t.uniforms[u]=c}else t.uniforms[u]=n[u];else"float"===h?t.uniforms.data[u].value!==r[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]}},e.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,r=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var n=0;n<r.length;n++)t||r[n].glShaders[e.CONTEXT_UID].destroy(),delete r[n].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,r,n){var o="screen";r*=n,(e*=n)===this._screenWidth&&r===this._screenHeight||(o=(65535&(e=h.default.nextPow2(e)))<<16|65535&(r=h.default.nextPow2(r))),this.pool[o]||(this.pool[o]=[]);var s=this.pool[o].pop();if(!s){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),s=new i.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return s.resolution=n,s.defaultFrame.width=s.size.width=e/n,s.defaultFrame.height=s.size.height=r/n,s.filterPoolKey=o,s},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},e}(n.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(14));var i=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.stencilMaskStack=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){n.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(n.default);e.default=i},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,h=[],l=!1,c=-1;function f(){l&&u&&(l=!1,u.length?h=u.concat(h):c=-1,h.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=h.length;e;){for(u=h,h=[];++c<e;)u&&u[c].run();c=-1,e=h.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new p(t,e)),1!==h.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=i(t),o=i(e);return Object.assign(n,o)};var n=function(t){return t&&t.__esModule?t:{default:t}}(r(6)).default.shader.defaultValue;function i(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},i=void 0,o=t.replace(/\s+/g," ").split(/\s*;\s*/),s=0;s<o.length;s++){var a=o[s].trim();if(a.indexOf("uniform")>-1){var u=a.split(" "),h=u[1],l=u[2],c=1;l.indexOf("[")>-1&&(l=(i=l.split(/\[|]/))[0],c*=Number(i[1])),l.match(e)||(r[l]={value:n(h,c),name:l,type:h})}}return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(14)),i=o(r(66));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(n.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=d(r(20)),i=d(r(19)),o=d(r(23)),s=d(r(144)),a=d(r(143)),u=d(r(142)),h=d(r(4)),l=r(3),c=d(r(6)),f=d(r(27));function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=0,y=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=h.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var i=1;i<=f.default.nextPow2(n.size);i*=2)n.buffers.push(new u.default(4*i*n.vertByteSize));n.indices=(0,o.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var s=0;s<n.size;s++)n.groups[s]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,a.default)(this.MAX_TEXTURES,t)),this.shader=(0,s.default)(t,this.MAX_TEXTURES),this.indexBuffer=c.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=f.default.nextPow2(this.currentIndex),n=f.default.log2(r),i=this.buffers[n],o=this.sprites,s=this.groups,a=i.float32View,u=i.uint32View,d=this.boundTextures,y=this.renderer.boundTextures,g=this.renderer.textureGC.count,_=0,m=void 0,b=void 0,x=1,T=0,E=s[0],w=void 0,S=void 0,O=l.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];E.textureCount=0,E.start=0,E.blend=O,p++;var M=void 0;for(M=0;M<e;++M){var P=y[M];P._enabled!==p?(d[M]=P,P._virtalBoundId=M,P._enabled=p):d[M]=this.renderer.emptyTextures[M]}for(p++,M=0;M<this.currentIndex;++M){var C=o[M];o[M]=null,m=C._texture.baseTexture;var A=l.premultiplyBlendMode[Number(m.premultipliedAlpha)][C.blendMode];if(O!==A&&(O=A,b=null,T=e,p++),b!==m&&(b=m,m._enabled!==p)){if(T===e&&(p++,E.size=M-E.start,T=0,(E=s[x++]).blend=O,E.textureCount=0,E.start=M),m.touched=g,-1===m._virtalBoundId)for(var R=0;R<e;++R){var I=(R+v)%e,D=d[I];if(D._enabled!==p){v++,D._virtalBoundId=-1,m._virtalBoundId=I,d[I]=m;break}}m._enabled=p,E.textureCount++,E.ids[T]=m._virtalBoundId,E.textures[T++]=m}if(w=C.vertexData,S=C._texture._uvs.uvsUint32,this.renderer.roundPixels){var L=this.renderer.resolution;a[_]=(w[0]*L|0)/L,a[_+1]=(w[1]*L|0)/L,a[_+5]=(w[2]*L|0)/L,a[_+6]=(w[3]*L|0)/L,a[_+10]=(w[4]*L|0)/L,a[_+11]=(w[5]*L|0)/L,a[_+15]=(w[6]*L|0)/L,a[_+16]=(w[7]*L|0)/L}else a[_]=w[0],a[_+1]=w[1],a[_+5]=w[2],a[_+6]=w[3],a[_+10]=w[4],a[_+11]=w[5],a[_+15]=w[6],a[_+16]=w[7];u[_+2]=S[0],u[_+7]=S[1],u[_+12]=S[2],u[_+17]=S[3];var N=Math.min(C.worldAlpha,1),k=N<1&&m.premultipliedAlpha?(0,l.premultiplyTint)(C._tintRGB,N):C._tintRGB+(255*N<<24);u[_+3]=u[_+8]=u[_+13]=u[_+18]=k,a[_+4]=a[_+9]=a[_+14]=a[_+19]=m._virtalBoundId,_+=20}if(E.size=M-E.start,h.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var F=this.shader.attributes,B=this.vertexBuffers[this.vertexCount]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),j=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(B,F.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(B,F.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(B,F.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);F.aTextureId&&j.addAttribute(B,F.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=j}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(M=0;M<e;++M)y[M]._virtalBoundId=-1;for(M=0;M<x;++M){for(var U=s[M],X=U.textureCount,W=0;W<X;W++)b=U.textures[W],y[U.ids[W]]!==b&&this.renderer.bindTexture(b,U.ids[W],!0),b._virtalBoundId=-1;this.renderer.state.setBlendMode(U.blend),t.drawElements(t.TRIANGLES,6*U.size,t.UNSIGNED_SHORT,6*U.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),h.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},e}(n.default);e.default=y,i.default.registerPlugin("sprite",y)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,i.default)()?(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="multiply",t[n.BLEND_MODES.SCREEN]="screen",t[n.BLEND_MODES.OVERLAY]="overlay",t[n.BLEND_MODES.DARKEN]="darken",t[n.BLEND_MODES.LIGHTEN]="lighten",t[n.BLEND_MODES.COLOR_DODGE]="color-dodge",t[n.BLEND_MODES.COLOR_BURN]="color-burn",t[n.BLEND_MODES.HARD_LIGHT]="hard-light",t[n.BLEND_MODES.SOFT_LIGHT]="soft-light",t[n.BLEND_MODES.DIFFERENCE]="difference",t[n.BLEND_MODES.EXCLUSION]="exclusion",t[n.BLEND_MODES.HUE]="hue",t[n.BLEND_MODES.SATURATION]="saturate",t[n.BLEND_MODES.COLOR]="color",t[n.BLEND_MODES.LUMINOSITY]="luminosity"):(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="source-over",t[n.BLEND_MODES.SCREEN]="source-over",t[n.BLEND_MODES.OVERLAY]="source-over",t[n.BLEND_MODES.DARKEN]="source-over",t[n.BLEND_MODES.LIGHTEN]="source-over",t[n.BLEND_MODES.COLOR_DODGE]="source-over",t[n.BLEND_MODES.COLOR_BURN]="source-over",t[n.BLEND_MODES.HARD_LIGHT]="source-over",t[n.BLEND_MODES.SOFT_LIGHT]="source-over",t[n.BLEND_MODES.DIFFERENCE]="source-over",t[n.BLEND_MODES.EXCLUSION]="source-over",t[n.BLEND_MODES.HUE]="source-over",t[n.BLEND_MODES.SATURATION]="source-over",t[n.BLEND_MODES.COLOR]="source-over",t[n.BLEND_MODES.LUMINOSITY]="source-over");return t[n.BLEND_MODES.NORMAL_NPM]=t[n.BLEND_MODES.NORMAL],t[n.BLEND_MODES.ADD_NPM]=t[n.BLEND_MODES.ADD],t[n.BLEND_MODES.SCREEN_NPM]=t[n.BLEND_MODES.SCREEN],t};var n=r(1),i=function(t){return t&&t.__esModule?t:{default:t}}(r(67))},function(t,e,r){"use strict";e.__esModule=!0;var n=r(1);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var i=0;i<r;i++){var o=t.graphicsData[i],s=o.shape;if(o.type===n.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===n.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===n.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===n.SHAPES.ELIP){var h=2*s.width,l=2*s.height,c=s.x-h/2,f=s.y-l/2,d=h/2*.5522848,p=l/2*.5522848,v=c+h,y=f+l,g=c+h/2,_=f+l/2;e.moveTo(c,_),e.bezierCurveTo(c,_-p,g-d,f,g,f),e.bezierCurveTo(g+d,f,v,_-p,v,_),e.bezierCurveTo(v,_+p,g+d,y,g,y),e.bezierCurveTo(g-d,y,c,_+p,c,_),e.closePath()}else if(o.type===n.SHAPES.RREC){var m=s.x,b=s.y,x=s.width,T=s.height,E=s.radius,w=Math.min(x,T)/2|0;E=E>w?w:E,e.moveTo(m,b+E),e.lineTo(m,b+T-E),e.quadraticCurveTo(m,b+T,m+E,b+T),e.lineTo(m+x-E,b+T),e.quadraticCurveTo(m+x,b+T,m+x,b+T-E),e.lineTo(m+x,b+E),e.quadraticCurveTo(m+x,b,m+x-E,b),e.lineTo(m+E,b),e.quadraticCurveTo(m,b,m,b+E),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=a(r(15)),i=r(1),o=r(5),s=a(r(24));function a(t){return t&&t.__esModule?t:{default:t}}var u=new o.Matrix,h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,a=e._frame.height,h=t.transform.worldTransform,l=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==f&&(r.context[r.smoothProperty]=f),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(h.copy(u),h=u,o.GroupD8.matrixAppendRotationInv(h,e.rotate,l,c),l=0,c=0),l-=n/2,c-=a/2,r.roundPixels?(r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution|0,h.ty*r.resolution|0),l|=0,c|=0):r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution,h.ty*r.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=s.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n*d,a*d,l*r.resolution,c*r.resolution,n*r.resolution,a*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,n*d,a*d,l*r.resolution,c*r.resolution,n*r.resolution,a*r.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=h,n.default.registerPlugin("sprite",h)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fn=e,this.context=r,this.priority=n,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=a(r(4)),o=r(1),s=a(r(161));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._head=new s.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r))},t.prototype.addOnce=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.default.TARGET_FPMS*this.speed;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},n(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=u},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var l=0;l<h;++l){var c,f,d,p,v=t[l].replace(a,"%20"),y=v.indexOf(r);y>=0?(c=v.substr(0,y),f=v.substr(y+1)):(c=v,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),n(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";e.decode=e.parse=r(164),e.encode=e.stringify=r(163)},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,h=36,l=1,c=26,f=38,d=700,p=72,v=128,y="-",g=/^xn--/,_=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=h-l,T=Math.floor,E=String.fromCharCode;function w(t){throw new RangeError(b[t])}function S(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function O(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+S((t=t.replace(m,".")).split("."),e).join(".")}function M(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function P(t){return S(t,function(t){var e="";return t>65535&&(e+=E((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=E(t)}).join("")}function C(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:h}function A(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function R(t,e,r){var n=0;for(t=r?T(t/d):t>>1,t+=T(t/e);t>x*c>>1;n+=h)t=T(t/x);return T(n+(x+1)*t/(t+f))}function I(t){var e,r,n,i,o,s,a,f,d,g,_=[],m=t.length,b=0,x=v,E=p;for((r=t.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&w("not-basic"),_.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(o=b,s=1,a=h;i>=m&&w("invalid-input"),((f=C(t.charCodeAt(i++)))>=h||f>T((u-b)/s))&&w("overflow"),b+=f*s,!(f<(d=a<=E?l:a>=E+c?c:a-E));a+=h)s>T(u/(g=h-d))&&w("overflow"),s*=g;E=R(b-o,e=_.length+1,0==o),T(b/e)>u-x&&w("overflow"),x+=T(b/e),b%=e,_.splice(b++,0,x)}return P(_)}function D(t){var e,r,n,i,o,s,a,f,d,g,_,m,b,x,S,O=[];for(m=(t=M(t)).length,e=v,r=0,o=p,s=0;s<m;++s)(_=t[s])<128&&O.push(E(_));for(n=i=O.length,i&&O.push(y);n<m;){for(a=u,s=0;s<m;++s)(_=t[s])>=e&&_<a&&(a=_);for(a-e>T((u-r)/(b=n+1))&&w("overflow"),r+=(a-e)*b,e=a,s=0;s<m;++s)if((_=t[s])<e&&++r>u&&w("overflow"),_==e){for(f=r,d=h;!(f<(g=d<=o?l:d>=o+c?c:d-o));d+=h)S=f-g,x=h-g,O.push(E(A(g+S%x,0))),f=T(S/x);O.push(E(A(f,0))),o=R(r,b,n==i),r=0,++n}++r,++e}return O.join("")}a={version:"1.4.1",ucs2:{decode:M,encode:P},decode:I,encode:D,toASCII:function(t){return O(t,function(t){return _.test(t)?"xn--"+D(t):t})},toUnicode:function(t){return O(t,function(t){return g.test(t)?I(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return a}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(167)(t),r(37))},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var n=r(1)},function(t,e,r){"use strict";t.exports=function(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){var o=i-(r=e+r>i?i-e:r);for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}},function(t,e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}e.__esModule=!0,e.mixin=n,e.delayMixin=function(t,e){i.push(t,e)},e.performMixins=function(){for(var t=0;t<i.length;t+=2)n(i[t],i[t+1]);i.length=0};var i=[]},function(t,e,r){"use strict";e.__esModule=!0,e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){if(n.default.tablet||n.default.phone)return 4;return t};var n=function(t){return t&&t.__esModule?t:{default:t}}(r(31))},function(t,e,r){t.exports={compileProgram:r(84),defaultValue:r(80),extractAttributes:r(83),extractUniforms:r(81),generateUniformAccessObject:r(78),setPrecision:r(79),mapSize:r(82),mapType:r(33)}},function(t,e,r){var n=r(86);function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return n(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,r){var n=r(84),i=r(83),o=r(81),s=r(79),a=r(78),u=function(t,e,r,u,h){this.gl=t,u&&(e=s(e,u),r=s(r,u)),this.program=n(t,e,r,h),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},function(t,e,r){var n=r(85),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var s=n.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},i.createFloat32=function(t,e,r,o){var s=new n.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},t.exports=i},function(t,e){var r=new ArrayBuffer(0),n=function(t,e,n,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=r,n&&this.upload(n),this._updateID=0};n.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},n.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},n.createVertexBuffer=function(t,e,r){return new n(t,t.ARRAY_BUFFER,e,r)},n.createIndexBuffer=function(t,e,r){return new n(t,t.ELEMENT_ARRAY_BUFFER,e,r)},n.create=function(t,e,r,i){return new n(t,e,r,i)},n.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=n},function(t,e){t.exports=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(1);var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=i,this.height=o,this.radius=s,this.type=n.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(36)),i=r(1);var o=function(){function t(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof n.default){for(var s=[],a=0,u=r.length;a<u;a++)s.push(r[a].x,r[a].y);r=s}this.closed=!0,this.points=r,this.type=i.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],h=this.points[2*o+1];a>e!=h>e&&t<(e-a)/(h-a)*(u-s)+s&&(r=!r)}return r},t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(34)),i=r(1);var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=n,this.height=o,this.type=i.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1},t.prototype.getBounds=function(){return new n.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(34)),i=r(1);var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.radius=n,this.type=i.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r},t.prototype.getBounds=function(){return new n.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=o},function(t,e,r){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,e,r){"use strict";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i){var o=n[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+r-e;return n<0&&(n=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,r(37))},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var h in r=Object(arguments[u]))i.call(r,h)&&(a[h]=r[h]);if(n){s=n(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(a[s[l]]=r[s[l]])}}return a}},function(t,e,r){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(r(188));Object.assign||(Object.assign=n.default)},function(t,e,r){"use strict";r(189),r(187),r(186),r(185),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,r){"use strict";(function(t){e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var n=r(190);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=r(2);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=function(t){return t&&t.__esModule?t:{default:t}}(r(128)),s=v(r(127)),a=v(r(125)),u=v(r(56)),h=v(r(115)),l=v(r(108)),c=v(r(106)),f=v(r(102)),d=v(r(97)),p=v(r(92));function v(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}i.utils.mixins.performMixins();var y=c.shared||null;e.accessibility=s,e.extract=a,e.extras=u,e.filters=h,e.interaction=l,e.loaders=c,e.mesh=f,e.particles=d,e.prepare=p,e.loader=y,"function"==typeof o.default&&(0,o.default)(e),t.PIXI=e}).call(this,r(37))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvY29uc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1RleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvQmFzZVRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL21lc2gvTWVzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9TaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL1dlYkdMTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvQ29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkTGluZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvUmVuZGVyVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9CYXNlUHJlcGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9SZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1JlbmRlclRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGlja2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iaXQtdHdpZGRsZS90d2lkZGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvU3ByaXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9lYXJjdXQvc3JjL2VhcmN1dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L1RyYW5zZm9ybUJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lzbW9iaWxlanMvaXNNb2JpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZGlzcGxheS9Cb3VuZHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL21hcFR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9zaGFwZXMvUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvTWF0cml4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvUG9pbnQuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9saW1pdGVycy9Db3VudExpbWl0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL21lc2gvUGxhbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2xvYWRlcnMvdGV4dHVyZVBhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy9zcHJpdGVzaGVldFBhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9iNjQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9saWIvYXN5bmMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWluaS1zaWduYWxzL2xpYi9taW5pLXNpZ25hbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2xvYWRlcnMvYml0bWFwRm9udFBhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW50ZXJhY3Rpb24vaW50ZXJhY3RpdmVUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbkV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbkRhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvYmx1ci9CbHVyWUZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL2dldE1heEJsdXJLZXJuZWxTaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2JsdXIvZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvYmx1ci9CbHVyWEZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hY2Nlc3NpYmlsaXR5L2FjY2Vzc2libGVUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvYXV0b0RldGVjdFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL0FwcGxpY2F0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL0dyYXBoaWNzRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0L1RleHRNZXRyaWNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHQvVGV4dFN0eWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy9RdWFkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1RleHR1cmVNYXRyaXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL3Nwcml0ZU1hc2svU3ByaXRlTWFza0ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL2NhbnZhcy91dGlscy9DYW52YXNSZW5kZXJUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvQmFzZVJlbmRlclRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL1N5c3RlbVJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1RleHR1cmVVdnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvVmlkZW9CYXNlVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsL3VybC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9kZXRlcm1pbmVDcm9zc09yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L1RyYW5zZm9ybVN0YXRpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L0Rpc3BsYXlPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2dlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvc2V0UHJlY2lzaW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9kZWZhdWx0VmFsdWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2V4dHJhY3RVbmlmb3Jtcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvbWFwU2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvZXh0cmFjdEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2NvbXBpbGVQcm9ncmFtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL0dMVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zZXRWZXJ0ZXhBdHRyaWJBcnJheXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9Hcm91cEQ4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvT2JzZXJ2YWJsZVBvaW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wcmVwYXJlL2xpbWl0ZXJzL1RpbWVMaW1pdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wcmVwYXJlL2NhbnZhcy9DYW52YXNQcmVwYXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wcmVwYXJlL3dlYmdsL1dlYkdMUHJlcGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGFydGljbGVzL3dlYmdsL1BhcnRpY2xlQnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wYXJ0aWNsZXMvd2ViZ2wvUGFydGljbGVTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BhcnRpY2xlcy93ZWJnbC9QYXJ0aWNsZVJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wYXJ0aWNsZXMvUGFydGljbGVDb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BhcnRpY2xlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9Sb3BlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL05pbmVTbGljZVBsYW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL2NhbnZhcy9DYW52YXNNZXNoUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL21lc2gvd2ViZ2wvTWVzaFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL21pZGRsZXdhcmVzL3BhcnNpbmcvYmxvYi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy9sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9saWIvTG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9sb2FkZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbk1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2FscGhhL0FscGhhRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2NvbG9ybWF0cml4L0NvbG9yTWF0cml4RmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2JsdXIvQmx1ckZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9kaXNwbGFjZW1lbnQvRGlzcGxhY2VtZW50RmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL25vaXNlL05vaXNlRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2Z4YWEvRlhBQUZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL2dldEdsb2JhbFBvc2l0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvZ2V0Q2hpbGRCeU5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9jYWNoZUFzQml0bWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvQml0bWFwVGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL3dlYmdsL1RpbGluZ1Nwcml0ZVJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvVGlsaW5nU3ByaXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvQW5pbWF0ZWRTcHJpdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhY3QvY2FudmFzL0NhbnZhc0V4dHJhY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhY3Qvd2ViZ2wvV2ViR0xFeHRyYWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYWN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hY2Nlc3NpYmlsaXR5L0FjY2Vzc2liaWxpdHlNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hY2Nlc3NpYmlsaXR5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9kZXByZWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0dXJlcy9TcHJpdGVzaGVldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy9jYW52YXMvQ2FudmFzR3JhcGhpY3NSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC91dGlscy9idWlsZENpcmNsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC91dGlscy9idWlsZFJvdW5kZWRSZWN0YW5nbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvdXRpbHMvYnVpbGRSZWN0YW5nbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvdXRpbHMvYnVpbGRQb2x5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3NoYWRlcnMvUHJpbWl0aXZlU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL1dlYkdMR3JhcGhpY3NEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL0dyYXBoaWNzUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvdXRpbHMvYmV6aWVyQ3VydmVUby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy9HcmFwaGljcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy90cmltQ2FudmFzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHQvVGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9zcHJpdGVzL3dlYmdsL0JhdGNoQnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy93ZWJnbC9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvdmFsaWRhdGVDb250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9XZWJHTFN0YXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9UZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvVGV4dHVyZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvZmlsdGVyVHJhbnNmb3Jtcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvbWFuYWdlcnMvRmlsdGVyTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvbWFuYWdlcnMvU3RlbmNpbE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9leHRyYWN0VW5pZm9ybXNGcm9tU3JjLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9tYW5hZ2Vycy9NYXNrTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9zcHJpdGVzL3dlYmdsL1Nwcml0ZVJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL0NhbnZhc01hc2tNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvY2FudmFzL0NhbnZhc1Nwcml0ZVJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RpY2tlci9UaWNrZXJMaXN0ZW5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90aWNrZXIvVGlja2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZW5jb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZGVjb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVtb3ZlLWFycmF5LWl0ZW1zL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL21peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL3BsdWdpblRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9jYW5VcGxvYWRTYW1lQnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL1ZlcnRleEFycmF5T2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL0dMU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL0dMRnJhbWVidWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvR0xCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvY3JlYXRlQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9Sb3VuZGVkUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvc2hhcGVzL1BvbHlnb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9zaGFwZXMvRWxsaXBzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9DaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BvbHlmaWxsL051bWJlci5pc0ludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BvbHlmaWxsL01hdGguc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcG9seWZpbGwvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wb2x5ZmlsbC9PYmplY3QuYXNzaWduLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wb2x5ZmlsbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJNYWluIiwidGhpcyIsInR5cGUiLCJQSVhJIiwidXRpbHMiLCJpc1dlYkdMU3VwcG9ydGVkIiwic2F5SGVsbG8iLCJhcHAiLCJBcHBsaWNhdGlvbiIsIndpZHRoIiwiaGVpZ2h0IiwicmVuZGVyZXIiLCJiYWNrZ3JvdW5kQ29sb3IiLCJpbml0IiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJ2aWV3IiwiVkVSU0lPTiIsIlBJXzIiLCJNYXRoIiwiUEkiLCJSQURfVE9fREVHIiwiREVHX1RPX1JBRCIsIlJFTkRFUkVSX1RZUEUiLCJVTktOT1dOIiwiV0VCR0wiLCJDQU5WQVMiLCJCTEVORF9NT0RFUyIsIk5PUk1BTCIsIkFERCIsIk1VTFRJUExZIiwiU0NSRUVOIiwiT1ZFUkxBWSIsIkRBUktFTiIsIkxJR0hURU4iLCJDT0xPUl9ET0RHRSIsIkNPTE9SX0JVUk4iLCJIQVJEX0xJR0hUIiwiU09GVF9MSUdIVCIsIkRJRkZFUkVOQ0UiLCJFWENMVVNJT04iLCJIVUUiLCJTQVRVUkFUSU9OIiwiQ09MT1IiLCJMVU1JTk9TSVRZIiwiTk9STUFMX05QTSIsIkFERF9OUE0iLCJTQ1JFRU5fTlBNIiwiRFJBV19NT0RFUyIsIlBPSU5UUyIsIkxJTkVTIiwiTElORV9MT09QIiwiTElORV9TVFJJUCIsIlRSSUFOR0xFUyIsIlRSSUFOR0xFX1NUUklQIiwiVFJJQU5HTEVfRkFOIiwiU0NBTEVfTU9ERVMiLCJMSU5FQVIiLCJORUFSRVNUIiwiV1JBUF9NT0RFUyIsIkNMQU1QIiwiUkVQRUFUIiwiTUlSUk9SRURfUkVQRUFUIiwiR0NfTU9ERVMiLCJBVVRPIiwiTUFOVUFMIiwiVVJMX0ZJTEVfRVhURU5TSU9OIiwiREFUQV9VUkkiLCJTVkdfU0laRSIsIlNIQVBFUyIsIlBPTFkiLCJSRUNUIiwiQ0lSQyIsIkVMSVAiLCJSUkVDIiwiUFJFQ0lTSU9OIiwiTE9XIiwiTUVESVVNIiwiSElHSCIsIlRSQU5TRk9STV9NT0RFIiwiU1RBVElDIiwiRFlOQU1JQyIsIlRFWFRfR1JBRElFTlQiLCJMSU5FQVJfVkVSVElDQUwiLCJMSU5FQVJfSE9SSVpPTlRBTCIsIlVQREFURV9QUklPUklUWSIsIklOVEVSQUNUSU9OIiwiVVRJTElUWSIsImF1dG9EZXRlY3RSZW5kZXJlciIsIkZpbHRlciIsIlNwcml0ZU1hc2tGaWx0ZXIiLCJRdWFkIiwiUmVuZGVyVGFyZ2V0IiwiT2JqZWN0UmVuZGVyZXIiLCJXZWJHTE1hbmFnZXIiLCJTaGFkZXIiLCJDYW52YXNSZW5kZXJUYXJnZXQiLCJUZXh0dXJlVXZzIiwiVmlkZW9CYXNlVGV4dHVyZSIsIkJhc2VSZW5kZXJUZXh0dXJlIiwiUmVuZGVyVGV4dHVyZSIsIkJhc2VUZXh0dXJlIiwiVGV4dHVyZU1hdHJpeCIsIlRleHR1cmUiLCJTcHJpdGVzaGVldCIsIkNhbnZhc0dyYXBoaWNzUmVuZGVyZXIiLCJHcmFwaGljc1JlbmRlcmVyIiwiR3JhcGhpY3NEYXRhIiwiR3JhcGhpY3MiLCJUZXh0TWV0cmljcyIsIlRleHRTdHlsZSIsIlRleHQiLCJTcHJpdGVSZW5kZXJlciIsIkNhbnZhc1RpbnRlciIsIkNhbnZhc1Nwcml0ZVJlbmRlcmVyIiwiU3ByaXRlIiwiVHJhbnNmb3JtQmFzZSIsIlRyYW5zZm9ybVN0YXRpYyIsIlRyYW5zZm9ybSIsIkNvbnRhaW5lciIsIkRpc3BsYXlPYmplY3QiLCJCb3VuZHMiLCJnbENvcmUiLCJXZWJHTFJlbmRlcmVyIiwiQ2FudmFzUmVuZGVyZXIiLCJ0aWNrZXIiLCJzZXR0aW5ncyIsInVuZGVmaW5lZCIsIl9jb25zdCIsImtleXMiLCJmb3JFYWNoIiwiX21hdGgiLCJfcGl4aUdsQ29yZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJkZWZhdWx0IiwiX0JvdW5kcyIsIl9EaXNwbGF5T2JqZWN0IiwiX0NvbnRhaW5lciIsIl9UcmFuc2Zvcm0iLCJfVHJhbnNmb3JtU3RhdGljIiwiX1RyYW5zZm9ybUJhc2UiLCJfU3ByaXRlIiwiX0NhbnZhc1Nwcml0ZVJlbmRlcmVyIiwiX0NhbnZhc1RpbnRlciIsIl9TcHJpdGVSZW5kZXJlciIsIl9UZXh0IiwiX1RleHRTdHlsZSIsIl9UZXh0TWV0cmljcyIsIl9HcmFwaGljcyIsIl9HcmFwaGljc0RhdGEiLCJfR3JhcGhpY3NSZW5kZXJlciIsIl9DYW52YXNHcmFwaGljc1JlbmRlcmVyIiwiX1Nwcml0ZXNoZWV0IiwiX1RleHR1cmUiLCJfVGV4dHVyZU1hdHJpeCIsIl9CYXNlVGV4dHVyZSIsIl9SZW5kZXJUZXh0dXJlIiwiX0Jhc2VSZW5kZXJUZXh0dXJlIiwiX1ZpZGVvQmFzZVRleHR1cmUiLCJfVGV4dHVyZVV2cyIsIl9DYW52YXNSZW5kZXJUYXJnZXQiLCJfU2hhZGVyIiwiX1dlYkdMTWFuYWdlciIsIl9PYmplY3RSZW5kZXJlciIsIl9SZW5kZXJUYXJnZXQiLCJfUXVhZCIsIl9TcHJpdGVNYXNrRmlsdGVyIiwiX0ZpbHRlciIsIl9BcHBsaWNhdGlvbiIsIl9hdXRvRGV0ZWN0UmVuZGVyZXIiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9zZXR0aW5nczIiLCJfQ2FudmFzUmVuZGVyZXIyIiwiX1dlYkdMUmVuZGVyZXIyIiwib2JqIiwibmV3T2JqIiwicHJlbXVsdGlwbHlCbGVuZE1vZGUiLCJCYXNlVGV4dHVyZUNhY2hlIiwiVGV4dHVyZUNhY2hlIiwiZWFyY3V0IiwibWl4aW5zIiwicGx1Z2luVGFyZ2V0IiwiRXZlbnRFbWl0dGVyIiwicmVtb3ZlSXRlbXMiLCJpc01vYmlsZSIsInVpZCIsIm5leHRVaWQiLCJoZXgycmdiIiwiaGV4Iiwib3V0IiwiaGV4MnN0cmluZyIsInRvU3RyaW5nIiwic3Vic3RyIiwibGVuZ3RoIiwicmdiMmhleCIsInJnYiIsImdldFJlc29sdXRpb25PZlVybCIsInVybCIsImRlZmF1bHRWYWx1ZSIsInJlc29sdXRpb24iLCJSRVRJTkFfUFJFRklYIiwiZXhlYyIsInBhcnNlRmxvYXQiLCJkZWNvbXBvc2VEYXRhVXJpIiwiZGF0YVVyaSIsImRhdGFVcmlNYXRjaCIsIm1lZGlhVHlwZSIsInRvTG93ZXJDYXNlIiwic3ViVHlwZSIsImNoYXJzZXQiLCJlbmNvZGluZyIsImRhdGEiLCJnZXRVcmxGaWxlRXh0ZW5zaW9uIiwiZXh0ZW5zaW9uIiwiZ2V0U3ZnU2l6ZSIsInN2Z1N0cmluZyIsInNpemVNYXRjaCIsInNpemUiLCJyb3VuZCIsInNraXBIZWxsbyIsInNhaWRIZWxsbyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJhcmdzIiwid2luZG93IiwiY29uc29sZSIsImxvZyIsImFwcGx5IiwiY29udGV4dE9wdGlvbnMiLCJzdGVuY2lsIiwiZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJnbCIsImdldENvbnRleHQiLCJzdWNjZXNzIiwiZ2V0Q29udGV4dEF0dHJpYnV0ZXMiLCJsb3NlQ29udGV4dCIsImdldEV4dGVuc2lvbiIsImUiLCJzaWduIiwiZGVzdHJveVRleHR1cmVDYWNoZSIsImRlc3Ryb3kiLCJjbGVhclRleHR1cmVDYWNoZSIsImNvcnJlY3RCbGVuZE1vZGUiLCJibGVuZE1vZGUiLCJwcmVtdWx0aXBsaWVkIiwicHJlbXVsdGlwbHlUaW50IiwidGludCIsImFscGhhIiwiUiIsIkciLCJCIiwicHJlbXVsdGlwbHlSZ2JhIiwicHJlbXVsdGlwbHkiLCJGbG9hdDMyQXJyYXkiLCJwcmVtdWx0aXBseVRpbnRUb1JnYmEiLCJfZXZlbnRlbWl0dGVyMiIsIl9wbHVnaW5UYXJnZXQyIiwiX3JlbW92ZUFycmF5SXRlbXMyIiwiX21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzMiIsIl9lYXJjdXQyIiwiX21heFJlY29tbWVuZGVkVGV4dHVyZXMyIiwiX2NhblVwbG9hZFNhbWVCdWZmZXIyIiwiVEFSR0VUX0ZQTVMiLCJNSVBNQVBfVEVYVFVSRVMiLCJSRVNPTFVUSU9OIiwiRklMVEVSX1JFU09MVVRJT04iLCJTUFJJVEVfTUFYX1RFWFRVUkVTIiwiU1BSSVRFX0JBVENIX1NJWkUiLCJSRU5ERVJfT1BUSU9OUyIsImFudGlhbGlhcyIsImZvcmNlRlhBQSIsImF1dG9SZXNpemUiLCJ0cmFuc3BhcmVudCIsImNsZWFyQmVmb3JlUmVuZGVyIiwicHJlc2VydmVEcmF3aW5nQnVmZmVyIiwicm91bmRQaXhlbHMiLCJsZWdhY3kiLCJHQ19NT0RFIiwiR0NfTUFYX0lETEUiLCJHQ19NQVhfQ0hFQ0tfQ09VTlQiLCJXUkFQX01PREUiLCJTQ0FMRV9NT0RFIiwiUFJFQ0lTSU9OX1ZFUlRFWCIsIlBSRUNJU0lPTl9GUkFHTUVOVCIsIkNBTl9VUExPQURfU0FNRV9CVUZGRVIiLCJNRVNIX0NBTlZBU19QQURESU5HIiwiX1BvaW50IiwiX09ic2VydmFibGVQb2ludCIsIl9NYXRyaXgiLCJfR3JvdXBEIiwiX0NpcmNsZSIsIl9FbGxpcHNlIiwiX1BvbHlnb24iLCJfUmVjdGFuZ2xlIiwiX1JvdW5kZWRSZWN0YW5nbGUiLCJjcmVhdGVDb250ZXh0Iiwic2V0VmVydGV4QXR0cmliQXJyYXlzIiwiR0xCdWZmZXIiLCJHTEZyYW1lYnVmZmVyIiwiR0xTaGFkZXIiLCJHTFRleHR1cmUiLCJWZXJ0ZXhBcnJheU9iamVjdCIsInNoYWRlciIsInByb2Nlc3MiLCJub3JtYWxpemVBcnJheSIsInBhcnRzIiwiYWxsb3dBYm92ZVJvb3QiLCJ1cCIsImxhc3QiLCJzcGxpY2UiLCJ1bnNoaWZ0Iiwic3BsaXRQYXRoUmUiLCJzcGxpdFBhdGgiLCJmaWxlbmFtZSIsInNsaWNlIiwiZmlsdGVyIiwieHMiLCJmIiwicmVzIiwicHVzaCIsInJlc29sdmUiLCJyZXNvbHZlZFBhdGgiLCJyZXNvbHZlZEFic29sdXRlIiwiYXJndW1lbnRzIiwicGF0aCIsImN3ZCIsIlR5cGVFcnJvciIsImNoYXJBdCIsInNwbGl0Iiwiam9pbiIsIm5vcm1hbGl6ZSIsImlzQWJzb2x1dGUiLCJ0cmFpbGluZ1NsYXNoIiwicGF0aHMiLCJBcnJheSIsImluZGV4IiwicmVsYXRpdmUiLCJmcm9tIiwidG8iLCJ0cmltIiwiYXJyIiwic3RhcnQiLCJlbmQiLCJmcm9tUGFydHMiLCJ0b1BhcnRzIiwibWluIiwic2FtZVBhcnRzTGVuZ3RoIiwib3V0cHV0UGFydHMiLCJjb25jYXQiLCJzZXAiLCJkZWxpbWl0ZXIiLCJkaXJuYW1lIiwicmVzdWx0Iiwicm9vdCIsImRpciIsImJhc2VuYW1lIiwiZXh0IiwiZXh0bmFtZSIsInN0ciIsImxlbiIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX0Jhc2VUZXh0dXJlMiIsIl9WaWRlb0Jhc2VUZXh0dXJlMiIsIl9UZXh0dXJlVXZzMiIsIl91dGlscyIsIl9FdmVudEVtaXR0ZXIiLCJiYXNlVGV4dHVyZSIsImZyYW1lIiwib3JpZyIsInJvdGF0ZSIsImluc3RhbmNlIiwiX2NsYXNzQ2FsbENoZWNrIiwiX3RoaXMiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIm5vRnJhbWUiLCJSZWN0YW5nbGUiLCJfZnJhbWUiLCJ2YWxpZCIsInJlcXVpcmVzVXBkYXRlIiwiX3V2cyIsIl9yb3RhdGUiLCJOdW1iZXIiLCJFcnJvciIsImhhc0xvYWRlZCIsIm9uIiwib25CYXNlVGV4dHVyZVVwZGF0ZWQiLCJvbmNlIiwib25CYXNlVGV4dHVyZUxvYWRlZCIsIl91cGRhdGVJRCIsInRyYW5zZm9ybSIsInRleHR1cmVDYWNoZUlkcyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNvbnN0cnVjdG9yIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfaW5oZXJpdHMiLCJ1cGRhdGUiLCJlbWl0IiwiZGVzdHJveUJhc2UiLCJpbWFnZVVybCIsInJlbW92ZUZyb21DYWNoZSIsIm9mZiIsImNsb25lIiwiX3VwZGF0ZVV2cyIsInNldCIsImZyb21JbWFnZSIsImNyb3Nzb3JpZ2luIiwic2NhbGVNb2RlIiwic291cmNlU2NhbGUiLCJ0ZXh0dXJlIiwiYWRkVG9DYWNoZSIsImZyb21GcmFtZSIsImZyYW1lSWQiLCJmcm9tQ2FudmFzIiwib3JpZ2luIiwiZnJvbVZpZGVvIiwidmlkZW8iLCJmcm9tVmlkZW9VcmwiLCJ2aWRlb1VybCIsImZyb21VcmwiLCJzb3VyY2UiLCJtYXRjaCIsIkhUTUxJbWFnZUVsZW1lbnQiLCJIVE1MQ2FudmFzRWxlbWVudCIsIkhUTUxWaWRlb0VsZW1lbnQiLCJmcm9tTG9hZGVyIiwiaWQiLCJ3YXJuIiwidGV4dHVyZUZyb21DYWNoZSIsIngiLCJ5IiwieE5vdEZpdCIsInlOb3RGaXQiLCJyZWxhdGlvbnNoaXAiLCJlcnJvclgiLCJlcnJvclkiLCJyZW1vdmVBbGxIYW5kbGVycyIsInRleCIsIkVNUFRZIiwiV0hJVEUiLCJjb250ZXh0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJjcmVhdGVXaGl0ZVRleHR1cmUiLCJoYXMiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImZuIiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImxpc3RlbmVycyIsImV2ZW50IiwiZXhpc3RzIiwiZXZ0IiwiYXZhaWxhYmxlIiwiZWUiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwicmVtb3ZlTGlzdGVuZXIiLCJqIiwibGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsInNldE1heExpc3RlbmVycyIsInByZWZpeGVkIiwiX2RldGVybWluZUNyb3NzT3JpZ2luMiIsIl9iaXRUd2lkZGxlMiIsInRvdWNoZWQiLCJyZWFsV2lkdGgiLCJyZWFsSGVpZ2h0IiwiaXNMb2FkaW5nIiwib3JpZ1NvdXJjZSIsImltYWdlVHlwZSIsInByZW11bHRpcGxpZWRBbHBoYSIsImlzUG93ZXJPZlR3byIsIm1pcG1hcCIsIndyYXBNb2RlIiwiX2dsVGV4dHVyZXMiLCJfZW5hYmxlZCIsIl92aXJ0YWxCb3VuZElkIiwiX2Rlc3Ryb3llZCIsImxvYWRTb3VyY2UiLCJuYXR1cmFsV2lkdGgiLCJ2aWRlb1dpZHRoIiwibmF0dXJhbEhlaWdodCIsInZpZGVvSGVpZ2h0IiwiX3VwZGF0ZURpbWVuc2lvbnMiLCJpc1BvdzIiLCJ3YXNMb2FkaW5nIiwib25sb2FkIiwib25lcnJvciIsImZpcnN0U291cmNlTG9hZGVkIiwic3JjIiwiY29tcGxldGUiLCJfdXBkYXRlSW1hZ2VUeXBlIiwiX2xvYWRTdmdTb3VyY2UiLCJfc291cmNlTG9hZGVkIiwic2NvcGUiLCJmaXJzdFN1YlR5cGUiLCJfbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaSIsIl9sb2FkU3ZnU291cmNlVXNpbmdYaHIiLCJhdG9iIiwiX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyIsIl90aGlzMiIsInN2Z1hociIsIlhNTEh0dHBSZXF1ZXN0IiwicmVhZHlTdGF0ZSIsIkRPTkUiLCJzdGF0dXMiLCJyZXNwb25zZSIsIm9wZW4iLCJzZW5kIiwic3ZnU2l6ZSIsInN2Z1dpZHRoIiwic3ZnSGVpZ2h0IiwiX3BpeGlJZCIsImRyYXdJbWFnZSIsImlzQ29jb29uSlMiLCJkaXNwb3NlIiwidXBkYXRlU291cmNlSW1hZ2UiLCJuZXdTcmMiLCJpbWFnZSIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJiYXNlVGV4dHVyZUZyb21DYWNoZSIsImNvcmUiLCJfVGV4dHVyZTIiLCJ0ZW1wUG9pbnQiLCJQb2ludCIsInRlbXBQb2x5Z29uIiwiUG9seWdvbiIsIk1lc2giLCJfY29yZSRDb250YWluZXIiLCJ2ZXJ0aWNlcyIsInV2cyIsImluZGljZXMiLCJkcmF3TW9kZSIsIl90ZXh0dXJlIiwiVWludDE2QXJyYXkiLCJkaXJ0eSIsImluZGV4RGlydHkiLCJ2ZXJ0ZXhEaXJ0eSIsImF1dG9VcGRhdGUiLCJjYW52YXNQYWRkaW5nIiwiVFJJQU5HTEVfTUVTSCIsInRpbnRSZ2IiLCJfZ2xEYXRhcyIsIl91dlRyYW5zZm9ybSIsInVwbG9hZFV2VHJhbnNmb3JtIiwicGx1Z2luTmFtZSIsIl9yZW5kZXJXZWJHTCIsInJlZnJlc2giLCJzZXRPYmplY3RSZW5kZXJlciIsInBsdWdpbnMiLCJyZW5kZXIiLCJfcmVuZGVyQ2FudmFzIiwiX29uVGV4dHVyZVVwZGF0ZSIsIm11bHRpcGx5VXZzIiwiZm9yY2VVcGRhdGUiLCJfcmVmcmVzaCIsIl9jYWxjdWxhdGVCb3VuZHMiLCJfYm91bmRzIiwiYWRkVmVydGljZXMiLCJjb250YWluc1BvaW50IiwicG9pbnQiLCJnZXRCb3VuZHMiLCJjb250YWlucyIsIndvcmxkVHJhbnNmb3JtIiwiYXBwbHlJbnZlcnNlIiwicG9pbnRzIiwic3RlcCIsImluZDAiLCJpbmQxIiwiaW5kMiIsIm9wdGlvbnMiLCJ2ZXJ0ZXhCdWZmZXIiLCJpbmRleEJ1ZmZlciIsInV2QnVmZmVyIiwidmFvIiwiTG9hZGVyIiwiUmVzb3VyY2UiLCJhc3luYyIsImI2NCIsImJhc2U2NCIsImNoZWNrUHJlY2lzaW9uIiwiZGVmIiwic3Vic3RyaW5nIiwiY29weSIsIl9HTFNoYWRlciIsInZlcnRleFNyYyIsImZyYWdtZW50U3JjIiwiYXR0cmlidXRlTG9jYXRpb25zIiwicHJlY2lzaW9uIiwib25Db250ZXh0Q2hhbmdlIiwiX1N5c3RlbVJlbmRlcmVyMyIsIl9DYW52YXNNYXNrTWFuYWdlcjIiLCJfQ2FudmFzUmVuZGVyVGFyZ2V0MiIsIl9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpMiIsIl9TeXN0ZW1SZW5kZXJlciIsImFyZzIiLCJhcmczIiwicm9vdENvbnRleHQiLCJtYXNrTWFuYWdlciIsInNtb290aFByb3BlcnR5IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwid2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwib0ltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiaW5pdFBsdWdpbnMiLCJibGVuZE1vZGVzIiwiX2FjdGl2ZUJsZW5kTW9kZSIsInJlbmRlcmluZ1RvU2NyZWVuIiwicmVzaXplIiwiZGlzcGxheU9iamVjdCIsInJlbmRlclRleHR1cmUiLCJjbGVhciIsInNraXBVcGRhdGVUcmFuc2Zvcm0iLCJyb290UmVzb2x1dGlvbiIsIl9jYW52YXNSZW5kZXJUYXJnZXQiLCJfbGFzdE9iamVjdFJlbmRlcmVkIiwiY2FjaGVQYXJlbnQiLCJwYXJlbnQiLCJ0ZW1wV3QiLCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJfd29ybGRJRCIsImlkZW50aXR5IiwidXBkYXRlVHJhbnNmb3JtIiwic2F2ZSIsInNldFRyYW5zZm9ybSIsImdsb2JhbEFscGhhIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwic2NyZWVuY2FudmFzIiwiY2xlYXJSZWN0IiwiX2JhY2tncm91bmRDb2xvclN0cmluZyIsInRlbXBDb250ZXh0IiwicmVuZGVyQ2FudmFzIiwicmVzdG9yZSIsImNsZWFyQ29sb3IiLCJzZXRCbGVuZE1vZGUiLCJyZW1vdmVWaWV3IiwiZGVzdHJveVBsdWdpbnMiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsImludmFsaWRhdGVCbGVuZE1vZGUiLCJtaXhpbiIsImNoaWxkcmVuIiwib25DaGlsZHJlbkNoYW5nZSIsImFkZENoaWxkIiwiY2hpbGQiLCJhcmd1bWVudHNMZW5ndGgiLCJyZW1vdmVDaGlsZCIsIl9wYXJlbnRJRCIsIl9ib3VuZHNJRCIsImFkZENoaWxkQXQiLCJzd2FwQ2hpbGRyZW4iLCJjaGlsZDIiLCJpbmRleDEiLCJnZXRDaGlsZEluZGV4IiwiaW5kZXgyIiwic2V0Q2hpbGRJbmRleCIsImN1cnJlbnRJbmRleCIsImdldENoaWxkQXQiLCJyZW1vdmVDaGlsZEF0IiwicmVtb3ZlQ2hpbGRyZW4iLCJiZWdpbkluZGV4IiwiZW5kSW5kZXgiLCJiZWdpbiIsInJhbmdlIiwicmVtb3ZlZCIsIl9pIiwiUmFuZ2VFcnJvciIsIndvcmxkQWxwaGEiLCJ2aXNpYmxlIiwiY2FsY3VsYXRlQm91bmRzIiwicmVuZGVyYWJsZSIsIl9tYXNrIiwiYWRkQm91bmRzTWFzayIsImZpbHRlckFyZWEiLCJhZGRCb3VuZHNBcmVhIiwiYWRkQm91bmRzIiwiX2xhc3RCb3VuZHNJRCIsInJlbmRlcldlYkdMIiwiX2ZpbHRlcnMiLCJyZW5kZXJBZHZhbmNlZFdlYkdMIiwiZmx1c2giLCJmaWx0ZXJzIiwibWFzayIsIl9lbmFibGVkRmlsdGVycyIsImVuYWJsZWQiLCJmaWx0ZXJNYW5hZ2VyIiwicHVzaEZpbHRlciIsInB1c2hNYXNrIiwiX2kyIiwicG9wTWFzayIsInBvcEZpbHRlciIsImRlc3Ryb3lDaGlsZHJlbiIsIm9sZENoaWxkcmVuIiwic2NhbGUiLCJnZXRMb2NhbEJvdW5kcyIsIl93aWR0aCIsIl9oZWlnaHQiLCJjb250YWluZXJVcGRhdGVUcmFuc2Zvcm0iLCJncmFwaGljc0RhdGEiLCJ3ZWJHTERhdGEiLCJ3ZWJHTERhdGFOYXRpdmVMaW5lcyIsIm5hdGl2ZUxpbmVzIiwidmVydHMiLCJjb2xvciIsImxpbmVDb2xvciIsImxpbmVBbHBoYSIsImciLCJiIiwicDF4IiwicDF5IiwicDJ4IiwicDJ5IiwiYnVpbGROYXRpdmVMaW5lIiwiZmlyc3RQb2ludCIsImxhc3RQb2ludCIsInBvcCIsIm1pZFBvaW50WCIsIm1pZFBvaW50WSIsImluZGV4Q291bnQiLCJpbmRleFN0YXJ0IiwibGluZVdpZHRoIiwicDN4IiwicDN5IiwicGVycHgiLCJwZXJweSIsInBlcnAyeCIsInBlcnAyeSIsInBlcnAzeCIsInBlcnAzeSIsImRpc3QiLCJzcXJ0IiwicmF0aW8iLCJsaW5lQWxpZ25tZW50IiwicjEiLCJyMiIsImIxIiwiYzEiLCJiMiIsImMyIiwiZGVub20iLCJhYnMiLCJweCIsInB5IiwicGRpc3QiLCJidWlsZExpbmUiLCJmcmFtZUJ1ZmZlciIsInByb2plY3Rpb25NYXRyaXgiLCJNYXRyaXgiLCJkZWZhdWx0RnJhbWUiLCJkZXN0aW5hdGlvbkZyYW1lIiwic291cmNlRnJhbWUiLCJzdGVuY2lsQnVmZmVyIiwic3RlbmNpbE1hc2tTdGFjayIsImZpbHRlckRhdGEiLCJmaWx0ZXJQb29sS2V5IiwiZnJhbWVidWZmZXIiLCJjcmVhdGVSR0JBIiwiZW5hYmxlTmVhcmVzdFNjYWxpbmciLCJlbmFibGVMaW5lYXJTY2FsaW5nIiwic2V0RnJhbWUiLCJjYyIsImF0dGFjaFN0ZW5jaWxCdWZmZXIiLCJlbmFibGVTdGVuY2lsIiwiYWN0aXZhdGUiLCJjYWxjdWxhdGVQcm9qZWN0aW9uIiwiYXBwZW5kIiwiZW5hYmxlIiwiU0NJU1NPUl9URVNUIiwic2Npc3NvciIsImRpc2FibGUiLCJ2aWV3cG9ydCIsInBtIiwiYSIsInR4IiwidHkiLCJwcm9qZWN0aW9uRnJhbWUiLCJfTWFza01hbmFnZXIyIiwiX1N0ZW5jaWxNYW5hZ2VyMiIsIl9GaWx0ZXJNYW5hZ2VyMiIsIl9SZW5kZXJUYXJnZXQyIiwiX09iamVjdFJlbmRlcmVyMiIsIl9UZXh0dXJlTWFuYWdlcjIiLCJfVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IyIiwiX1dlYkdMU3RhdGUyIiwiX21hcFdlYkdMRHJhd01vZGVzVG9QaXhpMiIsIl92YWxpZGF0ZUNvbnRleHQyIiwiX3BpeGlHbENvcmUyIiwiQ09OVEVYVF9VSUQiLCJGT1JDRV9OQVRJVkUiLCJoYW5kbGVDb250ZXh0TG9zdCIsImhhbmRsZUNvbnRleHRSZXN0b3JlZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY29udGV4dE9wdGlvbnMiLCJwb3dlclByZWZlcmVuY2UiLCJfYmFja2dyb3VuZENvbG9yUmdiYSIsInN0ZW5jaWxNYW5hZ2VyIiwiZW1wdHlSZW5kZXJlciIsImN1cnJlbnRSZW5kZXJlciIsInRleHR1cmVNYW5hZ2VyIiwic3RhdGUiLCJib3VuZFRleHR1cmVzIiwiX2FjdGl2ZVNoYWRlciIsIl9hY3RpdmVWYW8iLCJfYWN0aXZlUmVuZGVyVGFyZ2V0IiwiX2luaXRDb250ZXh0IiwiZHJhd01vZGVzIiwiX25leHRUZXh0dXJlTG9jYXRpb24iLCJpc0NvbnRleHRMb3N0IiwicmVzdG9yZUNvbnRleHQiLCJtYXhUZXh0dXJlcyIsImdldFBhcmFtZXRlciIsIk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTIiwiZW1wdHlUZXh0dXJlcyIsInRleHR1cmVHQyIsInJlc2V0VG9EZWZhdWx0Iiwicm9vdFJlbmRlclRhcmdldCIsImJpbmRSZW5kZXJUYXJnZXQiLCJlbXB0eUdMVGV4dHVyZSIsImZyb21EYXRhIiwidGVtcE9iaiIsImVtcHR5IiwiYmluZFRleHR1cmUiLCJzY3JlZW4iLCJiaW5kUmVuZGVyVGV4dHVyZSIsIm9iamVjdFJlbmRlcmVyIiwic3RvcCIsInVuaWZvcm1zIiwidG9BcnJheSIsIm1hdHJpeCIsImNsZWFyUmVuZGVyVGV4dHVyZSIsInJlbmRlclRhcmdldCIsIl9nbFJlbmRlclRhcmdldHMiLCJ1cGRhdGVUZXh0dXJlIiwidW5iaW5kVGV4dHVyZSIsInNldE1hc2tTdGFjayIsImJpbmRTaGFkZXIiLCJhdXRvUHJvamVjdCIsImxvY2F0aW9uIiwiZm9yY2VMb2NhdGlvbiIsImNvdW50IiwiZ2xUZXh0dXJlIiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwiVEVYVFVSRV8yRCIsImNyZWF0ZVZhbyIsImF0dHJpYlN0YXRlIiwiYmluZFZhbyIsInVuYmluZCIsInJlc2V0IiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVBbGwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXNlUHJvZ3JhbSIsIl9Db3VudExpbWl0ZXIyIiwiU2hhcmVkVGlja2VyIiwic2hhcmVkIiwiVVBMT0FEU19QRVJfRlJBTUUiLCJCYXNlUHJlcGFyZSIsImxpbWl0ZXIiLCJ1cGxvYWRIb29rSGVscGVyIiwicXVldWUiLCJhZGRIb29rcyIsInVwbG9hZEhvb2tzIiwiY29tcGxldGVzIiwidGlja2luZyIsImRlbGF5ZWRUaWNrIiwicHJlcGFyZUl0ZW1zIiwicmVnaXN0ZXJGaW5kSG9vayIsImZpbmRUZXh0IiwiZmluZFRleHRTdHlsZSIsImZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyIsImZpbmRCYXNlVGV4dHVyZSIsImZpbmRUZXh0dXJlIiwicmVnaXN0ZXJVcGxvYWRIb29rIiwiZHJhd1RleHQiLCJjYWxjdWxhdGVUZXh0U3R5bGUiLCJ1cGxvYWQiLCJpdGVtIiwiZG9uZSIsImFkZCIsImFkZE9uY2UiLCJ0aWNrIiwic2V0VGltZW91dCIsImJlZ2luRnJhbWUiLCJhbGxvd2VkVG9VcGxvYWQiLCJ1cGxvYWRlZCIsInNoaWZ0IiwiX2xlbiIsImFkZEhvb2siLCJ1cGxvYWRIb29rIiwicmVtb3ZlIiwiX3RleHR1cmVzIiwiaGVscGVyIiwidXBkYXRlVGV4dCIsImZvbnQiLCJ0b0ZvbnRTdHJpbmciLCJtZWFzdXJlRm9udCIsInN0eWxlIiwiX3BhcnNlVXJpMiIsIl9taW5pU2lnbmFsczIiLCJ1c2VYZHIiLCJYRG9tYWluUmVxdWVzdCIsInRlbXBBbmNob3IiLCJfbm9vcCIsIl9mbGFncyIsIl9zZXRGbGFnIiwiU1RBVFVTX0ZMQUdTIiwiREFUQV9VUkwiLCJfZ2V0RXh0ZW5zaW9uIiwibG9hZFR5cGUiLCJfZGV0ZXJtaW5lTG9hZFR5cGUiLCJ4aHJUeXBlIiwibWV0YWRhdGEiLCJlcnJvciIsInhociIsIlRZUEUiLCJwcm9ncmVzc0NodW5rIiwiX2RlcXVldWUiLCJfb25Mb2FkQmluZGluZyIsIl9ib3VuZENvbXBsZXRlIiwiX2JvdW5kT25FcnJvciIsIl9vbkVycm9yIiwiX2JvdW5kT25Qcm9ncmVzcyIsIl9vblByb2dyZXNzIiwiX2JvdW5kWGhyT25FcnJvciIsIl94aHJPbkVycm9yIiwiX2JvdW5kWGhyT25BYm9ydCIsIl94aHJPbkFib3J0IiwiX2JvdW5kWGhyT25Mb2FkIiwiX3hock9uTG9hZCIsIl9ib3VuZFhkck9uVGltZW91dCIsIl94ZHJPblRpbWVvdXQiLCJvblN0YXJ0Iiwib25Qcm9ncmVzcyIsIm9uQ29tcGxldGUiLCJvbkFmdGVyTWlkZGxld2FyZSIsInNldEV4dGVuc2lvbkxvYWRUeXBlIiwic2V0RXh0TWFwIiwiX2xvYWRUeXBlTWFwIiwic2V0RXh0ZW5zaW9uWGhyVHlwZSIsIl94aHJUeXBlTWFwIiwib250aW1lb3V0Iiwib25wcm9ncmVzcyIsImlzQ29tcGxldGUiLCJDT01QTEVURSIsIkxPQURJTkciLCJkaXNwYXRjaCIsImFib3J0IiwibWVzc2FnZSIsInhkciIsIkVNUFRZX0dJRiIsImZpcnN0Q2hpbGQiLCJsb2FkIiwiY2IiLCJfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJMT0FEX1RZUEUiLCJJTUFHRSIsIl9sb2FkRWxlbWVudCIsIkFVRElPIiwiX2xvYWRTb3VyY2VFbGVtZW50IiwiVklERU8iLCJYSFIiLCJfbG9hZFhkciIsIl9sb2FkWGhyIiwiX2hhc0ZsYWciLCJmbGFnIiwibG9hZEVsZW1lbnQiLCJza2lwU291cmNlIiwiQXVkaW8iLCJpc0FycmF5IiwibWltZVR5cGVzIiwibWltZVR5cGUiLCJfY3JlYXRlU291cmNlIiwiX21pbWVUeXBlcyIsIl9kZXRlcm1pbmVYaHJUeXBlIiwiWEhSX1JFU1BPTlNFX1RZUEUiLCJKU09OIiwiRE9DVU1FTlQiLCJyZXNwb25zZVR5cGUiLCJURVhUIiwidGltZW91dCIsIm1pbWUiLCJub2RlTmFtZSIsImxlbmd0aENvbXB1dGFibGUiLCJsb2FkZWQiLCJ0b3RhbCIsInJlcVR5cGUiLCJzdGF0dXNUZXh0IiwidGV4dCIsInJlc3BvbnNlVGV4dCIsIkJVRkZFUiIsInBhcnNlIiwiRE9NUGFyc2VyIiwiZG9tcGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiZGl2IiwiaW5uZXJIVE1MIiwiWE1MIiwicmVzcG9uc2VVUkwiLCJsb2MiLCJocmVmIiwic2FtZVBvcnQiLCJzdHJpY3RNb2RlIiwicG9ydCIsInByb3RvY29sIiwiaG9zdCIsImhvc3RuYW1lIiwiaXNEYXRhVXJsIiwic2xhc2hJbmRleCIsInF1ZXJ5U3RhcnQiLCJoYXNoU3RhcnQiLCJsYXN0SW5kZXhPZiIsIl9nZXRNaW1lRnJvbVhoclR5cGUiLCJCTE9CIiwiREVGQVVMVCIsIm1hcCIsInZhbCIsInJlcGxhY2UiLCJOT05FIiwiZ2lmIiwicG5nIiwiYm1wIiwianBnIiwianBlZyIsInRpZiIsInRpZmYiLCJ3ZWJwIiwidGdhIiwic3ZnIiwic3ZnK3htbCIsIm1wMyIsIm9nZyIsIndhdiIsIm1wNCIsIndlYm0iLCJ4aHRtbCIsImh0bWwiLCJodG0iLCJ4bWwiLCJ0bXgiLCJ0c3giLCJqc29uIiwidHh0IiwidHRmIiwib3RmIiwidG90YWxJbmRpY2VzIiwiZ2V0VGludGVkVGV4dHVyZSIsInNwcml0ZSIsInN0cmluZ0NvbG9yIiwicm91bmRDb2xvciIsInRpbnRDYWNoZSIsImNhY2hlZFRleHR1cmUiLCJ0aW50SWQiLCJ0aW50TWV0aG9kIiwiY29udmVydFRpbnRUb0ltYWdlIiwidGludEltYWdlIiwidG9EYXRhVVJMIiwidGludFdpdGhNdWx0aXBseSIsImNyb3AiLCJjZWlsIiwidGludFdpdGhPdmVybGF5IiwidGludFdpdGhQZXJQaXhlbCIsInJnYlZhbHVlcyIsInBpeGVsRGF0YSIsImdldEltYWdlRGF0YSIsInBpeGVscyIsInB1dEltYWdlRGF0YSIsImNhY2hlU3RlcHNQZXJDb2xvckNoYW5uZWwiLCJjYW5Vc2VNdWx0aXBseSIsIl9CYXNlUmVuZGVyVGV4dHVyZTIiLCJiYXNlUmVuZGVyVGV4dHVyZSIsIl9sZWdhY3lSZW5kZXJlciIsImxlZ2FjeVJlbmRlcmVyIiwiZG9Ob3RSZXNpemVCYXNlVGV4dHVyZSIsIlRpY2tlciIsIl9UaWNrZXIyIiwiYXV0b1N0YXJ0IiwiY291bnRUcmFpbGluZ1plcm9zIiwidiIsIklOVF9CSVRTIiwiSU5UX01BWCIsIklOVF9NSU4iLCJtYXgiLCJsb2cyIiwibG9nMTAiLCJwb3BDb3VudCIsIm5leHRQb3cyIiwicHJldlBvdzIiLCJwYXJpdHkiLCJSRVZFUlNFX1RBQkxFIiwidGFiIiwicmV2ZXJzZSIsImludGVybGVhdmUyIiwiZGVpbnRlcmxlYXZlMiIsImludGVybGVhdmUzIiwieiIsImRlaW50ZXJsZWF2ZTMiLCJuZXh0Q29tYmluYXRpb24iLCJfQ29udGFpbmVyMyIsIl9hbmNob3IiLCJPYnNlcnZhYmxlUG9pbnQiLCJfb25BbmNob3JVcGRhdGUiLCJfdGludCIsIl90aW50UkdCIiwiY2FjaGVkVGludCIsInZlcnRleERhdGEiLCJ2ZXJ0ZXhUcmltbWVkRGF0YSIsIl90cmFuc2Zvcm1JRCIsIl90ZXh0dXJlSUQiLCJfdHJhbnNmb3JtVHJpbW1lZElEIiwiX3RleHR1cmVUcmltbWVkSUQiLCJjYWxjdWxhdGVWZXJ0aWNlcyIsInd0IiwiYW5jaG9yIiwidzAiLCJ3MSIsImgwIiwiaDEiLCJfeCIsIl95IiwiY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzIiwiYWRkUXVhZCIsInJlY3QiLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwiX2xvY2FsQm91bmRzUmVjdCIsImdldFJlY3RhbmdsZSIsIngxIiwieTEiLCJkZXN0cm95QmFzZVRleHR1cmUiLCJpbWFnZUlkIiwiaG9sZUluZGljZXMiLCJkaW0iLCJpbnZTaXplIiwiaGFzSG9sZXMiLCJvdXRlckxlbiIsIm91dGVyTm9kZSIsImxpbmtlZExpc3QiLCJ0cmlhbmdsZXMiLCJsaXN0IiwibmV4dCIsInN0ZWluZXIiLCJnZXRMZWZ0bW9zdCIsInNvcnQiLCJjb21wYXJlWCIsImVsaW1pbmF0ZUhvbGUiLCJmaWx0ZXJQb2ludHMiLCJlbGltaW5hdGVIb2xlcyIsImVhcmN1dExpbmtlZCIsImNsb2Nrd2lzZSIsInNpZ25lZEFyZWEiLCJpbnNlcnROb2RlIiwiZXF1YWxzIiwicmVtb3ZlTm9kZSIsImFnYWluIiwiYXJlYSIsInByZXYiLCJlYXIiLCJwYXNzIiwiek9yZGVyIiwicHJldloiLCJuZXh0WiIsInEiLCJ0YWlsIiwibnVtTWVyZ2VzIiwicFNpemUiLCJxU2l6ZSIsImluU2l6ZSIsInNvcnRMaW5rZWQiLCJpbmRleEN1cnZlIiwiaXNFYXJIYXNoZWQiLCJpc0VhciIsImN1cmVMb2NhbEludGVyc2VjdGlvbnMiLCJzcGxpdEVhcmN1dCIsInBvaW50SW5UcmlhbmdsZSIsIm1pblRYIiwibWluVFkiLCJtYXhUWCIsIm1heFRZIiwibWluWiIsIm1heFoiLCJpbnRlcnNlY3RzIiwibG9jYWxseUluc2lkZSIsImlzVmFsaWREaWFnb25hbCIsInNwbGl0UG9seWdvbiIsImhvbGUiLCJoeCIsImh5IiwicXgiLCJJbmZpbml0eSIsInRhbiIsIm14IiwibXkiLCJ0YW5NaW4iLCJmaW5kSG9sZUJyaWRnZSIsImxlZnRtb3N0IiwiYXgiLCJheSIsImJ4IiwiYnkiLCJjeCIsImN5IiwiaW50ZXJzZWN0c1BvbHlnb24iLCJpbnNpZGUiLCJtaWRkbGVJbnNpZGUiLCJwMSIsInAyIiwicTEiLCJxMiIsIk5vZGUiLCJhbiIsImJwIiwic3VtIiwiZGV2aWF0aW9uIiwicG9seWdvbkFyZWEiLCJ0cmlhbmdsZXNBcmVhIiwiZmxhdHRlbiIsImhvbGVzIiwiZGltZW5zaW9ucyIsImhvbGVJbmRleCIsImxvY2FsVHJhbnNmb3JtIiwidXBkYXRlTG9jYWxUcmFuc2Zvcm0iLCJwYXJlbnRUcmFuc2Zvcm0iLCJwdCIsImx0IiwidXBkYXRlV29ybGRUcmFuc2Zvcm0iLCJJREVOVElUWSIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsImdsb2JhbCIsImFwcGxlX3Bob25lIiwiYXBwbGVfaXBvZCIsImFwcGxlX3RhYmxldCIsImFuZHJvaWRfcGhvbmUiLCJhbmRyb2lkX3RhYmxldCIsImFtYXpvbl9waG9uZSIsImFtYXpvbl90YWJsZXQiLCJ3aW5kb3dzX3Bob25lIiwid2luZG93c190YWJsZXQiLCJvdGhlcl9ibGFja2JlcnJ5Iiwib3RoZXJfYmxhY2tiZXJyeV8xMCIsIm90aGVyX29wZXJhIiwib3RoZXJfY2hyb21lIiwib3RoZXJfZmlyZWZveCIsInNldmVuX2luY2giLCJSZWdFeHAiLCJyZWdleCIsInRlc3QiLCJJc01vYmlsZUNsYXNzIiwidWEiLCJ0bXAiLCJhcHBsZSIsInBob25lIiwiaXBvZCIsInRhYmxldCIsImRldmljZSIsImFtYXpvbiIsImFuZHJvaWQiLCJ3aW5kb3dzIiwib3RoZXIiLCJibGFja2JlcnJ5IiwiYmxhY2tiZXJyeTEwIiwib3BlcmEiLCJmaXJlZm94IiwiY2hyb21lIiwiYW55IiwiaW5zdGFudGlhdGUiLCJJTSIsIkNsYXNzIiwiaXNFbXB0eSIsInVwZGF0ZUlEIiwiYWRkUG9pbnQiLCJhZGRGcmFtZSIsIngwIiwieTAiLCJiZWdpbk9mZnNldCIsImVuZE9mZnNldCIsInJhd1giLCJyYXdZIiwiYm91bmRzIiwiX21pblgiLCJfbWluWSIsIl9tYXhYIiwiX21heFkiLCJHTF9UQUJMRSIsIkdMX1RPX0dMU0xfVFlQRVMiLCJGTE9BVCIsIkZMT0FUX1ZFQzIiLCJGTE9BVF9WRUMzIiwiRkxPQVRfVkVDNCIsIklOVCIsIklOVF9WRUMyIiwiSU5UX1ZFQzMiLCJJTlRfVkVDNCIsIkJPT0wiLCJCT09MX1ZFQzIiLCJCT09MX1ZFQzMiLCJCT09MX1ZFQzQiLCJGTE9BVF9NQVQyIiwiRkxPQVRfTUFUMyIsIkZMT0FUX01BVDQiLCJTQU1QTEVSXzJEIiwidHlwZU5hbWVzIiwidG4iLCJyZWN0YW5nbGUiLCJwYWQiLCJwYWRkaW5nWCIsInBhZGRpbmdZIiwiZml0IiwiZW5sYXJnZSIsIngyIiwieTIiLCJfUG9pbnQyIiwiYXJyYXkiLCJmcm9tQXJyYXkiLCJ0cmFuc3Bvc2UiLCJwb3MiLCJuZXdQb3MiLCJ0cmFuc2xhdGUiLCJhbmdsZSIsImNvcyIsInNpbiIsInR4MSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwicHJlcGVuZCIsImRlY29tcG9zZSIsImF0YW4yIiwiZGVsdGEiLCJza2V3IiwicG9zaXRpb24iLCJpbnZlcnQiLCJGdW5jdGlvbiIsImV2YWwiLCJDb3VudExpbWl0ZXIiLCJtYXhJdGVtc1BlckZyYW1lIiwiaXRlbXNMZWZ0IiwiX01lc2gzIiwiUGxhbmUiLCJfTWVzaCIsInZlcnRpY2VzWCIsInZlcnRpY2VzWSIsIl9yZWFkeSIsInNlZ21lbnRzWCIsInNlZ21lbnRzWSIsInNpemVYIiwic2l6ZVkiLCJ0b3RhbFN1YiIsInhwb3MiLCJ5cG9zIiwidmFsdWUyIiwidmFsdWUzIiwidmFsdWU0IiwiY29sb3JzIiwicmVzb3VyY2UiLCJfcmVzb3VyY2VMb2FkZXIiLCJpbWFnZVJlc291cmNlTmFtZSIsImZyYW1lcyIsInJlc291cmNlcyIsImxvYWRPcHRpb25zIiwiaW1hZ2VNZXRhZGF0YSIsInBhcmVudFJlc291cmNlIiwicmVzb3VyY2VQYXRoIiwiZ2V0UmVzb3VyY2VQYXRoIiwiYmFzZVVybCIsInNwcml0ZXNoZWV0IiwiX2NvcmUiLCJ0ZXh0dXJlcyIsIl91cmwyIiwibWV0YSIsImVuY29kZUJpbmFyeSIsImlucHV0Iiwib3V0cHV0IiwiaW54IiwiYnl0ZWJ1ZmZlciIsImVuY29kZWRDaGFySW5kZXhlcyIsImpueCIsImNoYXJDb2RlQXQiLCJwYWRkaW5nQnl0ZXMiLCJfam54IiwiX2tleVN0ciIsIm9ubHlPbmNlIiwiY2FsbEZuIiwiZWFjaFNlcmllcyIsIml0ZXJhdG9yIiwiY2FsbGJhY2siLCJkZWZlck5leHQiLCJlcnIiLCJ3b3JrZXIiLCJjb25jdXJyZW5jeSIsIndvcmtlcnMiLCJfdGFza3MiLCJzYXR1cmF0ZWQiLCJ1bnNhdHVyYXRlZCIsImJ1ZmZlciIsImRyYWluIiwic3RhcnRlZCIsInBhdXNlZCIsIl9pbnNlcnQiLCJraWxsIiwidGFzayIsIl9uZXh0IiwicnVubmluZyIsImlkbGUiLCJwYXVzZSIsInJlc3VtZSIsInciLCJpbnNlcnRBdEZyb250Iiwib3B0cyIsInBhcnNlciIsInN0cmljdCIsImxvb3NlIiwidXJpIiwiJDAiLCIkMSIsIiQyIiwiTWluaVNpZ25hbEJpbmRpbmciLCJ0aGlzQXJnIiwiX2ZuIiwiX29uY2UiLCJfdGhpc0FyZyIsIl9wcmV2IiwiX293bmVyIiwiZGV0YWNoIiwiX2FkZE1pbmlTaWduYWxCaW5kaW5nIiwibm9kZSIsIl9oZWFkIiwiX3RhaWwiLCJNaW5pU2lnbmFsIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRBdHRyaWJ1dGUiLCJ4bWxVcmwiLCJwYWdlcyIsImNvbXBsZXRlZCIsInBhZ2UiLCJwYWdlRmlsZSIsImFzc2lnbiIsIl9leHRyYXMiLCJiaXRtYXBGb250IiwiQml0bWFwVGV4dCIsInJlZ2lzdGVyRm9udCIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsImhpdEFyZWEiLCJidXR0b25Nb2RlIiwiY3Vyc29yIiwidHJhY2tlZFBvaW50ZXJzIiwiX3RyYWNrZWRQb2ludGVycyIsIkludGVyYWN0aW9uVHJhY2tpbmdEYXRhIiwicG9pbnRlcklkIiwiX3BvaW50ZXJJZCIsIkZMQUdTIiwiX2RvU2V0IiwieW4iLCJmbGFncyIsIk9WRVIiLCJSSUdIVF9ET1dOIiwiTEVGVF9ET1dOIiwiZnJlZXplIiwiSW50ZXJhY3Rpb25FdmVudCIsInN0b3BwZWQiLCJjdXJyZW50VGFyZ2V0Iiwic3RvcFByb3BhZ2F0aW9uIiwiSW50ZXJhY3Rpb25EYXRhIiwib3JpZ2luYWxFdmVudCIsImlkZW50aWZpZXIiLCJpc1ByaW1hcnkiLCJidXR0b24iLCJidXR0b25zIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwicHJlc3N1cmUiLCJyb3RhdGlvbkFuZ2xlIiwidHdpc3QiLCJ0YW5nZW50aWFsUHJlc3N1cmUiLCJnZXRMb2NhbFBvc2l0aW9uIiwiZ2xvYmFsUG9zIiwiY29weUV2ZW50IiwiaXNJbnRlZ2VyIiwid2hpY2giLCJfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIiLCJfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIiLCJfZ2V0TWF4Qmx1cktlcm5lbFNpemUyIiwiQmx1cllGaWx0ZXIiLCJfY29yZSRGaWx0ZXIiLCJzdHJlbmd0aCIsInF1YWxpdHkiLCJrZXJuZWxTaXplIiwidmVydFNyYyIsImZyYWdTcmMiLCJfcXVhbGl0eSIsImZpcnN0UnVuIiwicGFzc2VzIiwiYXBwbHlGaWx0ZXIiLCJnZXRSZW5kZXJUYXJnZXQiLCJmbGlwIiwiZmxvcCIsInRlbXAiLCJyZXR1cm5SZW5kZXJUYXJnZXQiLCJwYWRkaW5nIiwibWF4VmFyeWluZ3MiLCJNQVhfVkFSWUlOR19WRUNUT1JTIiwia2VybmVsIiwiR0FVU1NJQU5fVkFMVUVTIiwiaGFsZkxlbmd0aCIsImZyYWdTb3VyY2UiLCJmcmFnVGVtcGxhdGUiLCJibHVyTG9vcCIsImJsdXIiLCI1IiwiNyIsIjkiLCIxMSIsIjEzIiwiMTUiLCJ2ZXJ0U291cmNlIiwidmVydFRlbXBsYXRlIiwidGVtcGxhdGUiLCJCbHVyWEZpbHRlciIsIlRpbGluZ1Nwcml0ZVJlbmRlcmVyIiwiVGlsaW5nU3ByaXRlIiwiQW5pbWF0ZWRTcHJpdGUiLCJfQW5pbWF0ZWRTcHJpdGUiLCJfVGlsaW5nU3ByaXRlIiwiX1RpbGluZ1Nwcml0ZVJlbmRlcmVyIiwiX0JpdG1hcFRleHQiLCJhY2Nlc3NpYmxlIiwiYWNjZXNzaWJsZVRpdGxlIiwiYWNjZXNzaWJsZUhpbnQiLCJ0YWJJbmRleCIsIl9hY2Nlc3NpYmxlQWN0aXZlIiwiX2FjY2Vzc2libGVEaXYiLCJhcmcxIiwiZm9yY2VDYW52YXMiLCJfQ29udGFpbmVyMiIsIl90aWNrZXIiLCJhcmc0IiwiYXJnNSIsInNoYXJlZFRpY2tlciIsIl9vcHRpb25zIiwic2hhcmVkTG9hZGVyIiwic3RhZ2UiLCJzdGFnZU9wdGlvbnMiLCJvbGRUaWNrZXIiLCJmaWxsQ29sb3IiLCJmaWxsQWxwaGEiLCJmaWxsIiwic2hhcGUiLCJfbGluZVRpbnQiLCJfZmlsbFRpbnQiLCJhZGRIb2xlIiwibGluZXMiLCJsaW5lV2lkdGhzIiwibGluZUhlaWdodCIsIm1heExpbmVXaWR0aCIsImZvbnRQcm9wZXJ0aWVzIiwibWVhc3VyZVRleHQiLCJ3b3JkV3JhcCIsIl9jYW52YXMiLCJsZXR0ZXJTcGFjaW5nIiwic3Ryb2tlVGhpY2tuZXNzIiwiZHJvcFNoYWRvdyIsImRyb3BTaGFkb3dEaXN0YW5jZSIsImZvbnRTaXplIiwibGVhZGluZyIsImxpbmUiLCJjYWNoZSIsIndoaXRlU3BhY2UiLCJjb2xsYXBzZVNwYWNlcyIsImNvbGxhcHNlTmV3bGluZXMiLCJjYW5QcmVwZW5kU3BhY2VzIiwid29yZFdyYXBXaWR0aCIsInRva2VucyIsInRva2VuaXplIiwidG9rZW4iLCJpc05ld2xpbmUiLCJhZGRMaW5lIiwiY3VycklzQnJlYWtpbmdTcGFjZSIsImlzQnJlYWtpbmdTcGFjZSIsImxhc3RJc0JyZWFraW5nU3BhY2UiLCJ0b2tlbldpZHRoIiwiZ2V0RnJvbUNhY2hlIiwiY2FuQnJlYWtXb3JkcyIsImJyZWFrV29yZHMiLCJjaGFyYWN0ZXJzIiwiY2hhciIsImsiLCJuZXh0Q2hhciIsImxhc3RDaGFyIiwiY2FuQnJlYWtDaGFycyIsImNoYXJhY3RlcldpZHRoIiwiaXNMYXN0VG9rZW4iLCJuZXdMaW5lIiwidHJpbVJpZ2h0Iiwic3BhY2luZyIsIl9uZXdsaW5lcyIsIl9icmVha2luZ1NwYWNlcyIsIl9mb250cyIsInByb3BlcnRpZXMiLCJfY29udGV4dCIsIm1ldHJpY3NTdHJpbmciLCJNRVRSSUNTX1NUUklORyIsIkJBU0VMSU5FX1NZTUJPTCIsImJhc2VsaW5lIiwiQkFTRUxJTkVfTVVMVElQTElFUiIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0IiwiaW1hZ2VkYXRhIiwiaWR4IiwiYXNjZW50IiwiX2oiLCJkZXNjZW50IiwiY2xlYXJNZXRyaWNzIiwiZGVmYXVsdFN0eWxlIiwiYWxpZ24iLCJkcm9wU2hhZG93QWxwaGEiLCJkcm9wU2hhZG93QW5nbGUiLCJkcm9wU2hhZG93Qmx1ciIsImRyb3BTaGFkb3dDb2xvciIsImZpbGxHcmFkaWVudFR5cGUiLCJmaWxsR3JhZGllbnRTdG9wcyIsImZvbnRGYW1pbHkiLCJmb250U3R5bGUiLCJmb250VmFyaWFudCIsImZvbnRXZWlnaHQiLCJsaW5lSm9pbiIsIm1pdGVyTGltaXQiLCJzdHJva2UiLCJzdHlsZUlEIiwiZGVlcENvcHlQcm9wZXJ0aWVzIiwiY2xvbmVkUHJvcGVydGllcyIsImZvbnRTaXplU3RyaW5nIiwiZm9udEZhbWlsaWVzIiwiX2FsaWduIiwiX2JyZWFrV29yZHMiLCJfZHJvcFNoYWRvdyIsIl9kcm9wU2hhZG93QWxwaGEiLCJfZHJvcFNoYWRvd0FuZ2xlIiwiX2Ryb3BTaGFkb3dCbHVyIiwiX2Ryb3BTaGFkb3dDb2xvciIsIm91dHB1dENvbG9yIiwiZ2V0Q29sb3IiLCJfZHJvcFNoYWRvd0Rpc3RhbmNlIiwiX2ZpbGwiLCJfZmlsbEdyYWRpZW50VHlwZSIsIl9maWxsR3JhZGllbnRTdG9wcyIsImFycmF5MSIsImFycmF5MiIsImFyZUFycmF5c0VxdWFsIiwiX2ZvbnRGYW1pbHkiLCJfZm9udFNpemUiLCJfZm9udFN0eWxlIiwiX2ZvbnRWYXJpYW50IiwiX2ZvbnRXZWlnaHQiLCJfbGV0dGVyU3BhY2luZyIsIl9saW5lSGVpZ2h0IiwiX2xlYWRpbmciLCJfbGluZUpvaW4iLCJfbWl0ZXJMaW1pdCIsIl9wYWRkaW5nIiwiX3N0cm9rZSIsIl9zdHJva2VUaGlja25lc3MiLCJfdGV4dEJhc2VsaW5lIiwiX3RyaW0iLCJfd2hpdGVTcGFjZSIsIl93b3JkV3JhcCIsIl93b3JkV3JhcFdpZHRoIiwiZ2V0U2luZ2xlQ29sb3IiLCJwcm9wZXJ0eU9iaiIsInByb3AiLCJfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMiIsImludGVybGVhdmVkIiwiY3JlYXRlVmVydGV4QnVmZmVyIiwiU1RBVElDX0RSQVciLCJjcmVhdGVJbmRleEJ1ZmZlciIsImluaXRWYW8iLCJhZGRJbmRleCIsImFkZEF0dHJpYnV0ZSIsImF0dHJpYnV0ZXMiLCJhVmVydGV4UG9zaXRpb24iLCJhVGV4dHVyZUNvb3JkIiwidGFyZ2V0VGV4dHVyZUZyYW1lIiwiZGVsZXRlQnVmZmVyIiwiX01hdHJpeDIiLCJ0ZW1wTWF0IiwiY2xhbXBNYXJnaW4iLCJtYXBDb29yZCIsInVDbGFtcEZyYW1lIiwidUNsYW1wT2Zmc2V0IiwiX2xhc3RUZXh0dXJlSUQiLCJjbGFtcE9mZnNldCIsIm1hdCIsIngzIiwieTMiLCJ0ZXhCYXNlIiwibWFyZ2luIiwib2Zmc2V0IiwiX2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMyIiwiU09VUkNFX0tFWV9NQVAiLCJkZWZhdWx0VmVydGV4U3JjIiwiZGVmYXVsdEZyYWdtZW50U3JjIiwiX2JsZW5kTW9kZSIsInVuaWZvcm1EYXRhIiwiZ2xTaGFkZXJzIiwiZ2xTaGFkZXJLZXkiLCJhdXRvRml0IiwiY3VycmVudFN0YXRlIiwiX0ZpbHRlcjMiLCJfVGV4dHVyZU1hdHJpeDIiLCJtYXNrTWF0cml4IiwibWFza1Nwcml0ZSIsIm90aGVyTWF0cml4IiwiY2FsY3VsYXRlU3ByaXRlTWF0cml4IiwibWFza0NsYW1wIiwiY3JlYXRlQ29sb3JlZENhbnZhcyIsIm1hZ2VudGEiLCJ5ZWxsb3ciLCJpbWFnZURhdGEiLCJfQmFzZVRleHR1cmUzIiwiX1JlbmRlclRleHR1cmUyIiwidGVtcE1hdHJpeCIsIlN5c3RlbVJlbmRlcmVyIiwic3lzdGVtIiwiX2JhY2tncm91bmRDb2xvciIsImdlbmVyYXRlVGV4dHVyZSIsInJlZ2lvbiIsInBhcmVudE5vZGUiLCJfR3JvdXBEMiIsInV2c1VpbnQzMiIsIlVpbnQzMkFycmF5IiwiYmFzZUZyYW1lIiwidHciLCJ0aCIsIncyIiwiaDIiLCJjWCIsImNZIiwiTlciLCJ1WCIsInVZIiwiSEFWRV9FTk9VR0hfREFUQSIsIkhBVkVfRlVUVVJFX0RBVEEiLCJfYXV0b1VwZGF0ZSIsIl9pc0F1dG9VcGRhdGluZyIsImF1dG9QbGF5IiwiX29uQ2FuUGxheSIsIl9vblBsYXlTdGFydCIsIl9vblBsYXlTdG9wIiwiX19sb2FkZWQiLCJfaXNTb3VyY2VSZWFkeSIsIl9pc1NvdXJjZVBsYXlpbmciLCJjdXJyZW50VGltZSIsImVuZGVkIiwicGxheSIsInZpZGVvU3JjIiwic2V0QXR0cmlidXRlIiwiY3JlYXRlU291cmNlIiwiZnJvbVVybHMiLCJwdW55Y29kZSIsInV0aWwiLCJVcmwiLCJzbGFzaGVzIiwiYXV0aCIsImhhc2giLCJzZWFyY2giLCJxdWVyeSIsInBhdGhuYW1lIiwidXJsUGFyc2UiLCJyZXNvbHZlT2JqZWN0IiwiZm9ybWF0IiwiaXNTdHJpbmciLCJwcm90b2NvbFBhdHRlcm4iLCJwb3J0UGF0dGVybiIsInNpbXBsZVBhdGhQYXR0ZXJuIiwidW53aXNlIiwiYXV0b0VzY2FwZSIsIm5vbkhvc3RDaGFycyIsImhvc3RFbmRpbmdDaGFycyIsImhvc3RuYW1lUGFydFBhdHRlcm4iLCJob3N0bmFtZVBhcnRTdGFydCIsInVuc2FmZVByb3RvY29sIiwiamF2YXNjcmlwdCIsImphdmFzY3JpcHQ6IiwiaG9zdGxlc3NQcm90b2NvbCIsInNsYXNoZWRQcm90b2NvbCIsImh0dHAiLCJodHRwcyIsImZ0cCIsImdvcGhlciIsImZpbGUiLCJodHRwOiIsImh0dHBzOiIsImZ0cDoiLCJnb3BoZXI6IiwiZmlsZToiLCJxdWVyeXN0cmluZyIsInBhcnNlUXVlcnlTdHJpbmciLCJzbGFzaGVzRGVub3RlSG9zdCIsImlzT2JqZWN0IiwidSIsInF1ZXJ5SW5kZXgiLCJzcGxpdHRlciIsInVTcGxpdCIsInJlc3QiLCJzaW1wbGVQYXRoIiwicHJvdG8iLCJsb3dlclByb3RvIiwiYXRTaWduIiwiaG9zdEVuZCIsImhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlSG9zdCIsImlwdjZIb3N0bmFtZSIsImhvc3RwYXJ0cyIsInBhcnQiLCJuZXdwYXJ0IiwidmFsaWRQYXJ0cyIsIm5vdEhvc3QiLCJiaXQiLCJ0b0FTQ0lJIiwiaCIsImFlIiwiZXNjIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZXNjYXBlIiwicW0iLCJzdHJpbmdpZnkiLCJyZWwiLCJ0a2V5cyIsInRrIiwidGtleSIsInJrZXlzIiwicmsiLCJya2V5IiwicmVsUGF0aCIsImlzU291cmNlQWJzIiwiaXNSZWxBYnMiLCJtdXN0RW5kQWJzIiwicmVtb3ZlQWxsRG90cyIsInNyY1BhdGgiLCJwc3ljaG90aWMiLCJpc051bGxPclVuZGVmaW5lZCIsImF1dGhJbkhvc3QiLCJpc051bGwiLCJoYXNUcmFpbGluZ1NsYXNoIiwiX3VybDMiLCJ1cGRhdGVTa2V3IiwicGl2b3QiLCJfcm90YXRpb24iLCJfY3giLCJfc3giLCJfY3kiLCJfc3kiLCJzZXRGcm9tTWF0cml4Iiwib25DaGFuZ2UiLCJfbG9jYWxJRCIsIl9jdXJyZW50TG9jYWxJRCIsIl9UcmFuc2Zvcm1TdGF0aWMyIiwiX1RyYW5zZm9ybTIiLCJfQm91bmRzMiIsIlRyYW5zZm9ybUNsYXNzIiwidGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJfYm91bmRzUmVjdCIsIl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtIiwic2tpcFVwZGF0ZSIsInRyYW5zZm9ybVJlZiIsInBhcmVudFJlZiIsInRvR2xvYmFsIiwiZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSIsInRvTG9jYWwiLCJzZXRQYXJlbnQiLCJjb250YWluZXIiLCJfY3VycmVudEJvdW5kcyIsImlzTWFzayIsImdlbmVyYXRlR2V0dGVyIiwiR0xTTF9TSU5HTEVfU0VUVEVSUyIsImZsb2F0IiwidW5pZm9ybTFmIiwidmVjMiIsInVuaWZvcm0yZiIsInZlYzMiLCJ1bmlmb3JtM2YiLCJ2ZWM0IiwidW5pZm9ybTRmIiwiaW50IiwidW5pZm9ybTFpIiwiaXZlYzIiLCJ1bmlmb3JtMmkiLCJpdmVjMyIsInVuaWZvcm0zaSIsIml2ZWM0IiwidW5pZm9ybTRpIiwiYm9vbCIsImJ2ZWMyIiwiYnZlYzMiLCJidmVjNCIsIm1hdDIiLCJ1bmlmb3JtTWF0cml4MmZ2IiwibWF0MyIsInVuaWZvcm1NYXRyaXgzZnYiLCJtYXQ0IiwidW5pZm9ybU1hdHJpeDRmdiIsInNhbXBsZXIyRCIsIkdMU0xfQVJSQVlfU0VUVEVSUyIsInVuaWZvcm0xZnYiLCJ1bmlmb3JtMmZ2IiwidW5pZm9ybTNmdiIsInVuaWZvcm00ZnYiLCJ1bmlmb3JtMWl2IiwidW5pZm9ybTJpdiIsInVuaWZvcm0zaXYiLCJ1bmlmb3JtNGl2IiwiZ2VuZXJhdGVTZXR0ZXIiLCJ1bmlmb3JtIiwiZ2V0VW5pZm9ybUdyb3VwIiwibmFtZVRva2VucyIsImN1ciIsInVuaWZvcm1LZXlzIiwiZnVsbE5hbWUiLCJ1bmlmb3JtR3JvdXAiLCJib29sZWFuQXJyYXkiLCJJbnQzMkFycmF5IiwibWFwVHlwZSIsInByb2dyYW0iLCJ0b3RhbFVuaWZvcm1zIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkFDVElWRV9VTklGT1JNUyIsImdldEFjdGl2ZVVuaWZvcm0iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJHTFNMX1RPX1NJWkUiLCJtYXBTaXplIiwicG9pbnRlciIsIm5vcm1hbGl6ZWQiLCJzdHJpZGUiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwidG90YWxBdHRyaWJ1dGVzIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJhdHRyaWJEYXRhIiwiZ2V0QWN0aXZlQXR0cmliIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJjb21waWxlU2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiZ2xWZXJ0U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImdsRnJhZ1NoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJiaW5kQXR0cmliTG9jYXRpb24iLCJsaW5rUHJvZ3JhbSIsIkxJTktfU1RBVFVTIiwiVkFMSURBVEVfU1RBVFVTIiwiZ2V0RXJyb3IiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJkZWxldGVTaGFkZXIiLCJjcmVhdGVUZXh0dXJlIiwicHJlbXVsdGlwbHlBbHBoYSIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJuZXdXaWR0aCIsIm5ld0hlaWdodCIsInRleEltYWdlMkQiLCJ0ZXhTdWJJbWFnZTJEIiwiRkxPQVRJTkdfUE9JTlRfQVZBSUxBQkxFIiwidXBsb2FkRGF0YSIsIm1pbkZpbHRlciIsImxpbmVhciIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01JTl9GSUxURVIiLCJMSU5FQVJfTUlQTUFQX0xJTkVBUiIsIk5FQVJFU1RfTUlQTUFQX05FQVJFU1QiLCJtYWdGaWx0ZXIiLCJURVhUVVJFX01BR19GSUxURVIiLCJlbmFibGVNaXBtYXAiLCJnZW5lcmF0ZU1pcG1hcCIsImVuYWJsZVdyYXBDbGFtcCIsIlRFWFRVUkVfV1JBUF9TIiwiQ0xBTVBfVE9fRURHRSIsIlRFWFRVUkVfV1JBUF9UIiwiZW5hYmxlV3JhcFJlcGVhdCIsImVuYWJsZVdyYXBNaXJyb3JSZXBlYXQiLCJkZWxldGVUZXh0dXJlIiwiZnJvbVNvdXJjZSIsImF0dHJpYnMiLCJ0ZW1wQXR0cmliU3RhdGUiLCJhdHRyaWJ1dGUiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImF0dHJpYiIsInV4IiwidXkiLCJ2eCIsInZ5IiwidGVtcE1hdHJpY2VzIiwibXVsIiwic2lnbnVtIiwicm93IiwiX3V4IiwiX3V5IiwiX3Z4IiwiX3Z5IiwiR3JvdXBEOCIsIkUiLCJTRSIsIlMiLCJTVyIsIlciLCJOIiwiTkUiLCJNSVJST1JfVkVSVElDQUwiLCJNSVJST1JfSE9SSVpPTlRBTCIsImluZCIsInZYIiwidlkiLCJpbnYiLCJyb3RhdGlvblNlY29uZCIsInJvdGF0aW9uRmlyc3QiLCJzdWIiLCJyb3RhdGUxODAiLCJpc1ZlcnRpY2FsIiwiYnlEaXJlY3Rpb24iLCJkeCIsImR5IiwibWF0cml4QXBwZW5kUm90YXRpb25JbnYiLCJUaW1lTGltaXRlciIsIm1heE1pbGxpc2Vjb25kcyIsImZyYW1lU3RhcnQiLCJEYXRlIiwibm93IiwiQ0FOVkFTX1NUQVJUX1NJWkUiLCJDYW52YXNQcmVwYXJlIiwiX0Jhc2VQcmVwYXJlIiwiY3R4IiwidXBsb2FkQmFzZVRleHR1cmVzIiwicHJlcGFyZSIsImltYWdlV2lkdGgiLCJpbWFnZUhlaWdodCIsInJlZ2lzdGVyUGx1Z2luIiwiV2ViR0xQcmVwYXJlIiwiZmluZEdyYXBoaWNzIiwidXBsb2FkR3JhcGhpY3MiLCJjbGVhckRpcnR5IiwiX3dlYkdMIiwiZ3JhcGhpY3MiLCJ1cGRhdGVHcmFwaGljcyIsIl9XZWJHTFByZXBhcmUiLCJfQ2FudmFzUHJlcGFyZSIsIl9Db3VudExpbWl0ZXIiLCJfVGltZUxpbWl0ZXIiLCJQYXJ0aWNsZUJ1ZmZlciIsImR5bmFtaWNQcm9wZXJ0eUZsYWdzIiwiZHluYW1pY1Byb3BlcnRpZXMiLCJzdGF0aWNQcm9wZXJ0aWVzIiwidXBsb2FkRnVuY3Rpb24iLCJ1bnNpZ25lZEJ5dGUiLCJzdGF0aWNTdHJpZGUiLCJzdGF0aWNCdWZmZXIiLCJzdGF0aWNEYXRhIiwic3RhdGljRGF0YVVpbnQzMiIsImR5bmFtaWNTdHJpZGUiLCJkeW5hbWljQnVmZmVyIiwiZHluYW1pY0RhdGEiLCJkeW5hbWljRGF0YVVpbnQzMiIsImluaXRCdWZmZXJzIiwiZHluYW1pY09mZnNldCIsImR5bkJ1ZmZlciIsIkFycmF5QnVmZmVyIiwiU1RSRUFNX0RSQVciLCJzdGF0aWNPZmZzZXQiLCJfcHJvcGVydHkiLCJzdGF0QnVmZmVyIiwiX3Byb3BlcnR5MiIsIl9pMyIsIl9wcm9wZXJ0eTMiLCJ1cGxvYWREeW5hbWljIiwic3RhcnRJbmRleCIsImFtb3VudCIsInVwbG9hZFN0YXRpYyIsIlBhcnRpY2xlU2hhZGVyIiwiX1BhcnRpY2xlU2hhZGVyMiIsIl9QYXJ0aWNsZUJ1ZmZlcjIiLCJQYXJ0aWNsZVJlbmRlcmVyIiwiX2NvcmUkT2JqZWN0UmVuZGVyZXIiLCJ1cGxvYWRWZXJ0aWNlcyIsImFQb3NpdGlvbkNvb3JkIiwidXBsb2FkUG9zaXRpb24iLCJhUm90YXRpb24iLCJ1cGxvYWRSb3RhdGlvbiIsInVwbG9hZFV2cyIsImFDb2xvciIsInVwbG9hZFRpbnQiLCJtYXhTaXplIiwiX21heFNpemUiLCJiYXRjaFNpemUiLCJfYmF0Y2hTaXplIiwidG90YWxDaGlsZHJlbiIsImJ1ZmZlcnMiLCJfZ2xCdWZmZXJzIiwiZ2VuZXJhdGVCdWZmZXJzIiwidUNvbG9yIiwidVNhbXBsZXIiLCJ1cGRhdGVTdGF0aWMiLCJfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyIiwiYmlkIiwiX2J1ZmZlclVwZGF0ZUlEcyIsImRyYXciLCJfcHJvcGVydGllcyIsInN4Iiwic3kiLCJzcHJpdGVQb3NpdGlvbiIsInNwcml0ZVJvdGF0aW9uIiwidGV4dHVyZVV2cyIsImFyZ2IiLCJQYXJ0aWNsZUNvbnRhaW5lciIsInNldFByb3BlcnRpZXMiLCJwYXJ0aWNsZSIsInNtYWxsZXN0Q2hpbGRJbmRleCIsImJ1ZmZlckluZGV4IiwiZmxvb3IiLCJpc1JvdGF0ZWQiLCJwb3NpdGlvblgiLCJwb3NpdGlvblkiLCJmaW5hbFdpZHRoIiwiZmluYWxIZWlnaHQiLCJjaGlsZFRyYW5zZm9ybSIsIl9idWZmZXJzIiwiX1BhcnRpY2xlQ29udGFpbmVyIiwiX1BhcnRpY2xlUmVuZGVyZXIiLCJSb3BlIiwicmVmcmVzaFZlcnRpY2VzIiwibmV4dFBvaW50IiwicGVycFgiLCJwZXJwWSIsInBlcnBMZW5ndGgiLCJudW0iLCJERUZBVUxUX0JPUkRFUl9TSVpFIiwiTmluZVNsaWNlUGxhbmUiLCJfUGxhbmUiLCJsZWZ0V2lkdGgiLCJ0b3BIZWlnaHQiLCJyaWdodFdpZHRoIiwiYm90dG9tSGVpZ2h0IiwiX29yaWdXaWR0aCIsIl9vcmlnSGVpZ2h0IiwiX2xlZnRXaWR0aCIsIl9yaWdodFdpZHRoIiwiX3RvcEhlaWdodCIsIl9ib3R0b21IZWlnaHQiLCJ1cGRhdGVIb3Jpem9udGFsVmVydGljZXMiLCJ1cGRhdGVWZXJ0aWNhbFZlcnRpY2VzIiwiYmFzZSIsInRleHR1cmVTb3VyY2UiLCJkcmF3U2VnbWVudCIsInN3Iiwic2giLCJkdyIsImRoIiwiX3V2dyIsIl91dmgiLCJfTWVzaDIiLCJNZXNoU3ByaXRlUmVuZGVyZXIiLCJtZXNoIiwiX3JlbmRlclRyaWFuZ2xlTWVzaCIsIl9yZW5kZXJUcmlhbmdsZXMiLCJfcmVuZGVyRHJhd1RyaWFuZ2xlIiwiaW5kZXgwIiwidGV4dHVyZVdpZHRoIiwidGV4dHVyZUhlaWdodCIsInUwIiwidTEiLCJ1MiIsInYwIiwidjEiLCJ2MiIsInV0IiwiY2VudGVyWCIsImNlbnRlclkiLCJub3JtWCIsIm5vcm1ZIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiY2xvc2VQYXRoIiwiY2xpcCIsImRlbHRhQSIsImRlbHRhQiIsImRlbHRhQyIsImRlbHRhRCIsImRlbHRhRSIsImRlbHRhRiIsInJlbmRlck1lc2hGbGF0IiwibWF0cml4SWRlbnRpdHkiLCJNZXNoUmVuZGVyZXIiLCJnbERhdGEiLCJ1VHJhbnNmb3JtIiwidHJhbnNsYXRpb25NYXRyaXgiLCJfTWVzaFJlbmRlcmVyIiwiX0NhbnZhc01lc2hSZW5kZXJlciIsIl9OaW5lU2xpY2VQbGFuZSIsIl9Sb3BlIiwiX3R5cGVvZiIsImJsb2JNaWRkbGV3YXJlRmFjdG9yeSIsIl9SZXNvdXJjZTIiLCJCbG9iIiwiX3JldCIsImNyZWF0ZU9iamVjdFVSTCIsImJsb2IiLCJyZXZva2VPYmplY3RVUkwiLCJnZXRSZXNwb25zZUhlYWRlciIsIl9iMiIsIlVSTCIsIndlYmtpdFVSTCIsIl9yZXNvdXJjZUxvYWRlcjIiLCJfYmxvYiIsIl90ZXh0dXJlUGFyc2VyMiIsIl9zcHJpdGVzaGVldFBhcnNlcjIiLCJfYml0bWFwRm9udFBhcnNlcjIiLCJfUmVzb3VyY2VMb2FkZXIiLCJfcGl4aU1pZGRsZXdhcmUiLCJ1c2UiLCJvbkVycm9yIiwib25Mb2FkIiwiYWRkUGl4aU1pZGRsZXdhcmUiLCJyZ3hFeHRyYWN0VXJsSGFzaCIsInByb2dyZXNzIiwibG9hZGluZyIsImRlZmF1bHRRdWVyeVN0cmluZyIsIl9iZWZvcmVNaWRkbGV3YXJlIiwiX2FmdGVyTWlkZGxld2FyZSIsIl9yZXNvdXJjZXNQYXJzaW5nIiwiX2JvdW5kTG9hZFJlc291cmNlIiwiX2xvYWRSZXNvdXJjZSIsIl9xdWV1ZSIsIl9wcmVwYXJlVXJsIiwiaW5jb21wbGV0ZUNoaWxkcmVuIiwiZWFjaENodW5rIiwicHJlIiwiX29uU3RhcnQiLCJfb25Db21wbGV0ZSIsImNodW5rIiwicGFyc2VkVXJsIiwiZGVxdWV1ZSIsIl9vbkxvYWQiLCJfdGhpczMiLCJ0ZXh0dXJlUGFyc2VyIiwic3ByaXRlc2hlZXRQYXJzZXIiLCJwYXJzZUJpdG1hcEZvbnREYXRhIiwiYml0bWFwRm9udFBhcnNlciIsIl9iaXRtYXBGb250UGFyc2VyIiwiX3Nwcml0ZXNoZWV0UGFyc2VyIiwiX3RleHR1cmVQYXJzZXIiLCJfQXBwbGljYXRpb24yIiwiX2xvYWRlcjIiLCJBcHBQcm90b3R5cGUiLCJfbG9hZGVyIiwiX3BhcmVudERlc3Ryb3kiLCJfSW50ZXJhY3Rpb25EYXRhMiIsIl9JbnRlcmFjdGlvbkV2ZW50MiIsIl9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIiLCJfaW50ZXJhY3RpdmVUYXJnZXQyIiwiZGVsYXlNaXhpbiIsIk1PVVNFX1BPSU5URVJfSUQiLCJoaXRUZXN0RXZlbnQiLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJhdXRvUHJldmVudERlZmF1bHQiLCJpbnRlcmFjdGlvbkZyZXF1ZW5jeSIsIm1vdXNlIiwiYWN0aXZlSW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25EYXRhUG9vbCIsImV2ZW50RGF0YSIsImludGVyYWN0aW9uRE9NRWxlbWVudCIsIm1vdmVXaGVuSW5zaWRlIiwiZXZlbnRzQWRkZWQiLCJtb3VzZU92ZXJSZW5kZXJlciIsInN1cHBvcnRzVG91Y2hFdmVudHMiLCJzdXBwb3J0c1BvaW50ZXJFdmVudHMiLCJQb2ludGVyRXZlbnQiLCJvblBvaW50ZXJVcCIsInByb2Nlc3NQb2ludGVyVXAiLCJvblBvaW50ZXJDYW5jZWwiLCJwcm9jZXNzUG9pbnRlckNhbmNlbCIsIm9uUG9pbnRlckRvd24iLCJwcm9jZXNzUG9pbnRlckRvd24iLCJvblBvaW50ZXJNb3ZlIiwicHJvY2Vzc1BvaW50ZXJNb3ZlIiwib25Qb2ludGVyT3V0IiwicHJvY2Vzc1BvaW50ZXJPdmVyT3V0Iiwib25Qb2ludGVyT3ZlciIsImN1cnNvclN0eWxlcyIsImN1cnJlbnRDdXJzb3JNb2RlIiwiX3RlbXBQb2ludCIsInNldFRhcmdldEVsZW1lbnQiLCJoaXRUZXN0IiwiZ2xvYmFsUG9pbnQiLCJwcm9jZXNzSW50ZXJhY3RpdmUiLCJlbGVtZW50IiwicmVtb3ZlRXZlbnRzIiwiYWRkRXZlbnRzIiwibXNQb2ludGVyRW5hYmxlZCIsImRlbHRhVGltZSIsIl9kZWx0YVRpbWUiLCJkaWRNb3ZlIiwiaW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25FdmVudCIsImNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCIsInNldEN1cnNvck1vZGUiLCJkaXNwYXRjaEV2ZW50IiwiZXZlbnRTdHJpbmciLCJtYXBQb3NpdGlvblRvUG9pbnQiLCJwYXJlbnRFbGVtZW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVzb2x1dGlvbk11bHRpcGxpZXIiLCJsZWZ0IiwidG9wIiwiZnVuYyIsImhpdCIsImludGVyYWN0aXZlUGFyZW50IiwiaGl0VGVzdENoaWxkcmVuIiwiY2hpbGRIaXQiLCJub3JtYWxpemVUb1BvaW50ZXJEYXRhIiwiaXNOb3JtYWxpemVkIiwiZXZlbnRMZW4iLCJnZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJpc1JpZ2h0QnV0dG9uIiwicmlnaHREb3duIiwibGVmdERvd24iLCJvblBvaW50ZXJDb21wbGV0ZSIsImNhbmNlbGxlZCIsImV2ZW50QXBwZW5kIiwicmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCIsInRyYWNraW5nRGF0YSIsImlzVG91Y2giLCJpc01vdXNlIiwiaXNNb3VzZVRhcCIsImlzRG93biIsIm92ZXIiLCJub25lIiwicG9pbnRlckV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJnbG9iYWxYIiwiZ2xvYmFsWSIsIm5vcm1hbGl6ZWRFdmVudHMiLCJUb3VjaEV2ZW50IiwibGkiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoIiwidG91Y2hlcyIsInJhZGl1c1giLCJyYWRpdXNZIiwiZm9yY2UiLCJsYXllclgiLCJvZmZzZXRYIiwibGF5ZXJZIiwib2Zmc2V0WSIsIk1vdXNlRXZlbnQiLCJfSW50ZXJhY3Rpb25EYXRhIiwiX0ludGVyYWN0aW9uTWFuYWdlciIsIl9pbnRlcmFjdGl2ZVRhcmdldCIsIl9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSIsIl9JbnRlcmFjdGlvbkV2ZW50IiwiQWxwaGFGaWx0ZXIiLCJ1QWxwaGEiLCJDb2xvck1hdHJpeEZpbHRlciIsIl9sb2FkTWF0cml4IiwibmV3TWF0cml4IiwiX211bHRpcGx5IiwiX2NvbG9yTWF0cml4IiwiYnJpZ2h0bmVzcyIsIm11bHRpcGx5IiwiZ3JleXNjYWxlIiwiYmxhY2tBbmRXaGl0ZSIsImh1ZSIsImNvc1IiLCJzaW5SIiwic3FyVyIsImNvbnRyYXN0Iiwic2F0dXJhdGUiLCJkZXNhdHVyYXRlIiwibmVnYXRpdmUiLCJzZXBpYSIsInRlY2huaWNvbG9yIiwicG9sYXJvaWQiLCJ0b0JHUiIsImtvZGFjaHJvbWUiLCJicm93bmkiLCJ2aW50YWdlIiwiY29sb3JUb25lIiwiZGVzYXR1cmF0aW9uIiwidG9uZWQiLCJsaWdodENvbG9yIiwiZGFya0NvbG9yIiwibFIiLCJsRyIsImxCIiwiZFIiLCJkRyIsImRCIiwibmlnaHQiLCJpbnRlbnNpdHkiLCJwcmVkYXRvciIsImxzZCIsImdyYXlzY2FsZSIsIl9CbHVyWEZpbHRlcjIiLCJfQmx1cllGaWx0ZXIyIiwiQmx1ckZpbHRlciIsImJsdXJYRmlsdGVyIiwiYmx1cllGaWx0ZXIiLCJEaXNwbGFjZW1lbnRGaWx0ZXIiLCJtYXBTYW1wbGVyIiwiZmlsdGVyTWF0cml4IiwiTm9pc2VGaWx0ZXIiLCJub2lzZSIsInNlZWQiLCJyYW5kb20iLCJ1Tm9pc2UiLCJ1U2VlZCIsIkZYQUFGaWx0ZXIiLCJfRlhBQUZpbHRlciIsIl9Ob2lzZUZpbHRlciIsIl9EaXNwbGFjZW1lbnRGaWx0ZXIiLCJfQmx1ckZpbHRlciIsIl9CbHVyWEZpbHRlciIsIl9CbHVyWUZpbHRlciIsIl9Db2xvck1hdHJpeEZpbHRlciIsIl9BbHBoYUZpbHRlciIsImdldEdsb2JhbFBvc2l0aW9uIiwiZ2V0Q2hpbGRCeU5hbWUiLCJfdGVtcE1hdHJpeCIsIl9jYWNoZUFzQml0bWFwIiwiX2NhY2hlRGF0YSIsIkNhY2hlRGF0YSIsInRleHR1cmVDYWNoZUlkIiwib3JpZ2luYWxSZW5kZXJXZWJHTCIsIm9yaWdpbmFsUmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMiLCJvcmlnaW5hbEdldExvY2FsQm91bmRzIiwib3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0iLCJvcmlnaW5hbEhpdFRlc3QiLCJvcmlnaW5hbERlc3Ryb3kiLCJvcmlnaW5hbE1hc2siLCJvcmlnaW5hbEZpbHRlckFyZWEiLCJjYWNoZUFzQml0bWFwIiwib3JpZ2luYWxDb250YWluc1BvaW50IiwiX3JlbmRlckNhY2hlZFdlYkdMIiwiX3JlbmRlckNhY2hlZENhbnZhcyIsIl9jYWNoZUFzQml0bWFwRGVzdHJveSIsIl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCIsImNhY2hlQWxwaGEiLCJjYWNoZWRSZW5kZXJUYXJnZXQiLCJzdGFjayIsImZpbHRlclN0YWNrIiwiY2FjaGVkU3ByaXRlIiwiX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyIsIl9nZXRDYWNoZWRMb2NhbEJvdW5kcyIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyIsIl9PYnNlcnZhYmxlUG9pbnQyIiwiX3RleHRXaWR0aCIsIl90ZXh0SGVpZ2h0IiwiX2dseXBocyIsIl9mb250IiwiX3RleHQiLCJfbWF4V2lkdGgiLCJfbWF4TGluZUhlaWdodCIsImZvbnRzIiwiY2hhcnMiLCJ0ZXh0TGVuZ3RoIiwibWF4V2lkdGgiLCJwcmV2Q2hhckNvZGUiLCJsYXN0TGluZVdpZHRoIiwibGFzdEJyZWFrUG9zIiwibGFzdEJyZWFrV2lkdGgiLCJzcGFjZXNSZW1vdmVkIiwibWF4TGluZUhlaWdodCIsImNoYXJDb2RlIiwiY2hhckRhdGEiLCJrZXJuaW5nIiwieE9mZnNldCIsInlPZmZzZXQiLCJ4QWR2YW5jZSIsImxpbmVBbGlnbk9mZnNldHMiLCJhbGlnbk9mZnNldCIsImxlbkNoYXJzIiwiX2k0IiwidmFsaWRhdGUiLCJpbmZvIiwiY29tbW9uIiwicGFnZXNUZXh0dXJlcyIsInBhcnNlSW50IiwibGV0dGVycyIsIl9pNSIsImxldHRlciIsInRleHR1cmVSZWN0Iiwia2VybmluZ3MiLCJfaTYiLCJmaXJzdCIsInNlY29uZCIsInNpbXBsZVNoYWRlciIsInF1YWQiLCJ0cyIsInV2UmVzcGVjdEFuY2hvciIsImJhc2VUZXgiLCJ0aWxlVHJhbnNmb3JtIiwidXYiLCJ1dlRyYW5zZm9ybSIsImlzU2ltcGxlIiwiSCIsInVNYXBDb29yZCIsIl9DYW52YXNUaW50ZXIyIiwiX2NvcmUkU3ByaXRlIiwiX2NhbnZhc1BhdHRlcm4iLCJiYXNlVGV4dHVyZVJlc29sdXRpb24iLCJtb2RYIiwidGlsZVBvc2l0aW9uIiwidGlsZVNjYWxlIiwibW9kWSIsInRlbXBDYW52YXMiLCJ0aW50ZWRUZXh0dXJlIiwiY3JlYXRlUGF0dGVybiIsImFuY2hvclgiLCJhbmNob3JZIiwiX2R1cmF0aW9ucyIsImFuaW1hdGlvblNwZWVkIiwibG9vcCIsIm9uRnJhbWVDaGFuZ2UiLCJvbkxvb3AiLCJfY3VycmVudFRpbWUiLCJwbGF5aW5nIiwiZ290b0FuZFN0b3AiLCJmcmFtZU51bWJlciIsInByZXZpb3VzRnJhbWUiLCJjdXJyZW50RnJhbWUiLCJnb3RvQW5kUGxheSIsImVsYXBzZWQiLCJsYWciLCJmcm9tRnJhbWVzIiwiZnJvbUltYWdlcyIsImltYWdlcyIsInRpbWUiLCJURU1QX1JFQ1QiLCJDYW52YXNFeHRyYWN0IiwiZXh0cmFjdCIsImNhbnZhc0J1ZmZlciIsImNhbnZhc0RhdGEiLCJXZWJHTEV4dHJhY3QiLCJ0ZXh0dXJlQnVmZmVyIiwiZmxpcFkiLCJnZW5lcmF0ZWQiLCJ3ZWJnbFBpeGVscyIsIlVpbnQ4QXJyYXkiLCJyZWFkUGl4ZWxzIiwiX1dlYkdMRXh0cmFjdCIsIl9DYW52YXNFeHRyYWN0IiwiX2lzbW9iaWxlanMyIiwiX2FjY2Vzc2libGVUYXJnZXQyIiwiRElWX1RPVUNIX1NJWkUiLCJESVZfVE9VQ0hfUE9TX1giLCJESVZfVE9VQ0hfUE9TX1kiLCJESVZfVE9VQ0hfWklOREVYIiwiQWNjZXNzaWJpbGl0eU1hbmFnZXIiLCJjcmVhdGVUb3VjaEhvb2siLCJ6SW5kZXgiLCJwb29sIiwicmVuZGVySWQiLCJkZWJ1ZyIsIl9vbktleURvd24iLCJfb25Nb3VzZU1vdmUiLCJpc0FjdGl2ZSIsImlzTW9iaWxlQWNjZXNzYWJpbGxpdHkiLCJob29rRGl2IiwiRElWX0hPT0tfU0laRSIsIkRJVl9IT09LX1BPU19YIiwiRElWX0hPT0tfUE9TX1kiLCJ0aXRsZSIsImRlYWN0aXZhdGUiLCJ1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyIsImNhcEhpdEFyZWEiLCJib3JkZXJTdHlsZSIsIl9vbkNsaWNrIiwiX29uRm9jdXMiLCJfb25Gb2N1c091dCIsImludGVyYWN0aW9uTWFuYWdlciIsImludGVyYWN0aW9uIiwia2V5Q29kZSIsIm1vdmVtZW50WCIsIm1vdmVtZW50WSIsIl9hY2Nlc3NpYmxlVGFyZ2V0IiwiX0FjY2Vzc2liaWxpdHlNYW5hZ2VyIiwicGFydGljbGVzIiwiZXh0cmFzIiwibG9hZGVycyIsIlNwcml0ZUJhdGNoIiwiQXNzZXRMb2FkZXIiLCJTdGFnZSIsIkRpc3BsYXlPYmplY3RDb250YWluZXIiLCJTdHJpcCIsIk1vdmllQ2xpcCIsInNjYWxlTW9kZXMiLCJtYXRoIiwiQWJzdHJhY3RGaWx0ZXIiLCJUcmFuc2Zvcm1NYW51YWwiLCJERUZBVUxUX1JFTkRFUl9PUFRJT05TIiwiZGVmYXVsdHMiLCJfbG9vcCIsImRlcHJlY2F0aW9uIiwiVGV4dHVyZVRyYW5zZm9ybSIsImdlbmVyYXRlQ2FudmFzVGV4dHVyZSIsImlzU3dhcFdpZHRoSGVpZ2h0IiwiZ2V0SW1hZ2UiLCJnZXRCYXNlNjQiLCJnZXRDYW52YXMiLCJnZXRQaXhlbHMiLCJzZXRUZXh0dXJlIiwic2V0VGV4dCIsImNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzIiwiZm9udFByb3BlcnRpZXNDYWNoZSIsImZvbnRQcm9wZXJ0aWVzQ2FudmFzIiwiZm9udFByb3BlcnRpZXNDb250ZXh0Iiwic2V0U3R5bGUiLCJkZXRlcm1pbmVGb250UHJvcGVydGllcyIsImdldEZvbnRTdHlsZSIsInNwbGl0cyIsImZvbnRTaXplSW5kZXgiLCJhZGRUZXh0dXJlVG9DYWNoZSIsInJlbW92ZVRleHR1cmVGcm9tQ2FjaGUiLCJWb2lkRmlsdGVyIiwidXVpZCIsImNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMiLCJyZWdpc3RlciIsIk5hTiIsIndlYmdsIiwiaXNKc29uIiwiaXNYbWwiLCJpc0ltYWdlIiwiaXNBdWRpbyIsImlzVmlkZW8iLCJiZWZvcmUiLCJhZnRlciIsImludGVyYWN0aXZlVGFyZ2V0Iiwid2FybmluZ3MiLCJtc2ciLCJncm91cENvbGxhcHNlZCIsImdyb3VwRW5kIiwiXyIsInJlc29sdXRpb25GaWxlbmFtZSIsIl91cGRhdGVSZXNvbHV0aW9uIiwiX2ZyYW1lcyIsIl9mcmFtZUtleXMiLCJfYmF0Y2hJbmRleCIsIl9jYWxsYmFjayIsIkJBVENIX1NJWkUiLCJfcHJvY2Vzc0ZyYW1lcyIsIl9wYXJzZUNvbXBsZXRlIiwiX25leHRCYXRjaCIsImluaXRpYWxGcmFtZUluZGV4IiwiZnJhbWVJbmRleCIsIm1heEZyYW1lcyIsInNvdXJjZVNpemUiLCJ0cmltbWVkIiwicm90YXRlZCIsInNwcml0ZVNvdXJjZVNpemUiLCJfcHJldlRpbnQiLCJ1cGRhdGVHcmFwaGljc1RpbnQiLCJyZW5kZXJQb2x5Z29uIiwiY2xvc2VkIiwic3Ryb2tlU3R5bGUiLCJzdHJva2VSZWN0IiwiYXJjIiwicmFkaXVzIiwib3giLCJveSIsInhlIiwieWUiLCJ4bSIsInltIiwiYmV6aWVyQ3VydmVUbyIsInJ4IiwicnkiLCJtYXhSYWRpdXMiLCJxdWFkcmF0aWNDdXJ2ZVRvIiwidGludFIiLCJ0aW50RyIsInRpbnRCIiwiY2xvc2UiLCJjaXJjbGVEYXRhIiwidG90YWxTZWdzIiwic2VnIiwidmVjUG9zIiwidGVtcFBvaW50cyIsIl9idWlsZExpbmUyIiwicnJlY3REYXRhIiwicmVjUG9pbnRzIiwicXVhZHJhdGljQmV6aWVyQ3VydmUiLCJnZXRQdCIsIm4xIiwibjIiLCJwZXJjIiwiZnJvbVgiLCJmcm9tWSIsImNwWCIsImNwWSIsInRvWCIsInRvWSIsInhhIiwieWEiLCJ4YiIsInliIiwicmVjdERhdGEiLCJ2ZXJ0UG9zIiwiaG9sZUFycmF5IiwiUHJpbWl0aXZlU2hhZGVyIiwiV2ViR0xHcmFwaGljc0RhdGEiLCJhdHRyaWJzU3RhdGUiLCJnbFBvaW50cyIsImdsSW5kaWNlcyIsIl9PYmplY3RSZW5kZXJlcjMiLCJfV2ViR0xHcmFwaGljc0RhdGEyIiwiX1ByaW1pdGl2ZVNoYWRlcjIiLCJfYnVpbGRQb2x5MiIsIl9idWlsZFJlY3RhbmdsZTIiLCJfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlMiIsIl9idWlsZENpcmNsZTIiLCJncmFwaGljc0RhdGFQb29sIiwicHJpbWl0aXZlU2hhZGVyIiwid2ViR0wiLCJzaGFkZXJUZW1wIiwiZHJhd0FycmF5cyIsImxhc3RJbmRleCIsImdldFdlYkdMRGF0YSIsImNwWDIiLCJjcFkyIiwiZHQiLCJkdDIiLCJkdDMiLCJ0MiIsInQzIiwiX0dyYXBoaWNzRGF0YTIiLCJfU3ByaXRlMiIsIl9iZXppZXJDdXJ2ZVRvMyIsImNhbnZhc1JlbmRlcmVyIiwidGVtcENvbG9yMSIsInRlbXBDb2xvcjIiLCJjdXJyZW50UGF0aCIsImJvdW5kc1BhZGRpbmciLCJfbG9jYWxCb3VuZHMiLCJmYXN0UmVjdERpcnR5IiwiYm91bmRzRGlydHkiLCJjYWNoZWRTcHJpdGVEaXJ0eSIsIl9zcHJpdGVSZWN0IiwiX2Zhc3RSZWN0IiwidXBkYXRlTG9jYWxCb3VuZHMiLCJfcXVhZHJhdGljQ3VydmVMZW5ndGgiLCJhMzIiLCJiYSIsIl9iZXppZXJDdXJ2ZUxlbmd0aCIsIm50IiwibnQyIiwibnQzIiwicHJldlgiLCJwcmV2WSIsIl9zZWdtZW50c0NvdW50IiwiQ1VSVkVTIiwibWF4TGVuZ3RoIiwibWluU2VnbWVudHMiLCJtYXhTZWdtZW50cyIsImxpbmVTdHlsZSIsImFsaWdubWVudCIsImRyYXdTaGFwZSIsImFkYXB0aXZlIiwiYXJjVG8iLCJtbSIsImRkIiwidHQiLCJrMSIsImsyIiwiajEiLCJqMiIsInF5Iiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiYW50aWNsb2Nrd2lzZSIsInN3ZWVwIiwic2VncyIsInN0YXJ0WCIsInN0YXJ0WSIsInRoZXRhIiwidGhldGEyIiwiY1RoZXRhIiwic1RoZXRhIiwic2VnTWludXMiLCJyZW1haW5kZXIiLCJiZWdpbkZpbGwiLCJmaWxsaW5nIiwiZW5kRmlsbCIsImRyYXdSZWN0IiwiZHJhd1JvdW5kZWRSZWN0IiwiUm91bmRlZFJlY3RhbmdsZSIsImRyYXdDaXJjbGUiLCJDaXJjbGUiLCJkcmF3RWxsaXBzZSIsIkVsbGlwc2UiLCJkcmF3UG9seWdvbiIsImRyYXdTdGFyIiwiaW5uZXJSYWRpdXMiLCJwb2x5Z29uIiwiaXNGYXN0UmVjdCIsIl9yZW5kZXJTcHJpdGVSZWN0IiwidDEiLCJsYiIsInJ3IiwicmgiLCJfU1BSSVRFX1RFWFRVUkUiLCJib3VuZCIsInJpZ2h0IiwiYm90dG9tIiwiX1Nwcml0ZTMiLCJfVGV4dFN0eWxlMiIsIl9UZXh0TWV0cmljczIiLCJfdHJpbUNhbnZhczIiLCJkZWZhdWx0RGVzdHJveU9wdGlvbnMiLCJfc3R5bGUiLCJfc3R5bGVMaXN0ZW5lciIsImxvY2FsU3R5bGVJRCIsInJlc3BlY3REaXJ0eSIsIm1lYXN1cmVkIiwibGluZVBvc2l0aW9uWCIsImxpbmVQb3NpdGlvblkiLCJzaGFkb3dCbHVyIiwic2hhZG93Q29sb3IiLCJ4U2hhZG93T2Zmc2V0IiwieVNoYWRvd09mZnNldCIsImRyYXdMZXR0ZXJTcGFjaW5nIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiaXNTdHJva2UiLCJTdHJpbmciLCJjdXJyZW50UG9zaXRpb24iLCJjdXJyZW50Iiwic3Ryb2tlVGV4dCIsIl9vblN0eWxlQ2hhbmdlIiwiZ3JhZGllbnQiLCJ0b3RhbEl0ZXJhdGlvbnMiLCJjdXJyZW50SXRlcmF0aW9uIiwibGVuZ3RoUGx1czEiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsIkJ1ZmZlciIsImZsb2F0MzJWaWV3IiwidWludDMyVmlldyIsInBvc2l0aW9ucyIsIm1heElmcyIsImNyZWF0ZVRlbXBDb250ZXh0IiwidGlueUNhbnZhcyIsImdlbmVyYXRlSWZUZXN0U3JjIiwiZ2VuZXJhdGVTYW1wbGVTcmMiLCJfU2hhZGVyMiIsInNhbXBsZVZhbHVlcyIsInVTYW1wbGVycyIsIk9ORSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJEU1RfQUxQSEEiLCJEU1RfQ09MT1IiLCJPTkVfTUlOVVNfU1JDX0NPTE9SIiwiU1JDX0FMUEhBIiwiX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aTIiLCJXZWJHTFN0YXRlIiwiYWN0aXZlU3RhdGUiLCJkZWZhdWx0U3RhdGUiLCJzdGFja0luZGV4IiwibWF4QXR0cmlicyIsIk1BWF9WRVJURVhfQVRUUklCUyIsIm5hdGl2ZVZhb0V4dGVuc2lvbiIsInNldFN0YXRlIiwic2V0QmxlbmQiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJzZXRDdWxsRmFjZSIsIkJMRU5EIiwiYmxlbmRGdW5jIiwiYmxlbmRGdW5jU2VwYXJhdGUiLCJERVBUSF9URVNUIiwiQ1VMTF9GQUNFIiwiZnJvbnRGYWNlIiwicmVzZXRBdHRyaWJ1dGVzIiwiYmluZFZlcnRleEFycmF5T0VTIiwiVU5QQUNLX0ZMSVBfWV9XRUJHTCIsIlRleHR1cmVHYXJiYWdlQ29sbGVjdG9yIiwiY2hlY2tDb3VudCIsIm1heElkbGUiLCJjaGVja0NvdW50TWF4IiwicnVuIiwidG0iLCJtYW5hZ2VkVGV4dHVyZXMiLCJfbWFuYWdlZFRleHR1cmVzIiwid2FzUmVtb3ZlZCIsImRlc3Ryb3lUZXh0dXJlIiwidW5sb2FkIiwiVGV4dHVyZU1hbmFnZXIiLCJnZXRUZXh0dXJlIiwiaXNSZW5kZXJUZXh0dXJlIiwic2tpcFJlbW92ZSIsImdsVGV4dHVyZXMiLCJnbFJlbmRlclRhcmdldHMiLCJjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCIsIm91dHB1dE1hdHJpeCIsInRleHR1cmVTaXplIiwibWFwcGVkTWF0cml4IiwiY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4IiwidHJhbnNsYXRlU2NhbGVYIiwidHJhbnNsYXRlU2NhbGVZIiwiVEVNUF9NQVRSSVgiLCJfV2ViR0xNYW5hZ2VyMyIsIl9RdWFkMiIsImZpbHRlclRyYW5zZm9ybXMiLCJGaWx0ZXJTdGF0ZSIsIkZpbHRlck1hbmFnZXIiLCJzaGFkZXJDYWNoZSIsIm1hbmFnZWRGaWx0ZXJzIiwib25QcmVyZW5kZXIiLCJfc2NyZWVuV2lkdGgiLCJfc2NyZWVuSGVpZ2h0IiwiZmlsdGVyU3RhdGUiLCJyZW5kZXJUYXJnZXRGcmFtZSIsImZ1bGxTY3JlZW4iLCJ0YXJnZXRCb3VuZHMiLCJnZXRQb3RSZW5kZXJUYXJnZXQiLCJsYXN0U3RhdGUiLCJmcmVlUG90UmVuZGVyVGFyZ2V0Iiwic2Npc3NvclJlbmRlclRhcmdldCIsInB1c2hTY2lzc29yTWFzayIsInNjaXNzb3JEYXRhIiwic3luY1VuaWZvcm1zIiwidGV4dHVyZUNvdW50IiwiZmlsdGVyQ2xhbXAiLCJjb250ZXh0TG9zdCIsImVtcHR5UG9vbCIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwiU3RlbmNpbE1hbmFnZXIiLCJTVEVOQ0lMX1RFU1QiLCJwdXNoU3RlbmNpbCIsInByZXZNYXNrQ291bnQiLCJjb2xvck1hc2siLCJzdGVuY2lsRnVuYyIsIkVRVUFMIiwiX2dldEJpdHdpc2VNYXNrIiwic3RlbmNpbE9wIiwiS0VFUCIsIklOQ1IiLCJfdXNlQ3VycmVudCIsInBvcFN0ZW5jaWwiLCJTVEVOQ0lMX0JVRkZFUl9CSVQiLCJjbGVhclN0ZW5jaWwiLCJERUNSIiwic3RlbmNpbFN0YWNrIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluUXVldWUiLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibm9vcCIsIm5leHRUaWNrIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwiYmluZGluZyIsImNoZGlyIiwidW1hc2siLCJ2ZXJ0VW5pZm9ybXMiLCJleHRyYWN0VW5pZm9ybXNGcm9tU3RyaW5nIiwiZnJhZ1VuaWZvcm1zIiwic3RyaW5nIiwibWFza1JlZ2V4IiwibmFtZVNwbGl0Iiwic3BsaXRMaW5lIiwiX1Nwcml0ZU1hc2tGaWx0ZXIyIiwiTWFza01hbmFnZXIiLCJlbmFibGVTY2lzc29yIiwiYWxwaGFNYXNrUG9vbCIsImFscGhhTWFza0luZGV4IiwibWFza0RhdGEiLCJwdXNoU3ByaXRlTWFzayIsInJvdCIsInB1c2hTdGVuY2lsTWFzayIsInBvcFNwcml0ZU1hc2siLCJwb3BTY2lzc29yTWFzayIsInBvcFN0ZW5jaWxNYXNrIiwiYWxwaGFNYXNrRmlsdGVyIiwiX2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyMiIsIl9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIyIiwiX0JhdGNoQnVmZmVyMiIsIlRJQ0siLCJURVhUVVJFX1RJQ0siLCJ2ZXJ0U2l6ZSIsInZlcnRCeXRlU2l6ZSIsImdyb3VwcyIsImlkcyIsImJsZW5kIiwic3ByaXRlcyIsInZlcnRleEJ1ZmZlcnMiLCJ2YW9zIiwidmFvTWF4IiwidmVydGV4Q291bnQiLCJNQVhfVEVYVFVSRVMiLCJhdHRycyIsIlVOU0lHTkVEX1NIT1JUIiwiYVRleHR1cmVJZCIsImN1cnJlbnRCbGVuZE1vZGUiLCJucDIiLCJyZW5kZXJlckJvdW5kVGV4dHVyZXMiLCJuZXh0VGV4dHVyZSIsImN1cnJlbnRUZXh0dXJlIiwiZ3JvdXBDb3VudCIsImN1cnJlbnRHcm91cCIsImJ0Iiwic3ByaXRlQmxlbmRNb2RlIiwidEluZGV4IiwiZ3JvdXAiLCJncm91cFRleHR1cmVDb3VudCIsImRyYXdFbGVtZW50cyIsIl9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMiIsIkNhbnZhc01hc2tNYW5hZ2VyIiwicmVuZGVyR3JhcGhpY3NTaGFwZSIsImNhbnZhc1JlbmRlcldvcmxkVHJhbnNmb3JtIiwic21vb3RoaW5nRW5hYmxlZCIsIlRpY2tlckxpc3RlbmVyIiwicHJpb3JpdHkiLCJwcmV2aW91cyIsInJlZGlyZWN0IiwiY29ubmVjdCIsImhhcmQiLCJfVGlja2VyTGlzdGVuZXIyIiwiX3JlcXVlc3RJZCIsIl9tYXhFbGFwc2VkTVMiLCJlbGFwc2VkTVMiLCJsYXN0VGltZSIsInNwZWVkIiwiX3RpY2siLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfcmVxdWVzdElmTmVlZGVkIiwicGVyZm9ybWFuY2UiLCJfY2FuY2VsSWZOZWVkZWQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIl9zdGFydElmUG9zc2libGUiLCJfYWRkTGlzdGVuZXIiLCJoZWFkIiwiZnBzIiwibWluRlBNUyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsImlzRmluaXRlIiwiZXEiLCJvYmplY3RLZXlzIiwia3MiLCJxcyIsInJlZ2V4cCIsIm1heEtleXMiLCJrc3RyIiwidnN0ciIsImRlY29kZSIsImVuY29kZSIsImFyZyIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsIm5vZGVUeXBlIiwiZnJlZUdsb2JhbCIsIm1heEludCIsInRNaW4iLCJ0TWF4IiwiZGFtcCIsImluaXRpYWxCaWFzIiwiaW5pdGlhbE4iLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsImVycm9ycyIsIm92ZXJmbG93Iiwibm90LWJhc2ljIiwiaW52YWxpZC1pbnB1dCIsImJhc2VNaW51c1RNaW4iLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJmcm9tQ2hhckNvZGUiLCJtYXBEb21haW4iLCJ1Y3MyZGVjb2RlIiwiZXh0cmEiLCJjb3VudGVyIiwidWNzMmVuY29kZSIsImJhc2ljVG9EaWdpdCIsImNvZGVQb2ludCIsImRpZ2l0VG9CYXNpYyIsImRpZ2l0IiwiYWRhcHQiLCJudW1Qb2ludHMiLCJmaXJzdFRpbWUiLCJiYXNpYyIsIm9sZGkiLCJiYXNlTWludXNUIiwiaW5wdXRMZW5ndGgiLCJiaWFzIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsImN1cnJlbnRWYWx1ZSIsImhhbmRsZWRDUENvdW50UGx1c09uZSIsInFNaW51c1QiLCJ1Y3MyIiwidG9Vbmljb2RlIiwibnBtIiwic3RhcnRJZHgiLCJyZW1vdmVDb3VudCIsInByb3BlcnR5TmFtZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInBlcmZvcm1NaXhpbnMiLCJfX3BsdWdpbnMiLCJjdG9yIiwicGxhdGZvcm0iLCJjb21waWxlUHJvZ3JhbSIsImV4dHJhY3RBdHRyaWJ1dGVzIiwiZXh0cmFjdFVuaWZvcm1zIiwiZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0Iiwic2V0UHJlY2lzaW9uIiwibmF0aXZlU3RhdGUiLCJuYXRpdmVWYW8iLCJjcmVhdGVWZXJ0ZXhBcnJheU9FUyIsImxhc3RCdWZmZXIiLCJnZXRTaXplIiwiZGVsZXRlVmVydGV4QXJyYXlPRVMiLCJGcmFtZWJ1ZmZlciIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiZW5hYmxlVGV4dHVyZSIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiRlJBTUVCVUZGRVIiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsImNyZWF0ZVJlbmRlcmJ1ZmZlciIsImJpbmRSZW5kZXJidWZmZXIiLCJSRU5ERVJCVUZGRVIiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsInJlbmRlcmJ1ZmZlclN0b3JhZ2UiLCJERVBUSF9TVEVOQ0lMIiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJiaW5kRnJhbWVidWZmZXIiLCJkZWxldGVGcmFtZWJ1ZmZlciIsImZibyIsImNyZWF0ZUZsb2F0MzIiLCJFTVBUWV9BUlJBWV9CVUZGRVIiLCJkcmF3VHlwZSIsImNyZWF0ZUJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsImRvbnRCaW5kIiwiYnl0ZUxlbmd0aCIsImJ1ZmZlclN1YkRhdGEiLCJidWZmZXJEYXRhIiwiYmluZEJ1ZmZlciIsIkVMRU1FTlRfQVJSQVlfQlVGRkVSIiwicmFkaXVzMiIsIl9rZXkiLCJpbCIsInhpIiwieWkiLCJ4aiIsInlqIiwiX1JlY3RhbmdsZTIiLCJub3JteCIsIm5vcm15IiwiaXNOYU4iLCJnZXRUaW1lIiwic3RhcnRUaW1lIiwidmVuZG9ycyIsImRlbGF5IiwicHJvcElzRW51bWVyYWJsZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidGVzdDEiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwidGVzdDIiLCJ0ZXN0MyIsInNob3VsZFVzZU5hdGl2ZSIsInN5bWJvbHMiLCJ0b09iamVjdCIsIl9vYmplY3RBc3NpZ24yIiwibG9hZGVyIiwiYWNjZXNzaWJpbGl0eSIsIl9wb2x5ZmlsbCIsIl9kZXByZWNhdGlvbjIiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUs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QWlFLEVBQUEsR0FBQWpFLEVBQUEsR0FBQWlFLEVBQUEsR0FBQWpFLEVBQUEsSUFBQWlFLEVBQUEsR0FBQWpFLEVBQUEsSUFBQWlFLEVBQUEsR0FHQXBtQixFQUFBLEdBQUFvbUIsRUFBQSxHQUFBakUsRUFBQSxHQUFBaUUsRUFBQSxHQUFBakUsRUFBQSxHQUFBaUUsRUFBQSxHQUFBakUsRUFBQSxJQUFBaUUsRUFBQSxHQUFBakUsRUFBQSxJQUNBbmlCLEVBQUEsR0FBQW9tQixFQUFBLEdBQUFqRSxFQUFBLEdBQUFpRSxFQUFBLEdBQUFqRSxFQUFBLEdBQUFpRSxFQUFBLEdBQUFqRSxFQUFBLElBQUFpRSxFQUFBLEdBQUFqRSxFQUFBLElBQ0FuaUIsRUFBQSxHQUFBb21CLEVBQUEsR0FBQWpFLEVBQUEsR0FBQWlFLEVBQUEsR0FBQWpFLEVBQUEsR0FBQWlFLEVBQUEsR0FBQWpFLEVBQUEsSUFBQWlFLEVBQUEsR0FBQWpFLEVBQUEsSUFDQW5pQixFQUFBLEdBQUFvbUIsRUFBQSxHQUFBakUsRUFBQSxHQUFBaUUsRUFBQSxHQUFBakUsRUFBQSxHQUFBaUUsRUFBQSxHQUFBakUsRUFBQSxJQUFBaUUsRUFBQSxHQUFBakUsRUFBQSxJQUNBbmlCLEVBQUEsR0FBQW9tQixFQUFBLEdBQUFqRSxFQUFBLEdBQUFpRSxFQUFBLEdBQUFqRSxFQUFBLEdBQUFpRSxFQUFBLEdBQUFqRSxFQUFBLElBQUFpRSxFQUFBLEdBQUFqRSxFQUFBLElBQUFpRSxFQUFBLEdBR0FwbUIsRUFBQSxJQUFBb21CLEVBQUEsSUFBQWpFLEVBQUEsR0FBQWlFLEVBQUEsSUFBQWpFLEVBQUEsR0FBQWlFLEVBQUEsSUFBQWpFLEVBQUEsSUFBQWlFLEVBQUEsSUFBQWpFLEVBQUEsSUFDQW5pQixFQUFBLElBQUFvbUIsRUFBQSxJQUFBakUsRUFBQSxHQUFBaUUsRUFBQSxJQUFBakUsRUFBQSxHQUFBaUUsRUFBQSxJQUFBakUsRUFBQSxJQUFBaUUsRUFBQSxJQUFBakUsRUFBQSxJQUNBbmlCLEVBQUEsSUFBQW9tQixFQUFBLElBQUFqRSxFQUFB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QUEsS0FNQXFrRSxFQUFBdDNELEVBRkEvTSxFQUFBLEtBSUEsU0FBQStNLEVBQUFJLEdBQXVDLEdBQUFBLEtBQUEzTCxXQUE2QixPQUFBMkwsRUFBcUIsSUFBQUMsS0FBaUIsU0FBQUQsRUFBbUIsUUFBQXhMLEtBQUF3TCxFQUF1QnJNLE9BQUFrQixVQUFBQyxlQUFBMUIsS0FBQTRNLEVBQUF4TCxLQUFBeUwsRUFBQXpMLEdBQUF3TCxFQUFBeEwsSUFBc0csT0FBdEJ5TCxFQUFBekMsUUFBQXdDLEVBQXNCQyxFQUsxUDZzQyxFQUFBejNDLE1BQUFpTCxPQUFBODZGLGdCQWVBLElBQUFxRSxFQUFBMWxCLEVBQUF6dEQsUUFBQSxLQUVBdjVCLEVBQUEyc0csZ0JBQ0Ezc0csRUFBQStqRixVQUNBL2pGLEVBQUErbUYsU0FDQS9tRixFQUFBeXVCLFVBQ0F6dUIsRUFBQXdtRixjQUNBeG1GLEVBQUFnbkYsVUFDQWhuRixFQUFBa3NFLE9BQ0Fsc0UsRUFBQThtRixZQUNBOW1GLEVBQUFta0UsVUFDQW5rRSxFQUFBMHNHLFNBSUEsbUJBQUFHLEVBQUFwaUcsVUFDQSxFQUFBb2lHLEVBQUFwaUcsU0FBQXpLLEdBSUFneEMsRUFBQTN1QyxLQUFBckMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0ICdwaXhpLmpzJztcclxuXHJcbmNsYXNzIE1haW4ge1xyXG4gICAgcHJpdmF0ZSB0eXBlID0gXCJXZWJHTFwiO1xyXG4gICAgcHJpdmF0ZSBhcHA6IFBJWEkuQXBwbGljYXRpb247XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIGlmICghUElYSS51dGlscy5pc1dlYkdMU3VwcG9ydGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy50eXBlID0gXCJjYW52YXNcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgUElYSS51dGlscy5zYXlIZWxsbyh0aGlzLnR5cGUpO1xyXG4gICAgICAgIHRoaXMuYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oe3dpZHRoOiAyNTYsIGhlaWdodDogMjU2fSk7XHJcbiAgICAgICAgdGhpcy5hcHAucmVuZGVyZXIuYmFja2dyb3VuZENvbG9yID0gMHgwNjE2Mzk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXQoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmFwcC52aWV3KTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbWFpbiA9IG5ldyBNYWluKCk7XHJcbm1haW4uaW5pdCgpO1xyXG5cclxuXHJcblxyXG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vKipcbiAqIFN0cmluZyBvZiB0aGUgY3VycmVudCBQSVhJIHZlcnNpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgVkVSU0lPTlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIFZFUlNJT04gPSBleHBvcnRzLlZFUlNJT04gPSAnNC44LjEnO1xuXG4vKipcbiAqIFR3byBQaS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgUElfMiA9IGV4cG9ydHMuUElfMiA9IE1hdGguUEkgKiAyO1xuXG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIHJhZGlhbnMgdG8gZGVncmVlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgUkFEX1RPX0RFRyA9IGV4cG9ydHMuUkFEX1RPX0RFRyA9IDE4MCAvIE1hdGguUEk7XG5cbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgZGVncmVlcyB0byByYWRpYW5zLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBERUdfVE9fUkFEID0gZXhwb3J0cy5ERUdfVE9fUkFEID0gTWF0aC5QSSAvIDE4MDtcblxuLyoqXG4gKiBDb25zdGFudCB0byBpZGVudGlmeSB0aGUgUmVuZGVyZXIgVHlwZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG52YXIgUkVOREVSRVJfVFlQRSA9IGV4cG9ydHMuUkVOREVSRVJfVFlQRSA9IHtcbiAgVU5LTk9XTjogMCxcbiAgV0VCR0w6IDEsXG4gIENBTlZBUzogMlxufTtcblxuLyoqXG4gKiBWYXJpb3VzIGJsZW5kIG1vZGVzIHN1cHBvcnRlZCBieSBQSVhJLlxuICpcbiAqIElNUE9SVEFOVCAtIFRoZSBXZWJHTCByZW5kZXJlciBvbmx5IHN1cHBvcnRzIHRoZSBOT1JNQUwsIEFERCwgTVVMVElQTFkgYW5kIFNDUkVFTiBibGVuZCBtb2Rlcy5cbiAqIEFueXRoaW5nIGVsc2Ugd2lsbCBzaWxlbnRseSBhY3QgbGlrZSBOT1JNQUwuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQkxFTkRfTU9ERVNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREXG4gKiBAcHJvcGVydHkge251bWJlcn0gTVVMVElQTFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPVkVSTEFZXG4gKiBAcHJvcGVydHkge251bWJlcn0gREFSS0VOXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElHSFRFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0RPREdFXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfQlVSTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBUkRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTT0ZUX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRElGRkVSRU5DRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVYQ0xVU0lPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhVRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNBVFVSQVRJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOT1NJVFlcbiAqL1xudmFyIEJMRU5EX01PREVTID0gZXhwb3J0cy5CTEVORF9NT0RFUyA9IHtcbiAgTk9STUFMOiAwLFxuICBBREQ6IDEsXG4gIE1VTFRJUExZOiAyLFxuICBTQ1JFRU46IDMsXG4gIE9WRVJMQVk6IDQsXG4gIERBUktFTjogNSxcbiAgTElHSFRFTjogNixcbiAgQ09MT1JfRE9ER0U6IDcsXG4gIENPTE9SX0JVUk46IDgsXG4gIEhBUkRfTElHSFQ6IDksXG4gIFNPRlRfTElHSFQ6IDEwLFxuICBESUZGRVJFTkNFOiAxMSxcbiAgRVhDTFVTSU9OOiAxMixcbiAgSFVFOiAxMyxcbiAgU0FUVVJBVElPTjogMTQsXG4gIENPTE9SOiAxNSxcbiAgTFVNSU5PU0lUWTogMTYsXG4gIE5PUk1BTF9OUE06IDE3LFxuICBBRERfTlBNOiAxOCxcbiAgU0NSRUVOX05QTTogMTlcbn07XG5cbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgRFJBV19NT0RFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0lOVFNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfTE9PUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX0ZBTlxuICovXG52YXIgRFJBV19NT0RFUyA9IGV4cG9ydHMuRFJBV19NT0RFUyA9IHtcbiAgUE9JTlRTOiAwLFxuICBMSU5FUzogMSxcbiAgTElORV9MT09QOiAyLFxuICBMSU5FX1NUUklQOiAzLFxuICBUUklBTkdMRVM6IDQsXG4gIFRSSUFOR0xFX1NUUklQOiA1LFxuICBUUklBTkdMRV9GQU46IDZcbn07XG5cbi8qKlxuICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFfSBzY2FsZSBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgc2NhbGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBMSU5FQVIgb3IgTkVBUkVTVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgU0NBTEVfTU9ERVNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSIFNtb290aCBzY2FsaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gTkVBUkVTVCBQaXhlbGF0aW5nIHNjYWxpbmdcbiAqL1xudmFyIFNDQUxFX01PREVTID0gZXhwb3J0cy5TQ0FMRV9NT0RFUyA9IHtcbiAgTElORUFSOiAwLFxuICBORUFSRVNUOiAxXG59O1xuXG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgd2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgV1JBUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xBTVAgLSBUaGUgdGV4dHVyZXMgdXZzIGFyZSBjbGFtcGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1JUlJPUkVEX1JFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXQgd2l0aCBtaXJyb3JpbmdcbiAqL1xudmFyIFdSQVBfTU9ERVMgPSBleHBvcnRzLldSQVBfTU9ERVMgPSB7XG4gIENMQU1QOiAwLFxuICBSRVBFQVQ6IDEsXG4gIE1JUlJPUkVEX1JFUEVBVDogMlxufTtcblxuLyoqXG4gKiBUaGUgZ2MgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLkdDX01PREV9IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlIGZvciBQaXhpSlMgdGV4dHVyZXMgaXMgQVVUT1xuICogSWYgc2V0IHRvIEdDX01PREUsIHRoZSByZW5kZXJlciB3aWxsIG9jY2FzaW9uYWxseSBjaGVjayB0ZXh0dXJlcyB1c2FnZS4gSWYgdGhleSBhcmUgbm90XG4gKiB1c2VkIGZvciBhIHNwZWNpZmllZCBwZXJpb2Qgb2YgdGltZSB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuIFRoZXkgd2lsbCBvZiBjb3Vyc2VcbiAqIGJlIHVwbG9hZGVkIGFnYWluIHdoZW4gdGhleSBhcmUgcmVxdWlyZWQuIFRoaXMgaXMgYSBzaWxlbnQgYmVoaW5kIHRoZSBzY2VuZXMgcHJvY2VzcyB0aGF0XG4gKiBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIEdQVSBkb2VzIG5vdCAgZ2V0IGZpbGxlZCB1cC5cbiAqXG4gKiBIYW5keSBmb3IgbW9iaWxlIGRldmljZXMhXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIEdDX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgaGFwcGVuIHBlcmlvZGljYWxseSBhdXRvbWF0aWNhbGx5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUFOVUFMIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgbWFudWFsbHlcbiAqL1xudmFyIEdDX01PREVTID0gZXhwb3J0cy5HQ19NT0RFUyA9IHtcbiAgQVVUTzogMCxcbiAgTUFOVUFMOiAxXG59O1xuXG4vKipcbiAqIFJlZ2V4cCBmb3IgaW1hZ2UgdHlwZSBieSBleHRlbnNpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge1JlZ0V4cHxzdHJpbmd9XG4gKiBAZXhhbXBsZSBgaW1hZ2UucG5nYFxuICovXG52YXIgVVJMX0ZJTEVfRVhURU5TSU9OID0gZXhwb3J0cy5VUkxfRklMRV9FWFRFTlNJT04gPSAvXFwuKFxcd3szLDR9KSg/OiR8XFw/fCMpL2k7XG5cbi8qKlxuICogUmVnZXhwIGZvciBkYXRhIFVSSS5cbiAqIEJhc2VkIG9uOiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3JhZ2luZ3dpbmQvZGF0YS11cmktcmVnZXh9XG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBEQVRBX1VSSVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtSZWdFeHB8c3RyaW5nfVxuICogQGV4YW1wbGUgZGF0YTppbWFnZS9wbmc7YmFzZTY0XG4gKi9cbnZhciBEQVRBX1VSSSA9IGV4cG9ydHMuREFUQV9VUkkgPSAvXlxccypkYXRhOig/OihbXFx3LV0rKVxcLyhbXFx3Ky4tXSspKT8oPzo7Y2hhcnNldD0oW1xcdy1dKykpPyg/OjsoYmFzZTY0KSk/LCguKikvaTtcblxuLyoqXG4gKiBSZWdleHAgZm9yIFNWRyBzaXplLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgU1ZHX1NJWkVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7UmVnRXhwfHN0cmluZ31cbiAqIEBleGFtcGxlICZsdDtzdmcgd2lkdGg9XCIxMDBcIiBoZWlnaHQ9XCIxMDBcIiZndDsmbHQ7L3N2ZyZndDtcbiAqL1xudmFyIFNWR19TSVpFID0gZXhwb3J0cy5TVkdfU0laRSA9IC88c3ZnW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKj4vaTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgaWRlbnRpZnkgc2hhcGVzLCBtYWlubHkgdG8gcHJldmVudCBgaW5zdGFuY2VvZmAgY2FsbHMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTSEFQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPTFkgUG9seWdvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFQ1QgUmVjdGFuZ2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0lSQyBDaXJjbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFTElQIEVsbGlwc2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSUkVDIFJvdW5kZWQgUmVjdGFuZ2xlXG4gKi9cbnZhciBTSEFQRVMgPSBleHBvcnRzLlNIQVBFUyA9IHtcbiAgUE9MWTogMCxcbiAgUkVDVDogMSxcbiAgQ0lSQzogMixcbiAgRUxJUDogMyxcbiAgUlJFQzogNFxufTtcblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBzaGFkZXJzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgUFJFQ0lTSU9OXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBMT1c9J2xvd3AnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gTUVESVVNPSdtZWRpdW1wJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IEhJR0g9J2hpZ2hwJ1xuICovXG52YXIgUFJFQ0lTSU9OID0gZXhwb3J0cy5QUkVDSVNJT04gPSB7XG4gIExPVzogJ2xvd3AnLFxuICBNRURJVU06ICdtZWRpdW1wJyxcbiAgSElHSDogJ2hpZ2hwJ1xufTtcblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IHRoZSB0cmFuc2Zvcm0gdHlwZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFRSQU5TRk9STV9NT0RFXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEFUSUNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEWU5BTUlDXG4gKi9cbnZhciBUUkFOU0ZPUk1fTU9ERSA9IGV4cG9ydHMuVFJBTlNGT1JNX01PREUgPSB7XG4gIFNUQVRJQzogMCxcbiAgRFlOQU1JQzogMVxufTtcblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBkZWZpbmUgdGhlIHR5cGUgb2YgZ3JhZGllbnQgb24gdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFRFWFRfR1JBRElFTlRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9WRVJUSUNBTCBWZXJ0aWNhbCBncmFkaWVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9IT1JJWk9OVEFMIExpbmVhciBncmFkaWVudFxuICovXG52YXIgVEVYVF9HUkFESUVOVCA9IGV4cG9ydHMuVEVYVF9HUkFESUVOVCA9IHtcbiAgTElORUFSX1ZFUlRJQ0FMOiAwLFxuICBMSU5FQVJfSE9SSVpPTlRBTDogMVxufTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSB1cGRhdGUgcHJpb3JpdGllcyB1c2VkIGJ5IGludGVybmFsIFBJWEkgY2xhc3NlcyB3aGVuIHJlZ2lzdGVyZWQgd2l0aFxuICogdGhlIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXJ9IG9iamVjdC4gSGlnaGVyIHByaW9yaXR5IGl0ZW1zIGFyZSB1cGRhdGVkIGZpcnN0IGFuZCBsb3dlclxuICogcHJpb3JpdHkgaXRlbXMsIHN1Y2ggYXMgcmVuZGVyLCBzaG91bGQgZ28gbGF0ZXIuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBVUERBVEVfUFJJT1JJVFlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IElOVEVSQUNUSU9OPTUwIEhpZ2hlc3QgcHJpb3JpdHksIHVzZWQgZm9yIHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIPTI1IEhpZ2ggcHJpb3JpdHkgdXBkYXRpbmcsIHtAbGluayBQSVhJLlZpZGVvQmFzZVRleHR1cmV9IGFuZCB7QGxpbmsgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGV9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMPTAgRGVmYXVsdCBwcmlvcml0eSBmb3IgdGlja2VyIGV2ZW50cywgc2VlIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjYWRkfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMT1c9LTI1IExvdyBwcmlvcml0eSB1c2VkIGZvciB7QGxpbmsgUElYSS5BcHBsaWNhdGlvbn0gcmVuZGVyaW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVUSUxJVFk9LTUwIExvd2VzdCBwcmlvcml0eSB1c2VkIGZvciB7QGxpbmsgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSB1dGlsaXR5LlxuICovXG52YXIgVVBEQVRFX1BSSU9SSVRZID0gZXhwb3J0cy5VUERBVEVfUFJJT1JJVFkgPSB7XG4gIElOVEVSQUNUSU9OOiA1MCxcbiAgSElHSDogMjUsXG4gIE5PUk1BTDogMCxcbiAgTE9XOiAtMjUsXG4gIFVUSUxJVFk6IC01MFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuYXV0b0RldGVjdFJlbmRlcmVyID0gZXhwb3J0cy5BcHBsaWNhdGlvbiA9IGV4cG9ydHMuRmlsdGVyID0gZXhwb3J0cy5TcHJpdGVNYXNrRmlsdGVyID0gZXhwb3J0cy5RdWFkID0gZXhwb3J0cy5SZW5kZXJUYXJnZXQgPSBleHBvcnRzLk9iamVjdFJlbmRlcmVyID0gZXhwb3J0cy5XZWJHTE1hbmFnZXIgPSBleHBvcnRzLlNoYWRlciA9IGV4cG9ydHMuQ2FudmFzUmVuZGVyVGFyZ2V0ID0gZXhwb3J0cy5UZXh0dXJlVXZzID0gZXhwb3J0cy5WaWRlb0Jhc2VUZXh0dXJlID0gZXhwb3J0cy5CYXNlUmVuZGVyVGV4dHVyZSA9IGV4cG9ydHMuUmVuZGVyVGV4dHVyZSA9IGV4cG9ydHMuQmFzZVRleHR1cmUgPSBleHBvcnRzLlRleHR1cmVNYXRyaXggPSBleHBvcnRzLlRleHR1cmUgPSBleHBvcnRzLlNwcml0ZXNoZWV0ID0gZXhwb3J0cy5DYW52YXNHcmFwaGljc1JlbmRlcmVyID0gZXhwb3J0cy5HcmFwaGljc1JlbmRlcmVyID0gZXhwb3J0cy5HcmFwaGljc0RhdGEgPSBleHBvcnRzLkdyYXBoaWNzID0gZXhwb3J0cy5UZXh0TWV0cmljcyA9IGV4cG9ydHMuVGV4dFN0eWxlID0gZXhwb3J0cy5UZXh0ID0gZXhwb3J0cy5TcHJpdGVSZW5kZXJlciA9IGV4cG9ydHMuQ2FudmFzVGludGVyID0gZXhwb3J0cy5DYW52YXNTcHJpdGVSZW5kZXJlciA9IGV4cG9ydHMuU3ByaXRlID0gZXhwb3J0cy5UcmFuc2Zvcm1CYXNlID0gZXhwb3J0cy5UcmFuc2Zvcm1TdGF0aWMgPSBleHBvcnRzLlRyYW5zZm9ybSA9IGV4cG9ydHMuQ29udGFpbmVyID0gZXhwb3J0cy5EaXNwbGF5T2JqZWN0ID0gZXhwb3J0cy5Cb3VuZHMgPSBleHBvcnRzLmdsQ29yZSA9IGV4cG9ydHMuV2ViR0xSZW5kZXJlciA9IGV4cG9ydHMuQ2FudmFzUmVuZGVyZXIgPSBleHBvcnRzLnRpY2tlciA9IGV4cG9ydHMudXRpbHMgPSBleHBvcnRzLnNldHRpbmdzID0gdW5kZWZpbmVkO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi9jb25zdCcpO1xuXG5PYmplY3Qua2V5cyhfY29uc3QpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9jb25zdFtrZXldO1xuICAgIH1cbiAgfSk7XG59KTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi9tYXRoJyk7XG5cbk9iamVjdC5rZXlzKF9tYXRoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfbWF0aFtrZXldO1xuICAgIH1cbiAgfSk7XG59KTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZ2xDb3JlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQm91bmRzID0gcmVxdWlyZSgnLi9kaXNwbGF5L0JvdW5kcycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0JvdW5kcycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JvdW5kcykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfRGlzcGxheU9iamVjdCA9IHJlcXVpcmUoJy4vZGlzcGxheS9EaXNwbGF5T2JqZWN0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRGlzcGxheU9iamVjdCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc3BsYXlPYmplY3QpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NvbnRhaW5lciA9IHJlcXVpcmUoJy4vZGlzcGxheS9Db250YWluZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDb250YWluZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250YWluZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RyYW5zZm9ybSA9IHJlcXVpcmUoJy4vZGlzcGxheS9UcmFuc2Zvcm0nKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUcmFuc2Zvcm0nLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm0pLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RyYW5zZm9ybVN0YXRpYyA9IHJlcXVpcmUoJy4vZGlzcGxheS9UcmFuc2Zvcm1TdGF0aWMnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUcmFuc2Zvcm1TdGF0aWMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm1TdGF0aWMpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RyYW5zZm9ybUJhc2UgPSByZXF1aXJlKCcuL2Rpc3BsYXkvVHJhbnNmb3JtQmFzZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RyYW5zZm9ybUJhc2UnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm1CYXNlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9TcHJpdGUgPSByZXF1aXJlKCcuL3Nwcml0ZXMvU3ByaXRlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU3ByaXRlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DYW52YXNTcHJpdGVSZW5kZXJlciA9IHJlcXVpcmUoJy4vc3ByaXRlcy9jYW52YXMvQ2FudmFzU3ByaXRlUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYW52YXNTcHJpdGVSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1Nwcml0ZVJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DYW52YXNUaW50ZXIgPSByZXF1aXJlKCcuL3Nwcml0ZXMvY2FudmFzL0NhbnZhc1RpbnRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NhbnZhc1RpbnRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1RpbnRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfU3ByaXRlUmVuZGVyZXIgPSByZXF1aXJlKCcuL3Nwcml0ZXMvd2ViZ2wvU3ByaXRlUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdTcHJpdGVSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZVJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0ID0gcmVxdWlyZSgnLi90ZXh0L1RleHQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUZXh0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dFN0eWxlID0gcmVxdWlyZSgnLi90ZXh0L1RleHRTdHlsZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHRTdHlsZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRTdHlsZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dE1ldHJpY3MgPSByZXF1aXJlKCcuL3RleHQvVGV4dE1ldHJpY3MnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUZXh0TWV0cmljcycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRNZXRyaWNzKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9HcmFwaGljcyA9IHJlcXVpcmUoJy4vZ3JhcGhpY3MvR3JhcGhpY3MnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdHcmFwaGljcycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyYXBoaWNzKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9HcmFwaGljc0RhdGEgPSByZXF1aXJlKCcuL2dyYXBoaWNzL0dyYXBoaWNzRGF0YScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0dyYXBoaWNzRGF0YScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyYXBoaWNzRGF0YSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfR3JhcGhpY3NSZW5kZXJlciA9IHJlcXVpcmUoJy4vZ3JhcGhpY3Mvd2ViZ2wvR3JhcGhpY3NSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0dyYXBoaWNzUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmFwaGljc1JlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DYW52YXNHcmFwaGljc1JlbmRlcmVyID0gcmVxdWlyZSgnLi9ncmFwaGljcy9jYW52YXMvQ2FudmFzR3JhcGhpY3NSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NhbnZhc0dyYXBoaWNzUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNHcmFwaGljc1JlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9TcHJpdGVzaGVldCA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvU3ByaXRlc2hlZXQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdTcHJpdGVzaGVldCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZXNoZWV0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dHVyZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHR1cmVNYXRyaXggPSByZXF1aXJlKCcuL3RleHR1cmVzL1RleHR1cmVNYXRyaXgnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUZXh0dXJlTWF0cml4Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZU1hdHJpeCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuL3RleHR1cmVzL0Jhc2VUZXh0dXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmFzZVRleHR1cmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlVGV4dHVyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUmVuZGVyVGV4dHVyZSA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1JlbmRlclRleHR1cmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUZXh0dXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9CYXNlUmVuZGVyVGV4dHVyZSA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvQmFzZVJlbmRlclRleHR1cmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCYXNlUmVuZGVyVGV4dHVyZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VSZW5kZXJUZXh0dXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9WaWRlb0Jhc2VUZXh0dXJlID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9WaWRlb0Jhc2VUZXh0dXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVmlkZW9CYXNlVGV4dHVyZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZpZGVvQmFzZVRleHR1cmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHR1cmVVdnMgPSByZXF1aXJlKCcuL3RleHR1cmVzL1RleHR1cmVVdnMnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUZXh0dXJlVXZzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZVV2cykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL0NhbnZhc1JlbmRlclRhcmdldCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NhbnZhc1JlbmRlclRhcmdldCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlclRhcmdldCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfU2hhZGVyID0gcmVxdWlyZSgnLi9TaGFkZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdTaGFkZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1dlYkdMTWFuYWdlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL1dlYkdMTWFuYWdlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1dlYkdMTWFuYWdlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMTWFuYWdlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ09iamVjdFJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JqZWN0UmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL1JlbmRlclRhcmdldCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1JlbmRlclRhcmdldCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRhcmdldCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUXVhZCA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL1F1YWQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdRdWFkJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUXVhZCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfU3ByaXRlTWFza0ZpbHRlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU3ByaXRlTWFza0ZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZU1hc2tGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0ZpbHRlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9BcHBsaWNhdGlvbiA9IHJlcXVpcmUoJy4vQXBwbGljYXRpb24nKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdBcHBsaWNhdGlvbicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FwcGxpY2F0aW9uKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9hdXRvRGV0ZWN0UmVuZGVyZXIgPSByZXF1aXJlKCcuL2F1dG9EZXRlY3RSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2F1dG9EZXRlY3RSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9hdXRvRGV0ZWN0UmVuZGVyZXIuYXV0b0RldGVjdFJlbmRlcmVyO1xuICB9XG59KTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIHV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzKTtcblxudmFyIF90aWNrZXIgPSByZXF1aXJlKCcuL3RpY2tlcicpO1xuXG52YXIgdGlja2VyID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3RpY2tlcik7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyJyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyZXIpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyJyk7XG5cbnZhciBfV2ViR0xSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTFJlbmRlcmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5zZXR0aW5ncyA9IF9zZXR0aW5nczIuZGVmYXVsdDtcbmV4cG9ydHMudXRpbHMgPSB1dGlscztcbmV4cG9ydHMudGlja2VyID0gdGlja2VyO1xuZXhwb3J0cy5DYW52YXNSZW5kZXJlciA9IF9DYW52YXNSZW5kZXJlcjIuZGVmYXVsdDtcbmV4cG9ydHMuV2ViR0xSZW5kZXJlciA9IF9XZWJHTFJlbmRlcmVyMi5kZWZhdWx0OyAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbmFtZXNwYWNlIFBJWElcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMucHJlbXVsdGlwbHlCbGVuZE1vZGUgPSBleHBvcnRzLkJhc2VUZXh0dXJlQ2FjaGUgPSBleHBvcnRzLlRleHR1cmVDYWNoZSA9IGV4cG9ydHMuZWFyY3V0ID0gZXhwb3J0cy5taXhpbnMgPSBleHBvcnRzLnBsdWdpblRhcmdldCA9IGV4cG9ydHMuRXZlbnRFbWl0dGVyID0gZXhwb3J0cy5yZW1vdmVJdGVtcyA9IGV4cG9ydHMuaXNNb2JpbGUgPSB1bmRlZmluZWQ7XG5leHBvcnRzLnVpZCA9IHVpZDtcbmV4cG9ydHMuaGV4MnJnYiA9IGhleDJyZ2I7XG5leHBvcnRzLmhleDJzdHJpbmcgPSBoZXgyc3RyaW5nO1xuZXhwb3J0cy5yZ2IyaGV4ID0gcmdiMmhleDtcbmV4cG9ydHMuZ2V0UmVzb2x1dGlvbk9mVXJsID0gZ2V0UmVzb2x1dGlvbk9mVXJsO1xuZXhwb3J0cy5kZWNvbXBvc2VEYXRhVXJpID0gZGVjb21wb3NlRGF0YVVyaTtcbmV4cG9ydHMuZ2V0VXJsRmlsZUV4dGVuc2lvbiA9IGdldFVybEZpbGVFeHRlbnNpb247XG5leHBvcnRzLmdldFN2Z1NpemUgPSBnZXRTdmdTaXplO1xuZXhwb3J0cy5za2lwSGVsbG8gPSBza2lwSGVsbG87XG5leHBvcnRzLnNheUhlbGxvID0gc2F5SGVsbG87XG5leHBvcnRzLmlzV2ViR0xTdXBwb3J0ZWQgPSBpc1dlYkdMU3VwcG9ydGVkO1xuZXhwb3J0cy5zaWduID0gc2lnbjtcbmV4cG9ydHMuZGVzdHJveVRleHR1cmVDYWNoZSA9IGRlc3Ryb3lUZXh0dXJlQ2FjaGU7XG5leHBvcnRzLmNsZWFyVGV4dHVyZUNhY2hlID0gY2xlYXJUZXh0dXJlQ2FjaGU7XG5leHBvcnRzLmNvcnJlY3RCbGVuZE1vZGUgPSBjb3JyZWN0QmxlbmRNb2RlO1xuZXhwb3J0cy5wcmVtdWx0aXBseVRpbnQgPSBwcmVtdWx0aXBseVRpbnQ7XG5leHBvcnRzLnByZW11bHRpcGx5UmdiYSA9IHByZW11bHRpcGx5UmdiYTtcbmV4cG9ydHMucHJlbXVsdGlwbHlUaW50VG9SZ2JhID0gcHJlbXVsdGlwbHlUaW50VG9SZ2JhO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9wbHVnaW5UYXJnZXQgPSByZXF1aXJlKCcuL3BsdWdpblRhcmdldCcpO1xuXG52YXIgX3BsdWdpblRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbHVnaW5UYXJnZXQpO1xuXG52YXIgX21peGluID0gcmVxdWlyZSgnLi9taXhpbicpO1xuXG52YXIgbWl4aW5zID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX21peGluKTtcblxudmFyIF9pc21vYmlsZWpzID0gcmVxdWlyZSgnaXNtb2JpbGVqcycpO1xuXG52YXIgaXNNb2JpbGUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfaXNtb2JpbGVqcyk7XG5cbnZhciBfcmVtb3ZlQXJyYXlJdGVtcyA9IHJlcXVpcmUoJ3JlbW92ZS1hcnJheS1pdGVtcycpO1xuXG52YXIgX3JlbW92ZUFycmF5SXRlbXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVtb3ZlQXJyYXlJdGVtcyk7XG5cbnZhciBfbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMgPSByZXF1aXJlKCcuL21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzJyk7XG5cbnZhciBfbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMpO1xuXG52YXIgX2VhcmN1dCA9IHJlcXVpcmUoJ2VhcmN1dCcpO1xuXG52YXIgX2VhcmN1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lYXJjdXQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgbmV4dFVpZCA9IDA7XG52YXIgc2FpZEhlbGxvID0gZmFsc2U7XG5cbi8qKlxuICogR2VuZXJhbGl6ZWQgY29udmVuaWVuY2UgdXRpbGl0aWVzIGZvciBQSVhJLlxuICogQGV4YW1wbGVcbiAqIC8vIEV4dGVuZCBQSVhJJ3MgaW50ZXJuYWwgRXZlbnQgRW1pdHRlci5cbiAqIGNsYXNzIE15RW1pdHRlciBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyIHtcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgIHN1cGVyKCk7XG4gKiAgICAgIGNvbnNvbGUubG9nKFwiRW1pdHRlciBjcmVhdGVkIVwiKTtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIEdldCBpbmZvIG9uIGN1cnJlbnQgZGV2aWNlXG4gKiBjb25zb2xlLmxvZyhQSVhJLnV0aWxzLmlzTW9iaWxlKTtcbiAqXG4gKiAvLyBDb252ZXJ0IGhleCBjb2xvciB0byBzdHJpbmdcbiAqIGNvbnNvbGUubG9nKFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmMDBmZikpOyAvLyByZXR1cm5zOiBcIiNmZjAwZmZcIlxuICogQG5hbWVzcGFjZSBQSVhJLnV0aWxzXG4gKi9cbmV4cG9ydHMuaXNNb2JpbGUgPSBpc01vYmlsZTtcbmV4cG9ydHMucmVtb3ZlSXRlbXMgPSBfcmVtb3ZlQXJyYXlJdGVtczIuZGVmYXVsdDtcbmV4cG9ydHMuRXZlbnRFbWl0dGVyID0gX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdDtcbmV4cG9ydHMucGx1Z2luVGFyZ2V0ID0gX3BsdWdpblRhcmdldDIuZGVmYXVsdDtcbmV4cG9ydHMubWl4aW5zID0gbWl4aW5zO1xuZXhwb3J0cy5lYXJjdXQgPSBfZWFyY3V0Mi5kZWZhdWx0O1xuXG4vKipcbiAqIEdldHMgdGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHVpZFxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllciB0byB1c2UuXG4gKi9cblxuZnVuY3Rpb24gdWlkKCkge1xuICAgIHJldHVybiArK25leHRVaWQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXggY29sb3IgbnVtYmVyIHRvIGFuIFtSLCBHLCBCXSBhcnJheVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIFRoZSBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtICB7bnVtYmVyW119IFtvdXQ9W11dIElmIHN1cHBsaWVkLCB0aGlzIGFycmF5IHdpbGwgYmUgdXNlZCByYXRoZXIgdGhhbiByZXR1cm5pbmcgYSBuZXcgb25lXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gQW4gYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBbUiwgRywgQl0gb2YgdGhlIGNvbG9yLlxuICovXG5mdW5jdGlvbiBoZXgycmdiKGhleCwgb3V0KSB7XG4gICAgb3V0ID0gb3V0IHx8IFtdO1xuXG4gICAgb3V0WzBdID0gKGhleCA+PiAxNiAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsxXSA9IChoZXggPj4gOCAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsyXSA9IChoZXggJiAweEZGKSAvIDI1NTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXggY29sb3IgbnVtYmVyIHRvIGEgc3RyaW5nLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIE51bWJlciBpbiBoZXhcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHN0cmluZyBjb2xvci5cbiAqL1xuZnVuY3Rpb24gaGV4MnN0cmluZyhoZXgpIHtcbiAgICBoZXggPSBoZXgudG9TdHJpbmcoMTYpO1xuICAgIGhleCA9ICcwMDAwMDAnLnN1YnN0cigwLCA2IC0gaGV4Lmxlbmd0aCkgKyBoZXg7XG5cbiAgICByZXR1cm4gJyMnICsgaGV4O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5IHRvIGEgaGV4IG51bWJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcmdiMmhleFxuICogQHBhcmFtIHtudW1iZXJbXX0gcmdiIC0gcmdiIGFycmF5XG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBjb2xvciBudW1iZXJcbiAqL1xuZnVuY3Rpb24gcmdiMmhleChyZ2IpIHtcbiAgICByZXR1cm4gKHJnYlswXSAqIDI1NSA8PCAxNikgKyAocmdiWzFdICogMjU1IDw8IDgpICsgKHJnYlsyXSAqIDI1NSB8IDApO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldCBieSBsb29raW5nIGZvciB0aGUgcHJlZml4XG4gKiB1c2VkIGJ5IHNwcml0ZXNoZWV0cyBhbmQgaW1hZ2UgdXJsc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gdGhlIGltYWdlIHBhdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlPTFdIC0gdGhlIGRlZmF1bHRWYWx1ZSBpZiBubyBmaWxlbmFtZSBwcmVmaXggaXMgc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0XG4gKi9cbmZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybCh1cmwsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciByZXNvbHV0aW9uID0gX3NldHRpbmdzMi5kZWZhdWx0LlJFVElOQV9QUkVGSVguZXhlYyh1cmwpO1xuXG4gICAgaWYgKHJlc29sdXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocmVzb2x1dGlvblsxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogMTtcbn1cblxuLyoqXG4gKiBUeXBlZGVmIGZvciBkZWNvbXBvc2VEYXRhVXJpIHJldHVybiBvYmplY3QuXG4gKlxuICogQHR5cGVkZWYge29iamVjdH0gUElYSS51dGlsc35EZWNvbXBvc2VkRGF0YVVyaVxuICogQHByb3BlcnR5IHttZWRpYVR5cGV9IE1lZGlhIHR5cGUsIGVnLiBgaW1hZ2VgXG4gKiBAcHJvcGVydHkge3N1YlR5cGV9IFN1YiB0eXBlLCBlZy4gYHBuZ2BcbiAqIEBwcm9wZXJ0eSB7ZW5jb2Rpbmd9IERhdGEgZW5jb2RpbmcsIGVnLiBgYmFzZTY0YFxuICogQHByb3BlcnR5IHtkYXRhfSBUaGUgYWN0dWFsIGRhdGFcbiAqL1xuXG4vKipcbiAqIFNwbGl0IGEgZGF0YSBVUkkgaW50byBjb21wb25lbnRzLiBSZXR1cm5zIHVuZGVmaW5lZCBpZlxuICogcGFyYW1ldGVyIGBkYXRhVXJpYCBpcyBub3QgYSB2YWxpZCBkYXRhIFVSSS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlY29tcG9zZURhdGFVcmlcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhVXJpIC0gdGhlIGRhdGEgVVJJIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtQSVhJLnV0aWxzfkRlY29tcG9zZWREYXRhVXJpfHVuZGVmaW5lZH0gVGhlIGRlY29tcG9zZWQgZGF0YSB1cmkgb3IgdW5kZWZpbmVkXG4gKi9cbmZ1bmN0aW9uIGRlY29tcG9zZURhdGFVcmkoZGF0YVVyaSkge1xuICAgIHZhciBkYXRhVXJpTWF0Y2ggPSBfY29uc3QuREFUQV9VUkkuZXhlYyhkYXRhVXJpKTtcblxuICAgIGlmIChkYXRhVXJpTWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZTogZGF0YVVyaU1hdGNoWzFdID8gZGF0YVVyaU1hdGNoWzFdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdWJUeXBlOiBkYXRhVXJpTWF0Y2hbMl0gPyBkYXRhVXJpTWF0Y2hbMl0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNoYXJzZXQ6IGRhdGFVcmlNYXRjaFszXSA/IGRhdGFVcmlNYXRjaFszXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IGRhdGFVcmlNYXRjaFs0XSA/IGRhdGFVcmlNYXRjaFs0XS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogZGF0YVVyaU1hdGNoWzVdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBHZXQgdHlwZSBvZiB0aGUgaW1hZ2UgYnkgcmVnZXhwIGZvciBleHRlbnNpb24uIFJldHVybnMgdW5kZWZpbmVkIGZvciB1bmtub3duIGV4dGVuc2lvbnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBnZXRVcmxGaWxlRXh0ZW5zaW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gdGhlIGltYWdlIHBhdGhcbiAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IGltYWdlIGV4dGVuc2lvblxuICovXG5mdW5jdGlvbiBnZXRVcmxGaWxlRXh0ZW5zaW9uKHVybCkge1xuICAgIHZhciBleHRlbnNpb24gPSBfY29uc3QuVVJMX0ZJTEVfRVhURU5TSU9OLmV4ZWModXJsKTtcblxuICAgIGlmIChleHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvblsxXS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogVHlwZWRlZiBmb3IgU2l6ZSBvYmplY3QuXG4gKlxuICogQHR5cGVkZWYge29iamVjdH0gUElYSS51dGlsc35TaXplXG4gKiBAcHJvcGVydHkge3dpZHRofSBXaWR0aCBjb21wb25lbnRcbiAqIEBwcm9wZXJ0eSB7aGVpZ2h0fSBIZWlnaHQgY29tcG9uZW50XG4gKi9cblxuLyoqXG4gKiBHZXQgc2l6ZSBmcm9tIGFuIHN2ZyBzdHJpbmcgdXNpbmcgcmVnZXhwLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZ2V0U3ZnU2l6ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN2Z1N0cmluZyAtIGEgc2VyaWFsaXplZCBzdmcgZWxlbWVudFxuICogQHJldHVybiB7UElYSS51dGlsc35TaXplfHVuZGVmaW5lZH0gaW1hZ2UgZXh0ZW5zaW9uXG4gKi9cbmZ1bmN0aW9uIGdldFN2Z1NpemUoc3ZnU3RyaW5nKSB7XG4gICAgdmFyIHNpemVNYXRjaCA9IF9jb25zdC5TVkdfU0laRS5leGVjKHN2Z1N0cmluZyk7XG4gICAgdmFyIHNpemUgPSB7fTtcblxuICAgIGlmIChzaXplTWF0Y2gpIHtcbiAgICAgICAgc2l6ZVtzaXplTWF0Y2hbMV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFszXSkpO1xuICAgICAgICBzaXplW3NpemVNYXRjaFs1XV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzddKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNpemU7XG59XG5cbi8qKlxuICogU2tpcHMgdGhlIGhlbGxvIG1lc3NhZ2Ugb2YgcmVuZGVyZXJzIHRoYXQgYXJlIGNyZWF0ZWQgYWZ0ZXIgdGhpcyBpcyBydW4uXG4gKlxuICogQGZ1bmN0aW9uIHNraXBIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xuZnVuY3Rpb24gc2tpcEhlbGxvKCkge1xuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbi8qKlxuICogTG9ncyBvdXQgdGhlIHZlcnNpb24gYW5kIHJlbmRlcmVyIGluZm9ybWF0aW9uIGZvciB0aGlzIHJ1bm5pbmcgaW5zdGFuY2Ugb2YgUElYSS5cbiAqIElmIHlvdSBkb24ndCB3YW50IHRvIHNlZSB0aGlzIG1lc3NhZ2UgeW91IGNhbiBydW4gYFBJWEkudXRpbHMuc2tpcEhlbGxvKClgIGJlZm9yZVxuICogY3JlYXRpbmcgeW91ciByZW5kZXJlci4gS2VlcCBpbiBtaW5kIHRoYXQgZG9pbmcgdGhhdCB3aWxsIGZvcmV2ZXIgbWFrZXMgeW91IGEgamVyayBmYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBzYXlIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHN0cmluZyByZW5kZXJlciB0eXBlIHRvIGxvZy5cbiAqL1xuZnVuY3Rpb24gc2F5SGVsbG8odHlwZSkge1xuICAgIGlmIChzYWlkSGVsbG8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSkge1xuICAgICAgICB2YXIgYXJncyA9IFsnXFxuICVjICVjICVjIFBpeGlKUyAnICsgX2NvbnN0LlZFUlNJT04gKyAnIC0gXFx1MjczMCAnICsgdHlwZSArICcgXFx1MjczMCAgJWMgICVjICBodHRwOi8vd3d3LnBpeGlqcy5jb20vICAlYyAlYyBcXHUyNjY1JWNcXHUyNjY1JWNcXHUyNjY1IFxcblxcbicsICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsICdjb2xvcjogI2ZmNjZhNTsgYmFja2dyb3VuZDogIzAzMDMwNzsgcGFkZGluZzo1cHggMDsnLCAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLCAnYmFja2dyb3VuZDogI2ZmYzNkYzsgcGFkZGluZzo1cHggMDsnLCAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLCAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JywgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnXTtcblxuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJncyk7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ1BpeGlKUyAnICsgX2NvbnN0LlZFUlNJT04gKyAnIC0gJyArIHR5cGUgKyAnIC0gaHR0cDovL3d3dy5waXhpanMuY29tLycpO1xuICAgIH1cblxuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbi8qKlxuICogSGVscGVyIGZvciBjaGVja2luZyBmb3Igd2ViZ2wgc3VwcG9ydFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaXMgd2ViZ2wgc3VwcG9ydGVkXG4gKi9cbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWQoKSB7XG4gICAgdmFyIGNvbnRleHRPcHRpb25zID0geyBzdGVuY2lsOiB0cnVlLCBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiB0cnVlIH07XG5cbiAgICB0cnkge1xuICAgICAgICBpZiAoIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgY29udGV4dE9wdGlvbnMpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBjb250ZXh0T3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSAhIShnbCAmJiBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpLnN0ZW5jaWwpO1xuXG4gICAgICAgIGlmIChnbCkge1xuICAgICAgICAgICAgdmFyIGxvc2VDb250ZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKTtcblxuICAgICAgICAgICAgaWYgKGxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgbG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdsID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBzaWduIG9mIG51bWJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc2lnblxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSB0aGUgbnVtYmVyIHRvIGNoZWNrIHRoZSBzaWduIG9mXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIGBuYCBpcyAwLCAtMSBpZiBgbmAgaXMgbmVnYXRpdmUsIDEgaWYgYG5gIGlzIHBvc2l0aXZlXG4gKi9cbmZ1bmN0aW9uIHNpZ24obikge1xuICAgIGlmIChuID09PSAwKSByZXR1cm4gMDtcblxuICAgIHJldHVybiBuIDwgMCA/IC0xIDogMTtcbn1cblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgVGV4dHVyZUNhY2hlID0gZXhwb3J0cy5UZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBCYXNlVGV4dHVyZUNhY2hlID0gZXhwb3J0cy5CYXNlVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLyoqXG4gKiBEZXN0cm95cyBhbGwgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGVcbiAqL1xuZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZSgpIHtcbiAgICB2YXIga2V5ID0gdm9pZCAwO1xuXG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIFRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCB0ZXh0dXJlcyBmcm9tIGNhY2hlLCBidXQgZG9lcyBub3QgZGVzdHJveSB0aGVtXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZSgpIHtcbiAgICB2YXIga2V5ID0gdm9pZCAwO1xuXG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbn1cblxuLyoqXG4gKiBtYXBzIHByZW11bHRpcGx5IGZsYWcgYW5kIGJsZW5kTW9kZSB0byBhZGp1c3RlZCBibGVuZE1vZGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAY29uc3QgcHJlbXVsdGlwbHlCbGVuZE1vZGVcbiAqIEB0eXBlIHtBcnJheTxudW1iZXJbXT59XG4gKi9cbnZhciBwcmVtdWx0aXBseUJsZW5kTW9kZSA9IGV4cG9ydHMucHJlbXVsdGlwbHlCbGVuZE1vZGUgPSAoMCwgX21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzMi5kZWZhdWx0KSgpO1xuXG4vKipcbiAqIGNoYW5nZXMgYmxlbmRNb2RlIGFjY29yZGluZyB0byB0ZXh0dXJlIGZvcm1hdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZVxuICogQHBhcmFtIHtudW1iZXJ9IGJsZW5kTW9kZSBzdXBwb3NlZCBibGVuZCBtb2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHByZW11bHRpcGxpZWQgIHdoZXRoZXIgc291cmNlIGlzIHByZW11bHRpcGxpZWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRydWUgYmxlbmQgbW9kZSBmb3IgdGhpcyB0ZXh0dXJlXG4gKi9cbmZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGUoYmxlbmRNb2RlLCBwcmVtdWx0aXBsaWVkKSB7XG4gICAgcmV0dXJuIHByZW11bHRpcGx5QmxlbmRNb2RlW3ByZW11bHRpcGxpZWQgPyAxIDogMF1bYmxlbmRNb2RlXTtcbn1cblxuLyoqXG4gKiBwcmVtdWx0aXBsaWVzIHRpbnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHRpbnQgaW50ZWdldCBSR0JcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSBmbG9hdGluZyBwb2ludCBhbHBoYSAoMC4wLTEuMClcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRpbnQgbXVsdGlwbGllZCBieSBhbHBoYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVRpbnQodGludCwgYWxwaGEpIHtcbiAgICBpZiAoYWxwaGEgPT09IDEuMCkge1xuICAgICAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIHRpbnQ7XG4gICAgfVxuICAgIGlmIChhbHBoYSA9PT0gMC4wKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgUiA9IHRpbnQgPj4gMTYgJiAweEZGO1xuICAgIHZhciBHID0gdGludCA+PiA4ICYgMHhGRjtcbiAgICB2YXIgQiA9IHRpbnQgJiAweEZGO1xuXG4gICAgUiA9IFIgKiBhbHBoYSArIDAuNSB8IDA7XG4gICAgRyA9IEcgKiBhbHBoYSArIDAuNSB8IDA7XG4gICAgQiA9IEIgKiBhbHBoYSArIDAuNSB8IDA7XG5cbiAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIChSIDw8IDE2KSArIChHIDw8IDgpICsgQjtcbn1cblxuLyoqXG4gKiBjb21iaW5lcyByZ2IgYW5kIGFscGhhIHRvIG91dCBhcnJheVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gcmdiIGlucHV0IHJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5UmdiYShyZ2IsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KSB7XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgaWYgKHByZW11bHRpcGx5IHx8IHByZW11bHRpcGx5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdICogYWxwaGE7XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXSAqIGFscGhhO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl0gKiBhbHBoYTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF07XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogY29udmVydHMgaW50ZWdlciB0aW50IGFuZCBmbG9hdCBhbHBoYSB0byB2ZWM0IGZvcm0sIHByZW11bHRpcGxpZXMgYnkgZGVmYXVsdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdGludCBpbnB1dCB0aW50XG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRpbnQsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KSB7XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgb3V0WzBdID0gKHRpbnQgPj4gMTYgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsxXSA9ICh0aW50ID4+IDggJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsyXSA9ICh0aW50ICYgMHhGRikgLyAyNTUuMDtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvdXRbMF0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsxXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzJdICo9IGFscGhhO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcblxuICAgIHJldHVybiBvdXQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWF4UmVjb21tZW5kZWRUZXh0dXJlcyA9IHJlcXVpcmUoJy4vdXRpbHMvbWF4UmVjb21tZW5kZWRUZXh0dXJlcycpO1xuXG52YXIgX21heFJlY29tbWVuZGVkVGV4dHVyZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF4UmVjb21tZW5kZWRUZXh0dXJlcyk7XG5cbnZhciBfY2FuVXBsb2FkU2FtZUJ1ZmZlciA9IHJlcXVpcmUoJy4vdXRpbHMvY2FuVXBsb2FkU2FtZUJ1ZmZlcicpO1xuXG52YXIgX2NhblVwbG9hZFNhbWVCdWZmZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FuVXBsb2FkU2FtZUJ1ZmZlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogVXNlcidzIGN1c3RvbWl6YWJsZSBnbG9iYWxzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IFBJWEkgc2V0dGluZ3MsIHN1Y2hcbiAqIGFzIGEgcmVuZGVyZXIncyBkZWZhdWx0IHJlc29sdXRpb24sIGZyYW1lcmF0ZSwgZmxvYXQgcGVyY2lzaW9uLCBldGMuXG4gKiBAZXhhbXBsZVxuICogLy8gVXNlIHRoZSBuYXRpdmUgd2luZG93IHJlc29sdXRpb24gYXMgdGhlIGRlZmF1bHQgcmVzb2x1dGlvblxuICogLy8gd2lsbCBzdXBwb3J0IGhpZ2gtZGVuc2l0eSBkaXNwbGF5cyB3aGVuIHJlbmRlcmluZ1xuICogUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8uXG4gKlxuICogLy8gRGlzYWJsZSBpbnRlcnBvbGF0aW9uIHdoZW4gc2NhbGluZywgd2lsbCBtYWtlIHRleHR1cmUgYmUgcGl4ZWxhdGVkXG4gKiBQSVhJLnNldHRpbmdzLlNDQUxFX01PREUgPSBQSVhJLlNDQUxFX01PREVTLk5FQVJFU1Q7XG4gKiBAbmFtZXNwYWNlIFBJWEkuc2V0dGluZ3NcbiAqL1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuXG4gIC8qKlxuICAgKiBUYXJnZXQgZnJhbWVzIHBlciBtaWxsaXNlY29uZC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAwLjA2XG4gICAqL1xuICBUQVJHRVRfRlBNUzogMC4wNixcblxuICAvKipcbiAgICogSWYgc2V0IHRvIHRydWUgV2ViR0wgd2lsbCBhdHRlbXB0IG1ha2UgdGV4dHVyZXMgbWltcGFwZWQgYnkgZGVmYXVsdC5cbiAgICogTWlwbWFwcGluZyB3aWxsIG9ubHkgc3VjY2VlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIHVwbG9hZGVkIGhhcyBwb3dlciBvZiB0d28gZGltZW5zaW9ucy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgTUlQTUFQX1RFWFRVUkVTOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDFcbiAgICovXG4gIFJFU09MVVRJT046IDEsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgZmlsdGVyIHJlc29sdXRpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMVxuICAgKi9cbiAgRklMVEVSX1JFU09MVVRJT046IDEsXG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIHRleHR1cmVzIHRoYXQgdGhpcyBkZXZpY2Ugc3VwcG9ydHMuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMzJcbiAgICovXG4gIFNQUklURV9NQVhfVEVYVFVSRVM6ICgwLCBfbWF4UmVjb21tZW5kZWRUZXh0dXJlczIuZGVmYXVsdCkoMzIpLFxuXG4gIC8vIFRPRE86IG1heWJlIGNoYW5nZSB0byBTUFJJVEUuQkFUQ0hfU0laRTogMjAwMFxuICAvLyBUT0RPOiBtYXliZSBhZGQgUEFSVElDTEUuQkFUQ0hfU0laRTogMTUwMDBcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgc3ByaXRlIGJhdGNoIHNpemUuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IGFpbXMgdG8gYmFsYW5jZSBkZXNrdG9wIGFuZCBtb2JpbGUgZGV2aWNlcy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCA0MDk2XG4gICAqL1xuICBTUFJJVEVfQkFUQ0hfU0laRTogNDA5NixcblxuICAvKipcbiAgICogVGhlIHByZWZpeCB0aGF0IGRlbm90ZXMgYSBVUkwgaXMgZm9yIGEgcmV0aW5hIGFzc2V0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtSZWdFeHB9XG4gICAqIEBleGFtcGxlIGBAMnhgXG4gICAqIEBkZWZhdWx0IC9AKFswLTlcXC5dKyl4L1xuICAgKi9cbiAgUkVUSU5BX1BSRUZJWDogL0AoWzAtOVxcLl0rKXgvLFxuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCByZW5kZXIgb3B0aW9ucyBpZiBub25lIGFyZSBzdXBwbGllZCB0byB7QGxpbmsgUElYSS5XZWJHTFJlbmRlcmVyfVxuICAgKiBvciB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlcn0uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0YW50XG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtvYmplY3R9XG4gICAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR9IHZpZXc9bnVsbFxuICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbj0xXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYW50aWFsaWFzPWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZm9yY2VGWEFBPWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYXV0b1Jlc2l6ZT1mYWxzZVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zcGFyZW50PWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBjbGVhckJlZm9yZVJlbmRlcj10cnVlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcm91bmRQaXhlbHM9ZmFsc2VcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoPTgwMFxuICAgKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0PTYwMFxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGxlZ2FjeT1mYWxzZVxuICAgKi9cbiAgUkVOREVSX09QVElPTlM6IHtcbiAgICB2aWV3OiBudWxsLFxuICAgIGFudGlhbGlhczogZmFsc2UsXG4gICAgZm9yY2VGWEFBOiBmYWxzZSxcbiAgICBhdXRvUmVzaXplOiBmYWxzZSxcbiAgICB0cmFuc3BhcmVudDogZmFsc2UsXG4gICAgYmFja2dyb3VuZENvbG9yOiAweDAwMDAwMCxcbiAgICBjbGVhckJlZm9yZVJlbmRlcjogdHJ1ZSxcbiAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGZhbHNlLFxuICAgIHJvdW5kUGl4ZWxzOiBmYWxzZSxcbiAgICB3aWR0aDogODAwLFxuICAgIGhlaWdodDogNjAwLFxuICAgIGxlZ2FjeTogZmFsc2VcbiAgfSxcblxuICAvKipcbiAgICogRGVmYXVsdCB0cmFuc2Zvcm0gdHlwZS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5UUkFOU0ZPUk1fTU9ERX1cbiAgICogQGRlZmF1bHQgUElYSS5UUkFOU0ZPUk1fTU9ERS5TVEFUSUNcbiAgICovXG4gIFRSQU5TRk9STV9NT0RFOiAwLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLkdDX01PREVTfVxuICAgKiBAZGVmYXVsdCBQSVhJLkdDX01PREVTLkFVVE9cbiAgICovXG4gIEdDX01PREU6IDAsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heCBpZGxlLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDM2MDBcbiAgICovXG4gIEdDX01BWF9JRExFOiA2MCAqIDYwLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXhpbXVtIGNoZWNrIGNvdW50LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDYwMFxuICAgKi9cbiAgR0NfTUFYX0NIRUNLX0NPVU5UOiA2MCAqIDEwLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1BJWEkuV1JBUF9NT0RFU31cbiAgICogQGRlZmF1bHQgUElYSS5XUkFQX01PREVTLkNMQU1QXG4gICAqL1xuICBXUkFQX01PREU6IDAsXG5cbiAgLyoqXG4gICAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5TQ0FMRV9NT0RFU31cbiAgICogQGRlZmF1bHQgUElYSS5TQ0FMRV9NT0RFUy5MSU5FQVJcbiAgICovXG4gIFNDQUxFX01PREU6IDAsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gdmVydGV4IHNoYWRlci5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAqIEBkZWZhdWx0IFBJWEkuUFJFQ0lTSU9OLkhJR0hcbiAgICovXG4gIFBSRUNJU0lPTl9WRVJURVg6ICdoaWdocCcsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gZnJhZ21lbnQgc2hhZGVyLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uTUVESVVNXG4gICAqL1xuICBQUkVDSVNJT05fRlJBR01FTlQ6ICdtZWRpdW1wJyxcblxuICAvKipcbiAgICogQ2FuIHdlIHVwbG9hZCB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWU/XG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0YW50XG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUjogKDAsIF9jYW5VcGxvYWRTYW1lQnVmZmVyMi5kZWZhdWx0KSgpLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IE1lc2ggYGNhbnZhc1BhZGRpbmdgLlxuICAgKlxuICAgKiBAc2VlIFBJWEkubWVzaC5NZXNoI2NhbnZhc1BhZGRpbmdcbiAgICogQHN0YXRpY1xuICAgKiBAY29uc3RhbnRcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIE1FU0hfQ0FOVkFTX1BBRERJTkc6IDBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0aW5ncy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUG9pbnQgPSByZXF1aXJlKCcuL1BvaW50Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUG9pbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb2ludCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfT2JzZXJ2YWJsZVBvaW50ID0gcmVxdWlyZSgnLi9PYnNlcnZhYmxlUG9pbnQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdPYnNlcnZhYmxlUG9pbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYnNlcnZhYmxlUG9pbnQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX01hdHJpeCA9IHJlcXVpcmUoJy4vTWF0cml4Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTWF0cml4Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWF0cml4KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Hcm91cEQgPSByZXF1aXJlKCcuL0dyb3VwRDgnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdHcm91cEQ4Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JvdXBEKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DaXJjbGUgPSByZXF1aXJlKCcuL3NoYXBlcy9DaXJjbGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDaXJjbGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaXJjbGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0VsbGlwc2UgPSByZXF1aXJlKCcuL3NoYXBlcy9FbGxpcHNlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRWxsaXBzZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0VsbGlwc2UpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1BvbHlnb24gPSByZXF1aXJlKCcuL3NoYXBlcy9Qb2x5Z29uJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUG9seWdvbicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvbHlnb24pLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1JlY3RhbmdsZSA9IHJlcXVpcmUoJy4vc2hhcGVzL1JlY3RhbmdsZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1JlY3RhbmdsZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlY3RhbmdsZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUm91bmRlZFJlY3RhbmdsZSA9IHJlcXVpcmUoJy4vc2hhcGVzL1JvdW5kZWRSZWN0YW5nbGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSb3VuZGVkUmVjdGFuZ2xlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91bmRlZFJlY3RhbmdsZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJ2YXIgZ2wgPSB7XG4gICAgY3JlYXRlQ29udGV4dDogICAgICAgICAgcmVxdWlyZSgnLi9jcmVhdGVDb250ZXh0JyksXG4gICAgc2V0VmVydGV4QXR0cmliQXJyYXlzOiAgcmVxdWlyZSgnLi9zZXRWZXJ0ZXhBdHRyaWJBcnJheXMnKSxcbiAgICBHTEJ1ZmZlcjogICAgICAgICAgICAgICByZXF1aXJlKCcuL0dMQnVmZmVyJyksXG4gICAgR0xGcmFtZWJ1ZmZlcjogICAgICAgICAgcmVxdWlyZSgnLi9HTEZyYW1lYnVmZmVyJyksXG4gICAgR0xTaGFkZXI6ICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9HTFNoYWRlcicpLFxuICAgIEdMVGV4dHVyZTogICAgICAgICAgICAgIHJlcXVpcmUoJy4vR0xUZXh0dXJlJyksXG4gICAgVmVydGV4QXJyYXlPYmplY3Q6ICAgICAgcmVxdWlyZSgnLi9WZXJ0ZXhBcnJheU9iamVjdCcpLFxuICAgIHNoYWRlcjogICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vc2hhZGVyJylcbn07XG5cbi8vIEV4cG9ydCBmb3IgTm9kZS1jb21wYXRpYmxlIGVudmlyb25tZW50c1xuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKVxue1xuICAgIC8vIEV4cG9ydCB0aGUgbW9kdWxlXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBnbDtcbn1cblxuLy8gQWRkIHRvIHRoZSBicm93c2VyIHdpbmRvdyBwaXhpLmdsXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpXG57XG4gICAgLy8gYWRkIHRoZSB3aW5kb3cgb2JqZWN0XG4gICAgd2luZG93LlBJWEkgPSB3aW5kb3cuUElYSSB8fCB7fTtcbiAgICB3aW5kb3cuUElYSS5nbENvcmUgPSBnbDtcbn1cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyByZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggYXJyYXkgd2l0aCBkaXJlY3RvcnkgbmFtZXMgdGhlcmVcbi8vIG11c3QgYmUgbm8gc2xhc2hlcywgZW1wdHkgZWxlbWVudHMsIG9yIGRldmljZSBuYW1lcyAoYzpcXCkgaW4gdGhlIGFycmF5XG4vLyAoc28gYWxzbyBubyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzIC0gaXQgZG9lcyBub3QgZGlzdGluZ3Vpc2hcbi8vIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBwYXRocylcbmZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5KHBhcnRzLCBhbGxvd0Fib3ZlUm9vdCkge1xuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgbGFzdCA9IHBhcnRzW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgcGFydHMudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFydHM7XG59XG5cbi8vIFNwbGl0IGEgZmlsZW5hbWUgaW50byBbcm9vdCwgZGlyLCBiYXNlbmFtZSwgZXh0XSwgdW5peCB2ZXJzaW9uXG4vLyAncm9vdCcgaXMganVzdCBhIHNsYXNoLCBvciBub3RoaW5nLlxudmFyIHNwbGl0UGF0aFJlID1cbiAgICAvXihcXC8/fCkoW1xcc1xcU10qPykoKD86XFwuezEsMn18W15cXC9dKz98KShcXC5bXi5cXC9dKnwpKSg/OltcXC9dKikkLztcbnZhciBzcGxpdFBhdGggPSBmdW5jdGlvbihmaWxlbmFtZSkge1xuICByZXR1cm4gc3BsaXRQYXRoUmUuZXhlYyhmaWxlbmFtZSkuc2xpY2UoMSk7XG59O1xuXG4vLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlc29sdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLFxuICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xuXG4gIGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG4gICAgdmFyIHBhdGggPSAoaSA+PSAwKSA/IGFyZ3VtZW50c1tpXSA6IHByb2Nlc3MuY3dkKCk7XG5cbiAgICAvLyBTa2lwIGVtcHR5IGFuZCBpbnZhbGlkIGVudHJpZXNcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH0gZWxzZSBpZiAoIXBhdGgpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckF0KDApID09PSAnLyc7XG4gIH1cblxuICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKVxuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocmVzb2x2ZWRQYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIXJlc29sdmVkQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICByZXR1cm4gKChyZXNvbHZlZEFic29sdXRlID8gJy8nIDogJycpICsgcmVzb2x2ZWRQYXRoKSB8fCAnLic7XG59O1xuXG4vLyBwYXRoLm5vcm1hbGl6ZShwYXRoKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5ub3JtYWxpemUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBpc0Fic29sdXRlID0gZXhwb3J0cy5pc0Fic29sdXRlKHBhdGgpLFxuICAgICAgdHJhaWxpbmdTbGFzaCA9IHN1YnN0cihwYXRoLCAtMSkgPT09ICcvJztcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihwYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIWlzQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICBpZiAoIXBhdGggJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBwYXRoID0gJy4nO1xuICB9XG4gIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHtcbiAgICBwYXRoICs9ICcvJztcbiAgfVxuXG4gIHJldHVybiAoaXNBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmlzQWJzb2x1dGUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5qb2luID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYXRocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gIHJldHVybiBleHBvcnRzLm5vcm1hbGl6ZShmaWx0ZXIocGF0aHMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7XG4gICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG4gIH0pLmpvaW4oJy8nKSk7XG59O1xuXG5cbi8vIHBhdGgucmVsYXRpdmUoZnJvbSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlbGF0aXZlID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgZnJvbSA9IGV4cG9ydHMucmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7XG4gIHRvID0gZXhwb3J0cy5yZXNvbHZlKHRvKS5zdWJzdHIoMSk7XG5cbiAgZnVuY3Rpb24gdHJpbShhcnIpIHtcbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIGZvciAoOyBzdGFydCA8IGFyci5sZW5ndGg7IHN0YXJ0KyspIHtcbiAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IGFyci5sZW5ndGggLSAxO1xuICAgIGZvciAoOyBlbmQgPj0gMDsgZW5kLS0pIHtcbiAgICAgIGlmIChhcnJbZW5kXSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiBhcnIuc2xpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0ICsgMSk7XG4gIH1cblxuICB2YXIgZnJvbVBhcnRzID0gdHJpbShmcm9tLnNwbGl0KCcvJykpO1xuICB2YXIgdG9QYXJ0cyA9IHRyaW0odG8uc3BsaXQoJy8nKSk7XG5cbiAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsIHRvUGFydHMubGVuZ3RoKTtcbiAgdmFyIHNhbWVQYXJ0c0xlbmd0aCA9IGxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChmcm9tUGFydHNbaV0gIT09IHRvUGFydHNbaV0pIHtcbiAgICAgIHNhbWVQYXJ0c0xlbmd0aCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgb3V0cHV0UGFydHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IHNhbWVQYXJ0c0xlbmd0aDsgaSA8IGZyb21QYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIG91dHB1dFBhcnRzLnB1c2goJy4uJyk7XG4gIH1cblxuICBvdXRwdXRQYXJ0cyA9IG91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpO1xuXG4gIHJldHVybiBvdXRwdXRQYXJ0cy5qb2luKCcvJyk7XG59O1xuXG5leHBvcnRzLnNlcCA9ICcvJztcbmV4cG9ydHMuZGVsaW1pdGVyID0gJzonO1xuXG5leHBvcnRzLmRpcm5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciByZXN1bHQgPSBzcGxpdFBhdGgocGF0aCksXG4gICAgICByb290ID0gcmVzdWx0WzBdLFxuICAgICAgZGlyID0gcmVzdWx0WzFdO1xuXG4gIGlmICghcm9vdCAmJiAhZGlyKSB7XG4gICAgLy8gTm8gZGlybmFtZSB3aGF0c29ldmVyXG4gICAgcmV0dXJuICcuJztcbiAgfVxuXG4gIGlmIChkaXIpIHtcbiAgICAvLyBJdCBoYXMgYSBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaFxuICAgIGRpciA9IGRpci5zdWJzdHIoMCwgZGlyLmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgcmV0dXJuIHJvb3QgKyBkaXI7XG59O1xuXG5cbmV4cG9ydHMuYmFzZW5hbWUgPSBmdW5jdGlvbihwYXRoLCBleHQpIHtcbiAgdmFyIGYgPSBzcGxpdFBhdGgocGF0aClbMl07XG4gIC8vIFRPRE86IG1ha2UgdGhpcyBjb21wYXJpc29uIGNhc2UtaW5zZW5zaXRpdmUgb24gd2luZG93cz9cbiAgaWYgKGV4dCAmJiBmLnN1YnN0cigtMSAqIGV4dC5sZW5ndGgpID09PSBleHQpIHtcbiAgICBmID0gZi5zdWJzdHIoMCwgZi5sZW5ndGggLSBleHQubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gZjtcbn07XG5cblxuZXhwb3J0cy5leHRuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gc3BsaXRQYXRoKHBhdGgpWzNdO1xufTtcblxuZnVuY3Rpb24gZmlsdGVyICh4cywgZikge1xuICAgIGlmICh4cy5maWx0ZXIpIHJldHVybiB4cy5maWx0ZXIoZik7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGYoeHNbaV0sIGksIHhzKSkgcmVzLnB1c2goeHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyBTdHJpbmcucHJvdG90eXBlLnN1YnN0ciAtIG5lZ2F0aXZlIGluZGV4IGRvbid0IHdvcmsgaW4gSUU4XG52YXIgc3Vic3RyID0gJ2FiJy5zdWJzdHIoLTEpID09PSAnYidcbiAgICA/IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHsgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbikgfVxuICAgIDogZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikge1xuICAgICAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IHN0ci5sZW5ndGggKyBzdGFydDtcbiAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbik7XG4gICAgfVxuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX0Jhc2VUZXh0dXJlID0gcmVxdWlyZSgnLi9CYXNlVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlKTtcblxudmFyIF9WaWRlb0Jhc2VUZXh0dXJlID0gcmVxdWlyZSgnLi9WaWRlb0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfVmlkZW9CYXNlVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WaWRlb0Jhc2VUZXh0dXJlKTtcblxudmFyIF9UZXh0dXJlVXZzID0gcmVxdWlyZSgnLi9UZXh0dXJlVXZzJyk7XG5cbnZhciBfVGV4dHVyZVV2czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlVXZzKTtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgdGV4dHVyZSBzdG9yZXMgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZSBvciBwYXJ0IG9mIGFuIGltYWdlLiBJdCBjYW5ub3QgYmUgYWRkZWRcbiAqIHRvIHRoZSBkaXNwbGF5IGxpc3QgZGlyZWN0bHkuIEluc3RlYWQgdXNlIGl0IGFzIHRoZSB0ZXh0dXJlIGZvciBhIFNwcml0ZS4gSWYgbm8gZnJhbWUgaXMgcHJvdmlkZWRcbiAqIHRoZW4gdGhlIHdob2xlIGltYWdlIGlzIHVzZWQuXG4gKlxuICogWW91IGNhbiBkaXJlY3RseSBjcmVhdGUgYSB0ZXh0dXJlIGZyb20gYW4gaW1hZ2UgYW5kIHRoZW4gcmV1c2UgaXQgbXVsdGlwbGUgdGltZXMgbGlrZSB0aGlzIDpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbUltYWdlKCdhc3NldHMvaW1hZ2UucG5nJyk7XG4gKiBsZXQgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGxldCBzcHJpdGUyID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGV4dHVyZXMgbWFkZSBmcm9tIFNWR3MsIGxvYWRlZCBvciBub3QsIGNhbm5vdCBiZSB1c2VkIGJlZm9yZSB0aGUgZmlsZSBmaW5pc2hlcyBwcm9jZXNzaW5nLlxuICogWW91IGNhbiBjaGVjayBmb3IgdGhpcyBieSBjaGVja2luZyB0aGUgc3ByaXRlJ3MgX3RleHR1cmVJRCBwcm9wZXJ0eS5cbiAqIGBgYGpzXG4gKiB2YXIgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoJ2Fzc2V0cy9pbWFnZS5zdmcnKTtcbiAqIHZhciBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogLy9zcHJpdGUxLl90ZXh0dXJlSUQgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQgaWYgdGhlIHRleHR1cmUgaGFzIGZpbmlzaGVkIHByb2Nlc3NpbmcgdGhlIFNWRyBmaWxlXG4gKiBgYGBcbiAqIFlvdSBjYW4gdXNlIGEgdGlja2VyIG9yIHJBRiB0byBlbnN1cmUgeW91ciBzcHJpdGVzIGxvYWQgdGhlIGZpbmlzaGVkIHRleHR1cmVzIGFmdGVyIHByb2Nlc3NpbmcuIFNlZSBpc3N1ZSAjMzA2OC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmUgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICAgIF9pbmhlcml0cyhUZXh0dXJlLCBfRXZlbnRFbWl0dGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlIHNvdXJjZSB0byBjcmVhdGUgdGhlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbb3JpZ10gLSBUaGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3RyaW1dIC0gVHJpbW1lZCByZWN0YW5nbGUgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRlXSAtIGluZGljYXRlcyBob3cgdGhlIHRleHR1cmUgd2FzIHJvdGF0ZWQgYnkgdGV4dHVyZSBwYWNrZXIuIFNlZSB7QGxpbmsgUElYSS5Hcm91cEQ4fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmUoYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCByb3RhdGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoaXMgVGV4dHVyZSBoYXZlIGFueSBmcmFtZSBkYXRhIGFzc2lnbmVkIHRvIGl0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50RW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFmcmFtZSkge1xuICAgICAgICAgICAgX3RoaXMubm9GcmFtZSA9IHRydWU7XG4gICAgICAgICAgICBmcmFtZSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFzZVRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGFyZWEgb2YgdGhlIEJhc2VUZXh0dXJlIGltYWdlIHRvIGFjdHVhbGx5IGNvcHkgdG8gdGhlIENhbnZhcyAvIFdlYkdMIHdoZW4gcmVuZGVyaW5nLFxuICAgICAgICAgKiBpcnJlc3BlY3RpdmUgb2YgdGhlIGFjdHVhbCBmcmFtZSBzaXplIG9yIHBsYWNlbWVudCAod2hpY2ggY2FuIGJlIGluZmx1ZW5jZWQgYnkgdHJpbW1lZCB0ZXh0dXJlIGF0bGFzZXMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZyYW1lID0gZnJhbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIHRyaW1tZWQgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgX3VwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGB0cmltYCBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmltID0gdHJpbTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IGEgcmVuZGVyZXIga25vdyB0aGF0IGEgdGV4dHVyZSBoYXMgYmVlbiB1cGRhdGVkICh1c2VkIG1haW5seSBmb3Igd2ViR0wgdXYgdXBkYXRlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlcXVpcmVzVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBVViBkYXRhIGNhY2hlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVVdnN9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXZzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWcgPSBvcmlnIHx8IGZyYW1lOyAvLyBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgICAgIF90aGlzLl9yb3RhdGUgPSBOdW1iZXIocm90YXRlIHx8IDApO1xuXG4gICAgICAgIGlmIChyb3RhdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb2xkIHRleHR1cmVwYWNrZXIgbGVnYWN5LCBzb21lIGdhbWVzL2xpYnJhcmllcyBhcmUgcGFzc2luZyBcInRydWVcIiBmb3Igcm90YXRlZCB0ZXh0dXJlc1xuICAgICAgICAgICAgX3RoaXMuX3JvdGF0ZSA9IDI7XG4gICAgICAgIH0gZWxzZSBpZiAoX3RoaXMuX3JvdGF0ZSAlIDIgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYXR0ZW1wdCB0byB1c2UgZGlhbW9uZC1zaGFwZWQgVVZzLiBJZiB5b3UgYXJlIHN1cmUsIHNldCByb3RhdGlvbiBtYW51YWxseScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoMCwgMCwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBmcmFtZSB3ZSBzaG91bGQgbW9uaXRvciBmb3IgYW55IGJhc2UgdGV4dHVyZSBjaGFuZ2VzLi5cbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5vbigndXBkYXRlJywgX3RoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5vbmNlKCdsb2FkZWQnLCBfdGhpcy5vbkJhc2VUZXh0dXJlTG9hZGVkLCBfdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLiBUaGlzIGhhcHBlbnMgaWYgdGhlIGZyYW1lIG9yIHRoZSBiYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5UZXh0dXJlI3VwZGF0ZVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyB1cGRhdGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICBfdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250YWlucyBkYXRhIGZvciB1dnMuIE1heSBjb250YWluIGNsYW1wIHNldHRpbmdzIGFuZCBzb21lIG1hdHJpY2VzLlxuICAgICAgICAgKiBJdHMgYSBiaXQgaGVhdnksIHNvIGJ5IGRlZmF1bHQgdGhhdCBvYmplY3QgaXMgbm90IGNyZWF0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZHMgdW5kZXIgd2hpY2ggdGhpcyBUZXh0dXJlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSB0ZXh0dXJlIGNhY2hlLiBUaGlzIGlzXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgc2V0IGFzIGxvbmcgYXMgVGV4dHVyZS5hZGRUb0NhY2hlIGlzIHVzZWQsIGJ1dCBtYXkgbm90IGJlIHNldCBpZiBhXG4gICAgICAgICAqIFRleHR1cmUgaXMgYWRkZWQgZGlyZWN0bHkgdG8gdGhlIFRleHR1cmVDYWNoZSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhpcyB0ZXh0dXJlIG9uIHRoZSBncHUuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYmFzZSB0ZXh0dXJlIGlzIGxvYWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUub25CYXNlVGV4dHVyZUxvYWRlZCA9IGZ1bmN0aW9uIG9uQmFzZVRleHR1cmVMb2FkZWQoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcblxuICAgICAgICAvLyBUT0RPIHRoaXMgY29kZSBsb29rcyBjb25mdXNpbmcuLiBib28gdG8gYWJ1c2luZyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICBpZiAodGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCBiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLl9mcmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUub24oJ3VwZGF0ZScsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYmFzZSB0ZXh0dXJlIGlzIHVwZGF0ZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLm9uQmFzZVRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gb25CYXNlVGV4dHVyZVVwZGF0ZWQoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcblxuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShkZXN0cm95QmFzZSkge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIHRoZSB0ZXh0dXJlIGlmIGl0IGV4aXN0cyBpbiB0aGUgdGV4dHVyZSBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBvbmx5IG5lZWRzIHRvIGJlIHJlbW92ZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSBpcyBhY3R1YWxseSBkZXN0cm95ZWQgdG9vLi5cbiAgICAgICAgICAgICAgICBpZiAoX3V0aWxzLlRleHR1cmVDYWNoZVt0aGlzLmJhc2VUZXh0dXJlLmltYWdlVXJsXSkge1xuICAgICAgICAgICAgICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLmJhc2VUZXh0dXJlLmltYWdlVXJsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoJ2xvYWRlZCcsIHRoaXMub25CYXNlVGV4dHVyZUxvYWRlZCwgdGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl91dnMgPSBudWxsO1xuICAgICAgICB0aGlzLnRyaW0gPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWcgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcblxuICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRleHR1cmUgb2JqZWN0IHRoYXQgYWN0cyB0aGUgc2FtZSBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ldyB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLCB0aGlzLmZyYW1lLCB0aGlzLm9yaWcsIHRoaXMudHJpbSwgdGhpcy5yb3RhdGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBXZWJHTCBVViBjYWNoZS4gVXNlIGl0IGFmdGVyIHlvdSBjaGFuZ2UgYGZyYW1lYCBvciBgdHJpbWAgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLl91cGRhdGVVdnMgPSBmdW5jdGlvbiBfdXBkYXRlVXZzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3V2cykge1xuICAgICAgICAgICAgdGhpcy5fdXZzID0gbmV3IF9UZXh0dXJlVXZzMi5kZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91dnMuc2V0KHRoaXMuX2ZyYW1lLCB0aGlzLmJhc2VUZXh0dXJlLCB0aGlzLnJvdGF0ZSk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIFRleHR1cmUgb2JqZWN0IGZyb20gdGhlIGdpdmVuIGltYWdlIHVybC5cbiAgICAgKiBJZiB0aGUgaW1hZ2UgaXMgbm90IGluIHRoZSB0ZXh0dXJlIGNhY2hlIGl0IHdpbGwgYmUgIGNyZWF0ZWQgYW5kIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VVcmwgLSBUaGUgaW1hZ2UgdXJsIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3Jvc3NvcmlnaW5dIC0gV2hldGhlciByZXF1ZXN0cyBzaG91bGQgYmUgdHJlYXRlZCBhcyBjcm9zc29yaWdpblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NvdXJjZVNjYWxlPShhdXRvKV0gLSBTY2FsZSBmb3IgdGhlIG9yaWdpbmFsIGltYWdlLCB1c2VkIHdpdGggU1ZHIGltYWdlcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoaW1hZ2VVcmwsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNvdXJjZVNjYWxlKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gX3V0aWxzLlRleHR1cmVDYWNoZVtpbWFnZVVybF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlID0gbmV3IFRleHR1cmUoX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmZyb21JbWFnZShpbWFnZVVybCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc291cmNlU2NhbGUpKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHNwcml0ZSB0aGF0IHdpbGwgY29udGFpbiBhIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZUNhY2hlIGJhc2VkIG9uIHRoZSBmcmFtZUlkXG4gICAgICogVGhlIGZyYW1lIGlkcyBhcmUgY3JlYXRlZCB3aGVuIGEgVGV4dHVyZSBwYWNrZXIgZmlsZSBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZnJhbWVJZCAtIFRoZSBmcmFtZSBJZCBvZiB0aGUgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tRnJhbWUgPSBmdW5jdGlvbiBmcm9tRnJhbWUoZnJhbWVJZCkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IF91dGlscy5UZXh0dXJlQ2FjaGVbZnJhbWVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBmcmFtZUlkIFwiJyArIGZyYW1lSWQgKyAnXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHRleHR1cmUgY2FjaGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IFRleHR1cmUgYmFzZWQgb24gdGhlIGdpdmVuIGNhbnZhcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIFRoZSBjYW52YXMgZWxlbWVudCBzb3VyY2Ugb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmlnaW49J2NhbnZhcyddIC0gQSBzdHJpbmcgb3JpZ2luIG9mIHdobyBjcmVhdGVkIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tQ2FudmFzID0gZnVuY3Rpb24gZnJvbUNhbnZhcyhjYW52YXMsIHNjYWxlTW9kZSkge1xuICAgICAgICB2YXIgb3JpZ2luID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnY2FudmFzJztcblxuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmZyb21DYW52YXMoY2FudmFzLCBzY2FsZU1vZGUsIG9yaWdpbikpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IFRleHR1cmUgYmFzZWQgb24gdGhlIGdpdmVuIHZpZGVvIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fHN0cmluZ30gdmlkZW8gLSBUaGUgVVJMIG9yIGFjdHVhbCBlbGVtZW50IG9mIHRoZSB2aWRlb1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tVmlkZW8gPSBmdW5jdGlvbiBmcm9tVmlkZW8odmlkZW8sIHNjYWxlTW9kZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZpZGVvID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIFRleHR1cmUuZnJvbVZpZGVvVXJsKHZpZGVvLCBzY2FsZU1vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKF9WaWRlb0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmZyb21WaWRlbyh2aWRlbywgc2NhbGVNb2RlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgdmlkZW8gdXJsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2aWRlb1VybCAtIFVSTCBvZiB0aGUgdmlkZW9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbVZpZGVvVXJsID0gZnVuY3Rpb24gZnJvbVZpZGVvVXJsKHZpZGVvVXJsLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKF9WaWRlb0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmZyb21VcmwodmlkZW9VcmwsIHNjYWxlTW9kZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IFRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiAgICAgICAgc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gZnJvbShzb3VyY2UpIHtcbiAgICAgICAgLy8gVE9ETyBhdXRvIGRldGVjdCBjcm9zcyBvcmlnaW4uLlxuICAgICAgICAvLyBUT0RPIHBhc3MgaW4gc2NhbGUgbW9kZT9cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IF91dGlscy5UZXh0dXJlQ2FjaGVbc291cmNlXTtcblxuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXRzIGEgdmlkZW8uLlxuICAgICAgICAgICAgICAgIHZhciBpc1ZpZGVvID0gc291cmNlLm1hdGNoKC9cXC4obXA0fHdlYm18b2dnfGgyNjR8YXZpfG1vdikkLykgIT09IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNWaWRlbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tVmlkZW9Vcmwoc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tSW1hZ2Uoc291cmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5mcm9tKHNvdXJjZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tQ2FudmFzKHNvdXJjZSwgX3NldHRpbmdzMi5kZWZhdWx0LlNDQUxFX01PREUsICdIVE1MQ2FudmFzRWxlbWVudCcpO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0dXJlLmZyb21WaWRlbyhzb3VyY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIF9CYXNlVGV4dHVyZTIuZGVmYXVsdCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKHNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFzc3VtZSBpdHMgYSB0ZXh0dXJlIVxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0ZXh0dXJlIGZyb20gYSBzb3VyY2UgYW5kIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBUaGUgaW5wdXQgc291cmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbWFnZVVybCAtIEZpbGUgbmFtZSBvZiB0ZXh0dXJlLCBmb3IgY2FjaGUgYW5kIHJlc29sdmluZyByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZV0gLSBIdW1hbiByZWFkaWJsZSBuYW1lIGZvciB0aGUgdGV4dHVyZSBjYWNoZS4gSWYgbm8gbmFtZSBpc1xuICAgICAqICAgICAgICBzcGVjaWZpZWQsIG9ubHkgYGltYWdlVXJsYCB3aWxsIGJlIHVzZWQgYXMgdGhlIGNhY2hlIElELlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gT3V0cHV0IHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tTG9hZGVyID0gZnVuY3Rpb24gZnJvbUxvYWRlcihzb3VyY2UsIGltYWdlVXJsLCBuYW1lKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IG5ldyBfQmFzZVRleHR1cmUyLmRlZmF1bHQoc291cmNlLCB1bmRlZmluZWQsICgwLCBfdXRpbHMuZ2V0UmVzb2x1dGlvbk9mVXJsKShpbWFnZVVybCkpO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS5pbWFnZVVybCA9IGltYWdlVXJsO1xuXG4gICAgICAgIC8vIE5vIG5hbWUsIHVzZSBpbWFnZVVybCBpbnN0ZWFkXG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IGltYWdlVXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgZnJvbUZyYW1lIGFuZCBmcm9tSW1hZ2UgZnVjbnRpb25zXG4gICAgICAgIF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIG5hbWUpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgbmFtZSk7XG5cbiAgICAgICAgLy8gYWxzbyBhZGQgcmVmZXJlbmNlcyBieSB1cmwgaWYgdGhleSBhcmUgZGlmZmVyZW50LlxuICAgICAgICBpZiAobmFtZSAhPT0gaW1hZ2VVcmwpIHtcbiAgICAgICAgICAgIF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIFRleHR1cmUgdG8gdGhlIGdsb2JhbCBUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuYWRkVG9DYWNoZSA9IGZ1bmN0aW9uIGFkZFRvQ2FjaGUodGV4dHVyZSwgaWQpIHtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBpZiAodGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEBpZiBERUJVR1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgaWYgKF91dGlscy5UZXh0dXJlQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFsnICsgaWQgKyAnXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIC8vIEBlbmRpZlxuXG4gICAgICAgICAgICBfdXRpbHMuVGV4dHVyZUNhY2hlW2lkXSA9IHRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIGlkIG9mIGEgVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIFRleHR1cmUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfG51bGx9IFRoZSBUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiByZW1vdmVGcm9tQ2FjaGUodGV4dHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRleHR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUZyb21DYWNoZSA9IF91dGlscy5UZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZih0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIF91dGlscy5UZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0dXJlICYmIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0ZXh0dXJlIG1hdGNoZXMgdGhlIG9uZSBiZWluZyBwYXNzZWQgaW4gYmVmb3JlIGRlbGV0aW5nIGl0IGZyb20gdGhlIGNhY2hlLlxuICAgICAgICAgICAgICAgIGlmIChfdXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgX3V0aWxzLlRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUgc3BlY2lmaWVzIHRoZSByZWdpb24gb2YgdGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAqIFBsZWFzZSBjYWxsIGBfdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYGZyYW1lYCBtYW51YWxseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoVGV4dHVyZSwgW3tcbiAgICAgICAga2V5OiAnZnJhbWUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZnJhbWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZSA9IGZyYW1lO1xuXG4gICAgICAgICAgICB0aGlzLm5vRnJhbWUgPSBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIHggPSBmcmFtZS54LFxuICAgICAgICAgICAgICAgIHkgPSBmcmFtZS55LFxuICAgICAgICAgICAgICAgIHdpZHRoID0gZnJhbWUud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgICAgICB2YXIgeE5vdEZpdCA9IHggKyB3aWR0aCA+IHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB2YXIgeU5vdEZpdCA9IHkgKyBoZWlnaHQgPiB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICAgICAgaWYgKHhOb3RGaXQgfHwgeU5vdEZpdCkge1xuICAgICAgICAgICAgICAgIHZhciByZWxhdGlvbnNoaXAgPSB4Tm90Rml0ICYmIHlOb3RGaXQgPyAnYW5kJyA6ICdvcic7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yWCA9ICdYOiAnICsgeCArICcgKyAnICsgd2lkdGggKyAnID0gJyArICh4ICsgd2lkdGgpICsgJyA+ICcgKyB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclkgPSAnWTogJyArIHkgKyAnICsgJyArIGhlaWdodCArICcgPSAnICsgKHkgKyBoZWlnaHQpICsgJyA+ICcgKyB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGV4dHVyZSBFcnJvcjogZnJhbWUgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgYmFzZSBUZXh0dXJlIGRpbWVuc2lvbnM6ICcgKyAoZXJyb3JYICsgJyAnICsgcmVsYXRpb25zaGlwICsgJyAnICsgZXJyb3JZKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRoaXMudmFsaWQgPSB3aWR0aCAmJiBoZWlnaHQgJiYgdGhpcy5iYXNlVGV4dHVyZS5zb3VyY2UgJiYgdGhpcy5iYXNlVGV4dHVyZS5oYXNMb2FkZWQ7XG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gd2lkdGggJiYgaGVpZ2h0ICYmIHRoaXMuYmFzZVRleHR1cmUuaGFzTG9hZGVkO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMudHJpbSAmJiAhdGhpcy5yb3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWcgPSBmcmFtZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVVdnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdGV4dHVyZSBpcyByb3RhdGVkIGluc2lkZSB0aGUgYXRsYXNcbiAgICAgICAgICogc2V0IHRvIDIgdG8gY29tcGVuc2F0ZSBmb3IgdGV4dHVyZSBwYWNrZXIgcm90YXRpb25cbiAgICAgICAgICogc2V0IHRvIDYgdG8gY29tcGVuc2F0ZSBmb3Igc3BpbmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICAgICAqIGNhbiBiZSB1c2VkIHRvIHJvdGF0ZSBvciBtaXJyb3Igc3ByaXRlc1xuICAgICAgICAgKiBTZWUge0BsaW5rIFBJWEkuR3JvdXBEOH0gZm9yIGV4cGxhbmF0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JvdGF0ZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQocm90YXRlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlID0gcm90YXRlO1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVVdnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3aWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUZXh0dXJlO1xufShfZXZlbnRlbWl0dGVyMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dHVyZTtcblxuXG5mdW5jdGlvbiBjcmVhdGVXaGl0ZVRleHR1cmUoKSB7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgY2FudmFzLndpZHRoID0gMTA7XG4gICAgY2FudmFzLmhlaWdodCA9IDEwO1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIDEwLCAxMCk7XG5cbiAgICByZXR1cm4gbmV3IFRleHR1cmUobmV3IF9CYXNlVGV4dHVyZTIuZGVmYXVsdChjYW52YXMpKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQWxsSGFuZGxlcnModGV4KSB7XG4gICAgdGV4LmRlc3Ryb3kgPSBmdW5jdGlvbiBfZW1wdHlEZXN0cm95KCkgey8qIGVtcHR5ICovfTtcbiAgICB0ZXgub24gPSBmdW5jdGlvbiBfZW1wdHlPbigpIHsvKiBlbXB0eSAqL307XG4gICAgdGV4Lm9uY2UgPSBmdW5jdGlvbiBfZW1wdHlPbmNlKCkgey8qIGVtcHR5ICovfTtcbiAgICB0ZXguZW1pdCA9IGZ1bmN0aW9uIF9lbXB0eUVtaXQoKSB7LyogZW1wdHkgKi99O1xufVxuXG4vKipcbiAqIEFuIGVtcHR5IHRleHR1cmUsIHVzZWQgb2Z0ZW4gdG8gbm90IGhhdmUgdG8gY3JlYXRlIG11bHRpcGxlIGVtcHR5IHRleHR1cmVzLlxuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKi9cblRleHR1cmUuRU1QVFkgPSBuZXcgVGV4dHVyZShuZXcgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0KCkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKTtcblxuLyoqXG4gKiBBIHdoaXRlIHRleHR1cmUgb2YgMTB4MTAgc2l6ZSwgdXNlZCBmb3IgZ3JhcGhpY3MgYW5kIG90aGVyIHRoaW5nc1xuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKi9cblRleHR1cmUuV0hJVEUgPSBjcmVhdGVXaGl0ZVRleHR1cmUoKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURS5iYXNlVGV4dHVyZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtCb29sZWFufSBleGlzdHMgT25seSBjaGVjayBpZiB0aGVyZSBhcmUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0FycmF5fEJvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCwgZXhpc3RzKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBhdmFpbGFibGUgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoZXhpc3RzKSByZXR1cm4gISFhdmFpbGFibGU7XG4gIGlmICghYXZhaWxhYmxlKSByZXR1cm4gW107XG4gIGlmIChhdmFpbGFibGUuZm4pIHJldHVybiBbYXZhaWxhYmxlLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGF2YWlsYWJsZS5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBhdmFpbGFibGVbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IHRoaXMpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHRoaXMuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIHRoaXMuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XS5mbikgdGhpcy5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgdGhpcy5fZXZlbnRzW2V2dF0gPSBbdGhpcy5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCB0aGlzLCB0cnVlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCB0aGlzLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghdGhpcy5fZXZlbnRzW2V2dF0uZm4pIHRoaXMuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIHRoaXMuX2V2ZW50c1tldnRdID0gW3RoaXMuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm5cbiAgICAgICYmICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSlcbiAgICAgICYmICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmblxuICAgICAgICB8fCAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpXG4gICAgICAgIHx8IChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSB7XG4gICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgICAgZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gVGhpcyBmdW5jdGlvbiBkb2Vzbid0IGFwcGx5IGFueW1vcmUuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cbnZhciBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gPSByZXF1aXJlKCcuLi91dGlscy9kZXRlcm1pbmVDcm9zc09yaWdpbicpO1xuXG52YXIgX2RldGVybWluZUNyb3NzT3JpZ2luMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RldGVybWluZUNyb3NzT3JpZ2luKTtcblxudmFyIF9iaXRUd2lkZGxlID0gcmVxdWlyZSgnYml0LXR3aWRkbGUnKTtcblxudmFyIF9iaXRUd2lkZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdFR3aWRkbGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSB0ZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlLiBBbGwgdGV4dHVyZXMgaGF2ZSBhIGJhc2UgdGV4dHVyZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhc2VUZXh0dXJlID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQmFzZVRleHR1cmUsIF9FdmVudEVtaXR0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBbc291cmNlXSAtIHRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VUZXh0dXJlKHNvdXJjZSwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50RW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy51aWQgPSAoMCwgX3V0aWxzLnVpZCkoKTtcblxuICAgICAgICBfdGhpcy50b3VjaGVkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndpZHRoID0gMTAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhlaWdodCA9IDEwMDtcblxuICAgICAgICAvLyBUT0RPIGRvY3NcbiAgICAgICAgLy8gdXNlZCB0byBzdG9yZSB0aGUgYWN0dWFsIGRpbWVuc2lvbnMgb2YgdGhlIHNvdXJjZVxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBzdG9yZSB0aGUgYWN0dWFsIHdpZHRoIG9mIHRoZSBzb3VyY2Ugb2YgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZWFsV2lkdGggPSAxMDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIHN0b3JlIHRoZSBhY3R1YWwgaGVpZ2h0IG9mIHRoZSBzb3VyY2Ugb2YgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZWFsSGVpZ2h0ID0gMTAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgbW9kZSB0byBhcHBseSB3aGVuIHNjYWxpbmcgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXG4gICAgICAgICAqIEBzZWUgUElYSS5TQ0FMRV9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIHRydWUgb25jZSB0aGUgYmFzZSB0ZXh0dXJlIGhhcyBzdWNjZXNzZnVsbHkgbG9hZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIG5ldmVyIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGZhaWxzIHRvIGxvYWQgb3IgaGFzIG5vIHRleHR1cmUgZGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oYXNMb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIHRydWUgaWYgdGhlIHNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgYW4gSW1hZ2Ugc291cmNlIGlzIGxvYWRpbmcgdGhlICdsb2FkZWQnIG9yICdlcnJvcicgZXZlbnQgd2lsbCBiZVxuICAgICAgICAgKiBkaXNwYXRjaGVkIHdoZW4gdGhlIG9wZXJhdGlvbiBlbmRzLiBBbiB1bmRlcnlsaW5nIHNvdXJjZSB0aGF0IGlzXG4gICAgICAgICAqIGltbWVkaWF0ZWx5LWF2YWlsYWJsZSBieXBhc3NlcyBsb2FkaW5nIGVudGlyZWx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW1hZ2Ugc291cmNlIHRoYXQgaXMgdXNlZCB0byBjcmVhdGUgdGhlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRPRE86IE1ha2UgdGhpcyBhIHNldHRlciB0aGF0IGNhbGxzIGxvYWRTb3VyY2UoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBudWxsOyAvLyBzZXQgaW4gbG9hZFNvdXJjZSwgaWYgYXQgYWxsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbWFnZSBzb3VyY2UgdGhhdCBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgdGV4dHVyZS4gVGhpcyBpcyB1c2VkIHRvXG4gICAgICAgICAqIHN0b3JlIHRoZSBvcmlnaW5hbCBTdmcgc291cmNlIHdoZW4gaXQgaXMgcmVwbGFjZWQgd2l0aCBhIGNhbnZhcyBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUT0RPOiBDdXJyZW50bHkgbm90IGluIHVzZSBidXQgY291bGQgYmUgdXNlZCB3aGVuIHJlLXNjYWxpbmcgc3ZnLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7SW1hZ2V9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnU291cmNlID0gbnVsbDsgLy8gc2V0IGluIGxvYWRTdmcsIGlmIGF0IGFsbFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIG9mIGltYWdlIGRlZmluZWQgaW4gc291cmNlLCBlZy4gYHBuZ2Agb3IgYHN2Z2BcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlVHlwZSA9IG51bGw7IC8vIHNldCBpbiB1cGRhdGVJbWFnZVR5cGVcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGUgZm9yIHNvdXJjZSBpbWFnZS4gVXNlZCB3aXRoIFN2ZyBpbWFnZXMgdG8gc2NhbGUgdGhlbSBiZWZvcmUgcmFzdGVyaXphdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZVNjYWxlID0gMS4wO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250cm9scyBpZiBSR0IgY2hhbm5lbHMgc2hvdWxkIGJlIHByZS1tdWx0aXBsaWVkIGJ5IEFscGhhICAoV2ViR0wgb25seSlcbiAgICAgICAgICogQWxsIGJsZW5kIG1vZGVzLCBhbmQgc2hhZGVycyB3cml0dGVuIGZvciBkZWZhdWx0IHZhbHVlLiBDaGFuZ2UgaXQgb24geW91ciBvd24gcmlzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucHJlbXVsdGlwbGllZEFscGhhID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGltYWdlIHVybCBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVVybCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSB0ZXh0dXJlIGlzIGEgcG93ZXIgb2YgdHdvLCB0cnkgdG8gdXNlIHBvd2VyIG9mIHR3byB0ZXh0dXJlcyBhcyBtdWNoXG4gICAgICAgICAqIGFzIHlvdSBjYW5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzUG93ZXJPZlR3byA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHVzZWQgZm9yIHdlYkdMXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldCB0aGlzIHRvIHRydWUgaWYgYSBtaXBtYXAgb2YgdGhpcyB0ZXh0dXJlIG5lZWRzIHRvIGJlIGdlbmVyYXRlZC4gVGhpcyB2YWx1ZSBuZWVkc1xuICAgICAgICAgKiB0byBiZSBzZXQgYmVmb3JlIHRoZSB0ZXh0dXJlIGlzIHVzZWRcbiAgICAgICAgICogQWxzbyB0aGUgdGV4dHVyZSBtdXN0IGJlIGEgcG93ZXIgb2YgdHdvIHNpemUgdG8gd29ya1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAc2VlIFBJWEkuTUlQTUFQX1RFWFRVUkVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5taXBtYXAgPSBfc2V0dGluZ3MyLmRlZmF1bHQuTUlQTUFQX1RFWFRVUkVTO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBXZWJHTCBUZXh0dXJlIHdyYXAgbW9kZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5XUkFQX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53cmFwTW9kZSA9IF9zZXR0aW5nczIuZGVmYXVsdC5XUkFQX01PREU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCB0ZXh0dXJlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBXZWJHTFRleHR1cmU+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2dsVGV4dHVyZXMgPSB7fTtcblxuICAgICAgICBfdGhpcy5fZW5hYmxlZCA9IDA7XG4gICAgICAgIF90aGlzLl92aXJ0YWxCb3VuZElkID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZHMgdW5kZXIgd2hpY2ggdGhpcyBCYXNlVGV4dHVyZSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgYmFzZSB0ZXh0dXJlIGNhY2hlLiBUaGlzIGlzXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgc2V0IGFzIGxvbmcgYXMgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSBpcyB1c2VkLCBidXQgbWF5IG5vdCBiZSBzZXQgaWYgYVxuICAgICAgICAgKiBCYXNlVGV4dHVyZSBpcyBhZGRlZCBkaXJlY3RseSB0byB0aGUgQmFzZVRleHR1cmVDYWNoZSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcblxuICAgICAgICAvLyBpZiBubyBzb3VyY2UgcGFzc2VkIGRvbid0IHRyeSB0byBsb2FkXG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWRTb3VyY2Uoc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSBzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmYWlscyB0byBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Vycm9yXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBlcnJvcmVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI3VwZGF0ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyB1cGRhdGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyBkZXN0cm95ZWQuXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdGV4dHVyZSBvbiBhbGwgdGhlIHdlYmdsIHJlbmRlcmVycywgdGhpcyBhbHNvIGFzc3VtZXMgdGhlIHNyYyBoYXMgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI3VwZGF0ZVxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICAvLyBTdmcgc2l6ZSBpcyBoYW5kbGVkIGR1cmluZyBsb2FkXG4gICAgICAgIGlmICh0aGlzLmltYWdlVHlwZSAhPT0gJ3N2ZycpIHtcbiAgICAgICAgICAgIHRoaXMucmVhbFdpZHRoID0gdGhpcy5zb3VyY2UubmF0dXJhbFdpZHRoIHx8IHRoaXMuc291cmNlLnZpZGVvV2lkdGggfHwgdGhpcy5zb3VyY2Uud2lkdGg7XG4gICAgICAgICAgICB0aGlzLnJlYWxIZWlnaHQgPSB0aGlzLnNvdXJjZS5uYXR1cmFsSGVpZ2h0IHx8IHRoaXMuc291cmNlLnZpZGVvSGVpZ2h0IHx8IHRoaXMuc291cmNlLmhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRGltZW5zaW9ucygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGRpbWVuc2lvbnMgZnJvbSByZWFsIHZhbHVlc1xuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX3VwZGF0ZURpbWVuc2lvbnMgPSBmdW5jdGlvbiBfdXBkYXRlRGltZW5zaW9ucygpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMucmVhbFdpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMucmVhbEhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmlzUG93ZXJPZlR3byA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0LmlzUG93Mih0aGlzLnJlYWxXaWR0aCkgJiYgX2JpdFR3aWRkbGUyLmRlZmF1bHQuaXNQb3cyKHRoaXMucmVhbEhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWQgYSBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgc291cmNlIGlzIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUsIHN1Y2ggYXMgYW4gaW1hZ2UgdGhhdCBuZWVkcyB0byBiZVxuICAgICAqIGRvd25sb2FkZWQsIHRoZW4gdGhlICdsb2FkZWQnIG9yICdlcnJvcicgZXZlbnQgd2lsbCBiZSBkaXNwYXRjaGVkIGluIHRoZSBmdXR1cmVcbiAgICAgKiBhbmQgYGhhc0xvYWRlZGAgd2lsbCByZW1haW4gZmFsc2UgYWZ0ZXIgdGhpcyBjYWxsLlxuICAgICAqXG4gICAgICogVGhlIGxvZ2ljIHN0YXRlIGFmdGVyIGNhbGxpbmcgYGxvYWRTb3VyY2VgIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgKGVnLiBgZnJvbUltYWdlYCwgYG5ldyBCYXNlVGV4dHVyZWApIGlzOlxuICAgICAqXG4gICAgICogICAgIGlmICh0ZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAqICAgICAgICAvLyB0ZXh0dXJlIHJlYWR5IGZvciB1c2VcbiAgICAgKiAgICAgfSBlbHNlIGlmICh0ZXh0dXJlLmlzTG9hZGluZykge1xuICAgICAqICAgICAgICAvLyBsaXN0ZW4gdG8gJ2xvYWRlZCcgYW5kL29yICdlcnJvcicgZXZlbnRzIG9uIHRleHR1cmVcbiAgICAgKiAgICAgfSBlbHNlIHtcbiAgICAgKiAgICAgICAgLy8gbm90IGxvYWRpbmcsIG5vdCBnb2luZyB0byBsb2FkIFVOTEVTUyB0aGUgc291cmNlIGlzIHJlbG9hZGVkXG4gICAgICogICAgICAgIC8vIChpdCBtYXkgc3RpbGwgbWFrZSBzZW5zZSB0byBsaXN0ZW4gdG8gdGhlIGV2ZW50cylcbiAgICAgKiAgICAgfVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gdGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5sb2FkU291cmNlID0gZnVuY3Rpb24gbG9hZFNvdXJjZShzb3VyY2UpIHtcbiAgICAgICAgdmFyIHdhc0xvYWRpbmcgPSB0aGlzLmlzTG9hZGluZztcblxuICAgICAgICB0aGlzLmhhc0xvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh3YXNMb2FkaW5nICYmIHRoaXMuc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZmlyc3RTb3VyY2VMb2FkZWQgPSAhdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG5cbiAgICAgICAgLy8gQXBwbHkgc291cmNlIGlmIGxvYWRlZC4gT3RoZXJ3aXNlIHNldHVwIGFwcHJvcHJpYXRlIGxvYWRpbmcgbW9uaXRvcnMuXG4gICAgICAgIGlmICgoc291cmNlLnNyYyAmJiBzb3VyY2UuY29tcGxldGUgfHwgc291cmNlLmdldENvbnRleHQpICYmIHNvdXJjZS53aWR0aCAmJiBzb3VyY2UuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVJbWFnZVR5cGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2VUeXBlID09PSAnc3ZnJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTdmdTb3VyY2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc291cmNlTG9hZGVkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaXJzdFNvdXJjZUxvYWRlZCkge1xuICAgICAgICAgICAgICAgIC8vIHNlbmQgbG9hZGVkIGV2ZW50IGlmIHByZXZpb3VzIHNvdXJjZSB3YXMgbnVsbCBhbmQgd2UgaGF2ZSBiZWVuIHBhc3NlZCBhIHByZS1sb2FkZWQgSU1HIGVsZW1lbnRcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFzb3VyY2UuZ2V0Q29udGV4dCkge1xuICAgICAgICAgICAgLy8gSW1hZ2UgZmFpbCAvIG5vdCByZWFkeVxuICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICB2YXIgc2NvcGUgPSB0aGlzO1xuXG4gICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLl91cGRhdGVJbWFnZVR5cGUoKTtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlLmlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2NvcGUuX3NvdXJjZUxvYWRlZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmltYWdlVHlwZSA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuX2xvYWRTdmdTb3VyY2UoKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuZW1pdCgnbG9hZGVkJywgc2NvcGUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZS5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNjb3BlLmVtaXQoJ2Vycm9yJywgc2NvcGUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gUGVyIGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI3RoZS1pbWctZWxlbWVudFxuICAgICAgICAgICAgLy8gICBcIlRoZSB2YWx1ZSBvZiBgY29tcGxldGVgIGNhbiB0aHVzIGNoYW5nZSB3aGlsZSBhIHNjcmlwdCBpcyBleGVjdXRpbmcuXCJcbiAgICAgICAgICAgIC8vIFNvIGNvbXBsZXRlIG5lZWRzIHRvIGJlIHJlLWNoZWNrZWQgYWZ0ZXIgdGhlIGNhbGxiYWNrcyBoYXZlIGJlZW4gYWRkZWQuLlxuICAgICAgICAgICAgLy8gTk9URTogY29tcGxldGUgd2lsbCBiZSB0cnVlIGlmIHRoZSBpbWFnZSBoYXMgbm8gc3JjIHNvIGJlc3QgdG8gY2hlY2sgaWYgdGhlIHNyYyBpcyBzZXQuXG4gICAgICAgICAgICBpZiAoc291cmNlLmNvbXBsZXRlICYmIHNvdXJjZS5zcmMpIHtcbiAgICAgICAgICAgICAgICAvLyAuLmFuZCBpZiB3ZSdyZSBjb21wbGV0ZSBub3csIG5vIG5lZWQgZm9yIGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5pbWFnZVR5cGUgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLl9sb2FkU3ZnU291cmNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc291cmNlTG9hZGVkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYW55IHByZXZpb3VzIHN1YnNjcmliZXJzIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgIGlmICh3YXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIGFueSBwcmV2aW91cyBzdWJzY3JpYmVycyBwb3NzaWJsZVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHdhc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdHlwZSBvZiB0aGUgc291cmNlIGltYWdlLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX3VwZGF0ZUltYWdlVHlwZSA9IGZ1bmN0aW9uIF91cGRhdGVJbWFnZVR5cGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbWFnZVVybCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGFVcmkgPSAoMCwgX3V0aWxzLmRlY29tcG9zZURhdGFVcmkpKHRoaXMuaW1hZ2VVcmwpO1xuICAgICAgICB2YXIgaW1hZ2VUeXBlID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChkYXRhVXJpICYmIGRhdGFVcmkubWVkaWFUeXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3Igc3ViVHlwZSB2YWxpZGl0eVxuICAgICAgICAgICAgdmFyIGZpcnN0U3ViVHlwZSA9IGRhdGFVcmkuc3ViVHlwZS5zcGxpdCgnKycpWzBdO1xuXG4gICAgICAgICAgICBpbWFnZVR5cGUgPSAoMCwgX3V0aWxzLmdldFVybEZpbGVFeHRlbnNpb24pKCcuJyArIGZpcnN0U3ViVHlwZSk7XG5cbiAgICAgICAgICAgIGlmICghaW1hZ2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGltYWdlIHR5cGUgaW4gZGF0YSBVUkkuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbWFnZVR5cGUgPSAoMCwgX3V0aWxzLmdldFVybEZpbGVFeHRlbnNpb24pKHRoaXMuaW1hZ2VVcmwpO1xuXG4gICAgICAgICAgICBpZiAoIWltYWdlVHlwZSkge1xuICAgICAgICAgICAgICAgIGltYWdlVHlwZSA9ICdwbmcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbWFnZVR5cGUgPSBpbWFnZVR5cGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc291cmNlYCBpcyBhbiBTVkcgaW1hZ2UgYW5kIHdoZXRoZXIgaXQncyBsb2FkZWQgdmlhIGEgVVJMIG9yIGEgZGF0YSBVUkkuIFRoZW4gY2FsbHNcbiAgICAgKiBgX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmlgIG9yIGBfbG9hZFN2Z1NvdXJjZVVzaW5nWGhyYC5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9sb2FkU3ZnU291cmNlID0gZnVuY3Rpb24gX2xvYWRTdmdTb3VyY2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmltYWdlVHlwZSAhPT0gJ3N2ZycpIHtcbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgc291cmNlIGlzIG5vdCBzdmdcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhVXJpID0gKDAsIF91dGlscy5kZWNvbXBvc2VEYXRhVXJpKSh0aGlzLmltYWdlVXJsKTtcblxuICAgICAgICBpZiAoZGF0YVVyaSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaShkYXRhVXJpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdlIGdvdCBhbiBVUkwsIHNvIHdlIG5lZWQgdG8gZG8gYW4gWEhSIHRvIGNoZWNrIHRoZSBzdmcgc2l6ZVxuICAgICAgICAgICAgdGhpcy5fbG9hZFN2Z1NvdXJjZVVzaW5nWGhyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVhZHMgYW4gU1ZHIHN0cmluZyBmcm9tIGRhdGEgVVJJIGFuZCB0aGVuIGNhbGxzIGBfbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhVXJpIC0gVGhlIGRhdGEgdXJpIHRvIGxvYWQgZnJvbS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpID0gZnVuY3Rpb24gX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmkoZGF0YVVyaSkge1xuICAgICAgICB2YXIgc3ZnU3RyaW5nID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChkYXRhVXJpLmVuY29kaW5nID09PSAnYmFzZTY0Jykge1xuICAgICAgICAgICAgaWYgKCFhdG9iKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgYmFzZTY0IGNvbnZlcnNpb25zLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ZnU3RyaW5nID0gYXRvYihkYXRhVXJpLmRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3ZnU3RyaW5nID0gZGF0YVVyaS5kYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nKHN2Z1N0cmluZyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIGFuIFNWRyBzdHJpbmcgZnJvbSBgaW1hZ2VVcmxgIHVzaW5nIFhIUiBhbmQgdGhlbiBjYWxscyBgX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZ2AuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZVVzaW5nWGhyID0gZnVuY3Rpb24gX2xvYWRTdmdTb3VyY2VVc2luZ1hocigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHN2Z1hociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIC8vIFRoaXMgdGhyb3dzIGVycm9yIG9uIElFLCBzbyBTVkcgRG9jdW1lbnQgY2FuJ3QgYmUgdXNlZFxuICAgICAgICAvLyBzdmdYaHIucmVzcG9uc2VUeXBlID0gJ2RvY3VtZW50JztcblxuICAgICAgICAvLyBUaGlzIGlzIG5vdCBuZWVkZWQgc2luY2Ugd2UgbG9hZCB0aGUgc3ZnIGFzIHN0cmluZyAoYnJlYWtzIElFIHRvbylcbiAgICAgICAgLy8gYnV0IG92ZXJyaWRlTWltZVR5cGUoKSBjYW4gYmUgdXNlZCB0byBmb3JjZSB0aGUgcmVzcG9uc2UgdG8gYmUgcGFyc2VkIGFzIFhNTFxuICAgICAgICAvLyBzdmdYaHIub3ZlcnJpZGVNaW1lVHlwZSgnaW1hZ2Uvc3ZnK3htbCcpO1xuXG4gICAgICAgIHN2Z1hoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoc3ZnWGhyLnJlYWR5U3RhdGUgIT09IHN2Z1hoci5ET05FIHx8IHN2Z1hoci5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgU1ZHIHVzaW5nIFhIUi4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMyLl9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmcoc3ZnWGhyLnJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzdmdYaHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuZW1pdCgnZXJyb3InLCBfdGhpczIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHN2Z1hoci5vcGVuKCdHRVQnLCB0aGlzLmltYWdlVXJsLCB0cnVlKTtcbiAgICAgICAgc3ZnWGhyLnNlbmQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGV4dHVyZSB1c2luZyBhbiBTVkcgc3RyaW5nLiBUaGUgb3JpZ2luYWwgU1ZHIEltYWdlIGlzIHN0b3JlZCBhcyBgb3JpZ1NvdXJjZWAgYW5kIHRoZVxuICAgICAqIGNyZWF0ZWQgY2FudmFzIGlzIHRoZSBuZXcgYHNvdXJjZWAuIFRoZSBTVkcgaXMgc2NhbGVkIHVzaW5nIGBzb3VyY2VTY2FsZWAuIENhbGxlZCBieVxuICAgICAqIGBfbG9hZFN2Z1NvdXJjZVVzaW5nWGhyYCBvciBgX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmlgLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBzdmdTdHJpbmcgU1ZHIHNvdXJjZSBhcyBzdHJpbmdcbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyA9IGZ1bmN0aW9uIF9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmcoc3ZnU3RyaW5nKSB7XG4gICAgICAgIHZhciBzdmdTaXplID0gKDAsIF91dGlscy5nZXRTdmdTaXplKShzdmdTdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdmdXaWR0aCA9IHN2Z1NpemUud2lkdGg7XG4gICAgICAgIHZhciBzdmdIZWlnaHQgPSBzdmdTaXplLmhlaWdodDtcblxuICAgICAgICBpZiAoIXN2Z1dpZHRoIHx8ICFzdmdIZWlnaHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFNWRyBpbWFnZSBtdXN0IGhhdmUgd2lkdGggYW5kIGhlaWdodCBkZWZpbmVkIChpbiBwaXhlbHMpLCBjYW52YXMgQVBJIG5lZWRzIHRoZW0uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTY2FsZSByZWFsV2lkdGggYW5kIHJlYWxIZWlnaHRcbiAgICAgICAgdGhpcy5yZWFsV2lkdGggPSBNYXRoLnJvdW5kKHN2Z1dpZHRoICogdGhpcy5zb3VyY2VTY2FsZSk7XG4gICAgICAgIHRoaXMucmVhbEhlaWdodCA9IE1hdGgucm91bmQoc3ZnSGVpZ2h0ICogdGhpcy5zb3VyY2VTY2FsZSk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlRGltZW5zaW9ucygpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIGNhbnZhcyBlbGVtZW50XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICBjYW52YXMud2lkdGggPSB0aGlzLnJlYWxXaWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHRoaXMucmVhbEhlaWdodDtcbiAgICAgICAgY2FudmFzLl9waXhpSWQgPSAnY2FudmFzXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcblxuICAgICAgICAvLyBEcmF3IHRoZSBTdmcgdG8gdGhlIGNhbnZhc1xuICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UodGhpcy5zb3VyY2UsIDAsIDAsIHN2Z1dpZHRoLCBzdmdIZWlnaHQsIDAsIDAsIHRoaXMucmVhbFdpZHRoLCB0aGlzLnJlYWxIZWlnaHQpO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgdGhlIG9yaWdpbmFsIHNvdXJjZSBpbWFnZSB3aXRoIHRoZSBjYW52YXNcbiAgICAgICAgdGhpcy5vcmlnU291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHRoaXMuc291cmNlID0gY2FudmFzO1xuXG4gICAgICAgIC8vIEFkZCBhbHNvIHRoZSBjYW52YXMgaW4gY2FjaGUgKGRlc3Ryb3kgY2xlYXJzIGJ5IGBpbWFnZVVybGAgYW5kIGBzb3VyY2UuX3BpeGlJZGApXG4gICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGhpcywgY2FudmFzLl9waXhpSWQpO1xuXG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NvdXJjZUxvYWRlZCgpO1xuICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGludGVybmFsbHkgdG8gdXBkYXRlIHRoZSB3aWR0aCwgaGVpZ2h0LCBhbmQgc29tZSBvdGhlciB0cmFja2luZyB2YXJzIG9uY2VcbiAgICAgKiBhIHNvdXJjZSBoYXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fc291cmNlTG9hZGVkID0gZnVuY3Rpb24gX3NvdXJjZUxvYWRlZCgpIHtcbiAgICAgICAgdGhpcy5oYXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VVcmwpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBfdXRpbHMuVGV4dHVyZUNhY2hlW3RoaXMuaW1hZ2VVcmxdO1xuXG4gICAgICAgICAgICB0aGlzLmltYWdlVXJsID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKCFuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlLnNyYyA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZyZWVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0wgbWVtb3J5IHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIHRleHR1cmUgb2JqZWN0LlxuICAgICAqIFRoaXMgbWVhbnMgeW91IGNhbiBzdGlsbCB1c2UgdGhlIHRleHR1cmUgbGF0ZXIgd2hpY2ggd2lsbCB1cGxvYWQgaXQgdG8gR1BVXG4gICAgICogbWVtb3J5IGFnYWluLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGlzcG9zZScsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBzb3VyY2UgaW1hZ2Ugb2YgdGhlIHRleHR1cmUuXG4gICAgICogVGhlIG9yaWdpbmFsIHNvdXJjZSBtdXN0IGJlIGFuIEltYWdlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3U3JjIC0gdGhlIHBhdGggb2YgdGhlIGltYWdlXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS51cGRhdGVTb3VyY2VJbWFnZSA9IGZ1bmN0aW9uIHVwZGF0ZVNvdXJjZUltYWdlKG5ld1NyYykge1xuICAgICAgICB0aGlzLnNvdXJjZS5zcmMgPSBuZXdTcmM7XG5cbiAgICAgICAgdGhpcy5sb2FkU291cmNlKHRoaXMuc291cmNlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJhc2UgdGV4dHVyZSBmcm9tIHRoZSBnaXZlbiBpbWFnZSB1cmwuXG4gICAgICogSWYgdGhlIGltYWdlIGlzIG5vdCBpbiB0aGUgYmFzZSB0ZXh0dXJlIGNhY2hlIGl0IHdpbGwgYmUgY3JlYXRlZCBhbmQgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZVVybCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcm9zc29yaWdpbj0oYXV0byldIC0gU2hvdWxkIHVzZSBhbm9ueW1vdXMgQ09SUz8gRGVmYXVsdHMgdG8gdHJ1ZSBpZiB0aGUgVVJMIGlzIG5vdCBhIGRhdGEtVVJJLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NvdXJjZVNjYWxlPShhdXRvKV0gLSBTY2FsZSBmb3IgdGhlIG9yaWdpbmFsIGltYWdlLCB1c2VkIHdpdGggU3ZnIGltYWdlcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGltYWdlVXJsLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzb3VyY2VTY2FsZSkge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtpbWFnZVVybF07XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgLy8gbmV3IEltYWdlKCkgYnJlYWtzIHRleCBsb2FkaW5nIGluIHNvbWUgdmVyc2lvbnMgb2YgQ2hyb21lLlxuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yMzgwNzFcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOyAvLyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblxuICAgICAgICAgICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQgJiYgaW1hZ2VVcmwuaW5kZXhPZignZGF0YTonKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gKDAsIF9kZXRlcm1pbmVDcm9zc09yaWdpbjIuZGVmYXVsdCkoaW1hZ2VVcmwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjcm9zc29yaWdpbikge1xuICAgICAgICAgICAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSAnc3RyaW5nJyA/IGNyb3Nzb3JpZ2luIDogJ2Fub255bW91cyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKGltYWdlLCBzY2FsZU1vZGUpO1xuICAgICAgICAgICAgYmFzZVRleHR1cmUuaW1hZ2VVcmwgPSBpbWFnZVVybDtcblxuICAgICAgICAgICAgaWYgKHNvdXJjZVNjYWxlKSB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuc291cmNlU2NhbGUgPSBzb3VyY2VTY2FsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4gQDJ4IGF0IHRoZSBlbmQgb2YgdGhlIHVybCB3ZSBhcmUgZ29pbmcgdG8gYXNzdW1lIGl0cyBhIGhpZ2hyZXMgaW1hZ2VcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPSAoMCwgX3V0aWxzLmdldFJlc29sdXRpb25PZlVybCkoaW1hZ2VVcmwpO1xuXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBpbWFnZVVybDsgLy8gU2V0dGluZyB0aGlzIHRyaWdnZXJzIGxvYWRcblxuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYmFzZSB0ZXh0dXJlIGZyb20gdGhlIGdpdmVuIGNhbnZhcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIFRoZSBjYW52YXMgZWxlbWVudCBzb3VyY2Ugb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVNb2RlIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmlnaW49J2NhbnZhcyddIC0gQSBzdHJpbmcgb3JpZ2luIG9mIHdobyBjcmVhdGVkIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUuZnJvbUNhbnZhcyA9IGZ1bmN0aW9uIGZyb21DYW52YXMoY2FudmFzLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgdmFyIG9yaWdpbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2NhbnZhcyc7XG5cbiAgICAgICAgaWYgKCFjYW52YXMuX3BpeGlJZCkge1xuICAgICAgICAgICAgY2FudmFzLl9waXhpSWQgPSBvcmlnaW4gKyAnXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2NhbnZhcy5fcGl4aUlkXTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShjYW52YXMsIHNjYWxlTW9kZSk7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBjYW52YXMuX3BpeGlJZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBiYXNlIHRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGltYWdlIHVybCwgaW1hZ2UgZWxlbWVudCwgY2FudmFzIGVsZW1lbnQuIElmIHRoZVxuICAgICAqIHNvdXJjZSBpcyBhbiBpbWFnZSB1cmwgb3IgYW4gaW1hZ2UgZWxlbWVudCBhbmQgbm90IGluIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBjYWNoZSwgaXQgd2lsbCBiZSBjcmVhdGVkIGFuZCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gVGhlIHNvdXJjZSB0byBjcmVhdGUgYmFzZSB0ZXh0dXJlIGZyb20uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc291cmNlU2NhbGU9KGF1dG8pXSAtIFNjYWxlIGZvciB0aGUgb3JpZ2luYWwgaW1hZ2UsIHVzZWQgd2l0aCBTdmcgaW1hZ2VzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV9IFRoZSBuZXcgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gZnJvbShzb3VyY2UsIHNjYWxlTW9kZSwgc291cmNlU2NhbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gQmFzZVRleHR1cmUuZnJvbUltYWdlKHNvdXJjZSwgdW5kZWZpbmVkLCBzY2FsZU1vZGUsIHNvdXJjZVNjYWxlKTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VVcmwgPSBzb3VyY2Uuc3JjO1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbaW1hZ2VVcmxdO1xuXG4gICAgICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoc291cmNlLCBzY2FsZU1vZGUpO1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmltYWdlVXJsID0gaW1hZ2VVcmw7XG5cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlU2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuc291cmNlU2NhbGUgPSBzb3VyY2VTY2FsZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiBAMnggYXQgdGhlIGVuZCBvZiB0aGUgdXJsIHdlIGFyZSBnb2luZyB0byBhc3N1bWUgaXRzIGEgaGlnaHJlcyBpbWFnZVxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPSAoMCwgX3V0aWxzLmdldFJlc29sdXRpb25PZlVybCkoaW1hZ2VVcmwpO1xuXG4gICAgICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tQ2FudmFzKHNvdXJjZSwgc2NhbGVNb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYXNzdW1lIGl0cyBhIGJhc2UgdGV4dHVyZSFcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIEJhc2VUZXh0dXJlIHRvIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIEJhc2VUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIEJhc2VUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiBhZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBpZCkge1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBAaWYgREVCVUdcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGlmIChfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtpZF0pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Jhc2VUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFsnICsgaWQgKyAnXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIC8vIEBlbmRpZlxuXG4gICAgICAgICAgICBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtpZF0gPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBCYXNlVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIGlkIG9mIGEgQmFzZVRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBCYXNlVGV4dHVyZSBpbnN0YW5jZSBpdHNlbGYuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZXxudWxsfSBUaGUgQmFzZVRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlID0gZnVuY3Rpb24gcmVtb3ZlRnJvbUNhY2hlKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYmFzZVRleHR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmVGcm9tQ2FjaGUgPSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZUZyb21DYWNoZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYmFzZVRleHR1cmUgJiYgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXNlVGV4dHVyZTtcbn0oX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJhc2VUZXh0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZVRleHR1cmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi9jb3JlL3RleHR1cmVzL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgY29yZS5Qb2ludCgpO1xudmFyIHRlbXBQb2x5Z29uID0gbmV3IGNvcmUuUG9seWdvbigpO1xuXG4vKipcbiAqIEJhc2UgbWVzaCBjbGFzc1xuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWEkubWVzaFxuICovXG5cbnZhciBNZXNoID0gZnVuY3Rpb24gKF9jb3JlJENvbnRhaW5lcikge1xuICAgIF9pbmhlcml0cyhNZXNoLCBfY29yZSRDb250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW3ZlcnRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt1dnNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgdXZzXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gW2luZGljZXNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgaW5kaWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZHJhd01vZGVdIC0gdGhlIGRyYXdNb2RlLCBjYW4gYmUgYW55IG9mIHRoZSBNZXNoLkRSQVdfTU9ERVMgY29uc3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaCh0ZXh0dXJlLCB2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzLCBkcmF3TW9kZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVzaCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIG9mIHRoZSBNZXNoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UZXh0dXJlLkVNUFRZXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRDb250YWluZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuX3RleHR1cmUgPSB0ZXh0dXJlIHx8IF9UZXh0dXJlMi5kZWZhdWx0LkVNUFRZO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgVXZzIG9mIHRoZSBNZXNoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2cyA9IHV2cyB8fCBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAxLCAwLCAxLCAxLCAwLCAxXSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRpY2VzID0gdmVydGljZXMgfHwgbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gIFRPRE8gYXV0byBnZW5lcmF0ZSB0aGlzIGJhc2VkIG9uIGRyYXcgbW9kZSFcbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9IGluZGljZXMgfHwgbmV3IFVpbnQxNkFycmF5KFswLCAxLCAzLCAyXSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZlcnNpb24gb2YgbWVzaCB1dnMgYXJlIGRpcnR5IG9yIG5vdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZlcnNpb24gb2YgbWVzaCBpbmRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluZGV4RGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWZXJzaW9uIG9mIG1lc2ggdmVydGljaWVzIGFycmF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleERpcnR5ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHRoZSBkZWZhdWx0IGlzIHRvIHJlLXVwbG9hZCB2ZXJ0aWNpZXMgZWFjaCByZW5kZXIgY2FsbC5cbiAgICAgICAgICogU2V0IHRoaXMgdG8gYGZhbHNlYCBhbmQgaW5jcmVhc2UgYHZlcnRleERpcnR5YCB0byBtYW51YWxseSByZS11cGxvYWQgdGhlIGJ1ZmZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFNldCB0byBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlbW92ZVxuICAgICAgICAgKiBhbnkgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IGNvcmUuQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmlhbmdsZXMgaW4gY2FudmFzIG1vZGUgYXJlIGF1dG9tYXRpY2FsbHkgYW50aWFsaWFzZWQsIHVzZSB0aGlzIHZhbHVlIHRvIGZvcmNlIHRyaWFuZ2xlc1xuICAgICAgICAgKiB0byBvdmVybGFwIGEgYml0IHdpdGggZWFjaCBvdGhlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzUGFkZGluZyA9IGNvcmUuc2V0dGluZ3MuTUVTSF9DQU5WQVNfUEFERElORztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdheSB0aGUgTWVzaCBzaG91bGQgYmUgZHJhd24sIGNhbiBiZSBhbnkgb2YgdGhlIHtAbGluayBQSVhJLm1lc2guTWVzaC5EUkFXX01PREVTfSBjb25zdHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkubWVzaC5NZXNoLkRSQVdfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRyYXdNb2RlID0gZHJhd01vZGUgfHwgTWVzaC5EUkFXX01PREVTLlRSSUFOR0xFX01FU0g7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlciB0aGF0IGlzIHVzZWQgaWYgYSBtZXNoIGRvZXNuJ3QgaGF2ZSBhIG1vcmUgc3BlY2lmaWMgb25lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIG1lc2guIFRoaXMgaXMgYSBbcixnLGJdIHZhbHVlLiBBIHZhbHVlIG9mIFsxLDEsMV0gd2lsbCByZW1vdmUgYW55XG4gICAgICAgICAqIHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aW50UmdiID0gbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMV0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgcmVuZGVyIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgb2JqZWN0Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9nbERhdGFzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRyYW5zZm9ybSB0aGF0IGlzIGFwcGxpZWQgdG8gVVYgdG8gZ2V0IHRoZSB0ZXh0dXJlIGNvb3Jkc1xuICAgICAgICAgKiBpdHMgdXBkYXRlZCBpbmRlcGVuZGVudGx5IGZyb20gdGV4dHVyZSB1dlRyYW5zZm9ybVxuICAgICAgICAgKiB1cGRhdGVzIG9mIHV2cyBhcmUgdGllZCB0byB0aGF0IHRoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91dlRyYW5zZm9ybSA9IG5ldyBjb3JlLlRleHR1cmVNYXRyaXgoX3RoaXMuX3RleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB3aGV0aGVyIG9yIG5vdCB1cGxvYWQgdXZUcmFuc2Zvcm0gdG8gc2hhZGVyXG4gICAgICAgICAqIGlmIGl0cyBmYWxzZSwgdGhlbiB1dnMgc2hvdWxkIGJlIHByZS1tdWx0aXBsaWVkXG4gICAgICAgICAqIGlmIHlvdSBjaGFuZ2UgaXQgZm9yIGdlbmVyYXRlZCBtZXNoLCBwbGVhc2UgY2FsbCAncmVmcmVzaCh0cnVlKSdcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVwbG9hZFV2VHJhbnNmb3JtID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXJXZWJHTCcgJiAnX3JlbmRlckNhbnZhcycgbWV0aG9kcy5cbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbWVzaCdcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbk5hbWUgPSAnbWVzaCc7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIGEgcmVmZXJlbmNlIHRvIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIHJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqL1xuXG5cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLCB0aGlzIGV2ZW50IHdpbGwgZmlyZSB0byB1cGRhdGUgdGhlIHNjYWxlIGFuZCBmcmFtZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgTWVzaC5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX3V2VHJhbnNmb3JtLnRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogbXVsdGlwbGllcyB1dnMgb25seSBpZiB1cGxvYWRVdlRyYW5zZm9ybSBpcyBmYWxzZVxuICAgICAqIGNhbGwgaXQgYWZ0ZXIgeW91IGNoYW5nZSB1dnMgbWFudWFsbHlcbiAgICAgKiBtYWtlIHN1cmUgdGhhdCB0ZXh0dXJlIGlzIHZhbGlkXG4gICAgICovXG5cblxuICAgIE1lc2gucHJvdG90eXBlLm11bHRpcGx5VXZzID0gZnVuY3Rpb24gbXVsdGlwbHlVdnMoKSB7XG4gICAgICAgIGlmICghdGhpcy51cGxvYWRVdlRyYW5zZm9ybSkge1xuICAgICAgICAgICAgdGhpcy5fdXZUcmFuc2Zvcm0ubXVsdGlwbHlVdnModGhpcy51dnMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyB1dnMgZm9yIGdlbmVyYXRlZCBtZXNoZXMgKHJvcGUsIHBsYW5lKVxuICAgICAqIHNvbWV0aW1lcyByZWZyZXNoZXMgdmVydGljZXMgdG9vXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVVwZGF0ZT1mYWxzZV0gaWYgdHJ1ZSwgbWF0cmljZXMgd2lsbCBiZSB1cGRhdGVkIGFueSBjYXNlXG4gICAgICovXG5cblxuICAgIE1lc2gucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiByZWZyZXNoKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4RGlydHkrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdXZUcmFuc2Zvcm0udXBkYXRlKGZvcmNlVXBkYXRlKSkge1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHJlLWNhbGN1bGF0ZXMgbWVzaCBjb29yZHNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG5cblxuICAgIE1lc2gucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gX3JlZnJlc2goKSB7fVxuICAgIC8qIGVtcHR5ICovXG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGJvdW5kcyBvZiB0aGUgbWVzaCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LlxuICAgICAqXG4gICAgICovXG4gICAgO1xuXG4gICAgTWVzaC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIC8vIFRPRE8gLSB3ZSBjYW4gY2FjaGUgbG9jYWwgYm91bmRzIGFuZCB1c2UgdGhlbSBpZiB0aGV5IGFyZSBkaXJ0eSAobGlrZSBncmFwaGljcylcbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFZlcnRpY2VzKHRoaXMudHJhbnNmb3JtLCB0aGlzLnZlcnRpY2VzLCAwLCB0aGlzLnZlcnRpY2VzLmxlbmd0aCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgbWVzaC4gV29ya3Mgb25seSBmb3IgVFJJQU5HTEVfTUVTSFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuXG5cbiAgICBNZXNoLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnQueCwgcG9pbnQueSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHZhciBwb2ludHMgPSB0ZW1wUG9seWdvbi5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gdGhpcy5pbmRpY2VzO1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgdmFyIHN0ZXAgPSB0aGlzLmRyYXdNb2RlID09PSBNZXNoLkRSQVdfTU9ERVMuVFJJQU5HTEVTID8gMyA6IDE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgKyAyIDwgbGVuOyBpICs9IHN0ZXApIHtcbiAgICAgICAgICAgIHZhciBpbmQwID0gaW5kaWNlc1tpXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kMSA9IGluZGljZXNbaSArIDFdICogMjtcbiAgICAgICAgICAgIHZhciBpbmQyID0gaW5kaWNlc1tpICsgMl0gKiAyO1xuXG4gICAgICAgICAgICBwb2ludHNbMF0gPSB2ZXJ0aWNlc1tpbmQwXTtcbiAgICAgICAgICAgIHBvaW50c1sxXSA9IHZlcnRpY2VzW2luZDAgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1syXSA9IHZlcnRpY2VzW2luZDFdO1xuICAgICAgICAgICAgcG9pbnRzWzNdID0gdmVydGljZXNbaW5kMSArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzRdID0gdmVydGljZXNbaW5kMl07XG4gICAgICAgICAgICBwb2ludHNbNV0gPSB2ZXJ0aWNlc1tpbmQyICsgMV07XG5cbiAgICAgICAgICAgIGlmICh0ZW1wUG9seWdvbi5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIG1lc2ggdXNlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIE1lc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIC8vIGZvciBlYWNoIHdlYmdsIGRhdGEgZW50cnksIGRlc3Ryb3kgdGhlIFdlYkdMR3JhcGhpY3NEYXRhXG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuX2dsRGF0YXMpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZ2xEYXRhc1tpZF07XG5cbiAgICAgICAgICAgIGlmIChkYXRhLmRlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudmVydGV4QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudmVydGV4QnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS52ZXJ0ZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmluZGV4QnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnV2QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudXZCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnV2QnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudmFvKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudmFvLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS52YW8gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2dsRGF0YXMgPSBudWxsO1xuXG4gICAgICAgIF9jb3JlJENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoTWVzaCwgW3tcbiAgICAgICAga2V5OiAndGV4dHVyZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSB0ZXh0dXJlIHRvIGxvYWRcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIG1lc2guIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0aW50JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29yZS51dGlscy5yZ2IyaGV4KHRoaXMudGludFJnYik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50aW50UmdiID0gY29yZS51dGlscy5oZXgycmdiKHZhbHVlLCB0aGlzLnRpbnRSZ2IpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE1lc2g7XG59KGNvcmUuQ29udGFpbmVyKTtcblxuLyoqXG4gKiBEaWZmZXJlbnQgZHJhd2luZyBidWZmZXIgbW9kZXMgc3VwcG9ydGVkXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX01FU0hcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRVNcbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1lc2g7XG5NZXNoLkRSQVdfTU9ERVMgPSB7XG4gICAgVFJJQU5HTEVfTUVTSDogMCxcbiAgICBUUklBTkdMRVM6IDFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXNoLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuLy8gaW1wb3J0IExvYWRlciBmcm9tICcuL0xvYWRlcic7XG4vLyBpbXBvcnQgUmVzb3VyY2UgZnJvbSAnLi9SZXNvdXJjZSc7XG4vLyBpbXBvcnQgKiBhcyBhc3luYyBmcm9tICcuL2FzeW5jJztcbi8vIGltcG9ydCAqIGFzIGI2NCBmcm9tICcuL2I2NCc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5cbnZhciBMb2FkZXIgPSByZXF1aXJlKCcuL0xvYWRlcicpLmRlZmF1bHQ7XG52YXIgUmVzb3VyY2UgPSByZXF1aXJlKCcuL1Jlc291cmNlJykuZGVmYXVsdDtcbnZhciBhc3luYyA9IHJlcXVpcmUoJy4vYXN5bmMnKTtcbnZhciBiNjQgPSByZXF1aXJlKCcuL2I2NCcpO1xuXG5Mb2FkZXIuUmVzb3VyY2UgPSBSZXNvdXJjZTtcbkxvYWRlci5hc3luYyA9IGFzeW5jO1xuTG9hZGVyLmJhc2U2NCA9IGI2NDtcblxuLy8gZXhwb3J0IG1hbnVhbGx5LCBhbmQgYWxzbyBhcyBkZWZhdWx0XG5tb2R1bGUuZXhwb3J0cyA9IExvYWRlcjtcbi8vIGV4cG9ydCBkZWZhdWx0IExvYWRlcjtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBMb2FkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBjaGVja1ByZWNpc2lvbihzcmMsIGRlZikge1xuICAgIGlmIChzcmMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBpZiAoc3JjWzBdLnN1YnN0cmluZygwLCA5KSAhPT0gJ3ByZWNpc2lvbicpIHtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gc3JjLnNsaWNlKDApO1xuXG4gICAgICAgICAgICBjb3B5LnVuc2hpZnQoJ3ByZWNpc2lvbiAnICsgZGVmICsgJyBmbG9hdDsnKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNyYy50cmltKCkuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJykge1xuICAgICAgICByZXR1cm4gJ3ByZWNpc2lvbiAnICsgZGVmICsgJyBmbG9hdDtcXG4nICsgc3JjO1xuICAgIH1cblxuICAgIHJldHVybiBzcmM7XG59XG5cbi8qKlxuICogV3JhcHBlciBjbGFzcywgd2ViR0wgU2hhZGVyIGZvciBQaXhpLlxuICogQWRkcyBwcmVjaXNpb24gc3RyaW5nIGlmIHZlcnRleFNyYyBvciBmcmFnbWVudFNyYyBoYXZlIG5vIG1lbnRpb24gb2YgaXQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBHTFNoYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgU2hhZGVyID0gZnVuY3Rpb24gKF9HTFNoYWRlcikge1xuICAgIF9pbmhlcml0cyhTaGFkZXIsIF9HTFNoYWRlcik7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHZlcnRleFNyYyAtIFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBmcmFnbWVudFNyYyAtIFRoZSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFthdHRyaWJ1dGVMb2NhdGlvbnNdIC0gQSBrZXkgdmFsdWUgcGFpciBzaG93aW5nIHdoaWNoIGxvY2F0aW9uIGVhY3QgYXR0cmlidXRlIHNob3VsZCBzaXQuXG4gICAgICAgICAgICAgICAgICAgICAgIGUuZy4ge3Bvc2l0aW9uOjAsIHV2czoxfS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWNpc2lvbl0gLSBUaGUgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2hhZGVyKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMsIHByZWNpc2lvbikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2hhZGVyKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0dMU2hhZGVyLmNhbGwodGhpcywgZ2wsIGNoZWNrUHJlY2lzaW9uKHZlcnRleFNyYywgcHJlY2lzaW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5QUkVDSVNJT05fVkVSVEVYKSwgY2hlY2tQcmVjaXNpb24oZnJhZ21lbnRTcmMsIHByZWNpc2lvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUFJFQ0lTSU9OX0ZSQUdNRU5UKSwgdW5kZWZpbmVkLCBhdHRyaWJ1dGVMb2NhdGlvbnMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gU2hhZGVyO1xufShfcGl4aUdsQ29yZS5HTFNoYWRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNoYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgV2ViR0xNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAqL1xuICBmdW5jdGlvbiBXZWJHTE1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xNYW5hZ2VyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5XZWJHTFJlbmRlcmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgIHRoaXMucmVuZGVyZXIub24oJ2NvbnRleHQnLCB0aGlzLm9uQ29udGV4dENoYW5nZSwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJpYyBtZXRob2QgY2FsbGVkIHdoZW4gdGhlcmUgaXMgYSBXZWJHTCBjb250ZXh0IGNoYW5nZS5cbiAgICpcbiAgICovXG5cblxuICBXZWJHTE1hbmFnZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHt9XG4gIC8vIGRvIHNvbWUgY29kZXMgaW5pdCFcblxuXG4gIC8qKlxuICAgKiBHZW5lcmljIGRlc3Ryb3kgbWV0aG9kcyB0byBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdWJjbGFzc1xuICAgKlxuICAgKi9cbiAgO1xuXG4gIFdlYkdMTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlci5vZmYoJ2NvbnRleHQnLCB0aGlzLm9uQ29udGV4dENoYW5nZSwgdGhpcyk7XG5cbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gV2ViR0xNYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTE1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTE1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1N5c3RlbVJlbmRlcmVyMiA9IHJlcXVpcmUoJy4uL1N5c3RlbVJlbmRlcmVyJyk7XG5cbnZhciBfU3lzdGVtUmVuZGVyZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3lzdGVtUmVuZGVyZXIyKTtcblxudmFyIF9DYW52YXNNYXNrTWFuYWdlciA9IHJlcXVpcmUoJy4vdXRpbHMvQ2FudmFzTWFza01hbmFnZXInKTtcblxudmFyIF9DYW52YXNNYXNrTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNNYXNrTWFuYWdlcik7XG5cbnZhciBfQ2FudmFzUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi91dGlscy9DYW52YXNSZW5kZXJUYXJnZXQnKTtcblxudmFyIF9DYW52YXNSZW5kZXJUYXJnZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyVGFyZ2V0KTtcblxudmFyIF9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpID0gcmVxdWlyZSgnLi91dGlscy9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpJyk7XG5cbnZhciBfbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgQ2FudmFzUmVuZGVyZXIgZHJhd3MgdGhlIHNjZW5lIGFuZCBhbGwgaXRzIGNvbnRlbnQgb250byBhIDJkIGNhbnZhcy4gVGhpcyByZW5kZXJlciBzaG91bGRcbiAqIGJlIHVzZWQgZm9yIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgV2ViR0wuIERvbid0IGZvcmdldCB0byBhZGQgdGhlIENhbnZhc1JlbmRlcmVyLnZpZXcgdG9cbiAqIHlvdXIgRE9NIG9yIHlvdSB3aWxsIG5vdCBzZWUgYW55dGhpbmcgOilcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVJlbmRlcmVyXG4gKi9cbnZhciBDYW52YXNSZW5kZXJlciA9IGZ1bmN0aW9uIChfU3lzdGVtUmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoQ2FudmFzUmVuZGVyZXIsIF9TeXN0ZW1SZW5kZXJlcik7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2NcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9SZXNpemU9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIGF1dG9tYXRpY2FsbHkgcmVzaXplZCwgZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzIChvbmx5IGFwcGxpY2FibGUgaW4gY2hyb21lIGF0IHRoZSBtb21lbnQpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuIFRoZVxuICAgICAqICByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAgICogICAgICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJvdW5kUGl4ZWxzPWZhbHNlXSAtIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsXG4gICAgICogIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzUmVuZGVyZXIob3B0aW9ucywgYXJnMiwgYXJnMykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9TeXN0ZW1SZW5kZXJlci5jYWxsKHRoaXMsICdDYW52YXMnLCBvcHRpb25zLCBhcmcyLCBhcmczKSk7XG5cbiAgICAgICAgX3RoaXMudHlwZSA9IF9jb25zdC5SRU5ERVJFUl9UWVBFLkNBTlZBUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvb3QgY2FudmFzIDJkIGNvbnRleHQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHdpdGguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvb3RDb250ZXh0ID0gX3RoaXMudmlldy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IF90aGlzLnRyYW5zcGFyZW50IH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBjYW52YXMgMmQgY29udGV4dCAoY291bGQgY2hhbmdlIHdpdGggcmVuZGVyVGV4dHVyZXMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHQgPSBfdGhpcy5yb290Q29udGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQm9vbGVhbiBmbGFnIGNvbnRyb2xsaW5nIGNhbnZhcyByZWZyZXNoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVmcmVzaCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluc3RhbmNlIG9mIGEgQ2FudmFzTWFza01hbmFnZXIsIGhhbmRsZXMgbWFza2luZyB3aGVuIHVzaW5nIHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ2FudmFzTWFza01hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXNrTWFuYWdlciA9IG5ldyBfQ2FudmFzTWFza01hbmFnZXIyLmRlZmF1bHQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIHByb3BlcnR5IHVzZWQgdG8gc2V0IHRoZSBjYW52YXMgc21vb3RoaW5nIHByb3BlcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zbW9vdGhQcm9wZXJ0eSA9ICdpbWFnZVNtb290aGluZ0VuYWJsZWQnO1xuXG4gICAgICAgIGlmICghX3RoaXMucm9vdENvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucm9vdENvbnRleHQud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc21vb3RoUHJvcGVydHkgPSAnd2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucm9vdENvbnRleHQubW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc21vb3RoUHJvcGVydHkgPSAnbW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucm9vdENvbnRleHQub0ltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNtb290aFByb3BlcnR5ID0gJ29JbWFnZVNtb290aGluZ0VuYWJsZWQnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5yb290Q29udGV4dC5tc0ltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNtb290aFByb3BlcnR5ID0gJ21zSW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmluaXRQbHVnaW5zKCk7XG5cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlcyA9ICgwLCBfbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aTIuZGVmYXVsdCkoKTtcbiAgICAgICAgX3RoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSBmYWxzZTtcblxuICAgICAgICBfdGhpcy5yZXNpemUoX3RoaXMub3B0aW9ucy53aWR0aCwgX3RoaXMub3B0aW9ucy5oZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBhZnRlciByZW5kZXJpbmcgZmluaXNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkNhbnZhc1JlbmRlcmVyI3Bvc3RyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmcgc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5DYW52YXNSZW5kZXJlciNwcmVyZW5kZXJcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdG8gdGhpcyBjYW52YXMgdmlld1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgb2JqZWN0IHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIEEgcmVuZGVyIHRleHR1cmUgdG8gYmUgcmVuZGVyZWQgdG8uXG4gICAgICogIElmIHVuc2V0LCBpdCB3aWxsIHJlbmRlciB0byB0aGUgcm9vdCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NsZWFyPWZhbHNlXSAtIFdoZXRoZXIgdG8gY2xlYXIgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZ1xuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IFt0cmFuc2Zvcm1dIC0gQSB0cmFuc2Zvcm1hdGlvbiB0byBiZSBhcHBsaWVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZVRyYW5zZm9ybT1mYWxzZV0gLSBXaGV0aGVyIHRvIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm1cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBjbGVhciwgdHJhbnNmb3JtLCBza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgIGlmICghdGhpcy52aWV3KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYW4gYmUgaGFuZHkgdG8ga25vdyFcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncHJlcmVuZGVyJyk7XG5cbiAgICAgICAgdmFyIHJvb3RSZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSB8fCByZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldCA9IG5ldyBfQ2FudmFzUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KHJlbmRlclRleHR1cmUud2lkdGgsIHJlbmRlclRleHR1cmUuaGVpZ2h0LCByZW5kZXJUZXh0dXJlLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUuc291cmNlID0gcmVuZGVyVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNhbnZhcztcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gcmVuZGVyVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNvbnRleHQ7XG4gICAgICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQucmVzb2x1dGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMucm9vdENvbnRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBVcGRhdGVUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgc2NlbmUgZ3JhcGhcbiAgICAgICAgICAgIHZhciBjYWNoZVBhcmVudCA9IGRpc3BsYXlPYmplY3QucGFyZW50O1xuICAgICAgICAgICAgdmFyIHRlbXBXdCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5jb3B5KHRlbXBXdCk7XG5cbiAgICAgICAgICAgICAgICAvLyBsZXRzIG5vdCBmb3JnZXQgdG8gZmxhZyB0aGUgcGFyZW50IHRyYW5zZm9ybSBhcyBkaXJ0eS4uLlxuICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybS5fd29ybGRJRCA9IC0xO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZW1wV3QuaWRlbnRpdHkoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gY2FjaGVQYXJlbnQ7XG4gICAgICAgICAgICAvLyBkaXNwbGF5T2JqZWN0LmhpdEFyZWEgPSAvL1RPRE8gYWRkIGEgdGVtcCBoaXQgYXJlYVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gMTtcbiAgICAgICAgdGhpcy5fYWN0aXZlQmxlbmRNb2RlID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB0aGlzLmJsZW5kTW9kZXNbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF07XG5cbiAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTICYmIHRoaXMudmlldy5zY3JlZW5jYW52YXMpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbGVhciAhPT0gdW5kZWZpbmVkID8gY2xlYXIgOiB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGltcGxlbWVudCBiYWNrZ3JvdW5kIGZvciBDYW52YXNSZW5kZXJUYXJnZXQgb3IgUmVuZGVyVGV4dHVyZT9cbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gUkVOREVSIFRBUkdFVCBTVFVGRiBIRVJFLi5cbiAgICAgICAgdmFyIHRlbXBDb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVyQ2FudmFzKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0ZW1wQ29udGV4dDtcblxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByb290UmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmVtaXQoJ3Bvc3RyZW5kZXInKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGNhbnZhcyBvZiByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2xlYXJDb2xvcl0gLSBDbGVhciB0aGUgY2FudmFzIHdpdGggdGhpcyBjb2xvciwgZXhjZXB0IHRoZSBjYW52YXMgaXMgdHJhbnNwYXJlbnQuXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKGNsZWFyQ29sb3IpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgICAgY2xlYXJDb2xvciA9IGNsZWFyQ29sb3IgfHwgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nO1xuXG4gICAgICAgIGlmICghdGhpcy50cmFuc3BhcmVudCAmJiBjbGVhckNvbG9yKSB7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNsZWFyQ29sb3I7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgLSBTZWUge0BsaW5rIFBJWEkuQkxFTkRfTU9ERVN9IGZvciB2YWxpZCB2YWx1ZXMuXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5zZXRCbGVuZE1vZGUgPSBmdW5jdGlvbiBzZXRCbGVuZE1vZGUoYmxlbmRNb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVCbGVuZE1vZGUgPT09IGJsZW5kTW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlQmxlbmRNb2RlID0gYmxlbmRNb2RlO1xuICAgICAgICB0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5ibGVuZE1vZGVzW2JsZW5kTW9kZV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciBhbmQgb3B0aW9uYWxseSByZW1vdmVzIHRoZSBDYW52YXMgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95UGx1Z2lucygpO1xuXG4gICAgICAgIC8vIGNhbGwgdGhlIGJhc2UgZGVzdHJveVxuICAgICAgICBfU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCByZW1vdmVWaWV3KTtcblxuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucmVmcmVzaCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5tYXNrTWFuYWdlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubWFza01hbmFnZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc21vb3RoUHJvcGVydHkgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBjYW52YXMgdmlldyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVJlbmRlcmVyI3Jlc2l6ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIF9TeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG5cbiAgICAgICAgLy8gcmVzZXQgdGhlIHNjYWxlIG1vZGUuLiBvZGRseSB0aGlzIHNlZW1zIHRvIGJlIHJlc2V0IHdoZW4gdGhlIGNhbnZhcyBpcyByZXNpemVkLlxuICAgICAgICAvLyBzdXJlbHkgYSBicm93c2VyIGJ1Zz8/IExldCBQaXhpSlMgZml4IHRoYXQgZm9yIHlvdS4uXG4gICAgICAgIGlmICh0aGlzLnNtb290aFByb3BlcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnJvb3RDb250ZXh0W3RoaXMuc21vb3RoUHJvcGVydHldID0gX3NldHRpbmdzMi5kZWZhdWx0LlNDQUxFX01PREUgPT09IF9jb25zdC5TQ0FMRV9NT0RFUy5MSU5FQVI7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGJsZW5kIG1vZGUgaGFzIGNoYW5nZWQuXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5pbnZhbGlkYXRlQmxlbmRNb2RlID0gZnVuY3Rpb24gaW52YWxpZGF0ZUJsZW5kTW9kZSgpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlQmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGVzLmluZGV4T2YodGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbik7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNSZW5kZXJlcjtcbn0oX1N5c3RlbVJlbmRlcmVyMy5kZWZhdWx0KTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLiBUaGVzZSBhcmUgaW5jbHVkZWQgYnkgZGVmYXVsdCBpbiBQSVhJLCBidXQgY2FuIGJlIGV4Y2x1ZGVkXG4gKiBieSBjcmVhdGluZyBhIGN1c3RvbSBidWlsZC4gQ29uc3VsdCB0aGUgUkVBRE1FIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGNyZWF0aW5nIGN1c3RvbVxuICogYnVpbGRzIGFuZCBleGNsdWRpbmcgcGx1Z2lucy5cbiAqIEBuYW1lIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc1xuICogQHR5cGUge29iamVjdH1cbiAqIEByZWFkb25seVxuICogQHByb3BlcnR5IHtQSVhJLmFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXJ9IGFjY2Vzc2liaWxpdHkgU3VwcG9ydCB0YWJiaW5nIGludGVyYWN0aXZlIGVsZW1lbnRzLlxuICogQHByb3BlcnR5IHtQSVhJLmV4dHJhY3QuQ2FudmFzRXh0cmFjdH0gZXh0cmFjdCBFeHRyYWN0IGltYWdlIGRhdGEgZnJvbSByZW5kZXJlci5cbiAqIEBwcm9wZXJ0eSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IGludGVyYWN0aW9uIEhhbmRsZXMgbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAqIEBwcm9wZXJ0eSB7UElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmV9IHByZXBhcmUgUHJlLXJlbmRlciBkaXNwbGF5IG9iamVjdHMuXG4gKi9cblxuLyoqXG4gKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAqXG4gKiBAbWV0aG9kIFBJWEkuQ2FudmFzUmVuZGVyZXIjcmVnaXN0ZXJQbHVnaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHBsdWdpbi5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN0b3IgLSBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gb3IgY2xhc3MgZm9yIHRoZSBwbHVnaW4uXG4gKi9cblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzUmVuZGVyZXI7XG5fdXRpbHMucGx1Z2luVGFyZ2V0Lm1peGluKENhbnZhc1JlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1JlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfRGlzcGxheU9iamVjdDIgPSByZXF1aXJlKCcuL0Rpc3BsYXlPYmplY3QnKTtcblxudmFyIF9EaXNwbGF5T2JqZWN0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc3BsYXlPYmplY3QyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgQ29udGFpbmVyIHJlcHJlc2VudHMgYSBjb2xsZWN0aW9uIG9mIGRpc3BsYXkgb2JqZWN0cy5cbiAqIEl0IGlzIHRoZSBiYXNlIGNsYXNzIG9mIGFsbCBkaXNwbGF5IG9iamVjdHMgdGhhdCBhY3QgYXMgYSBjb250YWluZXIgZm9yIG90aGVyIG9iamVjdHMuXG4gKlxuICpgYGBqc1xuICogbGV0IGNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICogY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRGlzcGxheU9iamVjdFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvbnRhaW5lciA9IGZ1bmN0aW9uIChfRGlzcGxheU9iamVjdCkge1xuICAgIF9pbmhlcml0cyhDb250YWluZXIsIF9EaXNwbGF5T2JqZWN0KTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29udGFpbmVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29udGFpbmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3RbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRGlzcGxheU9iamVjdC5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgbWV0aG9kIHRoYXQgY2FuIGJlIHVzZWQgYnkgQ29udGFpbmVyIHN1YmNsYXNzZXMgd2hlbmV2ZXIgdGhlIGNoaWxkcmVuIGFycmF5IGlzIG1vZGlmaWVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLm9uQ2hpbGRyZW5DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoaWxkcmVuQ2hhbmdlKCkge31cbiAgICAvKiBlbXB0eSAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG9uZSBvciBtb3JlIGNoaWxkcmVuIHRvIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBNdWx0aXBsZSBpdGVtcyBjYW4gYmUgYWRkZWQgbGlrZSBzbzogYG15Q29udGFpbmVyLmFkZENoaWxkKHRoaW5nT25lLCB0aGluZ1R3bywgdGhpbmdUaHJlZSlgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIDtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiBhZGRDaGlsZChjaGlsZCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pc2VkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChhcmd1bWVudHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNoaWxkIGhhcyBhIHBhcmVudCB0aGVuIGxldHMgcmVtb3ZlIGl0IGFzIFBpeGlKUyBvYmplY3RzIGNhbiBvbmx5IGV4aXN0IGluIG9uZSBwbGFjZVxuICAgICAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG5cbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZSh0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNoaWxkIHRvIHRoZSBjb250YWluZXIgYXQgYSBzcGVjaWZpZWQgaW5kZXguIElmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIHBsYWNlIHRoZSBjaGlsZCBpblxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkQXQgPSBmdW5jdGlvbiBhZGRDaGlsZEF0KGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjaGlsZCArICdhZGRDaGlsZEF0OiBUaGUgaW5kZXggJyArIGluZGV4ICsgJyBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzICcgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTtcblxuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICBjaGlsZC5lbWl0KCdhZGRlZCcsIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3dhcHMgdGhlIHBvc2l0aW9uIG9mIDIgRGlzcGxheSBPYmplY3RzIHdpdGhpbiB0aGlzIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIEZpcnN0IGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQyIC0gU2Vjb25kIGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW4gPSBmdW5jdGlvbiBzd2FwQ2hpbGRyZW4oY2hpbGQsIGNoaWxkMikge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGNoaWxkMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZGV4MSA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHZhciBpbmRleDIgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQyKTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4MV0gPSBjaGlsZDI7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgyXSA9IGNoaWxkO1xuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgxIDwgaW5kZXgyID8gaW5kZXgxIDogaW5kZXgyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggcG9zaXRpb24gb2YgYSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZSB0byBpZGVudGlmeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IHBvc2l0aW9uIG9mIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdCB0byBpZGVudGlmeVxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkSW5kZXggPSBmdW5jdGlvbiBnZXRDaGlsZEluZGV4KGNoaWxkKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBvZiBhbiBleGlzdGluZyBjaGlsZCBpbiB0aGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZSBmb3Igd2hpY2ggeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgcmVzdWx0aW5nIGluZGV4IG51bWJlciBmb3IgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uIHNldENoaWxkSW5kZXgoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGluZGV4ICcgKyBpbmRleCArICcgc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyAnICsgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG5cbiAgICAgICAgKDAsIF91dGlscy5yZW1vdmVJdGVtcykodGhpcy5jaGlsZHJlbiwgY3VycmVudEluZGV4LCAxKTsgLy8gcmVtb3ZlIGZyb20gb2xkIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7IC8vIGFkZCBhdCBuZXcgcG9zaXRpb25cblxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBhdFxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIGF0IHRoZSBnaXZlbiBpbmRleCwgaWYgYW55LlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkQXQgPSBmdW5jdGlvbiBnZXRDaGlsZEF0KGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2V0Q2hpbGRBdDogSW5kZXggKCcgKyBpbmRleCArICcpIGRvZXMgbm90IGV4aXN0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baW5kZXhdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIG9uZSBvciBtb3JlIGNoaWxkcmVuIGZyb20gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiByZW1vdmVDaGlsZChjaGlsZCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pc2VkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChhcmd1bWVudHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICAoMCwgX3V0aWxzLnJlbW92ZUl0ZW1zKSh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXggcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZEF0ID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGRBdChpbmRleCkge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmdldENoaWxkQXQoaW5kZXgpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWQuLlxuICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICgwLCBfdXRpbHMucmVtb3ZlSXRlbXMpKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcblxuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIHRoaXMgY29udGFpbmVyIHRoYXQgYXJlIHdpdGhpbiB0aGUgYmVnaW4gYW5kIGVuZCBpbmRleGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiZWdpbkluZGV4PTBdIC0gVGhlIGJlZ2lubmluZyBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZEluZGV4PXRoaXMuY2hpbGRyZW4ubGVuZ3RoXSAtIFRoZSBlbmRpbmcgcG9zaXRpb24uIERlZmF1bHQgdmFsdWUgaXMgc2l6ZSBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm5zIHtEaXNwbGF5T2JqZWN0W119IExpc3Qgb2YgcmVtb3ZlZCBjaGlsZHJlblxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oKSB7XG4gICAgICAgIHZhciBiZWdpbkluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgZW5kSW5kZXggPSBhcmd1bWVudHNbMV07XG5cbiAgICAgICAgdmFyIGJlZ2luID0gYmVnaW5JbmRleDtcbiAgICAgICAgdmFyIGVuZCA9IHR5cGVvZiBlbmRJbmRleCA9PT0gJ251bWJlcicgPyBlbmRJbmRleCA6IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICB2YXIgcmFuZ2UgPSBlbmQgLSBiZWdpbjtcbiAgICAgICAgdmFyIHJlbW92ZWQgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHJhbmdlID4gMCAmJiByYW5nZSA8PSBlbmQpIHtcbiAgICAgICAgICAgIHJlbW92ZWQgPSB0aGlzLmNoaWxkcmVuLnNwbGljZShiZWdpbiwgcmFuZ2UpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW92ZWQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRbaV0udHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0udHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGJlZ2luSW5kZXgpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgcmVtb3ZlZC5sZW5ndGg7ICsrX2kpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW19pXS5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgICAgICB9IGVsc2UgaWYgKHJhbmdlID09PSAwICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigncmVtb3ZlQ2hpbGRyZW46IG51bWVyaWMgdmFsdWVzIGFyZSBvdXRzaWRlIHRoZSBhY2NlcHRhYmxlIHJhbmdlLicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb24gYWxsIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyIGZvciByZW5kZXJpbmdcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG5cbiAgICAgICAgLy8gVE9ETzogY2hlY2sgcmVuZGVyIGZsYWdzLCBob3cgdG8gcHJvY2VzcyBzdHVmZiBoZXJlXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUJvdW5kcygpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQuY2FsY3VsYXRlQm91bmRzKCk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IGZpbHRlcittYXNrLCBuZWVkIHRvIG1hc2sgYm90aCBzb21laG93XG4gICAgICAgICAgICBpZiAoY2hpbGQuX21hc2spIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fbWFzay5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzTWFzayhjaGlsZC5fYm91bmRzLCBjaGlsZC5fbWFzay5fYm91bmRzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGQuZmlsdGVyQXJlYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNBcmVhKGNoaWxkLl9ib3VuZHMsIGNoaWxkLmZpbHRlckFyZWEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzKGNoaWxkLl9ib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdEJvdW5kc0lEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QuIE92ZXJyaWRlIHRoaXMgdG9cbiAgICAgKiBjYWxjdWxhdGUgdGhlIGJvdW5kcyBvZiB0aGUgc3BlY2lmaWMgb2JqZWN0IChub3QgaW5jbHVkaW5nIGNoaWxkcmVuKS5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge31cbiAgICAvLyBGSUxMIElOLy9cblxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgO1xuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaXMgbm90IHZpc2libGUgb3IgdGhlIGFscGhhIGlzIDAgdGhlbiBubyBuZWVkIHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG8gYSBxdWljayBjaGVjayB0byBzZWUgaWYgdGhpcyBlbGVtZW50IGhhcyBhIG1hc2sgb3IgYSBmaWx0ZXIuXG4gICAgICAgIGlmICh0aGlzLl9tYXNrIHx8IHRoaXMuX2ZpbHRlcnMpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWRXZWJHTChyZW5kZXJlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJXZWJHTChyZW5kZXJlcik7XG5cbiAgICAgICAgICAgIC8vIHNpbXBsZSByZW5kZXIgY2hpbGRyZW4hXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXJXZWJHTChyZW5kZXJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIGFuZCBhZHZhbmNlZCBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWRXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlckFkdmFuY2VkV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgcmVuZGVyZXIuZmx1c2goKTtcblxuICAgICAgICB2YXIgZmlsdGVycyA9IHRoaXMuX2ZpbHRlcnM7XG4gICAgICAgIHZhciBtYXNrID0gdGhpcy5fbWFzaztcblxuICAgICAgICAvLyBwdXNoIGZpbHRlciBmaXJzdCBhcyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgc3RlbmNpbCBidWZmZXIgaXMgY29ycmVjdCBmb3IgYW55IG1hc2tpbmdcbiAgICAgICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZW5hYmxlZEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tpXS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLnB1c2goZmlsdGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5wdXNoRmlsdGVyKHRoaXMsIHRoaXMuX2VuYWJsZWRGaWx0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLCB0aGlzLl9tYXNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCB0aGlzIG9iamVjdCB0byB0aGUgYmF0Y2gsIG9ubHkgcmVuZGVyZWQgaWYgaXQgaGFzIGEgdGV4dHVyZS5cbiAgICAgICAgdGhpcy5fcmVuZGVyV2ViR0wocmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIG5vdyBsb29wIHRocm91Z2ggdGhlIGNoaWxkcmVuIGFuZCBtYWtlIHN1cmUgdGhleSBnZXQgcmVuZGVyZWRcbiAgICAgICAgZm9yICh2YXIgX2kyID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBfaTIgPCBqOyBfaTIrKykge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltfaTJdLnJlbmRlcldlYkdMKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgaWYgKG1hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnBvcE1hc2sodGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIucG9wRmlsdGVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3Nlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge31cbiAgICAvLyB0aGlzIGlzIHdoZXJlIGNvbnRlbnQgaXRzZWxmIGdldHMgcmVuZGVyZWQuLi5cblxuXG4gICAgLyoqXG4gICAgICogVG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIDtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7fVxuICAgIC8vIHRoaXMgaXMgd2hlcmUgY29udGVudCBpdHNlbGYgZ2V0cyByZW5kZXJlZC4uLlxuXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIDtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIGlmIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpc1xuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFza01hbmFnZXIucHVzaE1hc2sodGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlckNhbnZhcyhyZW5kZXJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFza01hbmFnZXIucG9wTWFzayhyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgaW50ZXJuYWwgcmVmZXJlbmNlcyBhbmQgbGlzdGVuZXJzIGFzIHdlbGwgYXMgcmVtb3ZlcyBjaGlsZHJlbiBmcm9tIHRoZSBkaXNwbGF5IGxpc3QuXG4gICAgICogRG8gbm90IHVzZSBhIENvbnRhaW5lciBhZnRlciBjYWxsaW5nIGBkZXN0cm95YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICBfRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHZhciBkZXN0cm95Q2hpbGRyZW4gPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5jaGlsZHJlbjtcblxuICAgICAgICB2YXIgb2xkQ2hpbGRyZW4gPSB0aGlzLnJlbW92ZUNoaWxkcmVuKDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcblxuICAgICAgICBpZiAoZGVzdHJveUNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZENoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgb2xkQ2hpbGRyZW5baV0uZGVzdHJveShvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKENvbnRhaW5lciwgW3tcbiAgICAgICAga2V5OiAnd2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnggKiB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuXG4gICAgICAgICAgICBpZiAod2lkdGggIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnggPSB2YWx1ZSAvIHdpZHRoO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnggPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS55ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcblxuICAgICAgICAgICAgaWYgKGhlaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHZhbHVlIC8gaGVpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb250YWluZXI7XG59KF9EaXNwbGF5T2JqZWN0My5kZWZhdWx0KTtcblxuLy8gcGVyZm9ybWFuY2UgaW5jcmVhc2UgdG8gYXZvaWQgdXNpbmcgY2FsbC4uICgxMHggZmFzdGVyKVxuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENvbnRhaW5lcjtcbkNvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtID0gQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250YWluZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKSB7XG4gICAgaWYgKGdyYXBoaWNzRGF0YS5uYXRpdmVMaW5lcykge1xuICAgICAgICBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYnVpbGRMaW5lKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhKTtcbiAgICB9XG59O1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi8uLi8uLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscycpO1xuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgcG9saWdvbiBtZXRob2QuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTGluZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSkge1xuICAgIC8vIFRPRE8gT1BUSU1JU0UhXG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGlmIHRoZSBsaW5lIHdpZHRoIGlzIGFuIG9kZCBudW1iZXIgYWRkIDAuNSB0byBhbGlnbiB0byBhIHdob2xlIHBpeGVsXG4gICAgLy8gY29tbWVudGluZyB0aGlzIG91dCBmaXhlcyAjNzExIGFuZCAjMTYyMFxuICAgIC8vIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoJTIpXG4gICAgLy8ge1xuICAgIC8vICAgICBmb3IgKGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKVxuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgICBwb2ludHNbaV0gKz0gMC41O1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgIHZhciBmaXJzdFBvaW50ID0gbmV3IF9tYXRoLlBvaW50KHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICB2YXIgbGFzdFBvaW50ID0gbmV3IF9tYXRoLlBvaW50KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuXG4gICAgLy8gaWYgdGhlIGZpcnN0IHBvaW50IGlzIHRoZSBsYXN0IHBvaW50IC0gZ29ubmEgaGF2ZSBpc3N1ZXMgOilcbiAgICBpZiAoZmlyc3RQb2ludC54ID09PSBsYXN0UG9pbnQueCAmJiBmaXJzdFBvaW50LnkgPT09IGxhc3RQb2ludC55KSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY2xvbmUgYXMgd2UgYXJlIGdvaW5nIHRvIHNsaWdodGx5IG1vZGlmeSB0aGUgc2hhcGUuLlxuICAgICAgICBwb2ludHMgPSBwb2ludHMuc2xpY2UoKTtcblxuICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgIHBvaW50cy5wb3AoKTtcblxuICAgICAgICBsYXN0UG9pbnQgPSBuZXcgX21hdGguUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG5cbiAgICAgICAgdmFyIG1pZFBvaW50WCA9IGxhc3RQb2ludC54ICsgKGZpcnN0UG9pbnQueCAtIGxhc3RQb2ludC54KSAqIDAuNTtcbiAgICAgICAgdmFyIG1pZFBvaW50WSA9IGxhc3RQb2ludC55ICsgKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSAqIDAuNTtcblxuICAgICAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgICAgIHBvaW50cy5wdXNoKG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICB9XG5cbiAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBpbmRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICB2YXIgaW5kZXhTdGFydCA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAvLyBEUkFXIHRoZSBMaW5lXG4gICAgdmFyIHdpZHRoID0gZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCAvIDI7XG5cbiAgICAvLyBzb3J0IGNvbG9yXG4gICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEubGluZUNvbG9yKTtcbiAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEubGluZUFscGhhO1xuICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgdmFyIHAxeCA9IHBvaW50c1swXTtcbiAgICB2YXIgcDF5ID0gcG9pbnRzWzFdO1xuICAgIHZhciBwMnggPSBwb2ludHNbMl07XG4gICAgdmFyIHAyeSA9IHBvaW50c1szXTtcbiAgICB2YXIgcDN4ID0gMDtcbiAgICB2YXIgcDN5ID0gMDtcblxuICAgIHZhciBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICB2YXIgcGVycHkgPSBwMXggLSBwMng7XG4gICAgdmFyIHBlcnAyeCA9IDA7XG4gICAgdmFyIHBlcnAyeSA9IDA7XG4gICAgdmFyIHBlcnAzeCA9IDA7XG4gICAgdmFyIHBlcnAzeSA9IDA7XG5cbiAgICB2YXIgZGlzdCA9IE1hdGguc3FydChwZXJweCAqIHBlcnB4ICsgcGVycHkgKiBwZXJweSk7XG5cbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG5cbiAgICB2YXIgcmF0aW8gPSBncmFwaGljc0RhdGEubGluZUFsaWdubWVudDsgLy8gMC41O1xuICAgIHZhciByMSA9ICgxIC0gcmF0aW8pICogMjtcbiAgICB2YXIgcjIgPSByYXRpbyAqIDI7XG5cbiAgICAvLyBzdGFydFxuICAgIHZlcnRzLnB1c2gocDF4IC0gcGVycHggKiByMSwgcDF5IC0gcGVycHkgKiByMSwgciwgZywgYiwgYWxwaGEpO1xuXG4gICAgdmVydHMucHVzaChwMXggKyBwZXJweCAqIHIyLCBwMXkgKyBwZXJweSAqIHIyLCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICBwMXggPSBwb2ludHNbKGkgLSAxKSAqIDJdO1xuICAgICAgICBwMXkgPSBwb2ludHNbKGkgLSAxKSAqIDIgKyAxXTtcblxuICAgICAgICBwMnggPSBwb2ludHNbaSAqIDJdO1xuICAgICAgICBwMnkgPSBwb2ludHNbaSAqIDIgKyAxXTtcblxuICAgICAgICBwM3ggPSBwb2ludHNbKGkgKyAxKSAqIDJdO1xuICAgICAgICBwM3kgPSBwb2ludHNbKGkgKyAxKSAqIDIgKyAxXTtcblxuICAgICAgICBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICAgICAgcGVycHkgPSBwMXggLSBwMng7XG5cbiAgICAgICAgZGlzdCA9IE1hdGguc3FydChwZXJweCAqIHBlcnB4ICsgcGVycHkgKiBwZXJweSk7XG4gICAgICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgICAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgICAgICBwZXJwMnggPSAtKHAyeSAtIHAzeSk7XG4gICAgICAgIHBlcnAyeSA9IHAyeCAtIHAzeDtcblxuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KHBlcnAyeCAqIHBlcnAyeCArIHBlcnAyeSAqIHBlcnAyeSk7XG4gICAgICAgIHBlcnAyeCAvPSBkaXN0O1xuICAgICAgICBwZXJwMnkgLz0gZGlzdDtcbiAgICAgICAgcGVycDJ4ICo9IHdpZHRoO1xuICAgICAgICBwZXJwMnkgKj0gd2lkdGg7XG5cbiAgICAgICAgdmFyIGExID0gLXBlcnB5ICsgcDF5IC0gKC1wZXJweSArIHAyeSk7XG4gICAgICAgIHZhciBiMSA9IC1wZXJweCArIHAyeCAtICgtcGVycHggKyBwMXgpO1xuICAgICAgICB2YXIgYzEgPSAoLXBlcnB4ICsgcDF4KSAqICgtcGVycHkgKyBwMnkpIC0gKC1wZXJweCArIHAyeCkgKiAoLXBlcnB5ICsgcDF5KTtcbiAgICAgICAgdmFyIGEyID0gLXBlcnAyeSArIHAzeSAtICgtcGVycDJ5ICsgcDJ5KTtcbiAgICAgICAgdmFyIGIyID0gLXBlcnAyeCArIHAyeCAtICgtcGVycDJ4ICsgcDN4KTtcbiAgICAgICAgdmFyIGMyID0gKC1wZXJwMnggKyBwM3gpICogKC1wZXJwMnkgKyBwMnkpIC0gKC1wZXJwMnggKyBwMngpICogKC1wZXJwMnkgKyBwM3kpO1xuXG4gICAgICAgIHZhciBkZW5vbSA9IGExICogYjIgLSBhMiAqIGIxO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhkZW5vbSkgPCAwLjEpIHtcbiAgICAgICAgICAgIGRlbm9tICs9IDEwLjE7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIHBlcnB4ICogcjEsIHAyeSAtIHBlcnB5ICogcjEsIHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggKyBwZXJweCAqIHIyLCBwMnkgKyBwZXJweSAqIHIyLCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHB4ID0gKGIxICogYzIgLSBiMiAqIGMxKSAvIGRlbm9tO1xuICAgICAgICB2YXIgcHkgPSAoYTIgKiBjMSAtIGExICogYzIpIC8gZGVub207XG4gICAgICAgIHZhciBwZGlzdCA9IChweCAtIHAyeCkgKiAocHggLSBwMngpICsgKHB5IC0gcDJ5KSAqIChweSAtIHAyeSk7XG5cbiAgICAgICAgaWYgKHBkaXN0ID4gMTk2ICogd2lkdGggKiB3aWR0aCkge1xuICAgICAgICAgICAgcGVycDN4ID0gcGVycHggLSBwZXJwMng7XG4gICAgICAgICAgICBwZXJwM3kgPSBwZXJweSAtIHBlcnAyeTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydChwZXJwM3ggKiBwZXJwM3ggKyBwZXJwM3kgKiBwZXJwM3kpO1xuICAgICAgICAgICAgcGVycDN4IC89IGRpc3Q7XG4gICAgICAgICAgICBwZXJwM3kgLz0gZGlzdDtcbiAgICAgICAgICAgIHBlcnAzeCAqPSB3aWR0aDtcbiAgICAgICAgICAgIHBlcnAzeSAqPSB3aWR0aDtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSBwZXJwM3ggKiByMSwgcDJ5IC0gcGVycDN5ICogcjEpO1xuICAgICAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4ICsgcGVycDN4ICogcjIsIHAyeSArIHBlcnAzeSAqIHIyKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIHBlcnAzeCAqIHIyICogcjEsIHAyeSAtIHBlcnAzeSAqIHIxKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICBpbmRleENvdW50Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCArIChweCAtIHAyeCkgKiByMSwgcDJ5ICsgKHB5IC0gcDJ5KSAqIHIxKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIChweCAtIHAyeCkgKiByMiwgcDJ5IC0gKHB5IC0gcDJ5KSAqIHIyKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcDF4ID0gcG9pbnRzWyhsZW5ndGggLSAyKSAqIDJdO1xuICAgIHAxeSA9IHBvaW50c1sobGVuZ3RoIC0gMikgKiAyICsgMV07XG5cbiAgICBwMnggPSBwb2ludHNbKGxlbmd0aCAtIDEpICogMl07XG4gICAgcDJ5ID0gcG9pbnRzWyhsZW5ndGggLSAxKSAqIDIgKyAxXTtcblxuICAgIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgIHBlcnB5ID0gcDF4IC0gcDJ4O1xuXG4gICAgZGlzdCA9IE1hdGguc3FydChwZXJweCAqIHBlcnB4ICsgcGVycHkgKiBwZXJweSk7XG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgdmVydHMucHVzaChwMnggLSBwZXJweCAqIHIxLCBwMnkgLSBwZXJweSAqIHIxKTtcbiAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgIHZlcnRzLnB1c2gocDJ4ICsgcGVycHggKiByMiwgcDJ5ICsgcGVycHkgKiByMik7XG4gICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgaW5kZXhDb3VudDsgKytfaSkge1xuICAgICAgICBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCsrKTtcbiAgICB9XG5cbiAgICBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCAtIDEpO1xufVxuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUykgbWV0aG9kXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKi9cblxuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgLy8gc29ydCBjb2xvclxuICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmxpbmVDb2xvcik7XG4gICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmxpbmVBbHBoYTtcbiAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgIGZvciAoaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcDF4ID0gcG9pbnRzWyhpIC0gMSkgKiAyXTtcbiAgICAgICAgdmFyIHAxeSA9IHBvaW50c1soaSAtIDEpICogMiArIDFdO1xuXG4gICAgICAgIHZhciBwMnggPSBwb2ludHNbaSAqIDJdO1xuICAgICAgICB2YXIgcDJ5ID0gcG9pbnRzW2kgKiAyICsgMV07XG5cbiAgICAgICAgdmVydHMucHVzaChwMXgsIHAxeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2gocDJ4LCBwMnkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZExpbmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi8uLi8uLi9tYXRoJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vLi4vLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gdGhlIGhvcml6b250YWwgcmFuZ2Ugb2YgdGhlIGZpbHRlclxuICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIHRoZSB2ZXJ0aWNhbCByYW5nZSBvZiB0aGUgZmlsdGVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpb1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyb290PWZhbHNlXSAtIFdoZXRoZXIgdGhpcyBvYmplY3QgaXMgdGhlIHJvb3QgZWxlbWVudCBvciBub3RcbiAgICovXG4gIGZ1bmN0aW9uIFJlbmRlclRhcmdldChnbCwgd2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uLCByb290KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbmRlclRhcmdldCk7XG5cbiAgICAvLyBUT0RPIFJlc29sdXRpb24gY291bGQgZ28gaGVyZSAoIGVnIGxvdyByZXMgYmx1cnMgKVxuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8vIG5leHQgdGltZSB0byBjcmVhdGUgYSBmcmFtZSBidWZmZXIgYW5kIHRleHR1cmVcblxuICAgIC8qKlxuICAgICAqIEEgZnJhbWUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLmdsQ29yZS5HTEZyYW1lYnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuZnJhbWVCdWZmZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuZ2xDb3JlLkdMVGV4dHVyZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhY2tncm91bmQgY29sb3VyIG9mIHRoaXMgcmVuZGVyIHRhcmdldCwgYXMgYW4gYXJyYXkgb2YgW3IsZyxiLGFdIHZhbHVlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5jbGVhckNvbG9yID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNpemUgb2YgdGhlIG9iamVjdCBhcyBhIHJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICovXG4gICAgdGhpcy5zaXplID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW9cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4ID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCdzIHRyYW5zZm9ybVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgdGhpcy50cmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYW1lLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RlbmNpbCBidWZmZXIgc3RvcmVzIG1hc2tpbmcgZGF0YSBmb3IgdGhlIHJlbmRlciB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsQ29yZS5HTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLmRlZmF1bHRGcmFtZSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBudWxsO1xuICAgIHRoaXMuc291cmNlRnJhbWUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0ZW5jaWwgYnVmZmVyIHN0b3JlcyBtYXNraW5nIGRhdGEgZm9yIHRoZSByZW5kZXIgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbENvcmUuR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5zdGVuY2lsQnVmZmVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBkYXRhIHN0cnVjdHVyZSBmb3IgdGhlIHN0ZW5jaWwgbWFza3NcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NbXX1cbiAgICAgKi9cbiAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyBmaWx0ZXIgZGF0YSBmb3IgdGhlIHJlbmRlciB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAqL1xuICAgIHRoaXMuZmlsdGVyRGF0YSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUga2V5IGZvciBwb29sZWQgdGV4dHVyZSBvZiBGaWx0ZXJTeXN0ZW1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmZpbHRlclBvb2xLZXkgPSAnJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBtb2RlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERVxuICAgICAqIEBzZWUgUElYSS5TQ0FMRV9NT0RFU1xuICAgICAqL1xuICAgIHRoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBvYmplY3QgaXMgdGhlIHJvb3QgZWxlbWVudCBvciBub3RcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yb290ID0gcm9vdDtcblxuICAgIGlmICghdGhpcy5yb290KSB7XG4gICAgICB0aGlzLmZyYW1lQnVmZmVyID0gX3BpeGlHbENvcmUuR0xGcmFtZWJ1ZmZlci5jcmVhdGVSR0JBKGdsLCAxMDAsIDEwMCk7XG5cbiAgICAgIGlmICh0aGlzLnNjYWxlTW9kZSA9PT0gX2NvbnN0LlNDQUxFX01PREVTLk5FQVJFU1QpIHtcbiAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlci50ZXh0dXJlLmVuYWJsZU5lYXJlc3RTY2FsaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZyYW1lQnVmZmVyLnRleHR1cmUuZW5hYmxlTGluZWFyU2NhbGluZygpO1xuICAgICAgfVxuICAgICAgLypcbiAgICAgICAgICBBIGZyYW1lIGJ1ZmZlciBuZWVkcyBhIHRhcmdldCB0byByZW5kZXIgdG8uLlxuICAgICAgICAgIGNyZWF0ZSBhIHRleHR1cmUgYW5kIGJpbmQgaXQgYXR0YWNoIGl0IHRvIHRoZSBmcmFtZWJ1ZmZlci4uXG4gICAgICAgKi9cblxuICAgICAgLy8gdGhpcyBpcyB1c2VkIGJ5IHRoZSBiYXNlIHRleHR1cmVcbiAgICAgIHRoaXMudGV4dHVyZSA9IHRoaXMuZnJhbWVCdWZmZXIudGV4dHVyZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbWFrZSBpdCBhIG51bGwgZnJhbWVidWZmZXIuLlxuICAgICAgdGhpcy5mcmFtZUJ1ZmZlciA9IG5ldyBfcGl4aUdsQ29yZS5HTEZyYW1lYnVmZmVyKGdsLCAxMDAsIDEwMCk7XG4gICAgICB0aGlzLmZyYW1lQnVmZmVyLmZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLnNldEZyYW1lKCk7XG5cbiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGZpbHRlciB0ZXh0dXJlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBbY2xlYXJDb2xvcj10aGlzLmNsZWFyQ29sb3JdIC0gQXJyYXkgb2YgW3IsZyxiLGFdIHRvIGNsZWFyIHRoZSBmcmFtZWJ1ZmZlclxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcihjbGVhckNvbG9yKSB7XG4gICAgdmFyIGNjID0gY2xlYXJDb2xvciB8fCB0aGlzLmNsZWFyQ29sb3I7XG5cbiAgICB0aGlzLmZyYW1lQnVmZmVyLmNsZWFyKGNjWzBdLCBjY1sxXSwgY2NbMl0sIGNjWzNdKTsgLy8gcixnLGIsYSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIHRoZSBzdGVuY2lsIGJ1ZmZlci5cbiAgICpcbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLmF0dGFjaFN0ZW5jaWxCdWZmZXIgPSBmdW5jdGlvbiBhdHRhY2hTdGVuY2lsQnVmZmVyKCkge1xuICAgIC8vIFRPRE8gY2hlY2sgaWYgc3RlbmNpbCBpcyBkb25lP1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlciBpcyB1c2VkIGZvciBtYXNraW5nIGluIHBpeGlcbiAgICAgKiBsZXRzIGNyZWF0ZSBvbmUgYW5kIHRoZW4gYWRkIGF0dGFjaCBpdCB0byB0aGUgZnJhbWVidWZmZXIuLlxuICAgICAqL1xuICAgIGlmICghdGhpcy5yb290KSB7XG4gICAgICB0aGlzLmZyYW1lQnVmZmVyLmVuYWJsZVN0ZW5jaWwoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGZyYW1lIG9mIHRoZSByZW5kZXIgdGFyZ2V0LlxuICAgKlxuICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICogQHBhcmFtIHtSZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLnNldEZyYW1lID0gZnVuY3Rpb24gc2V0RnJhbWUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUpIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlZmF1bHRGcmFtZTtcbiAgICB0aGlzLnNvdXJjZUZyYW1lID0gc291cmNlRnJhbWUgfHwgdGhpcy5zb3VyY2VGcmFtZSB8fCB0aGlzLmRlc3RpbmF0aW9uRnJhbWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIHRoZSBidWZmZXJzIGFuZCBpbml0aWFsaXNlcyB0aGUgdmlld3BvcnQuXG4gICAqXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgIC8vIFRPT0QgcmVmYWN0b3IgdXNhZ2Ugb2YgZnJhbWUuLlxuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAvLyBtYWtlIHN1cmUgdGhlIHRleHR1cmUgaXMgdW5ib3VuZCFcbiAgICB0aGlzLmZyYW1lQnVmZmVyLmJpbmQoKTtcblxuICAgIHRoaXMuY2FsY3VsYXRlUHJvamVjdGlvbih0aGlzLmRlc3RpbmF0aW9uRnJhbWUsIHRoaXMuc291cmNlRnJhbWUpO1xuXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtKSB7XG4gICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXguYXBwZW5kKHRoaXMudHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIGFkZCBhIGNoZWNrIGFzIHRoZW0gbWF5IGJlIHRoZSBzYW1lIVxuICAgIGlmICh0aGlzLmRlc3RpbmF0aW9uRnJhbWUgIT09IHRoaXMuc291cmNlRnJhbWUpIHtcbiAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgZ2wuc2Npc3Nvcih0aGlzLmRlc3RpbmF0aW9uRnJhbWUueCB8IDAsIHRoaXMuZGVzdGluYXRpb25GcmFtZS55IHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLndpZHRoICogdGhpcy5yZXNvbHV0aW9uIHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbiB8IDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgfVxuXG4gICAgLy8gVE9ETyAtIGRvZXMgbm90IG5lZWQgdG8gYmUgdXBkYXRlZCBhbGwgdGhlIHRpbWU/P1xuICAgIGdsLnZpZXdwb3J0KHRoaXMuZGVzdGluYXRpb25GcmFtZS54IHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLnkgfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiB0aGlzLnJlc29sdXRpb24gfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uIHwgMCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHByb2plY3Rpb24gbWF0cml4IGJhc2VkIG9uIGEgcHJvamVjdGlvbiBmcmFtZSAod2hpY2ggaXMgYSByZWN0YW5nbGUpXG4gICAqXG4gICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuY2FsY3VsYXRlUHJvamVjdGlvbiA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVByb2plY3Rpb24oZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUpIHtcbiAgICB2YXIgcG0gPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG5cbiAgICBzb3VyY2VGcmFtZSA9IHNvdXJjZUZyYW1lIHx8IGRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICBwbS5pZGVudGl0eSgpO1xuXG4gICAgLy8gVE9ETzogbWFrZSBkZXN0IHNjYWxlIHNvdXJjZVxuICAgIGlmICghdGhpcy5yb290KSB7XG4gICAgICBwbS5hID0gMSAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiAyO1xuICAgICAgcG0uZCA9IDEgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIDI7XG5cbiAgICAgIHBtLnR4ID0gLTEgLSBzb3VyY2VGcmFtZS54ICogcG0uYTtcbiAgICAgIHBtLnR5ID0gLTEgLSBzb3VyY2VGcmFtZS55ICogcG0uZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcG0uYSA9IDEgLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogMjtcbiAgICAgIHBtLmQgPSAtMSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogMjtcblxuICAgICAgcG0udHggPSAtMSAtIHNvdXJjZUZyYW1lLnggKiBwbS5hO1xuICAgICAgcG0udHkgPSAxIC0gc291cmNlRnJhbWUueSAqIHBtLmQ7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSB0ZXh0dXJlIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB3aWR0aCA9IHdpZHRoIHwgMDtcbiAgICBoZWlnaHQgPSBoZWlnaHQgfCAwO1xuXG4gICAgaWYgKHRoaXMuc2l6ZS53aWR0aCA9PT0gd2lkdGggJiYgdGhpcy5zaXplLmhlaWdodCA9PT0gaGVpZ2h0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zaXplLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5zaXplLmhlaWdodCA9IGhlaWdodDtcblxuICAgIHRoaXMuZGVmYXVsdEZyYW1lLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5kZWZhdWx0RnJhbWUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5mcmFtZUJ1ZmZlci5yZXNpemUod2lkdGggKiB0aGlzLnJlc29sdXRpb24sIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICB2YXIgcHJvamVjdGlvbkZyYW1lID0gdGhpcy5mcmFtZSB8fCB0aGlzLnNpemU7XG5cbiAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24ocHJvamVjdGlvbkZyYW1lKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAqXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLmZyYW1lQnVmZmVyLmRlc3Ryb3koKTtcblxuICAgIHRoaXMuZnJhbWVCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIFJlbmRlclRhcmdldDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUmVuZGVyVGFyZ2V0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGFyZ2V0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9TeXN0ZW1SZW5kZXJlcjIgPSByZXF1aXJlKCcuLi9TeXN0ZW1SZW5kZXJlcicpO1xuXG52YXIgX1N5c3RlbVJlbmRlcmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N5c3RlbVJlbmRlcmVyMik7XG5cbnZhciBfTWFza01hbmFnZXIgPSByZXF1aXJlKCcuL21hbmFnZXJzL01hc2tNYW5hZ2VyJyk7XG5cbnZhciBfTWFza01hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWFza01hbmFnZXIpO1xuXG52YXIgX1N0ZW5jaWxNYW5hZ2VyID0gcmVxdWlyZSgnLi9tYW5hZ2Vycy9TdGVuY2lsTWFuYWdlcicpO1xuXG52YXIgX1N0ZW5jaWxNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N0ZW5jaWxNYW5hZ2VyKTtcblxudmFyIF9GaWx0ZXJNYW5hZ2VyID0gcmVxdWlyZSgnLi9tYW5hZ2Vycy9GaWx0ZXJNYW5hZ2VyJyk7XG5cbnZhciBfRmlsdGVyTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXJNYW5hZ2VyKTtcblxudmFyIF9SZW5kZXJUYXJnZXQgPSByZXF1aXJlKCcuL3V0aWxzL1JlbmRlclRhcmdldCcpO1xuXG52YXIgX1JlbmRlclRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUYXJnZXQpO1xuXG52YXIgX09iamVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi91dGlscy9PYmplY3RSZW5kZXJlcicpO1xuXG52YXIgX09iamVjdFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iamVjdFJlbmRlcmVyKTtcblxudmFyIF9UZXh0dXJlTWFuYWdlciA9IHJlcXVpcmUoJy4vVGV4dHVyZU1hbmFnZXInKTtcblxudmFyIF9UZXh0dXJlTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlTWFuYWdlcik7XG5cbnZhciBfQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuLi8uLi90ZXh0dXJlcy9CYXNlVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlKTtcblxudmFyIF9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvciA9IHJlcXVpcmUoJy4vVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3InKTtcblxudmFyIF9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlR2FyYmFnZUNvbGxlY3Rvcik7XG5cbnZhciBfV2ViR0xTdGF0ZSA9IHJlcXVpcmUoJy4vV2ViR0xTdGF0ZScpO1xuXG52YXIgX1dlYkdMU3RhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xTdGF0ZSk7XG5cbnZhciBfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkgPSByZXF1aXJlKCcuL3V0aWxzL21hcFdlYkdMRHJhd01vZGVzVG9QaXhpJyk7XG5cbnZhciBfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkpO1xuXG52YXIgX3ZhbGlkYXRlQ29udGV4dCA9IHJlcXVpcmUoJy4vdXRpbHMvdmFsaWRhdGVDb250ZXh0Jyk7XG5cbnZhciBfdmFsaWRhdGVDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZhbGlkYXRlQ29udGV4dCk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQ09OVEVYVF9VSUQgPSAwO1xuXG4vKipcbiAqIFRoZSBXZWJHTFJlbmRlcmVyIGRyYXdzIHRoZSBzY2VuZSBhbmQgYWxsIGl0cyBjb250ZW50IG9udG8gYSB3ZWJHTCBlbmFibGVkIGNhbnZhcy4gVGhpcyByZW5kZXJlclxuICogc2hvdWxkIGJlIHVzZWQgZm9yIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCB3ZWJHTC4gVGhpcyBSZW5kZXIgd29ya3MgYnkgYXV0b21hdGljYWxseSBtYW5hZ2luZyB3ZWJHTEJhdGNocy5cbiAqIFNvIG5vIG5lZWQgZm9yIFNwcml0ZSBCYXRjaGVzIG9yIFNwcml0ZSBDbG91ZHMuXG4gKiBEb24ndCBmb3JnZXQgdG8gYWRkIHRoZSB2aWV3IHRvIHlvdXIgRE9NIG9yIHlvdSB3aWxsIG5vdCBzZWUgYW55dGhpbmcgOilcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVJlbmRlcmVyXG4gKi9cblxudmFyIFdlYkdMUmVuZGVyZXIgPSBmdW5jdGlvbiAoX1N5c3RlbVJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKFdlYkdMUmVuZGVyZXIsIF9TeXN0ZW1SZW5kZXJlcik7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2NcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1Jlc2l6ZT1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgYXV0b21hdGljYWxseSByZXNpemVkLCBkZWZhdWx0IGZhbHNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXMuIElmIG5vdCBhdmFpbGFibGUgbmF0aXZlbHkgdGhlbiBGWEFBXG4gICAgICogIGFudGlhbGlhc2luZyBpcyB1c2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gZm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gICAgICogIEZYQUEgaXMgZmFzdGVyLCBidXQgbWF5IG5vdCBhbHdheXMgbG9vayBhcyBncmVhdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqICBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhclxuICAgICAqICB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy4gSWYgeW91IHdpc2ggdG8gc2V0IHRoaXMgdG8gZmFsc2UsIHlvdSAqbXVzdCogc2V0XG4gICAgICogIHByZXNlcnZlRHJhd2luZ0J1ZmZlciB0byBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucm91bmRQaXhlbHM9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuXG4gICAgICogIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVnYWN5PWZhbHNlXSAtIElmIHRydWUgUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gICAgICogIHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuIElmIHlvdSBleHBlcmlhbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgdHJ5IHNldHRpbmcgdGhpcyB0byB0cnVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTFJlbmRlcmVyKG9wdGlvbnMsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9TeXN0ZW1SZW5kZXJlci5jYWxsKHRoaXMsICdXZWJHTCcsIG9wdGlvbnMsIGFyZzIsIGFyZzMpKTtcblxuICAgICAgICBfdGhpcy5sZWdhY3kgPSBfdGhpcy5vcHRpb25zLmxlZ2FjeTtcblxuICAgICAgICBpZiAoX3RoaXMubGVnYWN5KSB7XG4gICAgICAgICAgICBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdC5GT1JDRV9OQVRJVkUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoaXMgcmVuZGVyZXIgYXMgYSBzdGFuZGFyZGlzZWQgY29uc3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHlwZSA9IF9jb25zdC5SRU5ERVJFUl9UWVBFLldFQkdMO1xuXG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRMb3N0ID0gX3RoaXMuaGFuZGxlQ29udGV4dExvc3QuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZC5iaW5kKF90aGlzKTtcblxuICAgICAgICBfdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCBfdGhpcy5oYW5kbGVDb250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgICBfdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgX3RoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcHRpb25zIHBhc3NlZCBpbiB0byBjcmVhdGUgYSBuZXcgd2ViZ2wgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2NvbnRleHRPcHRpb25zID0ge1xuICAgICAgICAgICAgYWxwaGE6IF90aGlzLnRyYW5zcGFyZW50LFxuICAgICAgICAgICAgYW50aWFsaWFzOiBfdGhpcy5vcHRpb25zLmFudGlhbGlhcyxcbiAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogX3RoaXMudHJhbnNwYXJlbnQgJiYgX3RoaXMudHJhbnNwYXJlbnQgIT09ICdub3RNdWx0aXBsaWVkJyxcbiAgICAgICAgICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IF90aGlzLm9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiBfdGhpcy5vcHRpb25zLnBvd2VyUHJlZmVyZW5jZVxuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhWzNdID0gX3RoaXMudHJhbnNwYXJlbnQgPyAwIDogMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgbWFza3MgdXNpbmcgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tNYW5hZ2VyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza01hbmFnZXIgPSBuZXcgX01hc2tNYW5hZ2VyMi5kZWZhdWx0KF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgc3RlbmNpbCBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RlbmNpbE1hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGVuY2lsTWFuYWdlciA9IG5ldyBfU3RlbmNpbE1hbmFnZXIyLmRlZmF1bHQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBlbXB0eSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVtcHR5UmVuZGVyZXIgPSBuZXcgX09iamVjdFJlbmRlcmVyMi5kZWZhdWx0KF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgT2JqZWN0UmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50UmVuZGVyZXIgPSBfdGhpcy5lbXB0eVJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlTWFuYWdlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIGZpbHRlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyTWFuYWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbHRlck1hbmFnZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmluaXRQbHVnaW5zKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0LCBpdCBpcyBjcmVhdGVkIGhlcmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgY29udGV4dCBzbyBpdCBpcyByZWFkeSBmb3IgdGhlIG1hbmFnZXJzLlxuICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5jb250ZXh0KSB7XG4gICAgICAgICAgICAvLyBjaGVja3MgdG8gc2VlIGlmIGEgY29udGV4dCBpcyB2YWxpZC4uXG4gICAgICAgICAgICAoMCwgX3ZhbGlkYXRlQ29udGV4dDIuZGVmYXVsdCkoX3RoaXMub3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmdsID0gX3RoaXMub3B0aW9ucy5jb250ZXh0IHx8IF9waXhpR2xDb3JlMi5kZWZhdWx0LmNyZWF0ZUNvbnRleHQoX3RoaXMudmlldywgX3RoaXMuX2NvbnRleHRPcHRpb25zKTtcblxuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEKys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIE9iamVjdFJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLldlYkdMU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IG5ldyBfV2ViR0xTdGF0ZTIuZGVmYXVsdChfdGhpcy5nbCk7XG5cbiAgICAgICAgX3RoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0ZXh0dXJlcyBib3VuZCB0byB0aGUgR1BVLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZFRleHR1cmVzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGN1cnJlbnQgc2hhZGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FjdGl2ZVNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBjdXJyZW50IHJlbmRlciB0YXJnZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJUYXJnZXR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5faW5pdENvbnRleHQoKTtcblxuICAgICAgICAvLyBtYXAgc29tZSB3ZWJHTCBibGVuZCBhbmQgZHJhd21vZGVzLi5cbiAgICAgICAgX3RoaXMuZHJhd01vZGVzID0gKDAsIF9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aTIuZGVmYXVsdCkoX3RoaXMuZ2wpO1xuXG4gICAgICAgIF90aGlzLl9uZXh0VGV4dHVyZUxvY2F0aW9uID0gMDtcblxuICAgICAgICBfdGhpcy5zZXRCbGVuZE1vZGUoMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZyBmaW5pc2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuV2ViR0xSZW5kZXJlciNwb3N0cmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuV2ViR0xSZW5kZXJlciNwcmVyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5XZWJHTFJlbmRlcmVyI2NvbnRleHRcbiAgICAgICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5faW5pdENvbnRleHQgPSBmdW5jdGlvbiBfaW5pdENvbnRleHQoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgLy8gcmVzdG9yZSBhIGNvbnRleHQgaWYgaXQgd2FzIHByZXZpb3VzbHkgbG9zdFxuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpICYmIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykucmVzdG9yZUNvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXhUZXh0dXJlcyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcblxuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMgPSBuZXcgQXJyYXkobWF4VGV4dHVyZXMpO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXMgPSBuZXcgQXJyYXkobWF4VGV4dHVyZXMpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBhIHRleHR1cmUgbWFuYWdlci4uLlxuICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyID0gbmV3IF9UZXh0dXJlTWFuYWdlcjIuZGVmYXVsdCh0aGlzKTtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyID0gbmV3IF9GaWx0ZXJNYW5hZ2VyMi5kZWZhdWx0KHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVHQyA9IG5ldyBfVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IyLmRlZmF1bHQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5yZXNldFRvRGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KGdsLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgbnVsbCwgdGhpcy5yZXNvbHV0aW9uLCB0cnVlKTtcbiAgICAgICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0LmNsZWFyQ29sb3IgPSB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhO1xuXG4gICAgICAgIHRoaXMuYmluZFJlbmRlclRhcmdldCh0aGlzLnJvb3RSZW5kZXJUYXJnZXQpO1xuXG4gICAgICAgIC8vIG5vdyBsZXRzIGZpbGwgdXAgdGhlIHRleHR1cmVzIHdpdGggZW1wdHkgb25lcyFcbiAgICAgICAgdmFyIGVtcHR5R0xUZXh0dXJlID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMVGV4dHVyZS5mcm9tRGF0YShnbCwgbnVsbCwgMSwgMSk7XG5cbiAgICAgICAgdmFyIHRlbXBPYmogPSB7IF9nbFRleHR1cmVzOiB7fSB9O1xuXG4gICAgICAgIHRlbXBPYmouX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlbXB0eSA9IG5ldyBfQmFzZVRleHR1cmUyLmRlZmF1bHQoKTtcblxuICAgICAgICAgICAgZW1wdHkuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBlbXB0eUdMVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gdGVtcE9iajtcbiAgICAgICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlc1tpXSA9IGVtcHR5O1xuICAgICAgICAgICAgdGhpcy5iaW5kVGV4dHVyZShudWxsLCBpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgnY29udGV4dCcsIGdsKTtcblxuICAgICAgICAvLyBzZXR1cCB0aGUgd2lkdGgvaGVpZ2h0IHByb3BlcnRpZXMgYW5kIGdsIHZpZXdwb3J0XG4gICAgICAgIHRoaXMucmVzaXplKHRoaXMuc2NyZWVuLndpZHRoLCB0aGlzLnNjcmVlbi5oZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdG8gaXRzIHdlYkdMIHZpZXdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gdGhlIG9iamVjdCB0byBiZSByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIHJlbmRlciB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcl0gLSBTaG91bGQgdGhlIGNhbnZhcyBiZSBjbGVhcmVkIGJlZm9yZSB0aGUgbmV3IHJlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IFt0cmFuc2Zvcm1dIC0gQSB0cmFuc2Zvcm0gdG8gYXBwbHkgdG8gdGhlIHJlbmRlciB0ZXh0dXJlIGJlZm9yZSByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZVRyYW5zZm9ybV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybSBwYXNzP1xuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgY2xlYXIsIHRyYW5zZm9ybSwgc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAvLyBjYW4gYmUgaGFuZHkgdG8ga25vdyFcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncHJlcmVuZGVyJyk7XG5cbiAgICAgICAgLy8gbm8gcG9pbnQgcmVuZGVyaW5nIGlmIG91ciBjb250ZXh0IGhhcyBiZWVuIGJsb3duIHVwIVxuICAgICAgICBpZiAoIXRoaXMuZ2wgfHwgdGhpcy5nbC5pc0NvbnRleHRMb3N0KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX25leHRUZXh0dXJlTG9jYXRpb24gPSAwO1xuXG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBzY2VuZSBncmFwaFxuICAgICAgICAgICAgdmFyIGNhY2hlUGFyZW50ID0gZGlzcGxheU9iamVjdC5wYXJlbnQ7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSBjYWNoZVBhcmVudDtcbiAgICAgICAgICAgIC8vIGRpc3BsYXlPYmplY3QuaGl0QXJlYSA9IC8vVE9ETyBhZGQgYSB0ZW1wIGhpdCBhcmVhXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJpbmRSZW5kZXJUZXh0dXJlKHJlbmRlclRleHR1cmUsIHRyYW5zZm9ybSk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcblxuICAgICAgICBpZiAoY2xlYXIgIT09IHVuZGVmaW5lZCA/IGNsZWFyIDogdGhpcy5jbGVhckJlZm9yZVJlbmRlcikge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcldlYkdMKHRoaXMpO1xuXG4gICAgICAgIC8vIGFwcGx5IHRyYW5zZm9ybS4uXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgLy8gdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZUdDLnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9zdHJlbmRlcicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlcmVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuT2JqZWN0UmVuZGVyZXJ9IG9iamVjdFJlbmRlcmVyIC0gVGhlIG9iamVjdCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnNldE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gc2V0T2JqZWN0UmVuZGVyZXIob2JqZWN0UmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlbmRlcmVyID09PSBvYmplY3RSZW5kZXJlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG9iamVjdFJlbmRlcmVyO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgaWYgeW91IHdpc2ggdG8gZG8gc29tZSBjdXN0b20gcmVuZGVyaW5nXG4gICAgICogSXQgd2lsbCBiYXNpY2FsbHkgcmVuZGVyIGFueXRoaW5nIHRoYXQgbWF5IGJlIGJhdGNoZWQgdXAgc3VjaCBhcyBzcHJpdGVzXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSB3ZWJHTCB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIC8vICBpZih3aWR0aCAqIHRoaXMucmVzb2x1dGlvbiA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb24gPT09IHRoaXMuaGVpZ2h0KXJldHVybjtcblxuICAgICAgICBfU3lzdGVtUmVuZGVyZXIzLmRlZmF1bHQucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuXG4gICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldC5yZXNpemUoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldCA9PT0gdGhpcy5yb290UmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLnJvb3RSZW5kZXJUYXJnZXQuYWN0aXZhdGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVNoYWRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVNoYWRlci51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5yb290UmVuZGVyVGFyZ2V0LnByb2plY3Rpb25NYXRyaXgudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSB3ZWJHTCB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgLSB0aGUgZGVzaXJlZCBibGVuZCBtb2RlXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnNldEJsZW5kTW9kZSA9IGZ1bmN0aW9uIHNldEJsZW5kTW9kZShibGVuZE1vZGUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRCbGVuZE1vZGUoYmxlbmRNb2RlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXJhc2VzIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCBhbmQgZmlsbHMgdGhlIGRyYXdpbmcgYXJlYSB3aXRoIGEgY29sb3VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG91clxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKGNsZWFyQ29sb3IpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LmNsZWFyKGNsZWFyQ29sb3IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGFjdGl2ZSByZW5kZXIgdGFyZ2V0IHRvIHRoZSBnaXZlbiBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gc2V0VHJhbnNmb3JtKG1hdHJpeCkge1xuICAgICAgICB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQudHJhbnNmb3JtID0gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFcmFzZXMgdGhlIHJlbmRlciB0ZXh0dXJlIGFuZCBmaWxscyB0aGUgZHJhd2luZyBhcmVhIHdpdGggYSBjb2xvdXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIGNsZWFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjbGVhckNvbG9yXSAtIFRoZSBjb2xvdXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5jbGVhclJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiBjbGVhclJlbmRlclRleHR1cmUocmVuZGVyVGV4dHVyZSwgY2xlYXJDb2xvcikge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICByZW5kZXJUYXJnZXQuY2xlYXIoY2xlYXJDb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgYSByZW5kZXIgdGV4dHVyZSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXIgdGV4dHVyZSB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYmluZFJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiBiaW5kUmVuZGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlLCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IHZvaWQgMDtcblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKCFiYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgLy8gYmluZCB0aGUgY3VycmVudCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlci51cGRhdGVUZXh0dXJlKGJhc2VUZXh0dXJlLCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51bmJpbmRUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0ID0gYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldC5zZXRGcmFtZShyZW5kZXJUZXh0dXJlLmZyYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldCA9IHRoaXMucm9vdFJlbmRlclRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlclRhcmdldC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIHRoaXMuYmluZFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlciB0YXJnZXQgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IHJlbmRlclRhcmdldCAtIHRoZSBuZXcgcmVuZGVyIHRhcmdldFxuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRSZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiBiaW5kUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCkge1xuICAgICAgICBpZiAocmVuZGVyVGFyZ2V0ICE9PSB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldC5hY3RpdmF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlU2hhZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXggPSByZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxNYW5hZ2VyLnNldE1hc2tTdGFjayhyZW5kZXJUYXJnZXQuc3RlbmNpbE1hc2tTdGFjayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCBzaGFkZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIHRoZSBuZXcgc2hhZGVyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1Byb2plY3Q9dHJ1ZV0gLSBXaGV0aGVyIGF1dG9tYXRpY2FsbHkgc2V0IHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRTaGFkZXIgPSBmdW5jdGlvbiBiaW5kU2hhZGVyKHNoYWRlciwgYXV0b1Byb2plY3QpIHtcbiAgICAgICAgLy8gVE9ETyBjYWNoZVxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlU2hhZGVyICE9PSBzaGFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVNoYWRlciA9IHNoYWRlcjtcbiAgICAgICAgICAgIHNoYWRlci5iaW5kKCk7XG5cbiAgICAgICAgICAgIC8vIGBhdXRvUHJvamVjdGAgbm9ybWFsbHkgd291bGQgYmUgYSBkZWZhdWx0IHBhcmFtZXRlciBzZXQgdG8gdHJ1ZVxuICAgICAgICAgICAgLy8gYnV0IGJlY2F1c2Ugb2YgaG93IEJhYmVsIHRyYW5zcGlsZXMgZGVmYXVsdCBwYXJhbWV0ZXJzXG4gICAgICAgICAgICAvLyBpdCBoaW5kZXJzIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGlzIG1ldGhvZC5cbiAgICAgICAgICAgIGlmIChhdXRvUHJvamVjdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHNldCB0aGUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC5wcm9qZWN0aW9uTWF0cml4LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgdGhlIHRleHR1cmUuIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2F0aW9uIG9mIHRoZSBib3VuZCB0ZXh0dXJlLlxuICAgICAqIEl0IG1heSBub3QgYmUgdGhlIHNhbWUgYXMgdGhlIG9uZSB5b3UgcGFzcyBpbi4gVGhpcyBpcyBkdWUgdG8gb3B0aW1pc2F0aW9uIHRoYXQgcHJldmVudHNcbiAgICAgKiBuZWVkbGVzcyBiaW5kaW5nIG9mIHRleHR1cmVzLiBGb3IgZXhhbXBsZSBpZiB0aGUgdGV4dHVyZSBpcyBhbHJlYWR5IGJvdW5kIGl0IHdpbGwgcmV0dXJuIHRoZVxuICAgICAqIGN1cnJlbnQgbG9jYXRpb24gb2YgdGhlIHRleHR1cmUgaW5zdGVhZCBvZiB0aGUgb25lIHByb3ZpZGVkLiBUbyBieXBhc3MgdGhpcyB1c2UgZm9yY2UgbG9jYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIG5ldyB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvY2F0aW9uIC0gdGhlIHN1Z2dlc3RlZCB0ZXh0dXJlIGxvY2F0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmb3JjZUxvY2F0aW9uIC0gZm9yY2UgdGhlIGxvY2F0aW9uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBib3VuZCB0ZXh0dXJlIGxvY2F0aW9uXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRUZXh0dXJlID0gZnVuY3Rpb24gYmluZFRleHR1cmUodGV4dHVyZSwgbG9jYXRpb24sIGZvcmNlTG9jYXRpb24pIHtcbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUgfHwgdGhpcy5lbXB0eVRleHR1cmVzW2xvY2F0aW9uXTtcbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcbiAgICAgICAgdGV4dHVyZS50b3VjaGVkID0gdGhpcy50ZXh0dXJlR0MuY291bnQ7XG5cbiAgICAgICAgaWYgKCFmb3JjZUxvY2F0aW9uKSB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbWF5YmUgbG9vayBpbnRvIGFkZGluZyBib3VuZElkcy4uIHNhdmUgdXMgdGhlIGxvb3A/XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobG9jYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX25leHRUZXh0dXJlTG9jYXRpb24rKztcbiAgICAgICAgICAgICAgICB0aGlzLl9uZXh0VGV4dHVyZUxvY2F0aW9uICU9IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24gPSB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoIC0gdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbiAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2NhdGlvbiA9IGxvY2F0aW9uIHx8IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWdsVGV4dHVyZSkge1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGFsc28gYmluZCB0aGUgdGV4dHVyZS4uXG4gICAgICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyLnVwZGF0ZVRleHR1cmUodGV4dHVyZSwgbG9jYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYmluZCB0aGUgY3VycmVudCB0ZXh0dXJlXG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcbiAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbG9jYXRpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICogdW5iaW5kcyB0aGUgdGV4dHVyZSAuLi5cbiAgICAqXG4gICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHVuYmluZFxuICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS51bmJpbmRUZXh0dXJlID0gZnVuY3Rpb24gdW5iaW5kVGV4dHVyZSh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMuZW1wdHlUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBpKTtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmVtcHR5VGV4dHVyZXNbaV0uX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBWQU8gZnJvbSB0aGlzIHJlbmRlcmVyJ3MgY29udGV4dCBhbmQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWZXJ0ZXhBcnJheU9iamVjdH0gVGhlIG5ldyBWQU8uXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVZhbyA9IGZ1bmN0aW9uIGNyZWF0ZVZhbygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdCh0aGlzLmdsLCB0aGlzLnN0YXRlLmF0dHJpYlN0YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCBWYW8gdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5WZXJ0ZXhBcnJheU9iamVjdH0gdmFvIC0gdGhlIG5ldyBWYW9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5iaW5kVmFvID0gZnVuY3Rpb24gYmluZFZhbyh2YW8pIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyA9PT0gdmFvKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YW8pIHtcbiAgICAgICAgICAgIHZhby5iaW5kKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYWN0aXZlVmFvKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHRoaXMgc2hvdWxkIGFsd2F5cyBiZSB0cnVlIGkgdGhpbms/XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVWYW8udW5iaW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgV2ViR0wgc3RhdGUgc28geW91IGNhbiByZW5kZXIgdGhpbmdzIGhvd2V2ZXIgeW91IGZhbmN5IVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMuYmluZFZhbyhudWxsKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID0gdGhpcy5yb290UmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLmVtcHR5VGV4dHVyZXNbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiaW5kIHRoZSBtYWluIGZyYW1lIGJ1ZmZlciAodGhlIHNjcmVlbik7XG4gICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldC5hY3RpdmF0ZSgpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUucmVzZXRUb0RlZmF1bHQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGxvc3Qgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1dlYkdMQ29udGV4dEV2ZW50fSBldmVudCAtIFRoZSBjb250ZXh0IGxvc3QgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUNvbnRleHRMb3N0ID0gZnVuY3Rpb24gaGFuZGxlQ29udGV4dExvc3QoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHJlc3RvcmVkIHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IGZ1bmN0aW9uIGhhbmRsZUNvbnRleHRSZXN0b3JlZCgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlci5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIHRoaXMuX2luaXRDb250ZXh0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciAoZXZlbnQgbGlzdGVuZXJzLCBzcHJpdGViYXRjaCwgZXRjLi4uKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICogIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8yMjMzXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95UGx1Z2lucygpO1xuXG4gICAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdGhpcy52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQpO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIC8vIGNhbGwgYmFzZSBkZXN0cm95XG4gICAgICAgIF9TeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHJlbW92ZVZpZXcpO1xuXG4gICAgICAgIHRoaXMudWlkID0gMDtcblxuICAgICAgICAvLyBkZXN0cm95IHRoZSBtYW5hZ2Vyc1xuICAgICAgICB0aGlzLm1hc2tNYW5hZ2VyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsTWFuYWdlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZmlsdGVyTWFuYWdlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5tYXNrTWFuYWdlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVyTWFuYWdlciA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9jb250ZXh0T3B0aW9ucyA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShudWxsKTtcblxuICAgICAgICBpZiAodGhpcy5nbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpKSB7XG4gICAgICAgICAgICB0aGlzLmdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgICAgIC8vIHRoaXMgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gV2ViR0xSZW5kZXJlcjtcbn0oX1N5c3RlbVJlbmRlcmVyMy5kZWZhdWx0KTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLiBUaGVzZSBhcmUgaW5jbHVkZWQgYnkgZGVmYXVsdCBpbiBQSVhJLCBidXQgY2FuIGJlIGV4Y2x1ZGVkXG4gKiBieSBjcmVhdGluZyBhIGN1c3RvbSBidWlsZC4gQ29uc3VsdCB0aGUgUkVBRE1FIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGNyZWF0aW5nIGN1c3RvbVxuICogYnVpbGRzIGFuZCBleGNsdWRpbmcgcGx1Z2lucy5cbiAqIEBuYW1lIFBJWEkuV2ViR0xSZW5kZXJlciNwbHVnaW5zXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHJlYWRvbmx5XG4gKiBAcHJvcGVydHkge1BJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0gYWNjZXNzaWJpbGl0eSBTdXBwb3J0IHRhYmJpbmcgaW50ZXJhY3RpdmUgZWxlbWVudHMuXG4gKiBAcHJvcGVydHkge1BJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3R9IGV4dHJhY3QgRXh0cmFjdCBpbWFnZSBkYXRhIGZyb20gcmVuZGVyZXIuXG4gKiBAcHJvcGVydHkge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSBpbnRlcmFjdGlvbiBIYW5kbGVzIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gKiBAcHJvcGVydHkge1BJWEkucHJlcGFyZS5XZWJHTFByZXBhcmV9IHByZXBhcmUgUHJlLXJlbmRlciBkaXNwbGF5IG9iamVjdHMuXG4gKi9cblxuLyoqXG4gKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAqXG4gKiBAbWV0aG9kIFBJWEkuV2ViR0xSZW5kZXJlciNyZWdpc3RlclBsdWdpblxuICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvciBjbGFzcyBmb3IgdGhlIHBsdWdpbi5cbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTFJlbmRlcmVyO1xuX3V0aWxzLnBsdWdpblRhcmdldC5taXhpbihXZWJHTFJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkdMUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMTWFuYWdlcjIgPSByZXF1aXJlKCcuLi9tYW5hZ2Vycy9XZWJHTE1hbmFnZXInKTtcblxudmFyIF9XZWJHTE1hbmFnZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBCYXNlIGZvciBhIGNvbW1vbiBvYmplY3QgcmVuZGVyZXIgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHN5c3RlbSByZW5kZXJlciBwbHVnaW4uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gKF9XZWJHTE1hbmFnZXIpIHtcbiAgX2luaGVyaXRzKE9iamVjdFJlbmRlcmVyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICBmdW5jdGlvbiBPYmplY3RSZW5kZXJlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9XZWJHTE1hbmFnZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSByZW5kZXJlciBhbmQgc2V0cyB0aGUgc2hhZGVyXG4gICAqXG4gICAqL1xuICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHt9XG4gIC8vIHNldCB0aGUgc2hhZGVyLi5cblxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgcmVuZGVyZXJcbiAgICpcbiAgICovXG4gIDtcblxuICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgdGhpcy5mbHVzaCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdHViIG1ldGhvZCBmb3IgcmVuZGVyaW5nIGNvbnRlbnQgYW5kIGVtcHR5aW5nIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgKlxuICAgKi9cblxuXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge31cbiAgLy8gZmx1c2ghXG5cblxuICAvKipcbiAgICogUmVuZGVycyBhbiBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgKi9cbiAgO1xuXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIob2JqZWN0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHtcbiAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxuICB9O1xuXG4gIHJldHVybiBPYmplY3RSZW5kZXJlcjtcbn0oX1dlYkdMTWFuYWdlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE9iamVjdFJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0UmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0NvdW50TGltaXRlciA9IHJlcXVpcmUoJy4vbGltaXRlcnMvQ291bnRMaW1pdGVyJyk7XG5cbnZhciBfQ291bnRMaW1pdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvdW50TGltaXRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBTaGFyZWRUaWNrZXIgPSBjb3JlLnRpY2tlci5zaGFyZWQ7XG5cbi8qKlxuICogRGVmYXVsdCBudW1iZXIgb2YgdXBsb2FkcyBwZXIgZnJhbWUgdXNpbmcgcHJlcGFyZSBwbHVnaW4uXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEBuYW1lIFVQTE9BRFNfUEVSX0ZSQU1FXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgNFxuICovXG5jb3JlLnNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FID0gNDtcblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVS4gQmFzZVByZXBhcmUgaGFuZGxlc1xuICogYmFzaWMgcXVldWluZyBmdW5jdGlvbmFsaXR5IGFuZCBpcyBleHRlbmRlZCBieSB7QGxpbmsgUElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZX0gYW5kIHtAbGluayBQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZX1cbiAqIHRvIHByb3ZpZGUgcHJlcGFyYXRpb24gY2FwYWJpbGl0aWVzIHNwZWNpZmljIHRvIHRoZWlyIHJlc3BlY3RpdmUgcmVuZGVyZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBzcHJpdGVcbiAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZS5mcm9tSW1hZ2UoJ3NvbWV0aGluZy5wbmcnKTtcbiAqXG4gKiAvLyBMb2FkIG9iamVjdCBpbnRvIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoc3ByaXRlLCAoKSA9PiB7XG4gKlxuICogICAgIC8vVGV4dHVyZShzKSBoYXMgYmVlbiB1cGxvYWRlZCB0byBHUFVcbiAqICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiB9KVxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cblxudmFyIEJhc2VQcmVwYXJlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TeXN0ZW1SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VQcmVwYXJlKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VQcmVwYXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbWl0ZXIgdG8gYmUgdXNlZCB0byBjb250cm9sIGhvdyBxdWlja2x5IGl0ZW1zIGFyZSBwcmVwYXJlZC5cbiAgICAgICAgICogQHR5cGUge1BJWEkucHJlcGFyZS5Db3VudExpbWl0ZXJ8UElYSS5wcmVwYXJlLlRpbWVMaW1pdGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW1pdGVyID0gbmV3IF9Db3VudExpbWl0ZXIyLmRlZmF1bHQoY29yZS5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlN5c3RlbVJlbmRlcmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvbmx5IHJlYWwgZGlmZmVyZW5jZSBiZXR3ZWVuIENhbnZhc1ByZXBhcmUgYW5kIFdlYkdMUHJlcGFyZSBpcyB3aGF0IHRoZXkgcGFzc1xuICAgICAgICAgKiB0byB1cGxvYWQgaG9va3MuIFRoYXQgZGlmZmVyZW50IHBhcmFtZXRlciBpcyBzdG9yZWQgaGVyZS5cbiAgICAgICAgICogQHR5cGUge1BJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfFBJWEkuV2ViR0xSZW5kZXJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRzIGF0IG9uY2UuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBwcm9jZXNzaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgdG8gY2FsbCBhZnRlciBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBwcmVwYXJlIGlzIHRpY2tpbmcgKHJ1bm5pbmcpLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAnYm91bmQnIGNhbGwgZm9yIHByZXBhcmVJdGVtcygpLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbGF5ZWRUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdW5saWtlbHksIGJ1dCBpbiBjYXNlIHdlIHdlcmUgZGVzdHJveWVkIGJldHdlZW4gdGljaygpIGFuZCBkZWxheWVkVGljaygpXG4gICAgICAgICAgICBpZiAoIV90aGlzLnF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucHJlcGFyZUl0ZW1zKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaG9va3MgdG8gZmluZCB0aGUgY29ycmVjdCB0ZXh0dXJlXG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dFN0eWxlKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kQmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHR1cmUpO1xuXG4gICAgICAgIC8vIHVwbG9hZCBob29rc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhkcmF3VGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGNhbGN1bGF0ZVRleHRTdHlsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIGFsbCB0aGUgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFBJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dH0gaXRlbSAtXG4gICAgICogICAgICAgIEVpdGhlciB0aGUgY29udGFpbmVyIG9yIGRpc3BsYXkgb2JqZWN0IHRvIHNlYXJjaCBmb3IgaXRlbXMgdG8gdXBsb2FkLCB0aGUgaXRlbXMgdG8gdXBsb2FkIHRoZW1zZWx2ZXMsXG4gICAgICogICAgICAgIG9yIHRoZSBjYWxsYmFjayBmdW5jdGlvbiwgaWYgaXRlbXMgaGF2ZSBiZWVuIGFkZGVkIHVzaW5nIGBwcmVwYXJlLmFkZGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2RvbmVdIC0gT3B0aW9uYWwgY2FsbGJhY2sgd2hlbiBhbGwgcXVldWVkIHVwbG9hZHMgaGF2ZSBjb21wbGV0ZWRcbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZChpdGVtLCBkb25lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZG9uZSA9IGl0ZW07XG4gICAgICAgICAgICBpdGVtID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGEgZGlzcGxheSBvYmplY3QsIHNlYXJjaCBmb3IgaXRlbXNcbiAgICAgICAgLy8gdGhhdCB3ZSBjb3VsZCB1cGxvYWRcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IHRoZSBpdGVtcyBmb3IgdXBsb2FkIGZyb20gdGhlIGRpc3BsYXlcbiAgICAgICAgaWYgKHRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLnB1c2goZG9uZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBTaGFyZWRUaWNrZXIuYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIGNvcmUuVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGljayB1cGRhdGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gdGljaygpIHtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmRlbGF5ZWRUaWNrLCAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWN0dWFsbHkgcHJlcGFyZSBpdGVtcy4gVGhpcyBpcyBoYW5kbGVkIG91dHNpZGUgb2YgdGhlIHRpY2sgYmVjYXVzZSBpdCB3aWxsIHRha2UgYSB3aGlsZVxuICAgICAqIGFuZCB3ZSBkbyBOT1Qgd2FudCB0byBibG9jayB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUgZnJvbSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucHJlcGFyZUl0ZW1zID0gZnVuY3Rpb24gcHJlcGFyZUl0ZW1zKCkge1xuICAgICAgICB0aGlzLmxpbWl0ZXIuYmVnaW5GcmFtZSgpO1xuICAgICAgICAvLyBVcGxvYWQgdGhlIGdyYXBoaWNzXG4gICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCAmJiB0aGlzLmxpbWl0ZXIuYWxsb3dlZFRvVXBsb2FkKCkpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5xdWV1ZVswXTtcbiAgICAgICAgICAgIHZhciB1cGxvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoaXRlbSAmJiAhaXRlbS5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMudXBsb2FkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXBsb2FkSG9va3NbaV0odGhpcy51cGxvYWRIb29rSGVscGVyLCBpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdXBsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSdyZSBmaW5pc2hlZFxuICAgICAgICBpZiAoIXRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIGNvbXBsZXRlcyA9IHRoaXMuY29tcGxldGVzLnNsaWNlKDApO1xuXG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9sZW4gPSBjb21wbGV0ZXMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZXNbX2ldKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGZpbmlzaGVkLCBvbiB0aGUgbmV4dCByQUYgZG8gdGhpcyBhZ2FpblxuICAgICAgICAgICAgU2hhcmVkVGlja2VyLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBjb3JlLlVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciBmaW5kaW5nIGl0ZW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWRkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYGl0ZW06KiwgcXVldWU6QXJyYXlgXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGFkZCBpdGVtIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJGaW5kSG9vayA9IGZ1bmN0aW9uIHJlZ2lzdGVyRmluZEhvb2soYWRkSG9vaykge1xuICAgICAgICBpZiAoYWRkSG9vaykge1xuICAgICAgICAgICAgdGhpcy5hZGRIb29rcy5wdXNoKGFkZEhvb2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgaG9va3MgZm9yIHVwbG9hZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwbG9hZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBwcmVwYXJlOkNhbnZhc1ByZXBhcmUsIGl0ZW06KmAgYW5kXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGhhbmRsZSB1cGxvYWQgb2YgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJVcGxvYWRIb29rID0gZnVuY3Rpb24gcmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEhvb2spIHtcbiAgICAgICAgaWYgKHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkSG9va3MucHVzaCh1cGxvYWRIb29rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNYW51YWxseSBhZGQgYW4gaXRlbSB0byB0aGUgdXBsb2FkaW5nIHF1ZXVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR8Kn0gaXRlbSAtIE9iamVjdCB0b1xuICAgICAqICAgICAgICBhZGQgdG8gdGhlIHF1ZXVlXG4gICAgICogQHJldHVybiB7UElYSS5DYW52YXNQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKGl0ZW0pIHtcbiAgICAgICAgLy8gQWRkIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgZWxlbWVudHMgb24gc3BlY2lhbFxuICAgICAgICAvLyB0eXBlcyBvZiBvYmplY3RzIHRoYXRcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuYWRkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFkZEhvb2tzW2ldKGl0ZW0sIHRoaXMucXVldWUpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgY2hpbGRlbiByZWN1cnNpdmVseVxuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDE7IF9pMiA+PSAwOyBfaTItLSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0uY2hpbGRyZW5bX2kyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbiwgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICBTaGFyZWRUaWNrZXIucmVtb3ZlKHRoaXMudGljaywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHRoaXMuY29tcGxldGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGltaXRlciA9IG51bGw7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXNlUHJlcGFyZTtcbn0oKTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgbXVsdGlwbGUgdGV4dHVyZXMgZnJvbSBvYmplY3RzIGxpa2UgQW5pbWF0ZWRTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gQmFzZVByZXBhcmU7XG5mdW5jdGlvbiBmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMoaXRlbSwgcXVldWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAvLyBPYmplY3RzIHdpdGggbXV0bGlwbGUgdGV4dHVyZXNcbiAgICBpZiAoaXRlbSAmJiBpdGVtLl90ZXh0dXJlcyAmJiBpdGVtLl90ZXh0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLl90ZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGl0ZW0uX3RleHR1cmVzW2ldIGluc3RhbmNlb2YgY29yZS5UZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gaXRlbS5fdGV4dHVyZXNbaV0uYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAocXVldWUuaW5kZXhPZihiYXNlVGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIEJhc2VUZXh0dXJlcyBmcm9tIFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRCYXNlVGV4dHVyZShpdGVtLCBxdWV1ZSkge1xuICAgIC8vIE9iamVjdHMgd2l0aCB0ZXh0dXJlcywgbGlrZSBTcHJpdGVzL1RleHRcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuQmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCB0ZXh0dXJlcyBmcm9tIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0dXJlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0uX3RleHR1cmUgJiYgaXRlbS5fdGV4dHVyZSBpbnN0YW5jZW9mIGNvcmUuVGV4dHVyZSkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZHJhdyBQSVhJLlRleHQgdG8gaXRzIHRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfFBJWEkuQ2FudmFzUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gZHJhd1RleHQoaGVscGVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLlRleHQpIHtcbiAgICAgICAgLy8gdXBkYXRpbmcgdGV4dCB3aWxsIHJldHVybiBlYXJseSBpZiBpdCBpcyBub3QgZGlydHlcbiAgICAgICAgaXRlbS51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGNhbGN1bGF0ZSBhIHRleHQgc3R5bGUgZm9yIGEgUElYSS5UZXh0IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ8UElYSS5DYW52YXNQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVUZXh0U3R5bGUoaGVscGVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLlRleHRTdHlsZSkge1xuICAgICAgICB2YXIgZm9udCA9IGl0ZW0udG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgY29yZS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHQgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHQoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuVGV4dCkge1xuICAgICAgICAvLyBwdXNoIHRoZSB0ZXh0IHN0eWxlIHRvIHByZXBhcmUgaXQgLSB0aGlzIGNhbiBiZSByZWFsbHkgZXhwZW5zaXZlXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0uc3R5bGUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIHRleHQgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIHJlbmRlciBpdCAodG8gY2FudmFzL3RleHR1cmUpIGlmIG5lZWRlZFxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSBUZXh0J3MgdGV4dHVyZSBmb3IgdXBsb2FkIHRvIEdQVVxuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0U3R5bGUgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dFN0eWxlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0U3R5bGUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuVGV4dFN0eWxlKSB7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VQcmVwYXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9wYXJzZVVyaSA9IHJlcXVpcmUoJ3BhcnNlLXVyaScpO1xuXG52YXIgX3BhcnNlVXJpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnNlVXJpKTtcblxudmFyIF9taW5pU2lnbmFscyA9IHJlcXVpcmUoJ21pbmktc2lnbmFscycpO1xuXG52YXIgX21pbmlTaWduYWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21pbmlTaWduYWxzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLy8gdGVzdHMgaXMgQ09SUyBpcyBzdXBwb3J0ZWQgaW4gWEhSLCBpZiBub3Qgd2UgbmVlZCB0byB1c2UgWERSXG52YXIgdXNlWGRyID0gISEod2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCkpKTtcbnZhciB0ZW1wQW5jaG9yID0gbnVsbDtcblxuLy8gc29tZSBzdGF0dXMgY29uc3RhbnRzXG52YXIgU1RBVFVTX05PTkUgPSAwO1xudmFyIFNUQVRVU19PSyA9IDIwMDtcbnZhciBTVEFUVVNfRU1QVFkgPSAyMDQ7XG52YXIgU1RBVFVTX0lFX0JVR19FTVBUWSA9IDEyMjM7XG52YXIgU1RBVFVTX1RZUEVfT0sgPSAyO1xuXG4vLyBub29wXG5mdW5jdGlvbiBfbm9vcCgpIHt9IC8qIGVtcHR5ICovXG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgYSByZXNvdXJjZSBhbmQgYWxsIGNoaWxkIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgUmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBsb2FkVHlwZSAtIFRoZSBsb2FkIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgICAqL1xuICAgIFJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl9sb2FkVHlwZU1hcCwgZXh0bmFtZSwgbG9hZFR5cGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0geGhyVHlwZSAtIFRoZSB4aHIgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUgPSBmdW5jdGlvbiBzZXRFeHRlbnNpb25YaHJUeXBlKGV4dG5hbWUsIHhoclR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl94aHJUeXBlTWFwLCBleHRuYW1lLCB4aHJUeXBlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgZm9yIGF1ZGlvL3ZpZGVvIGxvYWRzIHlvdSBjYW4gcGFzc1xuICAgICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBbb3B0aW9ucy5sb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgICAqICAgICAgYmUgbG9hZGVkP1xuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFtvcHRpb25zLnhoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW29wdGlvbnMubWV0YWRhdGEubG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm1ldGFkYXRhLnNraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtvcHRpb25zLm1ldGFkYXRhLm1pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnQgb2YgYSB2aWRlby9hdWRpb1xuICAgICAqICAgICAgZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGwgd2hlcmUgZWFjaCBpbmRleCBpcyB0aGUgbWltZSB0eXBlIHRvXG4gICAgICogICAgICB1c2UgZm9yIHRoZSBjb3JyZXNwb25kaW5nIHVybCBpbmRleC5cbiAgICAgKi9cblxuXG4gICAgZnVuY3Rpb24gUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXNvdXJjZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mbGFncyA9IDA7XG5cbiAgICAgICAgLy8gc2V0IGRhdGEgdXJsIGZsYWcsIG5lZWRzIHRvIGJlIHNldCBlYXJseSBmb3Igc29tZSBfZGV0ZXJtaW5lWCBjaGVja3MgdG8gd29yay5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV4dGVuc2lvbiB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gdGhpcy5fZ2V0RXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2FueX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSBvcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJ2Fub255bW91cycgOiBvcHRpb25zLmNyb3NzT3JpZ2luO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWV0aG9kIG9mIGxvYWRpbmcgdG8gdXNlIGZvciB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSB1c2VkIHRvIGxvYWQgdGhlIHJlc291cmNlIHZpYSBYSFIuIElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXh0cmEgaW5mbyBmb3IgbWlkZGxld2FyZSwgYW5kIGNvbnRyb2xsaW5nIHNwZWNpZmljcyBhYm91dCBob3cgdGhlIHJlc291cmNlIGxvYWRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAgICAgKiBNZWFuaW5nIGl0IHdpbGwgbW9kaWZ5IGl0IGFzIGl0IHNlZXMgZml0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtsb2FkRWxlbWVudD1udWxsXSAtIFRoZVxuICAgICAgICAgKiAgZWxlbWVudCB0byB1c2UgZm9yIGxvYWRpbmcsIGluc3RlYWQgb2YgY3JlYXRpbmcgb25lLlxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtza2lwU291cmNlPWZhbHNlXSAtIFNraXBzIGFkZGluZyBzb3VyY2UocykgdG8gdGhlIGxvYWQgZWxlbWVudC4gVGhpc1xuICAgICAgICAgKiAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzXG4gICAgICAgICAqICB0by5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIChpZiBhbnkpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtFcnJvcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVycm9yID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFhIUiBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuIFRoaXMgaXMgb25seSBzZXRcbiAgICAgICAgICogd2hlbiBgbG9hZFR5cGVgIGlzIGBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7WE1MSHR0cFJlcXVlc3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54aHIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2hpbGQgcmVzb3VyY2VzIHRoaXMgcmVzb3VyY2Ugb3ducy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5UWVBFfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVU5LTk9XTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByb2dyZXNzIGNodW5rIG93bmVkIGJ5IHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyZXNzQ2h1bmsgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYGRlcXVldWVgIG1ldGhvZCB0aGF0IHdpbGwgYmUgdXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBhc3luYyBxdWV1ZSBkZXF1ZXVlIG1ldGhvZFxuICAgICAgICAgKiB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RlcXVldWUgPSBfbm9vcDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBvbiBsb2FkIGJpbmRpbmcgdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBjb21wbGV0ZWAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRDb21wbGV0ZSA9IHRoaXMuY29tcGxldGUuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25FcnJvcmAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vblByb2dyZXNzYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8geGhyIGNhbGxiYWNrc1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uRXJyb3IgPSB0aGlzLl94aHJPbkVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkxvYWQgPSB0aGlzLl94aHJPbkxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYZHJPblRpbWVvdXQgPSB0aGlzLl94ZHJPblRpbWVvdXQuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uU3RhcnRTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgZWFjaCB0aW1lIHByb2dyZXNzIG9mIHRoaXMgcmVzb3VyY2UgbG9hZCB1cGRhdGVzLlxuICAgICAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBpcyBiZWluZyBsb2FkZWQgb24gYSBtb2Rlcm4gYnJvd3NlciwgdXNpbmcgWEhSLCBhbmQgdGhlIHJlbW90ZSBzZXJ2ZXJcbiAgICAgICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgdGhpcyByZXNvdXJjZSBoYXMgbG9hZGVkLCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgaXQgd2lsbFxuICAgICAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgYWZ0ZXIgdGhpcyByZXNvdXJjZSBoYXMgaGFkIGFsbCB0aGUgKmFmdGVyKiBtaWRkbGV3YXJlIHJ1biBvbiBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBzdGFydHMgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICAgICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgcmVzb3VyY2UgcmVwb3J0cyBsb2FkaW5nIHByb2dyZXNzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50YWdlIC0gVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICAgICAqL1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyB3aGV0aGVyIG9yIG5vdCB0aGlzIHVybCBpcyBhIGRhdGEgdXJsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogTWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIC8vIFRPRE86IENsZWFuIHRoaXMgdXAgaW4gYSB3cmFwcGVyIG9yIHNvbWV0aGluZy4uLmdyb3NzLi4uLlxuICAgICAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29tcGxldGUgY2FsbGVkIGFnYWluIGZvciBhbiBhbHJlYWR5IGNvbXBsZXRlZCByZXNvdXJjZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWJvcnRzIHRoZSBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UsIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gdXNlIGZvciB0aGUgZXJyb3JcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQobWVzc2FnZSkge1xuICAgICAgICAvLyBhYm9ydCBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBpZ25vcmUgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3JlIGVycm9yXG4gICAgICAgIHRoaXMuZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG5cbiAgICAgICAgLy8gYWJvcnQgdGhlIGFjdHVhbCBsb2FkaW5nXG4gICAgICAgIGlmICh0aGlzLnhocikge1xuICAgICAgICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnhkcikge1xuICAgICAgICAgICAgdGhpcy54ZHIuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIC8vIHNpbmdsZSBzb3VyY2VcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuc3JjKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IFJlc291cmNlLkVNUFRZX0dJRjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG11bHRpLXNvdXJjZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGEuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbmUgbm93LlxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEtpY2tzIG9mZiBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UuIFRoaXMgbWV0aG9kIGlzIGFzeW5jaHJvbm91cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0byBjYWxsIG9uY2UgdGhlIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkKGNiKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKF90aGlzKTtcbiAgICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HLCB0cnVlKTtcblxuICAgICAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG5cbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4gPT09IGZhbHNlIHx8IHR5cGVvZiB0aGlzLmNyb3NzT3JpZ2luICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IHRoaXMuX2RldGVybWluZUNyb3NzT3JpZ2luKHRoaXMudXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGhpcy5sb2FkVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0U6XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkRWxlbWVudCgnaW1hZ2UnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU86XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5BVURJTztcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU86XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5WSURFTztcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSOlxuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAodXNlWGRyICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhkcigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRYaHIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9oYXNGbGFnID0gZnVuY3Rpb24gX2hhc0ZsYWcoZmxhZykge1xuICAgICAgICByZXR1cm4gISEodGhpcy5fZmxhZ3MgJiBmbGFnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gV2hldGhlciB0byBzZXQgb3IgKHVuKXNldCB0aGUgZmxhZy5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9zZXRGbGFnID0gZnVuY3Rpb24gX3NldEZsYWcoZmxhZywgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSB2YWx1ZSA/IHRoaXMuX2ZsYWdzIHwgZmxhZyA6IHRoaXMuX2ZsYWdzICYgfmZsYWc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgYSBzaW5nbGUgc291cmNlLFxuICAgICAqIGxpa2UgYW4gSFRNTEltYWdlRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkRWxlbWVudCA9IGZ1bmN0aW9uIF9sb2FkRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScgJiYgdHlwZW9mIHdpbmRvdy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSB0aGlzLnVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgbXVsdGlwbGUgc291cmNlcyxcbiAgICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkU291cmNlRWxlbWVudCA9IGZ1bmN0aW9uIF9sb2FkU291cmNlRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhdWRpbycgJiYgdHlwZW9mIHdpbmRvdy5BdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBBdWRpbygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoJ1Vuc3VwcG9ydGVkIGVsZW1lbnQ6ICcgKyB0eXBlKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSBBcnJheS5pc0FycmF5KHRoaXMudXJsKSA/IHRoaXMudXJsWzBdIDogdGhpcy51cmw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGhpcy51cmwpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmxbaV0sIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1tpXSA6IG1pbWVUeXBlcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIF9taW1lVHlwZXMgPSB0aGlzLm1ldGFkYXRhLm1pbWVUeXBlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShfbWltZVR5cGVzKSA/IF9taW1lVHlwZXNbMF0gOiBfbWltZVR5cGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5kYXRhLmxvYWQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRYaHIgPSBmdW5jdGlvbiBfbG9hZFhocigpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICAvLyBzZXQgdGhlIHJlcXVlc3QgdHlwZSBhbmQgdXJsXG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gbG9hZCBqc29uIGFzIHRleHQgYW5kIHBhcnNlIGl0IG91cnNlbHZlcy4gV2UgZG8gdGhpcyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgLy8gKmNvdWdoKiBzYWZhcmkgKmNvdWdoKiBjYW4ndCBkZWFsIHdpdGggaXQuXG4gICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04gfHwgdGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gdGhpcy54aHJUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuXG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhEb21haW5SZXF1ZXN0LiBUaGlzIGlzIGhlcmUgYmVjYXVzZSB3ZSBuZWVkIHRvIHN1cHBvcnQgSUU5IChncm9zcykuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRYZHIgPSBmdW5jdGlvbiBfbG9hZFhkcigpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeGRyID0gdGhpcy54aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTtcblxuICAgICAgICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmZXcgcXVpcmtzLiBPY2Nhc2lvbmFsbHkgaXQgd2lsbCBhYm9ydCByZXF1ZXN0c1xuICAgICAgICAvLyBBIHdheSB0byBhdm9pZCB0aGlzIGlzIHRvIG1ha2Ugc3VyZSBBTEwgY2FsbGJhY2tzIGFyZSBzZXQgZXZlbiBpZiBub3QgdXNlZFxuICAgICAgICAvLyBNb3JlIGluZm8gaGVyZTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNTc4Njk2Ni94ZG9tYWlucmVxdWVzdC1hYm9ydHMtcG9zdC1vbi1pZS05XG4gICAgICAgIHhkci50aW1lb3V0ID0gNTAwMDtcblxuICAgICAgICB4ZHIub25lcnJvciA9IHRoaXMuX2JvdW5kWGhyT25FcnJvcjtcbiAgICAgICAgeGRyLm9udGltZW91dCA9IHRoaXMuX2JvdW5kWGRyT25UaW1lb3V0O1xuICAgICAgICB4ZHIub25wcm9ncmVzcyA9IHRoaXMuX2JvdW5kT25Qcm9ncmVzcztcbiAgICAgICAgeGRyLm9ubG9hZCA9IHRoaXMuX2JvdW5kWGhyT25Mb2FkO1xuXG4gICAgICAgIHhkci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gTm90ZTogVGhlIHhkci5zZW5kKCkgY2FsbCBpcyB3cmFwcGVkIGluIGEgdGltZW91dCB0byBwcmV2ZW50IGFuXG4gICAgICAgIC8vIGlzc3VlIHdpdGggdGhlIGludGVyZmFjZSB3aGVyZSBzb21lIHJlcXVlc3RzIGFyZSBsb3N0IGlmIG11bHRpcGxlXG4gICAgICAgIC8vIFhEb21haW5SZXF1ZXN0cyBhcmUgYmVpbmcgc2VudCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAgICAvLyBTb21lIGluZm8gaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL3Bob3RvbnN0b3JtL3BoYXNlci9pc3N1ZXMvMTI0OFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB4ZHIuc2VuZCgpO1xuICAgICAgICB9LCAxKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNvdXJjZSB1c2VkIGluIGxvYWRpbmcgdmlhIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIGVsZW1lbnQgdHlwZSAodmlkZW8gb3IgYXVkaW8pLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgc291cmNlIFVSTCB0byBsb2FkIGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFttaW1lXSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIHZpZGVvXG4gICAgICogQHJldHVybiB7SFRNTFNvdXJjZUVsZW1lbnR9IFRoZSBzb3VyY2UgZWxlbWVudC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9jcmVhdGVTb3VyY2UgPSBmdW5jdGlvbiBfY3JlYXRlU291cmNlKHR5cGUsIHVybCwgbWltZSkge1xuICAgICAgICBpZiAoIW1pbWUpIHtcbiAgICAgICAgICAgIG1pbWUgPSB0eXBlICsgJy8nICsgdGhpcy5fZ2V0RXh0ZW5zaW9uKHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG5cbiAgICAgICAgc291cmNlLnNyYyA9IHVybDtcbiAgICAgICAgc291cmNlLnR5cGUgPSBtaW1lO1xuXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgZXJyb3JzIG91dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX29uRXJyb3IgPSBmdW5jdGlvbiBfb25FcnJvcihldmVudCkge1xuICAgICAgICB0aGlzLmFib3J0KCdGYWlsZWQgdG8gbG9hZCBlbGVtZW50IHVzaW5nOiAnICsgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGEgbG9hZCBwcm9ncmVzcyBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR8RXZlbnR9IGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fb25Qcm9ncmVzcyA9IGZ1bmN0aW9uIF9vblByb2dyZXNzKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCAmJiBldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MuZGlzcGF0Y2godGhpcywgZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWwpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdEVycm9yRXZlbnR8RXZlbnR9IGV2ZW50IC0gRXJyb3IgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5feGhyT25FcnJvciA9IGZ1bmN0aW9uIF94aHJPbkVycm9yKCkge1xuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHI7XG5cbiAgICAgICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyAnIFJlcXVlc3QgZmFpbGVkLiBTdGF0dXM6ICcgKyB4aHIuc3RhdHVzICsgJywgdGV4dDogXCInICsgeGhyLnN0YXR1c1RleHQgKyAnXCInKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGFib3J0IGV2ZW50IGZpcmVzIGZvciB4aHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RBYm9ydEV2ZW50fSBldmVudCAtIEFib3J0IEV2ZW50XG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5feGhyT25BYm9ydCA9IGZ1bmN0aW9uIF94aHJPbkFib3J0KCkge1xuICAgICAgICB0aGlzLmFib3J0KHJlcVR5cGUodGhpcy54aHIpICsgJyBSZXF1ZXN0IHdhcyBhYm9ydGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSB0aW1lb3V0IGV2ZW50IGZpcmVzIGZvciB4ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGltZW91dCBldmVudC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl94ZHJPblRpbWVvdXQgPSBmdW5jdGlvbiBfeGRyT25UaW1lb3V0KCkge1xuICAgICAgICB0aGlzLmFib3J0KHJlcVR5cGUodGhpcy54aHIpICsgJyBSZXF1ZXN0IHRpbWVkIG91dC4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gZGF0YSBzdWNjZXNzZnVsbHkgbG9hZHMgZnJvbSBhbiB4aHIveGRyIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RMb2FkRXZlbnR8RXZlbnR9IGV2ZW50IC0gTG9hZCBldmVudFxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX3hock9uTG9hZCA9IGZ1bmN0aW9uIF94aHJPbkxvYWQoKSB7XG4gICAgICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICAgICAgdmFyIHRleHQgPSAnJztcbiAgICAgICAgdmFyIHN0YXR1cyA9IHR5cGVvZiB4aHIuc3RhdHVzID09PSAndW5kZWZpbmVkJyA/IFNUQVRVU19PSyA6IHhoci5zdGF0dXM7IC8vIFhEUiBoYXMgbm8gYC5zdGF0dXNgLCBhc3N1bWUgMjAwLlxuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaWYgKHhoci5yZXNwb25zZVR5cGUgPT09ICcnIHx8IHhoci5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCB0eXBlb2YgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRleHQgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RhdHVzIGNhbiBiZSAwIHdoZW4gdXNpbmcgdGhlIGBmaWxlOi8vYCBwcm90b2NvbCBzbyB3ZSBhbHNvIGNoZWNrIGlmIGEgcmVzcG9uc2UgaXMgc2V0LlxuICAgICAgICAvLyBJZiBpdCBoYXMgYSByZXNwb25zZSwgd2UgYXNzdW1lIDIwMDsgb3RoZXJ3aXNlIGEgMCBzdGF0dXMgY29kZSB3aXRoIG5vIGNvbnRlbnRzIGlzIGFuIGFib3J0ZWQgcmVxdWVzdC5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX05PTkUgJiYgKHRleHQubGVuZ3RoID4gMCB8fCB4aHIucmVzcG9uc2VUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSBTVEFUVVNfT0s7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICAgICAgICBlbHNlIGlmIChzdGF0dXMgPT09IFNUQVRVU19JRV9CVUdfRU1QVFkpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSBTVEFUVVNfRU1QVFk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXR1c1R5cGUgPSBzdGF0dXMgLyAxMDAgfCAwO1xuXG4gICAgICAgIGlmIChzdGF0dXNUeXBlID09PSBTVEFUVVNfVFlQRV9PSykge1xuICAgICAgICAgICAgLy8gaWYgdGV4dCwganVzdCByZXR1cm4gaXRcbiAgICAgICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVEVYVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGpzb24sIHBhcnNlIGludG8ganNvbiBvYmplY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTikge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSlNPTjtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydCgnRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCBqc29uOiAnICsgZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LkRPTVBhcnNlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9tcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvbXBhcnNlci5wYXJzZUZyb21TdHJpbmcodGV4dCwgJ3RleHQveG1sJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSB0ZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRpdjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlhNTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCdFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIHhtbDogJyArIGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyIHR5cGVzIGp1c3QgcmV0dXJuIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB4aHIucmVzcG9uc2UgfHwgdGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoJ1snICsgeGhyLnN0YXR1cyArICddICcgKyB4aHIuc3RhdHVzVGV4dCArICc6ICcgKyB4aHIucmVzcG9uc2VVUkwpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICAgICAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICAgICAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZUNyb3NzT3JpZ2luID0gZnVuY3Rpb24gX2RldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cbiAgICAgICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgICAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgICAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgICAgICAvLyBwYXJzZSB3aXRoIHRoZSBub2RlIHVybCBsaWIsIHdlIGNhbid0IHVzZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAgICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICAgICAgdXJsID0gKDAsIF9wYXJzZVVyaTIuZGVmYXVsdCkodGVtcEFuY2hvci5ocmVmLCB7IHN0cmljdE1vZGU6IHRydWUgfSk7XG5cbiAgICAgICAgdmFyIHNhbWVQb3J0ID0gIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJyB8fCB1cmwucG9ydCA9PT0gbG9jLnBvcnQ7XG4gICAgICAgIHZhciBwcm90b2NvbCA9IHVybC5wcm90b2NvbCA/IHVybC5wcm90b2NvbCArICc6JyA6ICcnO1xuXG4gICAgICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgICAgICBpZiAodXJsLmhvc3QgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSByZXNwb25zZVR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBUaGUgcmVzcG9uc2VUeXBlIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9kZXRlcm1pbmVYaHJUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZVhoclR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSZXNvdXJjZS5feGhyVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgbG9hZFR5cGUgb2YgYSByZXNvdXJjZSBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7UmVzb3VyY2UuTE9BRF9UWVBFfSBUaGUgbG9hZFR5cGUgdG8gdXNlLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZUxvYWRUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZUxvYWRUeXBlKCkge1xuICAgICAgICByZXR1cm4gUmVzb3VyY2UuX2xvYWRUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgZXh0ZW5zaW9uIChzYW5zICcuJykgb2YgdGhlIGZpbGUgYmVpbmcgbG9hZGVkIGJ5IHRoZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgZXh0ZW5zaW9uLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2dldEV4dGVuc2lvbiA9IGZ1bmN0aW9uIF9nZXRFeHRlbnNpb24oKSB7XG4gICAgICAgIHZhciB1cmwgPSB0aGlzLnVybDtcbiAgICAgICAgdmFyIGV4dCA9ICcnO1xuXG4gICAgICAgIGlmICh0aGlzLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgdmFyIHNsYXNoSW5kZXggPSB1cmwuaW5kZXhPZignLycpO1xuXG4gICAgICAgICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHNsYXNoSW5kZXggKyAxLCB1cmwuaW5kZXhPZignOycsIHNsYXNoSW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgICAgICAgICAgIHZhciBoYXNoU3RhcnQgPSB1cmwuaW5kZXhPZignIycpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5taW4ocXVlcnlTdGFydCA+IC0xID8gcXVlcnlTdGFydCA6IHVybC5sZW5ndGgsIGhhc2hTdGFydCA+IC0xID8gaGFzaFN0YXJ0IDogdXJsLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIHVybCA9IHVybC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuICAgICAgICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyh1cmwubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBtaW1lIHR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIHJlc3BvbnNlVHlwZSBvZlxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gdHlwZSAtIFRoZSB0eXBlIHRvIGdldCBhIG1pbWUgdHlwZSBmb3IuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgbWltZSB0eXBlIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9nZXRNaW1lRnJvbVhoclR5cGUgPSBmdW5jdGlvbiBfZ2V0TWltZUZyb21YaHJUeXBlKHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LWJpbmFyeSc7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2Jsb2InO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veG1sJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcblxuICAgICAgICB9XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhSZXNvdXJjZSwgW3tcbiAgICAgICAga2V5OiAnaXNEYXRhVXJsJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGhhcyBmaW5pc2hlZCBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIGhhcyBjb21wbGV0ZWx5XG4gICAgICAgICAqIGxvYWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdpc0NvbXBsZXRlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyBsb2FkaW5nLFxuICAgICAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdpc0xvYWRpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBSZXNvdXJjZTtcbn0oKTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlc291cmNlO1xuUmVzb3VyY2UuU1RBVFVTX0ZMQUdTID0ge1xuICAgIE5PTkU6IDAsXG4gICAgREFUQV9VUkw6IDEgPDwgMCxcbiAgICBDT01QTEVURTogMSA8PCAxLFxuICAgIExPQURJTkc6IDEgPDwgMlxufTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuVFlQRSA9IHtcbiAgICBVTktOT1dOOiAwLFxuICAgIEpTT046IDEsXG4gICAgWE1MOiAyLFxuICAgIElNQUdFOiAzLFxuICAgIEFVRElPOiA0LFxuICAgIFZJREVPOiA1LFxuICAgIFRFWFQ6IDZcbn07XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIGxvYWRpbmcgYSByZXNvdXJjZSBjYW4gdXNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuTE9BRF9UWVBFID0ge1xuICAgIC8qKiBVc2VzIFhNTEh0dHBSZXF1ZXN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIFhIUjogMSxcbiAgICAvKiogVXNlcyBhbiBgSW1hZ2VgIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBJTUFHRTogMixcbiAgICAvKiogVXNlcyBhbiBgQXVkaW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBBVURJTzogMyxcbiAgICAvKiogVXNlcyBhIGBWaWRlb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIFZJREVPOiA0XG59O1xuXG4vKipcbiAqIFRoZSBYSFIgcmVhZHkgc3RhdGVzLCB1c2VkIGludGVybmFsbHkuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHtcbiAgICAvKiogc3RyaW5nICovXG4gICAgREVGQVVMVDogJ3RleHQnLFxuICAgIC8qKiBBcnJheUJ1ZmZlciAqL1xuICAgIEJVRkZFUjogJ2FycmF5YnVmZmVyJyxcbiAgICAvKiogQmxvYiAqL1xuICAgIEJMT0I6ICdibG9iJyxcbiAgICAvKiogRG9jdW1lbnQgKi9cbiAgICBET0NVTUVOVDogJ2RvY3VtZW50JyxcbiAgICAvKiogT2JqZWN0ICovXG4gICAgSlNPTjogJ2pzb24nLFxuICAgIC8qKiBTdHJpbmcgKi9cbiAgICBURVhUOiAndGV4dCdcbn07XG5cblJlc291cmNlLl9sb2FkVHlwZU1hcCA9IHtcbiAgICAvLyBpbWFnZXNcbiAgICBnaWY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBwbmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBibXA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBqcGc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBqcGVnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHdlYnA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0Z2E6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBzdmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAnc3ZnK3htbCc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSwgLy8gZm9yIFNWRyBkYXRhIHVybHNcblxuICAgIC8vIGF1ZGlvXG4gICAgbXAzOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgb2dnOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgd2F2OiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG5cbiAgICAvLyB2aWRlb3NcbiAgICBtcDQ6IFJlc291cmNlLkxPQURfVFlQRS5WSURFTyxcbiAgICB3ZWJtOiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU9cbn07XG5cblJlc291cmNlLl94aHJUeXBlTWFwID0ge1xuICAgIC8vIHhtbFxuICAgIHhodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBodG06IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIHhtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgdG14OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBzdmc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gVGhpcyB3YXMgYWRkZWQgdG8gaGFuZGxlIFRpbGVkIFRpbGVzZXQgWE1MLCBidXQgLnRzeCBpcyBhbHNvIGEgVHlwZVNjcmlwdCBSZWFjdCBDb21wb25lbnQuXG4gICAgLy8gU2luY2UgaXQgaXMgd2F5IGxlc3MgbGlrZWx5IGZvciBwZW9wbGUgdG8gYmUgbG9hZGluZyBUeXBlU2NyaXB0IGZpbGVzIGluc3RlYWQgb2YgVGlsZWQgZmlsZXMsXG4gICAgLy8gdGhpcyBzaG91bGQgcHJvYmFibHkgYmUgZmluZS5cbiAgICB0c3g6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHBuZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBibXA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAganBnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGpwZWc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGlmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRpZmY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgd2VicDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB0Z2E6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG5cbiAgICAvLyBqc29uXG4gICAganNvbjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcblxuICAgIC8vIHRleHRcbiAgICB0ZXh0OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICAgIHR4dDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcblxuICAgIC8vIGZvbnRzXG4gICAgdHRmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG4gICAgb3RmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVJcbn07XG5cbi8vIFdlIGNhbid0IHNldCB0aGUgYHNyY2AgYXR0cmlidXRlIHRvIGVtcHR5IHN0cmluZywgc28gb24gYWJvcnQgd2Ugc2V0IGl0IHRvIHRoaXMgMXB4IHRyYW5zcGFyZW50IGdpZlxuUmVzb3VyY2UuRU1QVFlfR0lGID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQVAvLy93QUFBQ0g1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93PT0nO1xuXG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBzZXQgYSB2YWx1ZSBvbiBvbmUgb2YgdGhlIGV4dGVuc2lvbiBtYXBzLiBFbnN1cmVzIHRoZXJlIGlzIG5vXG4gKiBkb3QgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleHRlbnNpb24uXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtvYmplY3R9IG1hcCAtIFRoZSBtYXAgdG8gc2V0IG9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIChvciBrZXkpIHRvIHNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSBUaGUgdmFsdWUgdG8gc2V0LlxuICovXG5mdW5jdGlvbiBzZXRFeHRNYXAobWFwLCBleHRuYW1lLCB2YWwpIHtcbiAgICBpZiAoZXh0bmFtZSAmJiBleHRuYW1lLmluZGV4T2YoJy4nKSA9PT0gMCkge1xuICAgICAgICBleHRuYW1lID0gZXh0bmFtZS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuXG4gICAgaWYgKCFleHRuYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtYXBbZXh0bmFtZV0gPSB2YWw7XG59XG5cbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIGdldCBzdHJpbmcgeGhyIHR5cGUuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdHxYRG9tYWluUmVxdWVzdH0geGhyIC0gVGhlIHJlcXVlc3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0eXBlLlxuICovXG5mdW5jdGlvbiByZXFUeXBlKHhocikge1xuICAgIHJldHVybiB4aHIudG9TdHJpbmcoKS5yZXBsYWNlKCdvYmplY3QgJywgJycpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzb3VyY2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVJbmRpY2VzRm9yUXVhZHM7XG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgcXVhZHNcbiAqIEByZXR1cm4ge1VpbnQxNkFycmF5fSBpbmRpY2VzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplKSB7XG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuXG4gICAgdmFyIHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuXG4gICAgdmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkodG90YWxJbmRpY2VzKTtcblxuICAgIC8vIGZpbGwgdGhlIGluZGljZXMgd2l0aCB0aGUgcXVhZHMgdG8gZHJhd1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsSW5kaWNlczsgaSArPSA2LCBqICs9IDQpIHtcbiAgICAgICAgaW5kaWNlc1tpICsgMF0gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgMV0gPSBqICsgMTtcbiAgICAgICAgaW5kaWNlc1tpICsgMl0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgM10gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgNF0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgNV0gPSBqICsgMztcbiAgICB9XG5cbiAgICByZXR1cm4gaW5kaWNlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUluZGljZXNGb3JRdWFkcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMnKTtcblxudmFyIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFV0aWxpdHkgbWV0aG9kcyBmb3IgU3ByaXRlL1RleHR1cmUgdGludGluZy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDYW52YXNUaW50ZXIgPSB7XG4gICAgLyoqXG4gICAgICogQmFzaWNhbGx5IHRoaXMgbWV0aG9kIGp1c3QgbmVlZHMgYSBzcHJpdGUgYW5kIGEgY29sb3IgYW5kIHRpbnRzIHRoZSBzcHJpdGUgd2l0aCB0aGUgZ2l2ZW4gY29sb3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgc3ByaXRlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IFRoZSB0aW50ZWQgY2FudmFzXG4gICAgICovXG4gICAgZ2V0VGludGVkVGV4dHVyZTogZnVuY3Rpb24gZ2V0VGludGVkVGV4dHVyZShzcHJpdGUsIGNvbG9yKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuXG4gICAgICAgIGNvbG9yID0gQ2FudmFzVGludGVyLnJvdW5kQ29sb3IoY29sb3IpO1xuXG4gICAgICAgIHZhciBzdHJpbmdDb2xvciA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuXG4gICAgICAgIHRleHR1cmUudGludENhY2hlID0gdGV4dHVyZS50aW50Q2FjaGUgfHwge307XG5cbiAgICAgICAgdmFyIGNhY2hlZFRleHR1cmUgPSB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl07XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoY2FjaGVkVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGNhY2hlZFRleHR1cmUudGludElkID09PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcyA9IHRleHR1cmUudGludENhY2hlW3N0cmluZ0NvbG9yXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbnZhcyA9IENhbnZhc1RpbnRlci5jYW52YXMgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIH1cblxuICAgICAgICBDYW52YXNUaW50ZXIudGludE1ldGhvZCh0ZXh0dXJlLCBjb2xvciwgY2FudmFzKTtcblxuICAgICAgICBjYW52YXMudGludElkID0gdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgaWYgKENhbnZhc1RpbnRlci5jb252ZXJ0VGludFRvSW1hZ2UpIHtcbiAgICAgICAgICAgIC8vIGlzIHRoaXMgYmV0dGVyP1xuICAgICAgICAgICAgdmFyIHRpbnRJbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgICAgICB0aW50SW1hZ2Uuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl0gPSB0aW50SW1hZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl0gPSBjYW52YXM7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGNvbnZlcnRpbmcgdGhlIHRleHR1cmUgdG8gYW4gaW1hZ2UgdGhlbiB3ZSBuZWVkIHRvIGxvc2UgdGhlIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzXG4gICAgICAgICAgICBDYW52YXNUaW50ZXIuY2FudmFzID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRpbnQgYSB0ZXh0dXJlIHVzaW5nIHRoZSAnbXVsdGlwbHknIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gdGludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvciAtIHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY3VycmVudCBjYW52YXNcbiAgICAgKi9cbiAgICB0aW50V2l0aE11bHRpcGx5OiBmdW5jdGlvbiB0aW50V2l0aE11bHRpcGx5KHRleHR1cmUsIGNvbG9yLCBjYW52YXMpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdmFyIGNyb3AgPSB0ZXh0dXJlLl9mcmFtZS5jbG9uZSgpO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICBjcm9wLnggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC55ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3Aud2lkdGggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC5oZWlnaHQgKj0gcmVzb2x1dGlvbjtcblxuICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmNlaWwoY3JvcC53aWR0aCk7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuXG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ211bHRpcGx5JztcblxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSwgY3JvcC54LCBjcm9wLnksIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0LCAwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tYXRvcCc7XG5cbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGNyb3AueCwgY3JvcC55LCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCwgMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGludCBhIHRleHR1cmUgdXNpbmcgdGhlICdvdmVybGF5JyBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGN1cnJlbnQgY2FudmFzXG4gICAgICovXG4gICAgdGludFdpdGhPdmVybGF5OiBmdW5jdGlvbiB0aW50V2l0aE92ZXJsYXkodGV4dHVyZSwgY29sb3IsIGNhbnZhcykge1xuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB2YXIgY3JvcCA9IHRleHR1cmUuX2ZyYW1lLmNsb25lKCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGNyb3AueCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLnkgKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC53aWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLmhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguY2VpbChjcm9wLndpZHRoKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbChjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1hdG9wJztcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGNyb3AueCwgY3JvcC55LCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCwgMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIC8vIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBUaW50IGEgdGV4dHVyZSBwaXhlbCBwZXIgcGl4ZWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGN1cnJlbnQgY2FudmFzXG4gICAgICovXG4gICAgdGludFdpdGhQZXJQaXhlbDogZnVuY3Rpb24gdGludFdpdGhQZXJQaXhlbCh0ZXh0dXJlLCBjb2xvciwgY2FudmFzKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHZhciBjcm9wID0gdGV4dHVyZS5fZnJhbWUuY2xvbmUoKTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgY3JvcC54ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AueSAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLndpZHRoICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AuaGVpZ2h0ICo9IHJlc29sdXRpb247XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGNyb3Aud2lkdGgpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnY29weSc7XG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLCBjcm9wLngsIGNyb3AueSwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQsIDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgICAgdmFyIHJnYlZhbHVlcyA9ICgwLCBfdXRpbHMuaGV4MnJnYikoY29sb3IpO1xuICAgICAgICB2YXIgciA9IHJnYlZhbHVlc1swXTtcbiAgICAgICAgdmFyIGcgPSByZ2JWYWx1ZXNbMV07XG4gICAgICAgIHZhciBiID0gcmdiVmFsdWVzWzJdO1xuXG4gICAgICAgIHZhciBwaXhlbERhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgdmFyIHBpeGVscyA9IHBpeGVsRGF0YS5kYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGl4ZWxzLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDBdICo9IHI7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDFdICo9IGc7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDJdICo9IGI7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnB1dEltYWdlRGF0YShwaXhlbERhdGEsIDAsIDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3VuZHMgdGhlIHNwZWNpZmllZCBjb2xvciBhY2NvcmRpbmcgdG8gdGhlIENhbnZhc1RpbnRlci5jYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gdGhlIGNvbG9yIHRvIHJvdW5kLCBzaG91bGQgYmUgYSBoZXggY29sb3JcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByb3VuZGVkIGNvbG9yLlxuICAgICAqL1xuICAgIHJvdW5kQ29sb3I6IGZ1bmN0aW9uIHJvdW5kQ29sb3IoY29sb3IpIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBDYW52YXNUaW50ZXIuY2FjaGVTdGVwc1BlckNvbG9yQ2hhbm5lbDtcblxuICAgICAgICB2YXIgcmdiVmFsdWVzID0gKDAsIF91dGlscy5oZXgycmdiKShjb2xvcik7XG5cbiAgICAgICAgcmdiVmFsdWVzWzBdID0gTWF0aC5taW4oMjU1LCByZ2JWYWx1ZXNbMF0gLyBzdGVwICogc3RlcCk7XG4gICAgICAgIHJnYlZhbHVlc1sxXSA9IE1hdGgubWluKDI1NSwgcmdiVmFsdWVzWzFdIC8gc3RlcCAqIHN0ZXApO1xuICAgICAgICByZ2JWYWx1ZXNbMl0gPSBNYXRoLm1pbigyNTUsIHJnYlZhbHVlc1syXSAvIHN0ZXAgKiBzdGVwKTtcblxuICAgICAgICByZXR1cm4gKDAsIF91dGlscy5yZ2IyaGV4KShyZ2JWYWx1ZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2Ygc3RlcHMgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGEgY2FwIHdoZW4gcm91bmRpbmcgY29sb3JzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBjYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsOiA4LFxuXG4gICAgLyoqXG4gICAgICogVGludCBjYWNoZSBib29sZWFuIGZsYWcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjb252ZXJ0VGludFRvSW1hZ2U6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhlIENhbnZhcyBCbGVuZE1vZGVzIGFyZSBzdXBwb3J0ZWQsIGNvbnNlcXVlbnRseSB0aGUgYWJpbGl0eSB0byB0aW50IHVzaW5nIHRoZSBtdWx0aXBseSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5Vc2VNdWx0aXBseTogKDAsIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMi5kZWZhdWx0KSgpLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnRpbmcgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHR5cGUge3RpbnRNZXRob2RGdW5jdGlvblR5cGV9XG4gICAgICovXG4gICAgdGludE1ldGhvZDogMFxufTtcblxuQ2FudmFzVGludGVyLnRpbnRNZXRob2QgPSBDYW52YXNUaW50ZXIuY2FuVXNlTXVsdGlwbHkgPyBDYW52YXNUaW50ZXIudGludFdpdGhNdWx0aXBseSA6IENhbnZhc1RpbnRlci50aW50V2l0aFBlclBpeGVsO1xuXG4vKipcbiAqIFRoZSB0aW50TWV0aG9kIHR5cGUuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gKiBAY2FsbGJhY2sgdGludE1ldGhvZEZ1bmN0aW9uVHlwZVxuICogQHBhcmFtIHRleHR1cmUge1BJWEkuVGV4dHVyZX0gdGhlIHRleHR1cmUgdG8gdGludFxuICogQHBhcmFtIGNvbG9yIHtudW1iZXJ9IHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAqIEBwYXJhbSBjYW52YXMge0hUTUxDYW52YXNFbGVtZW50fSB0aGUgY3VycmVudCBjYW52YXNcbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNUaW50ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNUaW50ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0Jhc2VSZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi9CYXNlUmVuZGVyVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VSZW5kZXJUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VSZW5kZXJUZXh0dXJlKTtcblxudmFyIF9UZXh0dXJlMiA9IHJlcXVpcmUoJy4vVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSBSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIFJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIEEgUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gRm9yIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKDEwMjQsIDEwMjQsIHsgdmlldzogY2FudmFzLCByYXRpbzogMSB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSg4MDAsIDYwMCk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbUltYWdlKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSgxMDAsIDEwMCk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiAoX1RleHR1cmUpIHtcbiAgICBfaW5oZXJpdHMoUmVuZGVyVGV4dHVyZSwgX1RleHR1cmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VSZW5kZXJUZXh0dXJlfSBiYXNlUmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJlciB1c2VkIGZvciB0aGlzIFJlbmRlclRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbmRlclRleHR1cmUpO1xuXG4gICAgICAgIC8vIHN1cHBvcnQgZm9yIGxlZ2FjeS4uXG4gICAgICAgIHZhciBfbGVnYWN5UmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIGlmICghKGJhc2VSZW5kZXJUZXh0dXJlIGluc3RhbmNlb2YgX0Jhc2VSZW5kZXJUZXh0dXJlMi5kZWZhdWx0KSkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzRdO1xuXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGFuIG9sZCByZW5kZXIgdGV4dHVyZS4uXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BsZWFzZSB1c2UgUmVuZGVyVGV4dHVyZS5jcmVhdGUoJyArIHdpZHRoICsgJywgJyArIGhlaWdodCArICcpIGluc3RlYWQgb2YgdGhlIGN0b3IgZGlyZWN0bHkuJyk7XG4gICAgICAgICAgICBfbGVnYWN5UmVuZGVyZXIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuXG4gICAgICAgICAgICBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBfQmFzZVJlbmRlclRleHR1cmUyLmRlZmF1bHQod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIG9iamVjdCB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Jhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVGV4dHVyZS5jYWxsKHRoaXMsIGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkpO1xuXG4gICAgICAgIF90aGlzLmxlZ2FjeVJlbmRlcmVyID0gX2xlZ2FjeVJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy5fdXBkYXRlVXZzKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkb05vdFJlc2l6ZUJhc2VUZXh0dXJlIC0gU2hvdWxkIHRoZSBiYXNlVGV4dHVyZS53aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcyBiZSByZXNpemVkIGFzIHdlbGw/XG4gICAgICovXG5cblxuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCBkb05vdFJlc2l6ZUJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIGJlIG5vdCByZXF1aXJlZC4uXG4gICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcblxuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IHRoaXMub3JpZy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSB0aGlzLm9yaWcuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGlmICghZG9Ob3RSZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVVdnMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShuZXcgX0Jhc2VSZW5kZXJUZXh0dXJlMi5kZWZhdWx0KHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbikpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmVuZGVyVGV4dHVyZTtcbn0oX1RleHR1cmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZW5kZXJUZXh0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLlRpY2tlciA9IGV4cG9ydHMuc2hhcmVkID0gdW5kZWZpbmVkO1xuXG52YXIgX1RpY2tlciA9IHJlcXVpcmUoJy4vVGlja2VyJyk7XG5cbnZhciBfVGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpY2tlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogVGhlIHNoYXJlZCB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGV9LlxuICogYW5kIGJ5IHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn0uXG4gKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWBcbiAqIGZvciB0aGlzIGluc3RhbmNlLiBQbGVhc2UgZm9sbG93IHRoZSBleGFtcGxlcyBmb3IgdXNhZ2UsIGluY2x1ZGluZ1xuICogaG93IHRvIG9wdC1vdXQgb2YgYXV0by1zdGFydGluZyB0aGUgc2hhcmVkIHRpY2tlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogbGV0IHRpY2tlciA9IFBJWEkudGlja2VyLnNoYXJlZDtcbiAqIC8vIFNldCB0aGlzIHRvIHByZXZlbnQgc3RhcnRpbmcgdGhpcyB0aWNrZXIgd2hlbiBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICogLy8gQnkgZGVmYXVsdCB0aGlzIGlzIHRydWUgb25seSBmb3IgdGhlIFBJWEkudGlja2VyLnNoYXJlZCBpbnN0YW5jZS5cbiAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAqIC8vIEZZSSwgY2FsbCB0aGlzIHRvIGVuc3VyZSB0aGUgdGlja2VyIGlzIHN0b3BwZWQuIEl0IHNob3VsZCBiZSBzdG9wcGVkXG4gKiAvLyBpZiB5b3UgaGF2ZSBub3QgYXR0ZW1wdGVkIHRvIHJlbmRlciBhbnl0aGluZyB5ZXQuXG4gKiB0aWNrZXIuc3RvcCgpO1xuICogLy8gQ2FsbCB0aGlzIHdoZW4geW91IGFyZSByZWFkeSBmb3IgYSBydW5uaW5nIHNoYXJlZCB0aWNrZXIuXG4gKiB0aWNrZXIuc3RhcnQoKTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gWW91IG1heSB1c2UgdGhlIHNoYXJlZCB0aWNrZXIgdG8gcmVuZGVyLi4uXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcig4MDAsIDYwMCk7XG4gKiBsZXQgc3RhZ2UgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGxldCBpbnRlcmFjdGlvbk1hbmFnZXIgPSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcihyZW5kZXJlcik7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLnZpZXcpO1xuICogdGlja2VyLmFkZChmdW5jdGlvbiAodGltZSkge1xuICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gT3IgeW91IGNhbiBqdXN0IHVwZGF0ZSBpdCBtYW51YWxseS5cbiAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAqIHRpY2tlci5zdG9wKCk7XG4gKiBmdW5jdGlvbiBhbmltYXRlKHRpbWUpIHtcbiAqICAgICB0aWNrZXIudXBkYXRlKHRpbWUpO1xuICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gKiAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICogfVxuICogYW5pbWF0ZShwZXJmb3JtYW5jZS5ub3coKSk7XG4gKlxuICogQHR5cGUge1BJWEkudGlja2VyLlRpY2tlcn1cbiAqIEBtZW1iZXJvZiBQSVhJLnRpY2tlclxuICovXG52YXIgc2hhcmVkID0gbmV3IF9UaWNrZXIyLmRlZmF1bHQoKTtcblxuc2hhcmVkLmF1dG9TdGFydCA9IHRydWU7XG5zaGFyZWQuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gcHJvdGVjdCBkZXN0cm95aW5nIHNoYXJlZCB0aWNrZXJcbiAgLy8gdGhpcyBpcyB1c2VkIGJ5IG90aGVyIGludGVybmFsIHN5c3RlbXNcbiAgLy8gbGlrZSBBbmltYXRlZFNwcml0ZSBhbmQgSW50ZXJhY3Rpb25NYW5hZ2VyXG59O1xuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIGFuIEFQSSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBQSVhJJ3MgaW50ZXJuYWwgZ2xvYmFsIHVwZGF0ZSBsb29wLlxuICpcbiAqIFRoaXMgdGlja2VyIGlzIHVzZWQgZm9yIHJlbmRlcmluZywge0BsaW5rIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlIEFuaW1hdGVkU3ByaXRlfSxcbiAqIHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciBJbnRlcmFjdGlvbk1hbmFnZXJ9IGFuZCBtYW55IG90aGVyIHRpbWUtYmFzZWQgUElYSSBzeXN0ZW1zLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHRpY2tlciA9IG5ldyBQSVhJLnRpY2tlci5UaWNrZXIoKTtcbiAqIHRpY2tlci5zdG9wKCk7XG4gKiB0aWNrZXIuYWRkKChkZWx0YVRpbWUpID0+IHtcbiAqICAgLy8gZG8gc29tZXRoaW5nIGV2ZXJ5IGZyYW1lXG4gKiB9KTtcbiAqIHRpY2tlci5zdGFydCgpO1xuICogQG5hbWVzcGFjZSBQSVhJLnRpY2tlclxuICovXG5leHBvcnRzLnNoYXJlZCA9IHNoYXJlZDtcbmV4cG9ydHMuVGlja2VyID0gX1RpY2tlcjIuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qKlxuICogQml0IHR3aWRkbGluZyBoYWNrcyBmb3IgSmF2YVNjcmlwdC5cbiAqXG4gKiBBdXRob3I6IE1pa29sYSBMeXNlbmtvXG4gKlxuICogUG9ydGVkIGZyb20gU3RhbmZvcmQgYml0IHR3aWRkbGluZyBoYWNrIGxpYnJhcnk6XG4gKiAgICBodHRwOi8vZ3JhcGhpY3Muc3RhbmZvcmQuZWR1L35zZWFuZGVyL2JpdGhhY2tzLmh0bWxcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjsgXCJ1c2UgcmVzdHJpY3RcIjtcblxuLy9OdW1iZXIgb2YgYml0cyBpbiBhbiBpbnRlZ2VyXG52YXIgSU5UX0JJVFMgPSAzMjtcblxuLy9Db25zdGFudHNcbmV4cG9ydHMuSU5UX0JJVFMgID0gSU5UX0JJVFM7XG5leHBvcnRzLklOVF9NQVggICA9ICAweDdmZmZmZmZmO1xuZXhwb3J0cy5JTlRfTUlOICAgPSAtMTw8KElOVF9CSVRTLTEpO1xuXG4vL1JldHVybnMgLTEsIDAsICsxIGRlcGVuZGluZyBvbiBzaWduIG9mIHhcbmV4cG9ydHMuc2lnbiA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuICh2ID4gMCkgLSAodiA8IDApO1xufVxuXG4vL0NvbXB1dGVzIGFic29sdXRlIHZhbHVlIG9mIGludGVnZXJcbmV4cG9ydHMuYWJzID0gZnVuY3Rpb24odikge1xuICB2YXIgbWFzayA9IHYgPj4gKElOVF9CSVRTLTEpO1xuICByZXR1cm4gKHYgXiBtYXNrKSAtIG1hc2s7XG59XG5cbi8vQ29tcHV0ZXMgbWluaW11bSBvZiBpbnRlZ2VycyB4IGFuZCB5XG5leHBvcnRzLm1pbiA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgcmV0dXJuIHkgXiAoKHggXiB5KSAmIC0oeCA8IHkpKTtcbn1cblxuLy9Db21wdXRlcyBtYXhpbXVtIG9mIGludGVnZXJzIHggYW5kIHlcbmV4cG9ydHMubWF4ID0gZnVuY3Rpb24oeCwgeSkge1xuICByZXR1cm4geCBeICgoeCBeIHkpICYgLSh4IDwgeSkpO1xufVxuXG4vL0NoZWNrcyBpZiBhIG51bWJlciBpcyBhIHBvd2VyIG9mIHR3b1xuZXhwb3J0cy5pc1BvdzIgPSBmdW5jdGlvbih2KSB7XG4gIHJldHVybiAhKHYgJiAodi0xKSkgJiYgKCEhdik7XG59XG5cbi8vQ29tcHV0ZXMgbG9nIGJhc2UgMiBvZiB2XG5leHBvcnRzLmxvZzIgPSBmdW5jdGlvbih2KSB7XG4gIHZhciByLCBzaGlmdDtcbiAgciA9ICAgICAodiA+IDB4RkZGRikgPDwgNDsgdiA+Pj49IHI7XG4gIHNoaWZ0ID0gKHYgPiAweEZGICApIDw8IDM7IHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgc2hpZnQgPSAodiA+IDB4RiAgICkgPDwgMjsgdiA+Pj49IHNoaWZ0OyByIHw9IHNoaWZ0O1xuICBzaGlmdCA9ICh2ID4gMHgzICAgKSA8PCAxOyB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gIHJldHVybiByIHwgKHYgPj4gMSk7XG59XG5cbi8vQ29tcHV0ZXMgbG9nIGJhc2UgMTAgb2YgdlxuZXhwb3J0cy5sb2cxMCA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuICAodiA+PSAxMDAwMDAwMDAwKSA/IDkgOiAodiA+PSAxMDAwMDAwMDApID8gOCA6ICh2ID49IDEwMDAwMDAwKSA/IDcgOlxuICAgICAgICAgICh2ID49IDEwMDAwMDApID8gNiA6ICh2ID49IDEwMDAwMCkgPyA1IDogKHYgPj0gMTAwMDApID8gNCA6XG4gICAgICAgICAgKHYgPj0gMTAwMCkgPyAzIDogKHYgPj0gMTAwKSA/IDIgOiAodiA+PSAxMCkgPyAxIDogMDtcbn1cblxuLy9Db3VudHMgbnVtYmVyIG9mIGJpdHNcbmV4cG9ydHMucG9wQ291bnQgPSBmdW5jdGlvbih2KSB7XG4gIHYgPSB2IC0gKCh2ID4+PiAxKSAmIDB4NTU1NTU1NTUpO1xuICB2ID0gKHYgJiAweDMzMzMzMzMzKSArICgodiA+Pj4gMikgJiAweDMzMzMzMzMzKTtcbiAgcmV0dXJuICgodiArICh2ID4+PiA0KSAmIDB4RjBGMEYwRikgKiAweDEwMTAxMDEpID4+PiAyNDtcbn1cblxuLy9Db3VudHMgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zXG5mdW5jdGlvbiBjb3VudFRyYWlsaW5nWmVyb3Modikge1xuICB2YXIgYyA9IDMyO1xuICB2ICY9IC12O1xuICBpZiAodikgYy0tO1xuICBpZiAodiAmIDB4MDAwMEZGRkYpIGMgLT0gMTY7XG4gIGlmICh2ICYgMHgwMEZGMDBGRikgYyAtPSA4O1xuICBpZiAodiAmIDB4MEYwRjBGMEYpIGMgLT0gNDtcbiAgaWYgKHYgJiAweDMzMzMzMzMzKSBjIC09IDI7XG4gIGlmICh2ICYgMHg1NTU1NTU1NSkgYyAtPSAxO1xuICByZXR1cm4gYztcbn1cbmV4cG9ydHMuY291bnRUcmFpbGluZ1plcm9zID0gY291bnRUcmFpbGluZ1plcm9zO1xuXG4vL1JvdW5kcyB0byBuZXh0IHBvd2VyIG9mIDJcbmV4cG9ydHMubmV4dFBvdzIgPSBmdW5jdGlvbih2KSB7XG4gIHYgKz0gdiA9PT0gMDtcbiAgLS12O1xuICB2IHw9IHYgPj4+IDE7XG4gIHYgfD0gdiA+Pj4gMjtcbiAgdiB8PSB2ID4+PiA0O1xuICB2IHw9IHYgPj4+IDg7XG4gIHYgfD0gdiA+Pj4gMTY7XG4gIHJldHVybiB2ICsgMTtcbn1cblxuLy9Sb3VuZHMgZG93biB0byBwcmV2aW91cyBwb3dlciBvZiAyXG5leHBvcnRzLnByZXZQb3cyID0gZnVuY3Rpb24odikge1xuICB2IHw9IHYgPj4+IDE7XG4gIHYgfD0gdiA+Pj4gMjtcbiAgdiB8PSB2ID4+PiA0O1xuICB2IHw9IHYgPj4+IDg7XG4gIHYgfD0gdiA+Pj4gMTY7XG4gIHJldHVybiB2IC0gKHY+Pj4xKTtcbn1cblxuLy9Db21wdXRlcyBwYXJpdHkgb2Ygd29yZFxuZXhwb3J0cy5wYXJpdHkgPSBmdW5jdGlvbih2KSB7XG4gIHYgXj0gdiA+Pj4gMTY7XG4gIHYgXj0gdiA+Pj4gODtcbiAgdiBePSB2ID4+PiA0O1xuICB2ICY9IDB4ZjtcbiAgcmV0dXJuICgweDY5OTYgPj4+IHYpICYgMTtcbn1cblxudmFyIFJFVkVSU0VfVEFCTEUgPSBuZXcgQXJyYXkoMjU2KTtcblxuKGZ1bmN0aW9uKHRhYikge1xuICBmb3IodmFyIGk9MDsgaTwyNTY7ICsraSkge1xuICAgIHZhciB2ID0gaSwgciA9IGksIHMgPSA3O1xuICAgIGZvciAodiA+Pj49IDE7IHY7IHYgPj4+PSAxKSB7XG4gICAgICByIDw8PSAxO1xuICAgICAgciB8PSB2ICYgMTtcbiAgICAgIC0tcztcbiAgICB9XG4gICAgdGFiW2ldID0gKHIgPDwgcykgJiAweGZmO1xuICB9XG59KShSRVZFUlNFX1RBQkxFKTtcblxuLy9SZXZlcnNlIGJpdHMgaW4gYSAzMiBiaXQgd29yZFxuZXhwb3J0cy5yZXZlcnNlID0gZnVuY3Rpb24odikge1xuICByZXR1cm4gIChSRVZFUlNFX1RBQkxFWyB2ICAgICAgICAgJiAweGZmXSA8PCAyNCkgfFxuICAgICAgICAgIChSRVZFUlNFX1RBQkxFWyh2ID4+PiA4KSAgJiAweGZmXSA8PCAxNikgfFxuICAgICAgICAgIChSRVZFUlNFX1RBQkxFWyh2ID4+PiAxNikgJiAweGZmXSA8PCA4KSAgfFxuICAgICAgICAgICBSRVZFUlNFX1RBQkxFWyh2ID4+PiAyNCkgJiAweGZmXTtcbn1cblxuLy9JbnRlcmxlYXZlIGJpdHMgb2YgMiBjb29yZGluYXRlcyB3aXRoIDE2IGJpdHMuICBVc2VmdWwgZm9yIGZhc3QgcXVhZHRyZWUgY29kZXNcbmV4cG9ydHMuaW50ZXJsZWF2ZTIgPSBmdW5jdGlvbih4LCB5KSB7XG4gIHggJj0gMHhGRkZGO1xuICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICB4ID0gKHggfCAoeCA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gIHkgJj0gMHhGRkZGO1xuICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICB5ID0gKHkgfCAoeSA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vRXh0cmFjdHMgdGhlIG50aCBpbnRlcmxlYXZlZCBjb21wb25lbnRcbmV4cG9ydHMuZGVpbnRlcmxlYXZlMiA9IGZ1bmN0aW9uKHYsIG4pIHtcbiAgdiA9ICh2ID4+PiBuKSAmIDB4NTU1NTU1NTU7XG4gIHYgPSAodiB8ICh2ID4+PiAxKSkgICYgMHgzMzMzMzMzMztcbiAgdiA9ICh2IHwgKHYgPj4+IDIpKSAgJiAweDBGMEYwRjBGO1xuICB2ID0gKHYgfCAodiA+Pj4gNCkpICAmIDB4MDBGRjAwRkY7XG4gIHYgPSAodiB8ICh2ID4+PiAxNikpICYgMHgwMDBGRkZGO1xuICByZXR1cm4gKHYgPDwgMTYpID4+IDE2O1xufVxuXG5cbi8vSW50ZXJsZWF2ZSBiaXRzIG9mIDMgY29vcmRpbmF0ZXMsIGVhY2ggd2l0aCAxMCBiaXRzLiAgVXNlZnVsIGZvciBmYXN0IG9jdHJlZSBjb2Rlc1xuZXhwb3J0cy5pbnRlcmxlYXZlMyA9IGZ1bmN0aW9uKHgsIHksIHopIHtcbiAgeCAmPSAweDNGRjtcbiAgeCAgPSAoeCB8ICh4PDwxNikpICYgNDI3ODE5MDMzNTtcbiAgeCAgPSAoeCB8ICh4PDw4KSkgICYgMjUxNzE5Njk1O1xuICB4ICA9ICh4IHwgKHg8PDQpKSAgJiAzMjcyMzU2MDM1O1xuICB4ICA9ICh4IHwgKHg8PDIpKSAgJiAxMjI3MTMzNTEzO1xuXG4gIHkgJj0gMHgzRkY7XG4gIHkgID0gKHkgfCAoeTw8MTYpKSAmIDQyNzgxOTAzMzU7XG4gIHkgID0gKHkgfCAoeTw8OCkpICAmIDI1MTcxOTY5NTtcbiAgeSAgPSAoeSB8ICh5PDw0KSkgICYgMzI3MjM1NjAzNTtcbiAgeSAgPSAoeSB8ICh5PDwyKSkgICYgMTIyNzEzMzUxMztcbiAgeCB8PSAoeSA8PCAxKTtcbiAgXG4gIHogJj0gMHgzRkY7XG4gIHogID0gKHogfCAoejw8MTYpKSAmIDQyNzgxOTAzMzU7XG4gIHogID0gKHogfCAoejw8OCkpICAmIDI1MTcxOTY5NTtcbiAgeiAgPSAoeiB8ICh6PDw0KSkgICYgMzI3MjM1NjAzNTtcbiAgeiAgPSAoeiB8ICh6PDwyKSkgICYgMTIyNzEzMzUxMztcbiAgXG4gIHJldHVybiB4IHwgKHogPDwgMik7XG59XG5cbi8vRXh0cmFjdHMgbnRoIGludGVybGVhdmVkIGNvbXBvbmVudCBvZiBhIDMtdHVwbGVcbmV4cG9ydHMuZGVpbnRlcmxlYXZlMyA9IGZ1bmN0aW9uKHYsIG4pIHtcbiAgdiA9ICh2ID4+PiBuKSAgICAgICAmIDEyMjcxMzM1MTM7XG4gIHYgPSAodiB8ICh2Pj4+MikpICAgJiAzMjcyMzU2MDM1O1xuICB2ID0gKHYgfCAodj4+PjQpKSAgICYgMjUxNzE5Njk1O1xuICB2ID0gKHYgfCAodj4+PjgpKSAgICYgNDI3ODE5MDMzNTtcbiAgdiA9ICh2IHwgKHY+Pj4xNikpICAmIDB4M0ZGO1xuICByZXR1cm4gKHY8PDIyKT4+MjI7XG59XG5cbi8vQ29tcHV0ZXMgbmV4dCBjb21iaW5hdGlvbiBpbiBjb2xleGljb2dyYXBoaWMgb3JkZXIgKHRoaXMgaXMgbWlzdGFrZW5seSBjYWxsZWQgbmV4dFBlcm11dGF0aW9uIG9uIHRoZSBiaXQgdHdpZGRsaW5nIGhhY2tzIHBhZ2UpXG5leHBvcnRzLm5leHRDb21iaW5hdGlvbiA9IGZ1bmN0aW9uKHYpIHtcbiAgdmFyIHQgPSB2IHwgKHYgLSAxKTtcbiAgcmV0dXJuICh0ICsgMSkgfCAoKCh+dCAmIC1+dCkgLSAxKSA+Pj4gKGNvdW50VHJhaWxpbmdaZXJvcyh2KSArIDEpKTtcbn1cblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbnZhciBfQ29udGFpbmVyMiA9IHJlcXVpcmUoJy4uL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgX21hdGguUG9pbnQoKTtcblxuLyoqXG4gKiBUaGUgU3ByaXRlIG9iamVjdCBpcyB0aGUgYmFzZSBmb3IgYWxsIHRleHR1cmVkIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgdG8gdGhlIHNjcmVlblxuICpcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlLmZyb21JbWFnZSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgU3ByaXRlID0gZnVuY3Rpb24gKF9Db250YWluZXIpIHtcbiAgICBfaW5oZXJpdHMoU3ByaXRlLCBfQ29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgZm9yIHRoaXMgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlKHRleHR1cmUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwcml0ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyAwLDAgdGhpcyBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDAuNSwwLjUgbWVhbnMgdGhlIHRleHR1cmUncyBvcmlnaW4gaXMgY2VudGVyZWRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDEsMSB3b3VsZCBtZWFuIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLl9vbkFuY2hvclVwZGF0ZSwgX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUgKHRoaXMgaXMgaW5pdGlhbGx5IHNldCBieSB0aGUgdGV4dHVyZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3RpbnRSR0IgPSBudWxsO1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYWRlciB0aGF0IHdpbGwgYmUgdXNlZCB0byByZW5kZXIgdGhlIHNwcml0ZS4gU2V0IHRvIG51bGwgdG8gcmVtb3ZlIGEgY3VycmVudCBzaGFkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyfFBJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gaW50ZXJuYWwgY2FjaGVkIHZhbHVlIG9mIHRoZSB0aW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLy8gY2FsbCB0ZXh0dXJlIHNldHRlclxuICAgICAgICBfdGhpcy50ZXh0dXJlID0gdGV4dHVyZSB8fCBfVGV4dHVyZTIuZGVmYXVsdC5FTVBUWTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSB2ZXJ0ZXggZGF0YSBvZiB0aGUgc3ByaXRlIChiYXNpY2FsbHkgYSBxdWFkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgSUYgaXQgaXMgYSB0cmltbWVkIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIF90aGlzLl90ZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgICAgIF90aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXJXZWJHTCcgJiAnX3JlbmRlckNhbnZhcycgbWV0aG9kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnc3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICdzcHJpdGUnO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLCB0aGlzIGV2ZW50IHdpbGwgZmlyZSB0byB1cGRhdGUgdGhlIHNjYWxlIGFuZCBmcmFtZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gX29uVGV4dHVyZVVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLy8gc28gaWYgX3dpZHRoIGlzIDAgdGhlbiB3aWR0aCB3YXMgbm90IHNldC4uXG4gICAgICAgIGlmICh0aGlzLl93aWR0aCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLngpICogdGhpcy5fd2lkdGggLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueSkgKiB0aGlzLl9oZWlnaHQgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBhbmNob3IgcG9zaXRpb24gdXBkYXRlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uQW5jaG9yVXBkYXRlID0gZnVuY3Rpb24gX29uQW5jaG9yVXBkYXRlKCkge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzLCBzdG9yZSBpdCBpbiB2ZXJ0ZXhEYXRhXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVWZXJ0aWNlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICAvLyBzZXQgdGhlIHZlcnRleCBkYXRhXG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG5cbiAgICAgICAgdmFyIHcwID0gMDtcbiAgICAgICAgdmFyIHcxID0gMDtcbiAgICAgICAgdmFyIGgwID0gMDtcbiAgICAgICAgdmFyIGgxID0gMDtcblxuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgZXh0cmFcbiAgICAgICAgICAgIC8vIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuXG4gICAgICAgICAgICB3MSA9IHRyaW0ueCAtIGFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcblxuICAgICAgICAgICAgaDEgPSB0cmltLnkgLSBhbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICB3MCA9IHcxICsgb3JpZy53aWR0aDtcblxuICAgICAgICAgICAgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gYSAqIHcxICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSBkICogaDEgKyBiICogdzEgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gYSAqIHcwICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSBkICogaDEgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gYSAqIHcwICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSBkICogaDAgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gYSAqIHcxICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSBkICogaDAgKyBiICogdzEgKyB0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzIGZvciBhIG5vbiB0ZXh0dXJlIHdpdGggYSB0cmltLiBzdG9yZSBpdCBpbiB2ZXJ0ZXhUcmltbWVkRGF0YVxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCB0aGUgdHJ1ZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgdHJpbW1lZCB0ZXh0dXJlIGlzIHJlc3BlY3RlZFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZlcnRleFRyaW1tZWREYXRhKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIC8vIGxldHMgZG8gc29tZSBzcGVjaWFsIHRyaW0gY29kZSFcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4VHJpbW1lZERhdGE7XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuXG4gICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIHRoZSBuZXcgdW50cmltbWVkIGJvdW5kcy4uXG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcblxuICAgICAgICB2YXIgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgdmFyIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuXG4gICAgICAgIHZhciBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gYSAqIHcxICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSBkICogaDEgKyBiICogdzEgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gYSAqIHcwICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSBkICogaDEgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gYSAqIHcwICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSBkICogaDAgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gYSAqIHcxICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSBkICogaDAgKyBiICogdzEgKyB0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKlxuICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICpcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXIgdG8gdXNlLlxuICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcblxuICAgICAgICByZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgKlxuICAgICogQHByaXZhdGVcbiAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcygpIHtcbiAgICAgICAgdmFyIHRyaW0gPSB0aGlzLl90ZXh0dXJlLnRyaW07XG4gICAgICAgIHZhciBvcmlnID0gdGhpcy5fdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgIC8vIEZpcnN0IGxldHMgY2hlY2sgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHRleHR1cmUgaGFzIGEgdHJpbS4uXG4gICAgICAgIGlmICghdHJpbSB8fCB0cmltLndpZHRoID09PSBvcmlnLndpZHRoICYmIHRyaW0uaGVpZ2h0ID09PSBvcmlnLmhlaWdodCkge1xuICAgICAgICAgICAgLy8gbm8gdHJpbSEgbGV0cyB1c2UgdGhlIHVzdWFsIGNhbGN1bGF0aW9ucy4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgYSBzcGVjaWFsIHRyaW1tZWQgYm91bmRzLi4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMocmVjdCkge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgIHZhciB5MSA9IDA7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aCkge1xuICAgICAgICAgICAgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IueTtcblxuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIF9Db250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl90ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9hbmNob3IgPSBudWxsO1xuXG4gICAgICAgIHZhciBkZXN0cm95VGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKGRlc3Ryb3lUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgZGVzdHJveUJhc2VUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUuZGVzdHJveSghIWRlc3Ryb3lCYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBzb21lIGhlbHBlciBmdW5jdGlvbnMuLlxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBzcHJpdGUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLmZyb20gPSBmdW5jdGlvbiBmcm9tKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShfVGV4dHVyZTIuZGVmYXVsdC5mcm9tKHNvdXJjZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgc3ByaXRlIHRoYXQgd2lsbCBjb250YWluIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBBIG5ldyBTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGZyYW1lSWRcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLmZyb21GcmFtZSA9IGZ1bmN0aW9uIGZyb21GcmFtZShmcmFtZUlkKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gX3V0aWxzLlRleHR1cmVDYWNoZVtmcmFtZUlkXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZyYW1lSWQgXCInICsgZnJhbWVJZCArICdcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcm9zc29yaWdpbj0oYXV0byldIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgY3Jvc3Mtb3JpZ2luIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSBzY2FsZSBtb2RlLFxuICAgICAqICBzZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX0gQSBuZXcgU3ByaXRlIHVzaW5nIGEgdGV4dHVyZSBmcm9tIHRoZSB0ZXh0dXJlIGNhY2hlIG1hdGNoaW5nIHRoZSBpbWFnZSBpZFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGltYWdlSWQsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUoX1RleHR1cmUyLmRlZmF1bHQuZnJvbUltYWdlKGltYWdlSWQsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhTcHJpdGUsIFt7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcyA9ICgwLCBfdXRpbHMuc2lnbikodGhpcy5zY2FsZS54KSB8fCAxO1xuXG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS55KSAqIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHMgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyAwLDAgdGhpcyBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDAuNSwwLjUgbWVhbnMgdGhlIHRleHR1cmUncyBvcmlnaW4gaXMgY2VudGVyZWRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDEsMSB3b3VsZCBtZWFuIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhbmNob3InLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RpbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHR1cmUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0dXJlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTcHJpdGU7XG59KF9Db250YWluZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTcHJpdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUpIHJldHVybiB0cmlhbmdsZXM7XG5cbiAgICB2YXIgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgeCwgeSwgaW52U2l6ZTtcblxuICAgIGlmIChoYXNIb2xlcykgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKTtcblxuICAgIC8vIGlmIHRoZSBzaGFwZSBpcyBub3QgdG9vIHNpbXBsZSwgd2UnbGwgdXNlIHotb3JkZXIgY3VydmUgaGFzaCBsYXRlcjsgY2FsY3VsYXRlIHBvbHlnb24gYmJveFxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDgwICogZGltKSB7XG4gICAgICAgIG1pblggPSBtYXhYID0gZGF0YVswXTtcbiAgICAgICAgbWluWSA9IG1heFkgPSBkYXRhWzFdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBkaW07IGkgPCBvdXRlckxlbjsgaSArPSBkaW0pIHtcbiAgICAgICAgICAgIHggPSBkYXRhW2ldO1xuICAgICAgICAgICAgeSA9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgaWYgKHggPCBtaW5YKSBtaW5YID0geDtcbiAgICAgICAgICAgIGlmICh5IDwgbWluWSkgbWluWSA9IHk7XG4gICAgICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPiBtYXhZKSBtYXhZID0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1pblgsIG1pblkgYW5kIGludlNpemUgYXJlIGxhdGVyIHVzZWQgdG8gdHJhbnNmb3JtIGNvb3JkcyBpbnRvIGludGVnZXJzIGZvciB6LW9yZGVyIGNhbGN1bGF0aW9uXG4gICAgICAgIGludlNpemUgPSBNYXRoLm1heChtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xuICAgICAgICBpbnZTaXplID0gaW52U2l6ZSAhPT0gMCA/IDEgLyBpbnZTaXplIDogMDtcbiAgICB9XG5cbiAgICBlYXJjdXRMaW5rZWQob3V0ZXJOb2RlLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICByZXR1cm4gdHJpYW5nbGVzO1xufVxuXG4vLyBjcmVhdGUgYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QgZnJvbSBwb2x5Z29uIHBvaW50cyBpbiB0aGUgc3BlY2lmaWVkIHdpbmRpbmcgb3JkZXJcbmZ1bmN0aW9uIGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgaSwgbGFzdDtcblxuICAgIGlmIChjbG9ja3dpc2UgPT09IChzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkgPiAwKSkge1xuICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSBlbmQgLSBkaW07IGkgPj0gc3RhcnQ7IGkgLT0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfVxuXG4gICAgaWYgKGxhc3QgJiYgZXF1YWxzKGxhc3QsIGxhc3QubmV4dCkpIHtcbiAgICAgICAgcmVtb3ZlTm9kZShsYXN0KTtcbiAgICAgICAgbGFzdCA9IGxhc3QubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdDtcbn1cblxuLy8gZWxpbWluYXRlIGNvbGluZWFyIG9yIGR1cGxpY2F0ZSBwb2ludHNcbmZ1bmN0aW9uIGZpbHRlclBvaW50cyhzdGFydCwgZW5kKSB7XG4gICAgaWYgKCFzdGFydCkgcmV0dXJuIHN0YXJ0O1xuICAgIGlmICghZW5kKSBlbmQgPSBzdGFydDtcblxuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGFnYWluO1xuICAgIGRvIHtcbiAgICAgICAgYWdhaW4gPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXAuc3RlaW5lciAmJiAoZXF1YWxzKHAsIHAubmV4dCkgfHwgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPT09IDApKSB7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcCA9IGVuZCA9IHAucHJldjtcbiAgICAgICAgICAgIGlmIChwID09PSBwLm5leHQpIGJyZWFrO1xuICAgICAgICAgICAgYWdhaW4gPSB0cnVlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwID0gcC5uZXh0O1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoYWdhaW4gfHwgcCAhPT0gZW5kKTtcblxuICAgIHJldHVybiBlbmQ7XG59XG5cbi8vIG1haW4gZWFyIHNsaWNpbmcgbG9vcCB3aGljaCB0cmlhbmd1bGF0ZXMgYSBwb2x5Z29uIChnaXZlbiBhcyBhIGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIHBhc3MpIHtcbiAgICBpZiAoIWVhcikgcmV0dXJuO1xuXG4gICAgLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuICAgIGlmICghcGFzcyAmJiBpbnZTaXplKSBpbmRleEN1cnZlKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgc3RvcCA9IGVhcixcbiAgICAgICAgcHJldiwgbmV4dDtcblxuICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBlYXJzLCBzbGljaW5nIHRoZW0gb25lIGJ5IG9uZVxuICAgIHdoaWxlIChlYXIucHJldiAhPT0gZWFyLm5leHQpIHtcbiAgICAgICAgcHJldiA9IGVhci5wcmV2O1xuICAgICAgICBuZXh0ID0gZWFyLm5leHQ7XG5cbiAgICAgICAgaWYgKGludlNpemUgPyBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIDogaXNFYXIoZWFyKSkge1xuICAgICAgICAgICAgLy8gY3V0IG9mZiB0aGUgdHJpYW5nbGVcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHByZXYuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChlYXIuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChuZXh0LmkgLyBkaW0pO1xuXG4gICAgICAgICAgICByZW1vdmVOb2RlKGVhcik7XG5cbiAgICAgICAgICAgIC8vIHNraXBwaW5nIHRoZSBuZXh0IHZlcnRpY2UgbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhlYXIsIHRyaWFuZ2xlcywgZGltKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7XG5cbiAgICAgICAgICAgIC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcbiAgICB2YXIgcCA9IGVhci5uZXh0Lm5leHQ7XG5cbiAgICB3aGlsZSAocCAhPT0gZWFyLnByZXYpIHtcbiAgICAgICAgaWYgKHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgbWluVFggPSBhLnggPCBiLnggPyAoYS54IDwgYy54ID8gYS54IDogYy54KSA6IChiLnggPCBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtaW5UWSA9IGEueSA8IGIueSA/IChhLnkgPCBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA8IGMueSA/IGIueSA6IGMueSksXG4gICAgICAgIG1heFRYID0gYS54ID4gYi54ID8gKGEueCA+IGMueCA/IGEueCA6IGMueCkgOiAoYi54ID4gYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWF4VFkgPSBhLnkgPiBiLnkgPyAoYS55ID4gYy55ID8gYS55IDogYy55KSA6IChiLnkgPiBjLnkgPyBiLnkgOiBjLnkpO1xuXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcbiAgICB2YXIgbWluWiA9IHpPcmRlcihtaW5UWCwgbWluVFksIG1pblgsIG1pblksIGludlNpemUpLFxuICAgICAgICBtYXhaID0gek9yZGVyKG1heFRYLCBtYXhUWSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgcCA9IGVhci5wcmV2WixcbiAgICAgICAgbiA9IGVhci5uZXh0WjtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9uc1xuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aICYmIG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuXG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcblxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChiLmkgLyBkaW0pO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xuXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIHA7XG59XG5cbi8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5XG5mdW5jdGlvbiBzcGxpdEVhcmN1dChzdGFydCwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBsb29rIGZvciBhIHZhbGlkIGRpYWdvbmFsIHRoYXQgZGl2aWRlcyB0aGUgcG9seWdvbiBpbnRvIHR3b1xuICAgIHZhciBhID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYiA9IGEubmV4dC5uZXh0O1xuICAgICAgICB3aGlsZSAoYiAhPT0gYS5wcmV2KSB7XG4gICAgICAgICAgICBpZiAoYS5pICE9PSBiLmkgJiYgaXNWYWxpZERpYWdvbmFsKGEsIGIpKSB7XG4gICAgICAgICAgICAgICAgLy8gc3BsaXQgdGhlIHBvbHlnb24gaW4gdHdvIGJ5IHRoZSBkaWFnb25hbFxuICAgICAgICAgICAgICAgIHZhciBjID0gc3BsaXRQb2x5Z29uKGEsIGIpO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyIGNvbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgICAgICAgICBhID0gZmlsdGVyUG9pbnRzKGEsIGEubmV4dCk7XG4gICAgICAgICAgICAgICAgYyA9IGZpbHRlclBvaW50cyhjLCBjLm5leHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gcnVuIGVhcmN1dCBvbiBlYWNoIGhhbGZcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChjLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYiA9IGIubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBhID0gYS5uZXh0O1xuICAgIH0gd2hpbGUgKGEgIT09IHN0YXJ0KTtcbn1cblxuLy8gbGluayBldmVyeSBob2xlIGludG8gdGhlIG91dGVyIGxvb3AsIHByb2R1Y2luZyBhIHNpbmdsZS1yaW5nIHBvbHlnb24gd2l0aG91dCBob2xlc1xuZnVuY3Rpb24gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKSB7XG4gICAgdmFyIHF1ZXVlID0gW10sXG4gICAgICAgIGksIGxlbiwgc3RhcnQsIGVuZCwgbGlzdDtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgIGxpc3QgPSBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgZmFsc2UpO1xuICAgICAgICBpZiAobGlzdCA9PT0gbGlzdC5uZXh0KSBsaXN0LnN0ZWluZXIgPSB0cnVlO1xuICAgICAgICBxdWV1ZS5wdXNoKGdldExlZnRtb3N0KGxpc3QpKTtcbiAgICB9XG5cbiAgICBxdWV1ZS5zb3J0KGNvbXBhcmVYKTtcblxuICAgIC8vIHByb2Nlc3MgaG9sZXMgZnJvbSBsZWZ0IHRvIHJpZ2h0XG4gICAgZm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsaW1pbmF0ZUhvbGUocXVldWVbaV0sIG91dGVyTm9kZSk7XG4gICAgICAgIG91dGVyTm9kZSA9IGZpbHRlclBvaW50cyhvdXRlck5vZGUsIG91dGVyTm9kZS5uZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0ZXJOb2RlO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlWChhLCBiKSB7XG4gICAgcmV0dXJuIGEueCAtIGIueDtcbn1cblxuLy8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0XG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIG91dGVyTm9kZSA9IGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSk7XG4gICAgaWYgKG91dGVyTm9kZSkge1xuICAgICAgICB2YXIgYiA9IHNwbGl0UG9seWdvbihvdXRlck5vZGUsIGhvbGUpO1xuICAgICAgICBmaWx0ZXJQb2ludHMoYiwgYi5uZXh0KTtcbiAgICB9XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC55KSByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLm5leHQueSkgcmV0dXJuIHAubmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XG5cbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGh4ID09PSBxeCkgcmV0dXJuIG0ucHJldjsgLy8gaG9sZSB0b3VjaGVzIG91dGVyIHNlZ21lbnQ7IHBpY2sgbG93ZXIgZW5kcG9pbnRcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbS5uZXh0O1xuXG4gICAgd2hpbGUgKHAgIT09IHN0b3ApIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAoKHRhbiA8IHRhbk1pbiB8fCAodGFuID09PSB0YW5NaW4gJiYgcC54ID4gbS54KSkgJiYgbG9jYWxseUluc2lkZShwLCBob2xlKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gbnVsbCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gMzI3NjcgKiAoeCAtIG1pblgpICogaW52U2l6ZTtcbiAgICB5ID0gMzI3NjcgKiAoeSAtIG1pblkpICogaW52U2l6ZTtcblxuICAgIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZ1xuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBsZWZ0bW9zdCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueCA8IGxlZnRtb3N0LngpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpIC0gKGF4IC0gcHgpICogKGN5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpIC0gKGJ4IC0gcHgpICogKGF5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpIC0gKGN4IC0gcHgpICogKGJ5IC0gcHkpID49IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJlxuICAgICAgICAgICBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpO1xufVxuXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xuICAgIGlmICgoZXF1YWxzKHAxLCBxMSkgJiYgZXF1YWxzKHAyLCBxMikpIHx8XG4gICAgICAgIChlcXVhbHMocDEsIHEyKSAmJiBlcXVhbHMocDIsIHExKSkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBhcmVhKHAxLCBxMSwgcDIpID4gMCAhPT0gYXJlYShwMSwgcTEsIHEyKSA+IDAgJiZcbiAgICAgICAgICAgYXJlYShwMiwgcTIsIHAxKSA+IDAgIT09IGFyZWEocDIsIHEyLCBxMSkgPiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0aWNlIGluZGV4IGluIGNvb3JkaW5hdGVzIGFycmF5XG4gICAgdGhpcy5pID0gaTtcblxuICAgIC8vIHZlcnRleCBjb29yZGluYXRlc1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IHZlcnRpY2Ugbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmdcbiAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAvLyB6LW9yZGVyIGN1cnZlIHZhbHVlXG4gICAgdGhpcy56ID0gbnVsbDtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IG5vZGVzIGluIHotb3JkZXJcbiAgICB0aGlzLnByZXZaID0gbnVsbDtcbiAgICB0aGlzLm5leHRaID0gbnVsbDtcblxuICAgIC8vIGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYSBzdGVpbmVyIHBvaW50XG4gICAgdGhpcy5zdGVpbmVyID0gZmFsc2U7XG59XG5cbi8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7XG4vLyB1c2VkIHRvIHZlcmlmeSBjb3JyZWN0bmVzcyBvZiB0cmlhbmd1bGF0aW9uXG5lYXJjdXQuZGV2aWF0aW9uID0gZnVuY3Rpb24gKGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0sIHRyaWFuZ2xlcykge1xuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aDtcbiAgICB2YXIgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGg7XG5cbiAgICB2YXIgcG9seWdvbkFyZWEgPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIDAsIG91dGVyTGVuLCBkaW0pKTtcbiAgICBpZiAoaGFzSG9sZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgcG9seWdvbkFyZWEgLT0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0cmlhbmdsZXNBcmVhID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciBhID0gdHJpYW5nbGVzW2ldICogZGltO1xuICAgICAgICB2YXIgYiA9IHRyaWFuZ2xlc1tpICsgMV0gKiBkaW07XG4gICAgICAgIHZhciBjID0gdHJpYW5nbGVzW2kgKyAyXSAqIGRpbTtcbiAgICAgICAgdHJpYW5nbGVzQXJlYSArPSBNYXRoLmFicyhcbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtjXSkgKiAoZGF0YVtiICsgMV0gLSBkYXRhW2EgKyAxXSkgLVxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2JdKSAqIChkYXRhW2MgKyAxXSAtIGRhdGFbYSArIDFdKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvbHlnb25BcmVhID09PSAwICYmIHRyaWFuZ2xlc0FyZWEgPT09IDAgPyAwIDpcbiAgICAgICAgTWF0aC5hYnMoKHRyaWFuZ2xlc0FyZWEgLSBwb2x5Z29uQXJlYSkgLyBwb2x5Z29uQXJlYSk7XG59O1xuXG5mdW5jdGlvbiBzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkge1xuICAgIHZhciBzdW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydCwgaiA9IGVuZCAtIGRpbTsgaSA8IGVuZDsgaSArPSBkaW0pIHtcbiAgICAgICAgc3VtICs9IChkYXRhW2pdIC0gZGF0YVtpXSkgKiAoZGF0YVtpICsgMV0gKyBkYXRhW2ogKyAxXSk7XG4gICAgICAgIGogPSBpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuXG4vLyB0dXJuIGEgcG9seWdvbiBpbiBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IGZvcm0gKGUuZy4gYXMgaW4gR2VvSlNPTikgaW50byBhIGZvcm0gRWFyY3V0IGFjY2VwdHNcbmVhcmN1dC5mbGF0dGVuID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgZGltID0gZGF0YVswXVswXS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IHt2ZXJ0aWNlczogW10sIGhvbGVzOiBbXSwgZGltZW5zaW9uczogZGltfSxcbiAgICAgICAgaG9sZUluZGV4ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgZGltOyBkKyspIHJlc3VsdC52ZXJ0aWNlcy5wdXNoKGRhdGFbaV1bal1bZF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgaG9sZUluZGV4ICs9IGRhdGFbaSAtIDFdLmxlbmd0aDtcbiAgICAgICAgICAgIHJlc3VsdC5ob2xlcy5wdXNoKGhvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBHZW5lcmljIGNsYXNzIHRvIGRlYWwgd2l0aCB0cmFkaXRpb25hbCAyRCBtYXRyaXggdHJhbnNmb3Jtc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyYW5zZm9ybUJhc2UgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gVHJhbnNmb3JtQmFzZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNmb3JtQmFzZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ2xvYmFsIG1hdHJpeCB0cmFuc2Zvcm0uIEl0IGNhbiBiZSBzd2FwcGVkIHRlbXBvcmFyaWx5IGJ5IHNvbWUgZnVuY3Rpb25zIGxpa2UgZ2V0TG9jYWxCb3VuZHMoKVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBfbWF0aC5NYXRyaXgoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsb2NhbCBtYXRyaXggdHJhbnNmb3JtXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLmxvY2FsVHJhbnNmb3JtID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4gICAgdGhpcy5fd29ybGRJRCA9IDA7XG4gICAgdGhpcy5fcGFyZW50SUQgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybUJhc2UgZG9lcyBub3QgaGF2ZSBkZWNvbXBvc2l0aW9uLCBzbyB0aGlzIGZ1bmN0aW9uIHdvbnQgZG8gYW55dGhpbmdcbiAgICovXG5cblxuICBUcmFuc2Zvcm1CYXNlLnByb3RvdHlwZS51cGRhdGVMb2NhbFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsVHJhbnNmb3JtKCkge31cbiAgLy8gZW1wdHlcblxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2YWx1ZXMgb2YgdGhlIG9iamVjdCBhbmQgYXBwbGllcyB0aGUgcGFyZW50J3MgdHJhbnNmb3JtLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtQmFzZX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSBvZiB0aGUgcGFyZW50IG9mIHRoaXMgb2JqZWN0XG4gICAqL1xuICA7XG5cbiAgVHJhbnNmb3JtQmFzZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKHBhcmVudFRyYW5zZm9ybSkge1xuICAgIHZhciBwdCA9IHBhcmVudFRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB2YXIgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgd3QuYSA9IGx0LmEgKiBwdC5hICsgbHQuYiAqIHB0LmM7XG4gICAgd3QuYiA9IGx0LmEgKiBwdC5iICsgbHQuYiAqIHB0LmQ7XG4gICAgd3QuYyA9IGx0LmMgKiBwdC5hICsgbHQuZCAqIHB0LmM7XG4gICAgd3QuZCA9IGx0LmMgKiBwdC5iICsgbHQuZCAqIHB0LmQ7XG4gICAgd3QudHggPSBsdC50eCAqIHB0LmEgKyBsdC50eSAqIHB0LmMgKyBwdC50eDtcbiAgICB3dC50eSA9IGx0LnR4ICogcHQuYiArIGx0LnR5ICogcHQuZCArIHB0LnR5O1xuXG4gICAgdGhpcy5fd29ybGRJRCsrO1xuICB9O1xuXG4gIHJldHVybiBUcmFuc2Zvcm1CYXNlO1xufSgpO1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0IGFuZCBhcHBsaWVzIHRoZSBwYXJlbnQncyB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0gIHBhcmVudFRyYW5zZm9ybSB7UElYSS5UcmFuc2Zvcm19IFRoZSB0cmFuc2Zvcm0gb2YgdGhlIHBhcmVudCBvZiB0aGlzIG9iamVjdFxuICpcbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRyYW5zZm9ybUJhc2U7XG5UcmFuc2Zvcm1CYXNlLnByb3RvdHlwZS51cGRhdGVXb3JsZFRyYW5zZm9ybSA9IFRyYW5zZm9ybUJhc2UucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcblxuVHJhbnNmb3JtQmFzZS5JREVOVElUWSA9IG5ldyBUcmFuc2Zvcm1CYXNlKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2Zvcm1CYXNlLmpzLm1hcCIsIi8qKlxuICogaXNNb2JpbGUuanMgdjAuNC4xXG4gKlxuICogQSBzaW1wbGUgbGlicmFyeSB0byBkZXRlY3QgQXBwbGUgcGhvbmVzIGFuZCB0YWJsZXRzLFxuICogQW5kcm9pZCBwaG9uZXMgYW5kIHRhYmxldHMsIG90aGVyIG1vYmlsZSBkZXZpY2VzIChsaWtlIGJsYWNrYmVycnksIG1pbmktb3BlcmEgYW5kIHdpbmRvd3MgcGhvbmUpLFxuICogYW5kIGFueSBraW5kIG9mIHNldmVuIGluY2ggZGV2aWNlLCB2aWEgdXNlciBhZ2VudCBzbmlmZmluZy5cbiAqXG4gKiBAYXV0aG9yOiBLYWkgTWFsbGVhIChrbWFsbGVhQGdtYWlsLmNvbSlcbiAqXG4gKiBAbGljZW5zZTogaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvcHVibGljZG9tYWluL3plcm8vMS4wL1xuICovXG4oZnVuY3Rpb24gKGdsb2JhbCkge1xuXG4gICAgdmFyIGFwcGxlX3Bob25lICAgICAgICAgPSAvaVBob25lL2ksXG4gICAgICAgIGFwcGxlX2lwb2QgICAgICAgICAgPSAvaVBvZC9pLFxuICAgICAgICBhcHBsZV90YWJsZXQgICAgICAgID0gL2lQYWQvaSxcbiAgICAgICAgYW5kcm9pZF9waG9uZSAgICAgICA9IC8oPz0uKlxcYkFuZHJvaWRcXGIpKD89LipcXGJNb2JpbGVcXGIpL2ksIC8vIE1hdGNoICdBbmRyb2lkJyBBTkQgJ01vYmlsZSdcbiAgICAgICAgYW5kcm9pZF90YWJsZXQgICAgICA9IC9BbmRyb2lkL2ksXG4gICAgICAgIGFtYXpvbl9waG9uZSAgICAgICAgPSAvKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiU0Q0OTMwVVJcXGIpL2ksXG4gICAgICAgIGFtYXpvbl90YWJsZXQgICAgICAgPSAvKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiKD86S0ZPVHxLRlRUfEtGSldJfEtGSldBfEtGU09XSXxLRlRIV0l8S0ZUSFdBfEtGQVBXSXxLRkFQV0F8S0ZBUldJfEtGQVNXSXxLRlNBV0l8S0ZTQVdBKVxcYikvaSxcbiAgICAgICAgd2luZG93c19waG9uZSAgICAgICA9IC9XaW5kb3dzIFBob25lL2ksXG4gICAgICAgIHdpbmRvd3NfdGFibGV0ICAgICAgPSAvKD89LipcXGJXaW5kb3dzXFxiKSg/PS4qXFxiQVJNXFxiKS9pLCAvLyBNYXRjaCAnV2luZG93cycgQU5EICdBUk0nXG4gICAgICAgIG90aGVyX2JsYWNrYmVycnkgICAgPSAvQmxhY2tCZXJyeS9pLFxuICAgICAgICBvdGhlcl9ibGFja2JlcnJ5XzEwID0gL0JCMTAvaSxcbiAgICAgICAgb3RoZXJfb3BlcmEgICAgICAgICA9IC9PcGVyYSBNaW5pL2ksXG4gICAgICAgIG90aGVyX2Nocm9tZSAgICAgICAgPSAvKENyaU9TfENocm9tZSkoPz0uKlxcYk1vYmlsZVxcYikvaSxcbiAgICAgICAgb3RoZXJfZmlyZWZveCAgICAgICA9IC8oPz0uKlxcYkZpcmVmb3hcXGIpKD89LipcXGJNb2JpbGVcXGIpL2ksIC8vIE1hdGNoICdGaXJlZm94JyBBTkQgJ01vYmlsZSdcbiAgICAgICAgc2V2ZW5faW5jaCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAnKD86JyArICAgICAgICAgLy8gTm9uLWNhcHR1cmluZyBncm91cFxuXG4gICAgICAgICAgICAnTmV4dXMgNycgKyAgICAgLy8gTmV4dXMgN1xuXG4gICAgICAgICAgICAnfCcgKyAgICAgICAgICAgLy8gT1JcblxuICAgICAgICAgICAgJ0JOVFYyNTAnICsgICAgIC8vIEImTiBOb29rIFRhYmxldCA3IGluY2hcblxuICAgICAgICAgICAgJ3wnICsgICAgICAgICAgIC8vIE9SXG5cbiAgICAgICAgICAgICdLaW5kbGUgRmlyZScgKyAvLyBLaW5kbGUgRmlyZVxuXG4gICAgICAgICAgICAnfCcgKyAgICAgICAgICAgLy8gT1JcblxuICAgICAgICAgICAgJ1NpbGsnICsgICAgICAgIC8vIEtpbmRsZSBGaXJlLCBTaWxrIEFjY2VsZXJhdGVkXG5cbiAgICAgICAgICAgICd8JyArICAgICAgICAgICAvLyBPUlxuXG4gICAgICAgICAgICAnR1QtUDEwMDAnICsgICAgLy8gR2FsYXh5IFRhYiA3IGluY2hcblxuICAgICAgICAgICAgJyknLCAgICAgICAgICAgIC8vIEVuZCBub24tY2FwdHVyaW5nIGdyb3VwXG5cbiAgICAgICAgICAgICdpJyk7ICAgICAgICAgICAvLyBDYXNlLWluc2Vuc2l0aXZlIG1hdGNoaW5nXG5cbiAgICB2YXIgbWF0Y2ggPSBmdW5jdGlvbihyZWdleCwgdXNlckFnZW50KSB7XG4gICAgICAgIHJldHVybiByZWdleC50ZXN0KHVzZXJBZ2VudCk7XG4gICAgfTtcblxuICAgIHZhciBJc01vYmlsZUNsYXNzID0gZnVuY3Rpb24odXNlckFnZW50KSB7XG4gICAgICAgIHZhciB1YSA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gICAgICAgIC8vIEZhY2Vib29rIG1vYmlsZSBhcHAncyBpbnRlZ3JhdGVkIGJyb3dzZXIgYWRkcyBhIGJ1bmNoIG9mIHN0cmluZ3MgdGhhdFxuICAgICAgICAvLyBtYXRjaCBldmVyeXRoaW5nLiBTdHJpcCBpdCBvdXQgaWYgaXQgZXhpc3RzLlxuICAgICAgICB2YXIgdG1wID0gdWEuc3BsaXQoJ1tGQkFOJyk7XG4gICAgICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdWEgPSB0bXBbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUd2l0dGVyIG1vYmlsZSBhcHAncyBpbnRlZ3JhdGVkIGJyb3dzZXIgb24gaVBhZCBhZGRzIGEgXCJUd2l0dGVyIGZvclxuICAgICAgICAvLyBpUGhvbmVcIiBzdHJpbmcuIFNhbWUgcHJvYmFibGUgaGFwcGVucyBvbiBvdGhlciB0YWJsZXQgcGxhdGZvcm1zLlxuICAgICAgICAvLyBUaGlzIHdpbGwgY29uZnVzZSBkZXRlY3Rpb24gc28gc3RyaXAgaXQgb3V0IGlmIGl0IGV4aXN0cy5cbiAgICAgICAgdG1wID0gdWEuc3BsaXQoJ1R3aXR0ZXInKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB1YSA9IHRtcFswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwbGUgPSB7XG4gICAgICAgICAgICBwaG9uZTogIG1hdGNoKGFwcGxlX3Bob25lLCB1YSksXG4gICAgICAgICAgICBpcG9kOiAgIG1hdGNoKGFwcGxlX2lwb2QsIHVhKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFwcGxlX3Bob25lLCB1YSkgJiYgbWF0Y2goYXBwbGVfdGFibGV0LCB1YSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKGFwcGxlX3Bob25lLCB1YSkgfHwgbWF0Y2goYXBwbGVfaXBvZCwgdWEpIHx8IG1hdGNoKGFwcGxlX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW1hem9uID0ge1xuICAgICAgICAgICAgcGhvbmU6ICBtYXRjaChhbWF6b25fcGhvbmUsIHVhKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFtYXpvbl9waG9uZSwgdWEpICYmIG1hdGNoKGFtYXpvbl90YWJsZXQsIHVhKSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgfHwgbWF0Y2goYW1hem9uX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW5kcm9pZCA9IHtcbiAgICAgICAgICAgIHBob25lOiAgbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgfHwgbWF0Y2goYW5kcm9pZF9waG9uZSwgdWEpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgJiYgIW1hdGNoKGFuZHJvaWRfcGhvbmUsIHVhKSAmJiAobWF0Y2goYW1hem9uX3RhYmxldCwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfdGFibGV0LCB1YSkpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChhbWF6b25fcGhvbmUsIHVhKSB8fCBtYXRjaChhbWF6b25fdGFibGV0LCB1YSkgfHwgbWF0Y2goYW5kcm9pZF9waG9uZSwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfdGFibGV0LCB1YSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53aW5kb3dzID0ge1xuICAgICAgICAgICAgcGhvbmU6ICBtYXRjaCh3aW5kb3dzX3Bob25lLCB1YSksXG4gICAgICAgICAgICB0YWJsZXQ6IG1hdGNoKHdpbmRvd3NfdGFibGV0LCB1YSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKHdpbmRvd3NfcGhvbmUsIHVhKSB8fCBtYXRjaCh3aW5kb3dzX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub3RoZXIgPSB7XG4gICAgICAgICAgICBibGFja2JlcnJ5OiAgIG1hdGNoKG90aGVyX2JsYWNrYmVycnksIHVhKSxcbiAgICAgICAgICAgIGJsYWNrYmVycnkxMDogbWF0Y2gob3RoZXJfYmxhY2tiZXJyeV8xMCwgdWEpLFxuICAgICAgICAgICAgb3BlcmE6ICAgICAgICBtYXRjaChvdGhlcl9vcGVyYSwgdWEpLFxuICAgICAgICAgICAgZmlyZWZveDogICAgICBtYXRjaChvdGhlcl9maXJlZm94LCB1YSksXG4gICAgICAgICAgICBjaHJvbWU6ICAgICAgIG1hdGNoKG90aGVyX2Nocm9tZSwgdWEpLFxuICAgICAgICAgICAgZGV2aWNlOiAgICAgICBtYXRjaChvdGhlcl9ibGFja2JlcnJ5LCB1YSkgfHwgbWF0Y2gob3RoZXJfYmxhY2tiZXJyeV8xMCwgdWEpIHx8IG1hdGNoKG90aGVyX29wZXJhLCB1YSkgfHwgbWF0Y2gob3RoZXJfZmlyZWZveCwgdWEpIHx8IG1hdGNoKG90aGVyX2Nocm9tZSwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V2ZW5faW5jaCA9IG1hdGNoKHNldmVuX2luY2gsIHVhKTtcbiAgICAgICAgdGhpcy5hbnkgPSB0aGlzLmFwcGxlLmRldmljZSB8fCB0aGlzLmFuZHJvaWQuZGV2aWNlIHx8IHRoaXMud2luZG93cy5kZXZpY2UgfHwgdGhpcy5vdGhlci5kZXZpY2UgfHwgdGhpcy5zZXZlbl9pbmNoO1xuXG4gICAgICAgIC8vIGV4Y2x1ZGVzICdvdGhlcicgZGV2aWNlcyBhbmQgaXBvZHMsIHRhcmdldGluZyB0b3VjaHNjcmVlbiBwaG9uZXNcbiAgICAgICAgdGhpcy5waG9uZSA9IHRoaXMuYXBwbGUucGhvbmUgfHwgdGhpcy5hbmRyb2lkLnBob25lIHx8IHRoaXMud2luZG93cy5waG9uZTtcblxuICAgICAgICAvLyBleGNsdWRlcyA3IGluY2ggZGV2aWNlcywgY2xhc3NpZnlpbmcgYXMgcGhvbmUgb3IgdGFibGV0IGlzIGxlZnQgdG8gdGhlIHVzZXJcbiAgICAgICAgdGhpcy50YWJsZXQgPSB0aGlzLmFwcGxlLnRhYmxldCB8fCB0aGlzLmFuZHJvaWQudGFibGV0IHx8IHRoaXMud2luZG93cy50YWJsZXQ7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgaW5zdGFudGlhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIElNID0gbmV3IElzTW9iaWxlQ2xhc3MoKTtcbiAgICAgICAgSU0uQ2xhc3MgPSBJc01vYmlsZUNsYXNzO1xuICAgICAgICByZXR1cm4gSU07XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyAmJiB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvL25vZGVcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBJc01vYmlsZUNsYXNzO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy9icm93c2VyaWZ5XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gaW5zdGFudGlhdGUoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvL0FNRFxuICAgICAgICBkZWZpbmUoJ2lzTW9iaWxlJywgW10sIGdsb2JhbC5pc01vYmlsZSA9IGluc3RhbnRpYXRlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbC5pc01vYmlsZSA9IGluc3RhbnRpYXRlKCk7XG4gICAgfVxuXG59KSh0aGlzKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqICdCdWlsZGVyJyBwYXR0ZXJuIGZvciBib3VuZHMgcmVjdGFuZ2xlc1xuICogQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveFxuICogSXQgaXMgbm90IGEgc2hhcGUhIEl0cyBtdXRhYmxlIHRoaW5nLCBubyAnRU1QVFknIG9yIHRoYXQga2luZCBvZiBwcm9ibGVtc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJvdW5kcygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvdW5kcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcblxuICAgICAgICB0aGlzLnJlY3QgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBib3VuZHMgYXJlIGVtcHR5LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBlbXB0eS5cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgYm91bmRzIGFuZCByZXNldHMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUlEKys7XG5cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICAgICAqIEl0IGlzIG5vdCBndWFyYW50ZWVkIHRoYXQgaXQgd2lsbCByZXR1cm4gdGVtcFJlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSB0ZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX0gQSByZWN0YW5nbGUgb2YgdGhlIGJvdW5kc1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmdldFJlY3RhbmdsZSA9IGZ1bmN0aW9uIGdldFJlY3RhbmdsZShyZWN0KSB7XG4gICAgICAgIGlmICh0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZKSB7XG4gICAgICAgICAgICByZXR1cm4gX21hdGguUmVjdGFuZ2xlLkVNUFRZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjdCA9IHJlY3QgfHwgbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICByZWN0LnggPSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QueSA9IHRoaXMubWluWTtcbiAgICAgICAgcmVjdC53aWR0aCA9IHRoaXMubWF4WCAtIHRoaXMubWluWDtcbiAgICAgICAgcmVjdC5oZWlnaHQgPSB0aGlzLm1heFkgLSB0aGlzLm1pblk7XG5cbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gVGhlIHBvaW50IHRvIGFkZC5cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRQb2ludCA9IGZ1bmN0aW9uIGFkZFBvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcG9pbnQueSk7XG4gICAgICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgcG9pbnQueSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBxdWFkLCBub3QgdHJhbnNmb3JtZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0cyB0byBhZGQuXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUXVhZCA9IGZ1bmN0aW9uIGFkZFF1YWQodmVydGljZXMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdmFyIHggPSB2ZXJ0aWNlc1swXTtcbiAgICAgICAgdmFyIHkgPSB2ZXJ0aWNlc1sxXTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gdmVydGljZXNbMl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1szXTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IHZlcnRpY2VzWzRdO1xuICAgICAgICB5ID0gdmVydGljZXNbNV07XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzddO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHNwcml0ZSBmcmFtZSwgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtQmFzZX0gdHJhbnNmb3JtIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTAgLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRPRE9cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZSA9IGZ1bmN0aW9uIGFkZEZyYW1lKHRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICAgICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICAgICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICAgICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICAgICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgICAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG5cbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdmFyIHggPSBhICogeDAgKyBjICogeTAgKyB0eDtcbiAgICAgICAgdmFyIHkgPSBiICogeDAgKyBkICogeTAgKyB0eTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gYSAqIHgxICsgYyAqIHkwICsgdHg7XG4gICAgICAgIHkgPSBiICogeDEgKyBkICogeTAgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IGEgKiB4MCArIGMgKiB5MSArIHR4O1xuICAgICAgICB5ID0gYiAqIHgwICsgZCAqIHkxICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSBhICogeDEgKyBjICogeTEgKyB0eDtcbiAgICAgICAgeSA9IGIgKiB4MSArIGQgKiB5MSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgdmVydGljZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm1CYXNlfSB0cmFuc2Zvcm0gLSBUT0RPXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFZlcnRpY2VzID0gZnVuY3Rpb24gYWRkVmVydGljZXModHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gdHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgICAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgICAgICB2YXIgYyA9IG1hdHJpeC5jO1xuICAgICAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgICAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgICAgIHZhciB0eSA9IG1hdHJpeC50eTtcblxuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHJhd1ggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIHZhciByYXdZID0gdmVydGljZXNbaSArIDFdO1xuICAgICAgICAgICAgdmFyIHggPSBhICogcmF3WCArIGMgKiByYXdZICsgdHg7XG4gICAgICAgICAgICB2YXIgeSA9IGQgKiByYXdZICsgYiAqIHJhd1ggKyB0eTtcblxuICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kcyA9IGZ1bmN0aW9uIGFkZEJvdW5kcyhib3VuZHMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gYm91bmRzLm1pblggPCBtaW5YID8gYm91bmRzLm1pblggOiBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBib3VuZHMubWluWSA8IG1pblkgPyBib3VuZHMubWluWSA6IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IGJvdW5kcy5tYXhYID4gbWF4WCA/IGJvdW5kcy5tYXhYIDogbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gYm91bmRzLm1heFkgPiBtYXhZID8gYm91bmRzLm1heFkgOiBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggQm91bmRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gbWFzayAtIFRPRE9cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXNrID0gZnVuY3Rpb24gYWRkQm91bmRzTWFzayhib3VuZHMsIG1hc2spIHtcbiAgICAgICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBtYXNrLm1pblggPyBib3VuZHMubWluWCA6IG1hc2subWluWDtcbiAgICAgICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBtYXNrLm1pblkgPyBib3VuZHMubWluWSA6IG1hc2subWluWTtcbiAgICAgICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBtYXNrLm1heFggPyBib3VuZHMubWF4WCA6IG1hc2subWF4WDtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBtYXNrLm1heFkgPyBib3VuZHMubWF4WSA6IG1hc2subWF4WTtcblxuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGFyZWEgLSBUT0RPXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzQXJlYSA9IGZ1bmN0aW9uIGFkZEJvdW5kc0FyZWEoYm91bmRzLCBhcmVhKSB7XG4gICAgICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gYXJlYS54ID8gYm91bmRzLm1pblggOiBhcmVhLng7XG4gICAgICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gYXJlYS55ID8gYm91bmRzLm1pblkgOiBhcmVhLnk7XG4gICAgICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgYXJlYS54ICsgYXJlYS53aWR0aCA/IGJvdW5kcy5tYXhYIDogYXJlYS54ICsgYXJlYS53aWR0aDtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBhcmVhLnkgKyBhcmVhLmhlaWdodCA/IGJvdW5kcy5tYXhZIDogYXJlYS55ICsgYXJlYS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBCb3VuZHM7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJvdW5kcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJvdW5kcy5qcy5tYXAiLCJcblxudmFyIG1hcFR5cGUgPSBmdW5jdGlvbihnbCwgdHlwZSkgXG57XG4gICAgaWYoIUdMX1RBQkxFKSBcbiAgICB7XG4gICAgICAgIHZhciB0eXBlTmFtZXMgPSBPYmplY3Qua2V5cyhHTF9UT19HTFNMX1RZUEVTKTtcblxuICAgICAgICBHTF9UQUJMRSA9IHt9O1xuXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0eXBlTmFtZXMubGVuZ3RoOyArK2kpIFxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdG4gPSB0eXBlTmFtZXNbaV07XG4gICAgICAgICAgICBHTF9UQUJMRVsgZ2xbdG5dIF0gPSBHTF9UT19HTFNMX1RZUEVTW3RuXTtcbiAgICAgICAgfVxuICAgIH1cblxuICByZXR1cm4gR0xfVEFCTEVbdHlwZV07XG59O1xuXG52YXIgR0xfVEFCTEUgPSBudWxsO1xuXG52YXIgR0xfVE9fR0xTTF9UWVBFUyA9IHtcbiAgJ0ZMT0FUJzogICAgICAgJ2Zsb2F0JyxcbiAgJ0ZMT0FUX1ZFQzInOiAgJ3ZlYzInLFxuICAnRkxPQVRfVkVDMyc6ICAndmVjMycsXG4gICdGTE9BVF9WRUM0JzogICd2ZWM0JyxcblxuICAnSU5UJzogICAgICAgICAnaW50JyxcbiAgJ0lOVF9WRUMyJzogICAgJ2l2ZWMyJyxcbiAgJ0lOVF9WRUMzJzogICAgJ2l2ZWMzJyxcbiAgJ0lOVF9WRUM0JzogICAgJ2l2ZWM0JyxcbiAgXG4gICdCT09MJzogICAgICAgICdib29sJyxcbiAgJ0JPT0xfVkVDMic6ICAgJ2J2ZWMyJyxcbiAgJ0JPT0xfVkVDMyc6ICAgJ2J2ZWMzJyxcbiAgJ0JPT0xfVkVDNCc6ICAgJ2J2ZWM0JyxcbiAgXG4gICdGTE9BVF9NQVQyJzogICdtYXQyJyxcbiAgJ0ZMT0FUX01BVDMnOiAgJ21hdDMnLFxuICAnRkxPQVRfTUFUNCc6ICAnbWF0NCcsXG4gIFxuICAnU0FNUExFUl8yRCc6ICAnc2FtcGxlcjJEJyAgXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcFR5cGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSBkZWZpbmVkIGJ5IGl0cyBwb3NpdGlvbiwgYXMgaW5kaWNhdGVkIGJ5IGl0cyB0b3AtbGVmdCBjb3JuZXJcbiAqIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVjdGFuZ2xlKCkge1xuICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVjdGFuZ2xlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0gTnVtYmVyKHkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSBOdW1iZXIod2lkdGgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKGhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUkVDVFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLlJFQ1Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvcGllcyBhbm90aGVyIHJlY3RhbmdsZSB0byB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gY29weS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocmVjdGFuZ2xlKSB7XG4gICAgICAgIHRoaXMueCA9IHJlY3RhbmdsZS54O1xuICAgICAgICB0aGlzLnkgPSByZWN0YW5nbGUueTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSByZWN0YW5nbGUuaGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKi9cblxuXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFkcyB0aGUgcmVjdGFuZ2xlIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdYIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWV0gLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gcGFkKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBwYWRkaW5nWCA9IHBhZGRpbmdYIHx8IDA7XG4gICAgICAgIHBhZGRpbmdZID0gcGFkZGluZ1kgfHwgKHBhZGRpbmdZICE9PSAwID8gcGFkZGluZ1ggOiAwKTtcblxuICAgICAgICB0aGlzLnggLT0gcGFkZGluZ1g7XG4gICAgICAgIHRoaXMueSAtPSBwYWRkaW5nWTtcblxuICAgICAgICB0aGlzLndpZHRoICs9IHBhZGRpbmdYICogMjtcbiAgICAgICAgdGhpcy5oZWlnaHQgKz0gcGFkZGluZ1kgKiAyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXRzIHRoaXMgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgcGFzc2VkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gZml0LlxuICAgICAqL1xuXG5cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uIGZpdChyZWN0YW5nbGUpIHtcbiAgICAgICAgaWYgKHRoaXMueCA8IHJlY3RhbmdsZS54KSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoICs9IHRoaXMueDtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnggPSByZWN0YW5nbGUueDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnkgPCByZWN0YW5nbGUueSkge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgKz0gdGhpcy55O1xuICAgICAgICAgICAgaWYgKHRoaXMuaGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMueSA9IHJlY3RhbmdsZS55O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueCArIHRoaXMud2lkdGggPiByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCkge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aCAtIHRoaXMueDtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueSArIHRoaXMuaGVpZ2h0ID4gcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQgLSB0aGlzLnk7XG4gICAgICAgICAgICBpZiAodGhpcy5oZWlnaHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVubGFyZ2VzIHRoaXMgcmVjdGFuZ2xlIHRvIGluY2x1ZGUgdGhlIHBhc3NlZCByZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGluY2x1ZGUuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuZW5sYXJnZSA9IGZ1bmN0aW9uIGVubGFyZ2UocmVjdGFuZ2xlKSB7XG4gICAgICAgIHZhciB4MSA9IE1hdGgubWluKHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgICAgICB2YXIgeDIgPSBNYXRoLm1heCh0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGgubWluKHRoaXMueSwgcmVjdGFuZ2xlLnkpO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLm1heCh0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHgyIC0geDE7XG4gICAgICAgIHRoaXMueSA9IHkxO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHkyIC0geTE7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhSZWN0YW5nbGUsIFt7XG4gICAgICAgIGtleTogJ2xlZnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSB0b3AgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RvcCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JvdHRvbScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29uc3RhbnQgZW1wdHkgcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cblxuICAgIH1dLCBbe1xuICAgICAgICBrZXk6ICdFTVBUWScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmVjdGFuZ2xlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZWN0YW5nbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWN0YW5nbGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX1BvaW50ID0gcmVxdWlyZSgnLi9Qb2ludCcpO1xuXG52YXIgX1BvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvaW50KTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFBpeGlKUyBNYXRyaXggY2xhc3MgYXMgYW4gb2JqZWN0LCB3aGljaCBtYWtlcyBpdCBhIGxvdCBmYXN0ZXIsXG4gKiBoZXJlIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaXQgOlxuICogfCBhIHwgYyB8IHR4fFxuICogfCBiIHwgZCB8IHR5fFxuICogfCAwIHwgMCB8IDEgfFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hdHJpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2E9MV0gLSB4IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiPTBdIC0geCBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjPTBdIC0geSBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkPTFdIC0geSBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHg9MF0gLSB4IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eT0wXSAtIHkgdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXRyaXgoKSB7XG4gICAgICAgIHZhciBhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxO1xuICAgICAgICB2YXIgYiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciBkID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAxO1xuICAgICAgICB2YXIgdHggPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDA7XG4gICAgICAgIHZhciB0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWF0cml4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmEgPSBhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYiA9IGI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jID0gYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmQgPSBkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHggPSB0eDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG5cbiAgICAgICAgdGhpcy5hcnJheSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIE1hdHJpeCBvYmplY3QgYmFzZWQgb24gdGhlIGdpdmVuIGFycmF5LiBUaGUgRWxlbWVudCB0byBNYXRyaXggbWFwcGluZyBvcmRlciBpcyBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogYSA9IGFycmF5WzBdXG4gICAgICogYiA9IGFycmF5WzFdXG4gICAgICogYyA9IGFycmF5WzNdXG4gICAgICogZCA9IGFycmF5WzRdXG4gICAgICogdHggPSBhcnJheVsyXVxuICAgICAqIHR5ID0gYXJyYXlbNV1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIGFycmF5IHRoYXQgdGhlIG1hdHJpeCB3aWxsIGJlIHBvcHVsYXRlZCBmcm9tLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmZyb21BcnJheSA9IGZ1bmN0aW9uIGZyb21BcnJheShhcnJheSkge1xuICAgICAgICB0aGlzLmEgPSBhcnJheVswXTtcbiAgICAgICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgICAgIHRoaXMuYyA9IGFycmF5WzNdO1xuICAgICAgICB0aGlzLmQgPSBhcnJheVs0XTtcbiAgICAgICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgICAgICB0aGlzLnR5ID0gYXJyYXlbNV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHNldHMgdGhlIG1hdHJpeCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYyAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIHRoaXMudHkgPSB0eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBmcm9tIHRoZSBjdXJyZW50IE1hdHJpeCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zcG9zZSAtIFdoZXRoZXIgd2UgbmVlZCB0byB0cmFuc3Bvc2UgdGhlIG1hdHJpeCBvciBub3RcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD1uZXcgRmxvYXQzMkFycmF5KDkpXSAtIElmIHByb3ZpZGVkIHRoZSBhcnJheSB3aWxsIGJlIGFzc2lnbmVkIHRvIG91dFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSB0aGUgbmV3bHkgY3JlYXRlZCBhcnJheSB3aGljaCBjb250YWlucyB0aGUgbWF0cml4XG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uIHRvQXJyYXkodHJhbnNwb3NlLCBvdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSg5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuXG4gICAgICAgIGlmICh0cmFuc3Bvc2UpIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVsyXSA9IDA7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbNl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbN10gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzJdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs2XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs3XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZSB0byB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gcmVuZGVyaW5nKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCB0cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IF9Qb2ludDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG5cbiAgICAgICAgbmV3UG9zLnggPSB0aGlzLmEgKiB4ICsgdGhpcy5jICogeSArIHRoaXMudHg7XG4gICAgICAgIG5ld1Bvcy55ID0gdGhpcy5iICogeCArIHRoaXMuZCAqIHkgKyB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZSB0byBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gaW5wdXQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIGludmVyc2UtdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGx5SW52ZXJzZSA9IGZ1bmN0aW9uIGFwcGx5SW52ZXJzZShwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IF9Qb2ludDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciBpZCA9IDEgLyAodGhpcy5hICogdGhpcy5kICsgdGhpcy5jICogLXRoaXMuYik7XG5cbiAgICAgICAgdmFyIHggPSBwb3MueDtcbiAgICAgICAgdmFyIHkgPSBwb3MueTtcblxuICAgICAgICBuZXdQb3MueCA9IHRoaXMuZCAqIGlkICogeCArIC10aGlzLmMgKiBpZCAqIHkgKyAodGhpcy50eSAqIHRoaXMuYyAtIHRoaXMudHggKiB0aGlzLmQpICogaWQ7XG4gICAgICAgIG5ld1Bvcy55ID0gdGhpcy5hICogaWQgKiB5ICsgLXRoaXMuYiAqIGlkICogeCArICgtdGhpcy50eSAqIHRoaXMuYSArIHRoaXMudHggKiB0aGlzLmIpICogaWQ7XG5cbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgbWF0cml4IG9uIHRoZSB4IGFuZCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggSG93IG11Y2ggdG8gdHJhbnNsYXRlIHggYnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeSBieVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIHRyYW5zbGF0ZSh4LCB5KSB7XG4gICAgICAgIHRoaXMudHggKz0geDtcbiAgICAgICAgdGhpcy50eSArPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgc2NhbGUgdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSBhbW91bnQgdG8gc2NhbGUgaG9yaXpvbnRhbGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIGFtb3VudCB0byBzY2FsZSB2ZXJ0aWNhbGx5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiBzY2FsZSh4LCB5KSB7XG4gICAgICAgIHRoaXMuYSAqPSB4O1xuICAgICAgICB0aGlzLmQgKj0geTtcbiAgICAgICAgdGhpcy5jICo9IHg7XG4gICAgICAgIHRoaXMuYiAqPSB5O1xuICAgICAgICB0aGlzLnR4ICo9IHg7XG4gICAgICAgIHRoaXMudHkgKj0geTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHJvdGF0aW9uIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgLSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiByb3RhdGUoYW5nbGUpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgdmFyIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG5cbiAgICAgICAgdGhpcy5hID0gYTEgKiBjb3MgLSB0aGlzLmIgKiBzaW47XG4gICAgICAgIHRoaXMuYiA9IGExICogc2luICsgdGhpcy5iICogY29zO1xuICAgICAgICB0aGlzLmMgPSBjMSAqIGNvcyAtIHRoaXMuZCAqIHNpbjtcbiAgICAgICAgdGhpcy5kID0gYzEgKiBzaW4gKyB0aGlzLmQgKiBjb3M7XG4gICAgICAgIHRoaXMudHggPSB0eDEgKiBjb3MgLSB0aGlzLnR5ICogc2luO1xuICAgICAgICB0aGlzLnR5ID0gdHgxICogc2luICsgdGhpcy50eSAqIGNvcztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBhcHBlbmQuXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKG1hdHJpeCkge1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiMSA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgZDEgPSB0aGlzLmQ7XG5cbiAgICAgICAgdGhpcy5hID0gbWF0cml4LmEgKiBhMSArIG1hdHJpeC5iICogYzE7XG4gICAgICAgIHRoaXMuYiA9IG1hdHJpeC5hICogYjEgKyBtYXRyaXguYiAqIGQxO1xuICAgICAgICB0aGlzLmMgPSBtYXRyaXguYyAqIGExICsgbWF0cml4LmQgKiBjMTtcbiAgICAgICAgdGhpcy5kID0gbWF0cml4LmMgKiBiMSArIG1hdHJpeC5kICogZDE7XG5cbiAgICAgICAgdGhpcy50eCA9IG1hdHJpeC50eCAqIGExICsgbWF0cml4LnR5ICogYzEgKyB0aGlzLnR4O1xuICAgICAgICB0aGlzLnR5ID0gbWF0cml4LnR4ICogYjEgKyBtYXRyaXgudHkgKiBkMSArIHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hdHJpeCBiYXNlZCBvbiBhbGwgdGhlIGF2YWlsYWJsZSBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFBvc2l0aW9uIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFBvc2l0aW9uIG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl2b3RYIC0gUGl2b3Qgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFkgLSBQaXZvdCBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWCAtIFNjYWxlIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVZIC0gU2NhbGUgb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFJvdGF0aW9uIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1ggLSBTa2V3IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1kgLSBTa2V3IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oeCwgeSwgcGl2b3RYLCBwaXZvdFksIHNjYWxlWCwgc2NhbGVZLCByb3RhdGlvbiwgc2tld1gsIHNrZXdZKSB7XG4gICAgICAgIHRoaXMuYSA9IE1hdGguY29zKHJvdGF0aW9uICsgc2tld1kpICogc2NhbGVYO1xuICAgICAgICB0aGlzLmIgPSBNYXRoLnNpbihyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5jID0gLU1hdGguc2luKHJvdGF0aW9uIC0gc2tld1gpICogc2NhbGVZO1xuICAgICAgICB0aGlzLmQgPSBNYXRoLmNvcyhyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcblxuICAgICAgICB0aGlzLnR4ID0geCAtIChwaXZvdFggKiB0aGlzLmEgKyBwaXZvdFkgKiB0aGlzLmMpO1xuICAgICAgICB0aGlzLnR5ID0geSAtIChwaXZvdFggKiB0aGlzLmIgKyBwaXZvdFkgKiB0aGlzLmQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBwcmVwZW5kXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIHByZXBlbmQobWF0cml4KSB7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuXG4gICAgICAgIGlmIChtYXRyaXguYSAhPT0gMSB8fCBtYXRyaXguYiAhPT0gMCB8fCBtYXRyaXguYyAhPT0gMCB8fCBtYXRyaXguZCAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuXG4gICAgICAgICAgICB0aGlzLmEgPSBhMSAqIG1hdHJpeC5hICsgdGhpcy5iICogbWF0cml4LmM7XG4gICAgICAgICAgICB0aGlzLmIgPSBhMSAqIG1hdHJpeC5iICsgdGhpcy5iICogbWF0cml4LmQ7XG4gICAgICAgICAgICB0aGlzLmMgPSBjMSAqIG1hdHJpeC5hICsgdGhpcy5kICogbWF0cml4LmM7XG4gICAgICAgICAgICB0aGlzLmQgPSBjMSAqIG1hdHJpeC5iICsgdGhpcy5kICogbWF0cml4LmQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnR4ID0gdHgxICogbWF0cml4LmEgKyB0aGlzLnR5ICogbWF0cml4LmMgKyBtYXRyaXgudHg7XG4gICAgICAgIHRoaXMudHkgPSB0eDEgKiBtYXRyaXguYiArIHRoaXMudHkgKiBtYXRyaXguZCArIG1hdHJpeC50eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyB0aGUgbWF0cml4ICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgYW5kIHJvdGF0aW9uKSBhbmQgc2V0cyB0aGUgcHJvcGVydGllcyBvbiB0byBhIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm18UElYSS5UcmFuc2Zvcm1TdGF0aWN9IHRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gdG8gYXBwbHkgdGhlIHByb3BlcnRpZXMgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5UcmFuc2Zvcm18UElYSS5UcmFuc2Zvcm1TdGF0aWN9IFRoZSB0cmFuc2Zvcm0gd2l0aCB0aGUgbmV3bHkgYXBwbGllZCBwcm9wZXJ0aWVzXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuZGVjb21wb3NlID0gZnVuY3Rpb24gZGVjb21wb3NlKHRyYW5zZm9ybSkge1xuICAgICAgICAvLyBzb3J0IG91dCByb3RhdGlvbiAvIHNrZXcuLlxuICAgICAgICB2YXIgYSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjID0gdGhpcy5jO1xuICAgICAgICB2YXIgZCA9IHRoaXMuZDtcblxuICAgICAgICB2YXIgc2tld1ggPSAtTWF0aC5hdGFuMigtYywgZCk7XG4gICAgICAgIHZhciBza2V3WSA9IE1hdGguYXRhbjIoYiwgYSk7XG5cbiAgICAgICAgdmFyIGRlbHRhID0gTWF0aC5hYnMoc2tld1ggKyBza2V3WSk7XG5cbiAgICAgICAgaWYgKGRlbHRhIDwgMC4wMDAwMSB8fCBNYXRoLmFicyhfY29uc3QuUElfMiAtIGRlbHRhKSA8IDAuMDAwMDEpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IHNrZXdZO1xuXG4gICAgICAgICAgICBpZiAoYSA8IDAgJiYgZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uICs9IHRyYW5zZm9ybS5yb3RhdGlvbiA8PSAwID8gTWF0aC5QSSA6IC1NYXRoLlBJO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XG4gICAgICAgIHRyYW5zZm9ybS5zY2FsZS55ID0gTWF0aC5zcXJ0KGMgKiBjICsgZCAqIGQpO1xuXG4gICAgICAgIC8vIG5leHQgc2V0IHBvc2l0aW9uXG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdGhpcy50eDtcbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludmVydHMgdGhpcyBtYXRyaXhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uIGludmVydCgpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgdmFyIG4gPSBhMSAqIGQxIC0gYjEgKiBjMTtcblxuICAgICAgICB0aGlzLmEgPSBkMSAvIG47XG4gICAgICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgICAgIHRoaXMuZCA9IGExIC8gbjtcbiAgICAgICAgdGhpcy50eCA9IChjMSAqIHRoaXMudHkgLSBkMSAqIHR4MSkgLyBuO1xuICAgICAgICB0aGlzLnR5ID0gLShhMSAqIHRoaXMudHkgLSBiMSAqIHR4MSkgLyBuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhpcyBNYXRpeCB0byBhbiBpZGVudGl0eSAoZGVmYXVsdCkgbWF0cml4LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuaWRlbnRpdHkgPSBmdW5jdGlvbiBpZGVudGl0eSgpIHtcbiAgICAgICAgdGhpcy5hID0gMTtcbiAgICAgICAgdGhpcy5iID0gMDtcbiAgICAgICAgdGhpcy5jID0gMDtcbiAgICAgICAgdGhpcy5kID0gMTtcbiAgICAgICAgdGhpcy50eCA9IDA7XG4gICAgICAgIHRoaXMudHkgPSAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE1hdHJpeCBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gQSBjb3B5IG9mIHRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGdpdmVuIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXRyaXggZ2l2ZW4gaW4gcGFyYW1ldGVyIHdpdGggaXRzIHZhbHVlcyB1cGRhdGVkLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGRlZmF1bHQgKGlkZW50aXR5KSBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKE1hdHJpeCwgbnVsbCwgW3tcbiAgICAgICAga2V5OiAnSURFTlRJVFknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB0ZW1wIG1hdHJpeFxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnVEVNUF9NQVRSSVgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTWF0cml4O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNYXRyaXg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXRyaXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBvaW50ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICovXG4gIGZ1bmN0aW9uIFBvaW50KCkge1xuICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvaW50KTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy54ID0geDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy55ID0geTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2ludFxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBhIGNvcHkgb2YgdGhlIHBvaW50XG4gICAqL1xuXG5cbiAgUG9pbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgKi9cblxuXG4gIFBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKSB7XG4gICAgdGhpcy5zZXQocC54LCBwLnkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAqL1xuXG5cbiAgUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhwKSB7XG4gICAgcmV0dXJuIHAueCA9PT0gdGhpcy54ICYmIHAueSA9PT0gdGhpcy55O1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgKi9cblxuXG4gIFBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQoeCwgeSkge1xuICAgIHRoaXMueCA9IHggfHwgMDtcbiAgICB0aGlzLnkgPSB5IHx8ICh5ICE9PSAwID8gdGhpcy54IDogMCk7XG4gIH07XG5cbiAgcmV0dXJuIFBvaW50O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQb2ludDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvaW50LmpzLm1hcCIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDb3VudExpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgaXRlbXMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvdW50TGltaXRlciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhJdGVtc1BlckZyYW1lIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAqL1xuICBmdW5jdGlvbiBDb3VudExpbWl0ZXIobWF4SXRlbXNQZXJGcmFtZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb3VudExpbWl0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heEl0ZW1zUGVyRnJhbWUgPSBtYXhJdGVtc1BlckZyYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAqL1xuXG5cbiAgQ291bnRMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gYmVnaW5GcmFtZSgpIHtcbiAgICB0aGlzLml0ZW1zTGVmdCA9IHRoaXMubWF4SXRlbXNQZXJGcmFtZTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgKi9cblxuXG4gIENvdW50TGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gYWxsb3dlZFRvVXBsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zTGVmdC0tID4gMDtcbiAgfTtcblxuICByZXR1cm4gQ291bnRMaW1pdGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDb3VudExpbWl0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3VudExpbWl0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX01lc2gyID0gcmVxdWlyZSgnLi9NZXNoJyk7XG5cbnZhciBfTWVzaDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgUGxhbmUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW0gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgUGxhbmUgPSBuZXcgUElYSS5QbGFuZShQSVhJLlRleHR1cmUuZnJvbUltYWdlKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5tZXNoLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJLm1lc2hcbiAqXG4gKi9cbnZhciBQbGFuZSA9IGZ1bmN0aW9uIChfTWVzaCkge1xuICAgIF9pbmhlcml0cyhQbGFuZSwgX01lc2gpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIFBsYW5lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNlc1ggLSBUaGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSB4LWF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVydGljZXNZIC0gVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgeS1heGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGxhbmUodGV4dHVyZSwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsYW5lKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tlciBmb3IgaWYgdGhlIFBsYW5lIGlzIHJlYWR5IHRvIGJlIGRyYXduLiBOZWVkZWQgYmVjYXVzZSBNZXNoIGN0b3IgY2FuXG4gICAgICAgICAqIGNhbGwgX29uVGV4dHVyZVVwZGF0ZWQgd2hpY2ggY291bGQgY2FsbCByZWZyZXNoIHRvbyBlYXJseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9NZXNoLmNhbGwodGhpcywgdGV4dHVyZSkpO1xuXG4gICAgICAgIF90aGlzLl9yZWFkeSA9IHRydWU7XG5cbiAgICAgICAgX3RoaXMudmVydGljZXNYID0gdmVydGljZXNYIHx8IDEwO1xuICAgICAgICBfdGhpcy52ZXJ0aWNlc1kgPSB2ZXJ0aWNlc1kgfHwgMTA7XG5cbiAgICAgICAgX3RoaXMuZHJhd01vZGUgPSBfTWVzaDMuZGVmYXVsdC5EUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgX3RoaXMucmVmcmVzaCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHBsYW5lIGNvb3JkaW5hdGVzXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUGxhbmUucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gX3JlZnJlc2goKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy52ZXJ0aWNlc1ggKiB0aGlzLnZlcnRpY2VzWTtcbiAgICAgICAgdmFyIHZlcnRzID0gW107XG4gICAgICAgIHZhciBjb2xvcnMgPSBbXTtcbiAgICAgICAgdmFyIHV2cyA9IFtdO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgIHZhciBzZWdtZW50c1ggPSB0aGlzLnZlcnRpY2VzWCAtIDE7XG4gICAgICAgIHZhciBzZWdtZW50c1kgPSB0aGlzLnZlcnRpY2VzWSAtIDE7XG5cbiAgICAgICAgdmFyIHNpemVYID0gdGV4dHVyZS53aWR0aCAvIHNlZ21lbnRzWDtcbiAgICAgICAgdmFyIHNpemVZID0gdGV4dHVyZS5oZWlnaHQgLyBzZWdtZW50c1k7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeCA9IGkgJSB0aGlzLnZlcnRpY2VzWDtcbiAgICAgICAgICAgIHZhciB5ID0gaSAvIHRoaXMudmVydGljZXNYIHwgMDtcblxuICAgICAgICAgICAgdmVydHMucHVzaCh4ICogc2l6ZVgsIHkgKiBzaXplWSk7XG5cbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBzZWdtZW50c1gsIHkgLyBzZWdtZW50c1kpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gIGNvbnNcblxuICAgICAgICB2YXIgdG90YWxTdWIgPSBzZWdtZW50c1ggKiBzZWdtZW50c1k7XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRvdGFsU3ViOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgeHBvcyA9IF9pICUgc2VnbWVudHNYO1xuICAgICAgICAgICAgdmFyIHlwb3MgPSBfaSAvIHNlZ21lbnRzWCB8IDA7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHlwb3MgKiB0aGlzLnZlcnRpY2VzWCArIHhwb3M7XG4gICAgICAgICAgICB2YXIgdmFsdWUyID0geXBvcyAqIHRoaXMudmVydGljZXNYICsgeHBvcyArIDE7XG4gICAgICAgICAgICB2YXIgdmFsdWUzID0gKHlwb3MgKyAxKSAqIHRoaXMudmVydGljZXNYICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTQgPSAoeXBvcyArIDEpICogdGhpcy52ZXJ0aWNlc1ggKyB4cG9zICsgMTtcblxuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZhbHVlLCB2YWx1ZTIsIHZhbHVlMyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godmFsdWUyLCB2YWx1ZTQsIHZhbHVlMyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhpbmRpY2VzKVxuICAgICAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyk7XG4gICAgICAgIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheSh1dnMpO1xuICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkoY29sb3JzKTtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KGluZGljZXMpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5pbmRleERpcnR5Kys7XG5cbiAgICAgICAgdGhpcy5tdWx0aXBseVV2cygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0ZXh0dXJlIFVWcyB3aGVuIG5ldyB0ZXh0dXJlIGlzIHNldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUGxhbmUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiBfb25UZXh0dXJlVXBkYXRlKCkge1xuICAgICAgICBfTWVzaDMuZGVmYXVsdC5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIHdhaXQgZm9yIHRoZSBQbGFuZSBjdG9yIHRvIGZpbmlzaCBiZWZvcmUgY2FsbGluZyByZWZyZXNoXG4gICAgICAgIGlmICh0aGlzLl9yZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFBsYW5lO1xufShfTWVzaDMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBsYW5lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGxhbmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHRleHR1cmVQYXJzZXIocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgbmV3IHRleHR1cmUgaWYgdGhlIGRhdGEgaXMgYW4gSW1hZ2Ugb2JqZWN0XG4gICAgICAgIGlmIChyZXNvdXJjZS5kYXRhICYmIHJlc291cmNlLnR5cGUgPT09IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5UWVBFLklNQUdFKSB7XG4gICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlID0gX1RleHR1cmUyLmRlZmF1bHQuZnJvbUxvYWRlcihyZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwsIHJlc291cmNlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9O1xufTtcblxudmFyIF9yZXNvdXJjZUxvYWRlciA9IHJlcXVpcmUoJ3Jlc291cmNlLWxvYWRlcicpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi9jb3JlL3RleHR1cmVzL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dHVyZVBhcnNlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gc3ByaXRlc2hlZXRQYXJzZXIocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgdmFyIGltYWdlUmVzb3VyY2VOYW1lID0gcmVzb3VyY2UubmFtZSArICdfaW1hZ2UnO1xuXG4gICAgICAgIC8vIHNraXAgaWYgbm8gZGF0YSwgaXRzIG5vdCBqc29uLCBpdCBpc24ndCBzcHJpdGVzaGVldCBkYXRhLCBvciB0aGUgaW1hZ2UgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhIHx8IHJlc291cmNlLnR5cGUgIT09IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5UWVBFLkpTT04gfHwgIXJlc291cmNlLmRhdGEuZnJhbWVzIHx8IHRoaXMucmVzb3VyY2VzW2ltYWdlUmVzb3VyY2VOYW1lXSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9hZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZXNvdXJjZVBhdGggPSBnZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIHRoaXMuYmFzZVVybCk7XG5cbiAgICAgICAgLy8gbG9hZCB0aGUgaW1hZ2UgZm9yIHRoaXMgc2hlZXRcbiAgICAgICAgdGhpcy5hZGQoaW1hZ2VSZXNvdXJjZU5hbWUsIHJlc291cmNlUGF0aCwgbG9hZE9wdGlvbnMsIGZ1bmN0aW9uIG9uSW1hZ2VMb2FkKHJlcykge1xuICAgICAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgICAgICAgIG5leHQocmVzLmVycm9yKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNwcml0ZXNoZWV0ID0gbmV3IF9jb3JlLlNwcml0ZXNoZWV0KHJlcy50ZXh0dXJlLmJhc2VUZXh0dXJlLCByZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwpO1xuXG4gICAgICAgICAgICBzcHJpdGVzaGVldC5wYXJzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uuc3ByaXRlc2hlZXQgPSBzcHJpdGVzaGVldDtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlcyA9IHNwcml0ZXNoZWV0LnRleHR1cmVzO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xufTtcblxuZXhwb3J0cy5nZXRSZXNvdXJjZVBhdGggPSBnZXRSZXNvdXJjZVBhdGg7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXInKTtcblxudmFyIF91cmwgPSByZXF1aXJlKCd1cmwnKTtcblxudmFyIF91cmwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXJsKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIGJhc2VVcmwpIHtcbiAgICAvLyBQcmVwZW5kIHVybCBwYXRoIHVubGVzcyB0aGUgcmVzb3VyY2UgaW1hZ2UgaXMgYSBkYXRhIHVybFxuICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgcmV0dXJuIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3VybDIuZGVmYXVsdC5yZXNvbHZlKHJlc291cmNlLnVybC5yZXBsYWNlKGJhc2VVcmwsICcnKSwgcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZXNoZWV0UGFyc2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZW5jb2RlQmluYXJ5ID0gZW5jb2RlQmluYXJ5O1xudmFyIF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG5mdW5jdGlvbiBlbmNvZGVCaW5hcnkoaW5wdXQpIHtcbiAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgdmFyIGlueCA9IDA7XG5cbiAgICB3aGlsZSAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIEZpbGwgYnl0ZSBidWZmZXIgYXJyYXlcbiAgICAgICAgdmFyIGJ5dGVidWZmZXIgPSBbMCwgMCwgMF07XG4gICAgICAgIHZhciBlbmNvZGVkQ2hhckluZGV4ZXMgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAgICAgZm9yICh2YXIgam54ID0gMDsgam54IDwgYnl0ZWJ1ZmZlci5sZW5ndGg7ICsram54KSB7XG4gICAgICAgICAgICBpZiAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhyb3cgYXdheSBoaWdoLW9yZGVyIGJ5dGUsIGFzIGRvY3VtZW50ZWQgYXQ6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvRW4vVXNpbmdfWE1MSHR0cFJlcXVlc3QjSGFuZGxpbmdfYmluYXJ5X2RhdGFcbiAgICAgICAgICAgICAgICBieXRlYnVmZmVyW2pueF0gPSBpbnB1dC5jaGFyQ29kZUF0KGlueCsrKSAmIDB4ZmY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgZWFjaCBlbmNvZGVkIGNoYXJhY3RlciwgNiBiaXRzIGF0IGEgdGltZVxuICAgICAgICAvLyBpbmRleCAxOiBmaXJzdCA2IGJpdHNcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzBdID0gYnl0ZWJ1ZmZlclswXSA+PiAyO1xuXG4gICAgICAgIC8vIGluZGV4IDI6IHNlY29uZCA2IGJpdHMgKDIgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMSArIDQgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAyKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMV0gPSAoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCB8IGJ5dGVidWZmZXJbMV0gPj4gNDtcblxuICAgICAgICAvLyBpbmRleCAzOiB0aGlyZCA2IGJpdHMgKDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMiArIDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAzKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSAoYnl0ZWJ1ZmZlclsxXSAmIDB4MGYpIDw8IDIgfCBieXRlYnVmZmVyWzJdID4+IDY7XG5cbiAgICAgICAgLy8gaW5kZXggMzogZm9ydGggNiBiaXRzICg2IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDMpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IGJ5dGVidWZmZXJbMl0gJiAweDNmO1xuXG4gICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIHBhZGRpbmcgaGFwcGVuZWQsIGFuZCBhZGp1c3QgYWNjb3JkaW5nbHlcbiAgICAgICAgdmFyIHBhZGRpbmdCeXRlcyA9IGlueCAtIChpbnB1dC5sZW5ndGggLSAxKTtcblxuICAgICAgICBzd2l0Y2ggKHBhZGRpbmdCeXRlcykge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IDIgY2hhcmFjdGVycyB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gTm8gcGFkZGluZyAtIHByb2NlZWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdyB3ZSB3aWxsIGdyYWIgZWFjaCBhcHByb3ByaWF0ZSBjaGFyYWN0ZXIgb3V0IG9mIG91ciBrZXlzdHJpbmdcbiAgICAgICAgLy8gYmFzZWQgb24gb3VyIGluZGV4IGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIG91dHB1dCBzdHJpbmdcbiAgICAgICAgZm9yICh2YXIgX2pueCA9IDA7IF9qbnggPCBlbmNvZGVkQ2hhckluZGV4ZXMubGVuZ3RoOyArK19qbngpIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBfa2V5U3RyLmNoYXJBdChlbmNvZGVkQ2hhckluZGV4ZXNbX2pueF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWI2NC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmVhY2hTZXJpZXMgPSBlYWNoU2VyaWVzO1xuZXhwb3J0cy5xdWV1ZSA9IHF1ZXVlO1xuLyoqXG4gKiBTbWFsbGVyIHZlcnNpb24gb2YgdGhlIGFzeW5jIGxpYnJhcnkgY29uc3RydWN0cy5cbiAqXG4gKi9cbmZ1bmN0aW9uIF9ub29wKCkge30gLyogZW1wdHkgKi9cblxuLyoqXG4gKiBJdGVyYXRlcyBhbiBhcnJheSBpbiBzZXJpZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheS48Kj59IGFycmF5IC0gQXJyYXkgdG8gaXRlcmF0ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGl0ZXJhdG9yIC0gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBlbGVtZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gZG9uZSwgb3Igb24gZXJyb3IuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWZlck5leHQ9ZmFsc2VdIC0gQnJlYWsgc3luY2hyb25vdXMgZWFjaCBsb29wIGJ5IGNhbGxpbmcgbmV4dCB3aXRoIGEgc2V0VGltZW91dCBvZiAxLlxuICovXG5mdW5jdGlvbiBlYWNoU2VyaWVzKGFycmF5LCBpdGVyYXRvciwgY2FsbGJhY2ssIGRlZmVyTmV4dCkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgKGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgfHwgaSA9PT0gbGVuKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmZXJOZXh0KSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvcihhcnJheVtpKytdLCBuZXh0KTtcbiAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICAgIH1cbiAgICB9KSgpO1xufVxuXG4vKipcbiAqIEVuc3VyZXMgYSBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIHdyYXBwaW5nIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvbmx5T25jZShmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgICAgICAgaWYgKGZuID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjYWxsRm4gPSBmbjtcblxuICAgICAgICBmbiA9IG51bGw7XG4gICAgICAgIGNhbGxGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogQXN5bmMgcXVldWUgaW1wbGVtZW50YXRpb24sXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gd29ya2VyIC0gVGhlIHdvcmtlciBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHRhc2suXG4gKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gKiBAcmV0dXJuIHsqfSBUaGUgYXN5bmMgcXVldWUgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBxdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG4gICAgaWYgKGNvbmN1cnJlbmN5ID09IG51bGwpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICBjb25jdXJyZW5jeSA9IDE7XG4gICAgfSBlbHNlIGlmIChjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm8nKTtcbiAgICB9XG5cbiAgICB2YXIgd29ya2VycyA9IDA7XG4gICAgdmFyIHEgPSB7XG4gICAgICAgIF90YXNrczogW10sXG4gICAgICAgIGNvbmN1cnJlbmN5OiBjb25jdXJyZW5jeSxcbiAgICAgICAgc2F0dXJhdGVkOiBfbm9vcCxcbiAgICAgICAgdW5zYXR1cmF0ZWQ6IF9ub29wLFxuICAgICAgICBidWZmZXI6IGNvbmN1cnJlbmN5IC8gNCxcbiAgICAgICAgZW1wdHk6IF9ub29wLFxuICAgICAgICBkcmFpbjogX25vb3AsXG4gICAgICAgIGVycm9yOiBfbm9vcCxcbiAgICAgICAgc3RhcnRlZDogZmFsc2UsXG4gICAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIF9pbnNlcnQoZGF0YSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAga2lsbDogZnVuY3Rpb24ga2lsbCgpIHtcbiAgICAgICAgICAgIHdvcmtlcnMgPSAwO1xuICAgICAgICAgICAgcS5kcmFpbiA9IF9ub29wO1xuICAgICAgICAgICAgcS5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICBxLl90YXNrcyA9IFtdO1xuICAgICAgICB9LFxuICAgICAgICB1bnNoaWZ0OiBmdW5jdGlvbiB1bnNoaWZ0KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBfaW5zZXJ0KGRhdGEsIHRydWUsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgICAgICAgIHdoaWxlICghcS5wYXVzZWQgJiYgd29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS5fdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhc2sgPSBxLl90YXNrcy5zaGlmdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHEuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBxLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd29ya2VycyArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdvcmtlcnMgPT09IHEuY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3b3JrZXIodGFzay5kYXRhLCBvbmx5T25jZShfbmV4dCh0YXNrKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aCgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHJ1bm5pbmc6IGZ1bmN0aW9uIHJ1bm5pbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gd29ya2VycztcbiAgICAgICAgfSxcbiAgICAgICAgaWRsZTogZnVuY3Rpb24gaWRsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxLnBhdXNlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBOZWVkIHRvIGNhbGwgcS5wcm9jZXNzIG9uY2UgcGVyIGNvbmN1cnJlbnRcbiAgICAgICAgICAgIC8vIHdvcmtlciB0byBwcmVzZXJ2ZSBmdWxsIGNvbmN1cnJlbmN5IGFmdGVyIHBhdXNlXG4gICAgICAgICAgICBmb3IgKHZhciB3ID0gMTsgdyA8PSBxLmNvbmN1cnJlbmN5OyB3KyspIHtcbiAgICAgICAgICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfaW5zZXJ0KGRhdGEsIGluc2VydEF0RnJvbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0YXNrIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcS5zdGFydGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAoZGF0YSA9PSBudWxsICYmIHEuaWRsZSgpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHEuZHJhaW4oKTtcbiAgICAgICAgICAgIH0sIDEpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBfbm9vcFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpbnNlcnRBdEZyb250KSB7XG4gICAgICAgICAgICBxLl90YXNrcy51bnNoaWZ0KGl0ZW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcS5fdGFza3MucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHEucHJvY2VzcygpO1xuICAgICAgICB9LCAxKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfbmV4dCh0YXNrKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgd29ya2VycyAtPSAxO1xuXG4gICAgICAgICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIGlmIChhcmd1bWVudHNbMF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgICAgICBxLmVycm9yKGFyZ3VtZW50c1swXSwgdGFzay5kYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdvcmtlcnMgPD0gcS5jb25jdXJyZW5jeSAtIHEuYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgcS51bnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocS5pZGxlKCkpIHtcbiAgICAgICAgICAgICAgICBxLmRyYWluKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucHJvY2VzcygpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBxO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMuanMubWFwIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VVUkkgKHN0ciwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBvID0ge1xuICAgIGtleTogWydzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ10sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpXG4gIHZhciB1cmkgPSB7fVxuICB2YXIgaSA9IDE0XG5cbiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgJydcblxuICB1cmlbby5xLm5hbWVdID0ge31cbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgdXJpW28ucS5uYW1lXVskMV0gPSAkMlxuICB9KVxuXG4gIHJldHVybiB1cmlcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgTWluaVNpZ25hbEJpbmRpbmcgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsQmluZGluZyhmbiwgb25jZSwgdGhpc0FyZykge1xuICAgIGlmIChvbmNlID09PSB1bmRlZmluZWQpIG9uY2UgPSBmYWxzZTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsQmluZGluZyk7XG5cbiAgICB0aGlzLl9mbiA9IGZuO1xuICAgIHRoaXMuX29uY2UgPSBvbmNlO1xuICAgIHRoaXMuX3RoaXNBcmcgPSB0aGlzQXJnO1xuICAgIHRoaXMuX25leHQgPSB0aGlzLl9wcmV2ID0gdGhpcy5fb3duZXIgPSBudWxsO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWxCaW5kaW5nLCBbe1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICAgIGlmICh0aGlzLl9vd25lciA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdGhpcy5fb3duZXIuZGV0YWNoKHRoaXMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWxCaW5kaW5nO1xufSkoKTtcblxuZnVuY3Rpb24gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHNlbGYsIG5vZGUpIHtcbiAgaWYgKCFzZWxmLl9oZWFkKSB7XG4gICAgc2VsZi5faGVhZCA9IG5vZGU7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5fdGFpbC5fbmV4dCA9IG5vZGU7XG4gICAgbm9kZS5fcHJldiA9IHNlbGYuX3RhaWw7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH1cblxuICBub2RlLl9vd25lciA9IHNlbGY7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbnZhciBNaW5pU2lnbmFsID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbCk7XG5cbiAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsLCBbe1xuICAgIGtleTogJ2hhbmRsZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlcnMoKSB7XG4gICAgICB2YXIgZXhpc3RzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKGV4aXN0cykgcmV0dXJuICEhbm9kZTtcblxuICAgICAgdmFyIGVlID0gW107XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGVlLnB1c2gobm9kZSk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2hhcygpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGUuX293bmVyID09PSB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc3BhdGNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5fb25jZSkgdGhpcy5kZXRhY2gobm9kZSk7XG4gICAgICAgIG5vZGUuX2ZuLmFwcGx5KG5vZGUuX3RoaXNBcmcsIGFyZ3VtZW50cyk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjYWRkKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgZmFsc2UsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNvbmNlKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgdHJ1ZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNkZXRhY2goKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5fb3duZXIgIT09IHRoaXMpIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobm9kZS5fcHJldikgbm9kZS5fcHJldi5fbmV4dCA9IG5vZGUuX25leHQ7XG4gICAgICBpZiAobm9kZS5fbmV4dCkgbm9kZS5fbmV4dC5fcHJldiA9IG5vZGUuX3ByZXY7XG5cbiAgICAgIGlmIChub2RlID09PSB0aGlzLl9oZWFkKSB7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBub2RlLl9uZXh0O1xuICAgICAgICBpZiAobm9kZS5fbmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUgPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgICAgdGhpcy5fdGFpbCA9IG5vZGUuX3ByZXY7XG4gICAgICAgIHRoaXMuX3RhaWwuX25leHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2hBbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2hBbGwoKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgICBpZiAoIW5vZGUpIHJldHVybiB0aGlzO1xuXG4gICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IG51bGw7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbDtcbn0pKCk7XG5cbk1pbmlTaWduYWwuTWluaVNpZ25hbEJpbmRpbmcgPSBNaW5pU2lnbmFsQmluZGluZztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gTWluaVNpZ25hbDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5wYXJzZSA9IHBhcnNlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJpdG1hcEZvbnRQYXJzZXIocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgLy8gc2tpcCBpZiBubyBkYXRhIG9yIG5vdCB4bWwgZGF0YVxuICAgICAgICBpZiAoIXJlc291cmNlLmRhdGEgfHwgcmVzb3VyY2UudHlwZSAhPT0gX3Jlc291cmNlTG9hZGVyLlJlc291cmNlLlRZUEUuWE1MKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNraXAgaWYgbm90IGJpdG1hcCBmb250IGRhdGEsIHVzaW5nIHNvbWUgc2lsbHkgZHVjay10eXBpbmdcbiAgICAgICAgaWYgKHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKS5sZW5ndGggPT09IDAgfHwgcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpLmxlbmd0aCA9PT0gMCB8fCByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF0uZ2V0QXR0cmlidXRlKCdmYWNlJykgPT09IG51bGwpIHtcbiAgICAgICAgICAgIG5leHQoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHhtbFVybCA9ICFyZXNvdXJjZS5pc0RhdGFVcmwgPyBwYXRoLmRpcm5hbWUocmVzb3VyY2UudXJsKSA6ICcnO1xuXG4gICAgICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIGlmICh4bWxVcmwgPT09ICcuJykge1xuICAgICAgICAgICAgICAgIHhtbFVybCA9ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5iYXNlVXJsICYmIHhtbFVybCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGJhc2V1cmwgaGFzIGEgdHJhaWxpbmcgc2xhc2ggdGhlbiBhZGQgb25lIHRvIHhtbFVybCBzbyB0aGUgcmVwbGFjZSB3b3JrcyBiZWxvd1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhc2VVcmwuY2hhckF0KHRoaXMuYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGJhc2VVcmwgZnJvbSB4bWxVcmxcbiAgICAgICAgeG1sVXJsID0geG1sVXJsLnJlcGxhY2UodGhpcy5iYXNlVXJsLCAnJyk7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4geG1sVXJsIG5vdywgaXQgbmVlZHMgYSB0cmFpbGluZyBzbGFzaC4gRW5zdXJlIHRoYXQgaXQgZG9lcyBpZiB0aGUgc3RyaW5nIGlzbid0IGVtcHR5LlxuICAgICAgICBpZiAoeG1sVXJsICYmIHhtbFVybC5jaGFyQXQoeG1sVXJsLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcbiAgICAgICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFnZXMgPSByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIC8vIEhhbmRsZSBjb21wbGV0ZWQsIHdoZW4gdGhlIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAgICAvLyBsb2FkIGlzIHRoZSBzYW1lIG51bWJlciBhcyByZWZlcmVuY2VzIGluIHRoZSBmbnQgZmlsZVxuICAgICAgICB2YXIgY29tcGxldGVkID0gZnVuY3Rpb24gY29tcGxldGVkKHBhZ2UpIHtcbiAgICAgICAgICAgIHRleHR1cmVzW3BhZ2UubWV0YWRhdGEucGFnZUZpbGVdID0gcGFnZS50ZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGV4dHVyZXMpLmxlbmd0aCA9PT0gcGFnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcGFyc2UocmVzb3VyY2UsIHRleHR1cmVzKTtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHBhZ2VGaWxlID0gcGFnZXNbaV0uZ2V0QXR0cmlidXRlKCdmaWxlJyk7XG4gICAgICAgICAgICB2YXIgdXJsID0geG1sVXJsICsgcGFnZUZpbGU7XG4gICAgICAgICAgICB2YXIgZXhpc3RzID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIGluY2FzZSB0aGUgaW1hZ2UgaXMgbG9hZGVkIG91dHNpZGVcbiAgICAgICAgICAgIC8vIHVzaW5nIHRoZSBzYW1lIGxvYWRlciwgcmVzb3VyY2Ugd2lsbCBiZSBhdmFpbGFibGVcbiAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZXNbbmFtZV0udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ubWV0YWRhdGEucGFnZUZpbGUgPSBwYWdlRmlsZTtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0ZXh0dXJlIGlzIG5vdCBsb2FkZWQsIHdlJ2xsIGF0dGVtcHQgdG8gYWRkXG4gICAgICAgICAgICAvLyBpdCB0byB0aGUgbG9hZCBhbmQgYWRkIHRoZSB0ZXh0dXJlIHRvIHRoZSBsaXN0XG4gICAgICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgICAgICAgIC8vIFN0YW5kYXJkIGxvYWRpbmcgb3B0aW9ucyBmb3IgaW1hZ2VzXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgbG9hZFR5cGU6IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBPYmplY3QuYXNzaWduKHsgcGFnZUZpbGU6IHBhZ2VGaWxlIH0sIHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEpLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2VcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQodXJsLCBvcHRpb25zLCBjb21wbGV0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxudmFyIHBhdGggPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfcGF0aCk7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXInKTtcblxudmFyIF9leHRyYXMgPSByZXF1aXJlKCcuLi9leHRyYXMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXG4gKiBSZWdpc3RlciBhIEJpdG1hcFRleHQgZm9udCBmcm9tIGxvYWRlciByZXNvdXJjZS5cbiAqXG4gKiBAZnVuY3Rpb24gcGFyc2VCaXRtYXBGb250RGF0YVxuICogQG1lbWJlcm9mIFBJWEkubG9hZGVyc1xuICogQHBhcmFtIHtQSVhJLmxvYWRlcnMuUmVzb3VyY2V9IHJlc291cmNlIC0gTG9hZGVyIHJlc291cmNlLlxuICogQHBhcmFtIHtQSVhJLlRleHR1cmV8UElYSS5UZXh0dXJlW119IHRleHR1cmVzIC0gTGlzdCBvZiB0ZXh0dXJlcyBmb3IgZWFjaCBwYWdlLlxuICovXG5mdW5jdGlvbiBwYXJzZShyZXNvdXJjZSwgdGV4dHVyZXMpIHtcbiAgICByZXNvdXJjZS5iaXRtYXBGb250ID0gX2V4dHJhcy5CaXRtYXBUZXh0LnJlZ2lzdGVyRm9udChyZXNvdXJjZS5kYXRhLCB0ZXh0dXJlcyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaXRtYXBGb250UGFyc2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICogVXNlZCBieSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IHRvIGF1dG9tYXRpY2FsbHkgZ2l2ZSBhbGwgRGlzcGxheU9iamVjdHMgdGhlc2UgcHJvcGVydGllc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBpbnRlcmFjdGl2ZVRhcmdldFxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldFxuICogICAgICApO1xuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBpbnRlcmFjdGlvbiBldmVudHMgZm9yIHRoZSBEaXNwbGF5T2JqZWN0LiBUb3VjaCwgcG9pbnRlciBhbmQgbW91c2VcbiAgICogZXZlbnRzIHdpbGwgbm90IGJlIGVtaXR0ZWQgdW5sZXNzIGBpbnRlcmFjdGl2ZWAgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgKiBzcHJpdGUub24oJ3RhcCcsIChldmVudCkgPT4ge1xuICAgKiAgICAvL2hhbmRsZSBldmVudFxuICAgKiB9KTtcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGludGVyYWN0aXZlOiBmYWxzZSxcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY2hpbGRyZW4gdG8gdGhlIGRpc3BsYXlPYmplY3QgY2FuIGJlIGNsaWNrZWQvdG91Y2hlZFxuICAgKiBTZXR0aW5nIHRoaXMgdG8gZmFsc2UgYWxsb3dzIFBpeGlKUyB0byBieXBhc3MgYSByZWN1cnNpdmUgYGhpdFRlc3RgIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAgICovXG4gIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXG5cbiAgLyoqXG4gICAqIEludGVyYWN0aW9uIHNoYXBlLiBDaGlsZHJlbiB3aWxsIGJlIGhpdCBmaXJzdCwgdGhlbiB0aGlzIHNoYXBlIHdpbGwgYmUgY2hlY2tlZC5cbiAgICogU2V0dGluZyB0aGlzIHdpbGwgY2F1c2UgdGhpcyBzaGFwZSB0byBiZSBjaGVja2VkIGluIGhpdCB0ZXN0cyByYXRoZXIgdGhhbiB0aGUgZGlzcGxheU9iamVjdCdzIGJvdW5kcy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgKiBzcHJpdGUuaGl0QXJlYSA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCk7XG4gICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfFBJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgKi9cbiAgaGl0QXJlYTogbnVsbCxcblxuICAvKipcbiAgICogSWYgZW5hYmxlZCwgdGhlIG1vdXNlIGN1cnNvciB1c2UgdGhlIHBvaW50ZXIgYmVoYXZpb3Igd2hlbiBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QgaWYgaXQgaXMgaW50ZXJhY3RpdmVcbiAgICogU2V0dGluZyB0aGlzIGNoYW5nZXMgdGhlICdjdXJzb3InIHByb3BlcnR5IHRvIGAncG9pbnRlcidgLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAqIHNwcml0ZS5idXR0b25Nb2RlID0gdHJ1ZTtcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGdldCBidXR0b25Nb2RlKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInO1xuICB9LFxuICBzZXQgYnV0dG9uTW9kZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgfSBlbHNlIGlmICh0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInKSB7XG4gICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBUaGlzIGRlZmluZXMgd2hhdCBjdXJzb3IgbW9kZSBpcyB1c2VkIHdoZW4gdGhlIG1vdXNlIGN1cnNvclxuICAgKiBpcyBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICogc3ByaXRlLmN1cnNvciA9ICd3YWl0JztcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAqXG4gICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGN1cnNvcjogbnVsbCxcblxuICAvKipcbiAgICogSW50ZXJuYWwgc2V0IG9mIGFsbCBhY3RpdmUgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXJcbiAgICpcbiAgICogQG1lbWJlciB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0IHRyYWNrZWRQb2ludGVycygpIHtcbiAgICBpZiAodGhpcy5fdHJhY2tlZFBvaW50ZXJzID09PSB1bmRlZmluZWQpIHRoaXMuX3RyYWNrZWRQb2ludGVycyA9IHt9O1xuXG4gICAgcmV0dXJuIHRoaXMuX3RyYWNrZWRQb2ludGVycztcbiAgfSxcblxuICAvKipcbiAgICogTWFwIG9mIGFsbCB0cmFja2VkIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyLiBVc2UgdHJhY2tlZFBvaW50ZXJzIHRvIGFjY2Vzcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICovXG4gIF90cmFja2VkUG9pbnRlcnM6IHVuZGVmaW5lZFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0aXZlVGFyZ2V0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIERpc3BsYXlPYmplY3RzIHdpdGggdGhlIHtAbGluayBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0fSBtaXhpbiB1c2UgdGhpcyBjbGFzcyB0byB0cmFjayBpbnRlcmFjdGlvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKHBvaW50ZXJJZCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEpO1xuXG4gICAgICAgIHRoaXMuX3BvaW50ZXJJZCA9IHBvaW50ZXJJZDtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBpbnRlcmFjdGlvbiBmbGFnIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBTaG91bGQgdGhlIGZsYWcgYmUgc2V0IG9yIHVuc2V0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZS5fZG9TZXQgPSBmdW5jdGlvbiBfZG9TZXQoZmxhZywgeW4pIHtcbiAgICAgICAgaWYgKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzIHwgZmxhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgJiB+ZmxhZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLCBbe1xuICAgICAgICBrZXk6IFwicG9pbnRlcklkXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YSwgZXhwcmVzc2VkIGFzIGJpdCBmbGFnc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImZsYWdzXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgZmxhZ3MgZm9yIHRoZSB0cmFja2luZyBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFncyAtIEZsYWdzIHRvIHNldFxuICAgICAgICAgKi9cbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmbGFncykge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSBmbGFncztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgdHJhY2tlZCBldmVudCBpbmFjdGl2ZSAobm90IG92ZXIgb3IgZG93bik/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwibm9uZVwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbGFncyA9PT0gdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5OT05FO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSB0cmFja2VkIGV2ZW50IG92ZXIgdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIm92ZXJcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5PVkVSKSAhPT0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIG92ZXIgZmxhZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gSXMgdGhlIGV2ZW50IG92ZXI/XG4gICAgICAgICAqL1xuICAgICAgICAsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk9WRVIsIHluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJpZ2h0RG93blwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLlJJR0hUX0RPV04pICE9PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgcmlnaHQgZG93biBmbGFnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBJcyB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGRvd24/XG4gICAgICAgICAqL1xuICAgICAgICAsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLlJJR0hUX0RPV04sIHluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwibGVmdERvd25cIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04pICE9PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgbGVmdCBkb3duIGZsYWdcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSB5biAtIElzIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duP1xuICAgICAgICAgKi9cbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQodGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04sIHluKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE7XG5cblxuSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MgPSBPYmplY3QuZnJlZXplKHtcbiAgICBOT05FOiAwLFxuICAgIE9WRVI6IDEgPDwgMCxcbiAgICBMRUZUX0RPV046IDEgPDwgMSxcbiAgICBSSUdIVF9ET1dOOiAxIDw8IDJcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogRXZlbnQgY2xhc3MgdGhhdCBtaW1pY3MgbmF0aXZlIERPTSBldmVudHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25FdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBJbnRlcmFjdGlvbkV2ZW50KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBldmVudCB3aWxsIGNvbnRpbnVlIHByb3BhZ2F0aW5nIGluIHRoZSB0cmVlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCB3aGljaCBjYXVzZWQgdGhpcyBldmVudCB0byBiZSBkaXNwYXRjaGVkLlxuICAgICAqIEZvciBsaXN0ZW5lciBjYWxsYmFjayBzZWUge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudC5jdXJyZW50VGFyZ2V0fS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0IHdob3NlIGV2ZW50IGxpc3RlbmVy4oCZcyBjYWxsYmFjayBpcyBjdXJyZW50bHkgYmVpbmcgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiB0aGUgZXZlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb25EYXRhIHJlbGF0ZWQgdG8gdGhpcyBldmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICovXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmV2ZW50cyBldmVudCBmcm9tIHJlYWNoaW5nIGFueSBvYmplY3RzIG90aGVyIHRoYW4gdGhlIGN1cnJlbnQgb2JqZWN0LlxuICAgKlxuICAgKi9cblxuXG4gIEludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIGV2ZW50LlxuICAgKi9cblxuXG4gIEludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEludGVyYWN0aW9uRXZlbnQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEludGVyYWN0aW9uRXZlbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcmFjdGlvbkV2ZW50LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBIb2xkcyBhbGwgaW5mb3JtYXRpb24gcmVsYXRlZCB0byBhbiBJbnRlcmFjdGlvbiBldmVudFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBJbnRlcmFjdGlvbkRhdGEoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHBvaW50IHN0b3JlcyB0aGUgZ2xvYmFsIGNvb3JkcyBvZiB3aGVyZSB0aGUgdG91Y2gvbW91c2UgZXZlbnQgaGFwcGVuZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICovXG4gICAgdGhpcy5nbG9iYWwgPSBuZXcgY29yZS5Qb2ludCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBEaXNwbGF5T2JqZWN0IHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gcGFzc2VkIHRvIGFuIGV2ZW50IGhhbmRsZXIsIHRoaXMgd2lsbCBiZSB0aGUgb3JpZ2luYWwgRE9NIEV2ZW50IHRoYXQgd2FzIGNhcHR1cmVkXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2hFdmVudFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudFxuICAgICAqIEBtZW1iZXIge01vdXNlRXZlbnR8VG91Y2hFdmVudHxQb2ludGVyRXZlbnR9XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGludGVyYWN0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pZGVudGlmaWVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0aGUgcG9pbnRlciBkZXZpY2UgdGhhdCBjcmVhdGVkIHRoZSBldmVudCBpcyB0aGUgcHJpbWFyeSBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9pc1ByaW1hcnlcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbiB3YXMgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2UgdG8gdHJpZ2dlciB0aGUgZXZlbnQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYnV0dG9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b25zIGFyZSBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB3aGVuIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1dHRvbnMgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeC1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC93aWR0aFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeS1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1kgb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9oZWlnaHRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRYXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbHRYID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRZXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbHRZID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50LlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVyVHlwZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBQcmVzc3VyZSBhcHBsaWVkIGJ5IHRoZSBwb2ludGluZyBkZXZpY2UgZHVyaW5nIHRoZSBldmVudC4gQSBUb3VjaCdzIGZvcmNlIHByb3BlcnR5XG4gICAgICogd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wcmVzc3VyZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wcmVzc3VyZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBGcm9tIFRvdWNoRXZlbnRzIChub3QgUG9pbnRlckV2ZW50cyB0cmlnZ2VyZWQgYnkgdG91Y2hlcyksIHRoZSByb3RhdGlvbkFuZ2xlIG9mIHRoZSBUb3VjaC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaC9yb3RhdGlvbkFuZ2xlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVHdpc3Qgb2YgYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnR3aXN0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIEJhcnJlbCBwcmVzc3VyZSBvbiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHBvaW50ZXIuIEl0IHdpbGwgYmUgdGhlIHNhbWUgYXMgYGlkZW50aWZpZXJgLlxuICAgKiBAcmVhZG9ubHlcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlcklkXG4gICAqL1xuXG5cbiAgLyoqXG4gICAqIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBmb3IgdGhpcyBJbnRlcmFjdGlvbkRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBsb2NhbFxuICAgKiAgY29vcmRzIG9mZlxuICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsIChvdGhlcndpc2VcbiAgICogIHdpbGwgY3JlYXRlIGEgbmV3IHBvaW50KVxuICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtnbG9iYWxQb3NdIC0gQSBQb2ludCBvYmplY3QgY29udGFpbmluZyB5b3VyIGN1c3RvbSBnbG9iYWwgY29vcmRzLCBvcHRpb25hbFxuICAgKiAgKG90aGVyd2lzZSB3aWxsIHVzZSB0aGUgY3VycmVudCBnbG9iYWwgY29vcmRzKVxuICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IGNvbnRhaW5pbmcgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBJbnRlcmFjdGlvbkRhdGEgcG9zaXRpb24gcmVsYXRpdmVcbiAgICogIHRvIHRoZSBEaXNwbGF5T2JqZWN0XG4gICAqL1xuICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmdldExvY2FsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRMb2NhbFBvc2l0aW9uKGRpc3BsYXlPYmplY3QsIHBvaW50LCBnbG9iYWxQb3MpIHtcbiAgICByZXR1cm4gZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UoZ2xvYmFsUG9zIHx8IHRoaXMuZ2xvYmFsLCBwb2ludCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvcGllcyBwcm9wZXJ0aWVzIGZyb20gbm9ybWFsaXplZCBldmVudCBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0ge1RvdWNofE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCBUaGUgbm9ybWFsaXplZCBldmVudCBkYXRhXG4gICAqL1xuXG5cbiAgSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5jb3B5RXZlbnQgPSBmdW5jdGlvbiBjb3B5RXZlbnQoZXZlbnQpIHtcbiAgICAvLyBpc1ByaW1hcnkgc2hvdWxkIG9ubHkgY2hhbmdlIG9uIHRvdWNoc3RhcnQvcG9pbnRlcmRvd24sIHNvIHdlIGRvbid0IHdhbnQgdG8gb3ZlcndyaXRlXG4gICAgLy8gaXQgd2l0aCBcImZhbHNlXCIgb24gbGF0ZXIgZXZlbnRzIHdoZW4gb3VyIHNoaW0gZm9yIGl0IG9uIHRvdWNoIGV2ZW50cyBtaWdodCBub3QgYmVcbiAgICAvLyBhY2N1cmF0ZVxuICAgIGlmIChldmVudC5pc1ByaW1hcnkpIHtcbiAgICAgIHRoaXMuaXNQcmltYXJ5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5idXR0b24gPSBldmVudC5idXR0b247XG4gICAgLy8gZXZlbnQuYnV0dG9ucyBpcyBub3QgYXZhaWxhYmxlIGluIGFsbCBicm93c2VycyAoaWUuIFNhZmFyaSksIGJ1dCBpdCBkb2VzIGhhdmUgYSBub24tc3RhbmRhcmRcbiAgICAvLyBldmVudC53aGljaCBwcm9wZXJ0eSBpbnN0ZWFkLCB3aGljaCBjb252ZXlzIHRoZSBzYW1lIGluZm9ybWF0aW9uLlxuICAgIHRoaXMuYnV0dG9ucyA9IE51bWJlci5pc0ludGVnZXIoZXZlbnQuYnV0dG9ucykgPyBldmVudC5idXR0b25zIDogZXZlbnQud2hpY2g7XG4gICAgdGhpcy53aWR0aCA9IGV2ZW50LndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gZXZlbnQuaGVpZ2h0O1xuICAgIHRoaXMudGlsdFggPSBldmVudC50aWx0WDtcbiAgICB0aGlzLnRpbHRZID0gZXZlbnQudGlsdFk7XG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgIHRoaXMucHJlc3N1cmUgPSBldmVudC5wcmVzc3VyZTtcbiAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSBldmVudC5yb3RhdGlvbkFuZ2xlO1xuICAgIHRoaXMudHdpc3QgPSBldmVudC50d2lzdCB8fCAwO1xuICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlIHx8IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgZGF0YSBmb3IgcG9vbGluZy5cbiAgICovXG5cblxuICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgLy8gaXNQcmltYXJ5IGlzIHRoZSBvbmx5IHByb3BlcnR5IHRoYXQgd2UgcmVhbGx5IG5lZWQgdG8gcmVzZXQgLSBldmVyeXRoaW5nIGVsc2UgaXNcbiAgICAvLyBndWFyYW50ZWVkIHRvIGJlIG92ZXJ3cml0dGVuXG4gICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgfTtcblxuICBfY3JlYXRlQ2xhc3MoSW50ZXJhY3Rpb25EYXRhLCBbe1xuICAgIGtleTogJ3BvaW50ZXJJZCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJbnRlcmFjdGlvbkRhdGE7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEludGVyYWN0aW9uRGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uRGF0YS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSA9IHJlcXVpcmUoJy4vZ2VuZXJhdGVCbHVyVmVydFNvdXJjZScpO1xuXG52YXIgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSA9IHJlcXVpcmUoJy4vZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZScpO1xuXG52YXIgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSk7XG5cbnZhciBfZ2V0TWF4Qmx1cktlcm5lbFNpemUgPSByZXF1aXJlKCcuL2dldE1heEJsdXJLZXJuZWxTaXplJyk7XG5cbnZhciBfZ2V0TWF4Qmx1cktlcm5lbFNpemUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0TWF4Qmx1cktlcm5lbFNpemUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIEJsdXJZRmlsdGVyIGFwcGxpZXMgYSBob3Jpem9udGFsIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEJsdXJZRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhCbHVyWUZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHkgLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1cllGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJsdXJZRmlsdGVyKTtcblxuICAgICAgICBrZXJuZWxTaXplID0ga2VybmVsU2l6ZSB8fCA1O1xuICAgICAgICB2YXIgdmVydFNyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSwgZmFsc2UpO1xuICAgICAgICB2YXIgZnJhZ1NyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICB2ZXJ0U3JjLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgZnJhZ1NyYykpO1xuXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICBfdGhpcy5fcXVhbGl0eSA9IDA7XG5cbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgX3RoaXMuc3RyZW5ndGggPSBzdHJlbmd0aCB8fCA4O1xuXG4gICAgICAgIF90aGlzLmZpcnN0UnVuID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmc/XG4gICAgICovXG5cblxuICAgIEJsdXJZRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0UnVuKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmdsO1xuICAgICAgICAgICAgdmFyIGtlcm5lbFNpemUgPSAoMCwgX2dldE1heEJsdXJLZXJuZWxTaXplMi5kZWZhdWx0KShnbCk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplKTtcblxuICAgICAgICAgICAgdGhpcy5maXJzdFJ1biA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9IDEgLyBvdXRwdXQuc2l6ZS5oZWlnaHQgKiAob3V0cHV0LnNpemUuaGVpZ2h0IC8gaW5wdXQuc2l6ZS5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggKj0gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAvPSB0aGlzLnBhc3NlcztcblxuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0UmVuZGVyVGFyZ2V0KHRydWUpO1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBpbnB1dDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGFzc2VzIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIG91dHB1dCwgY2xlYXIpO1xuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVyblJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQmx1cllGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ2JsdXInLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGguYWJzKHZhbHVlKSAqIDI7XG4gICAgICAgICAgICB0aGlzLnN0cmVuZ3RoID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBieSBtb2RpZnlpbmcgdGhlIG51bWJlciBvZiBwYXNzZXMuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlclxuICAgICAgICAgKiBxdWFpbGl0eSBibHVyaW5nIGJ1dCB0aGUgbG93ZXIgdGhlIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDRcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3F1YWxpdHknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3F1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFzc2VzID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQmx1cllGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmx1cllGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CbHVyWUZpbHRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGdldE1heEtlcm5lbFNpemU7XG5mdW5jdGlvbiBnZXRNYXhLZXJuZWxTaXplKGdsKSB7XG4gICAgdmFyIG1heFZhcnlpbmdzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WQVJZSU5HX1ZFQ1RPUlMpO1xuICAgIHZhciBrZXJuZWxTaXplID0gMTU7XG5cbiAgICB3aGlsZSAoa2VybmVsU2l6ZSA+IG1heFZhcnlpbmdzKSB7XG4gICAgICAgIGtlcm5lbFNpemUgLT0gMjtcbiAgICB9XG5cbiAgICByZXR1cm4ga2VybmVsU2l6ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldE1heEJsdXJLZXJuZWxTaXplLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGdlbmVyYXRlRnJhZ0JsdXJTb3VyY2U7XG52YXIgR0FVU1NJQU5fVkFMVUVTID0ge1xuICAgIDU6IFswLjE1MzM4OCwgMC4yMjE0NjEsIDAuMjUwMzAxXSxcbiAgICA3OiBbMC4wNzEzMDMsIDAuMTMxNTE0LCAwLjE4OTg3OSwgMC4yMTQ2MDddLFxuICAgIDk6IFswLjAyODUzMiwgMC4wNjcyMzQsIDAuMTI0MDA5LCAwLjE3OTA0NCwgMC4yMDIzNl0sXG4gICAgMTE6IFswLjAwOTMsIDAuMDI4MDAyLCAwLjA2NTk4NCwgMC4xMjE3MDMsIDAuMTc1NzEzLCAwLjE5ODU5Nl0sXG4gICAgMTM6IFswLjAwMjQwNiwgMC4wMDkyNTUsIDAuMDI3ODY3LCAwLjA2NTY2NiwgMC4xMjExMTcsIDAuMTc0ODY4LCAwLjE5NzY0MV0sXG4gICAgMTU6IFswLjAwMDQ4OSwgMC4wMDI0MDMsIDAuMDA5MjQ2LCAwLjAyNzg0LCAwLjA2NTYwMiwgMC4xMjA5OTksIDAuMTc0Njk3LCAwLjE5NzQ0OF1cbn07XG5cbnZhciBmcmFnVGVtcGxhdGUgPSBbJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjsnLCAndm9pZCBtYWluKHZvaWQpJywgJ3snLCAnICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLCAnICAgICVibHVyJScsICd9J10uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRnJhZ0JsdXJTb3VyY2Uoa2VybmVsU2l6ZSkge1xuICAgIHZhciBrZXJuZWwgPSBHQVVTU0lBTl9WQUxVRVNba2VybmVsU2l6ZV07XG4gICAgdmFyIGhhbGZMZW5ndGggPSBrZXJuZWwubGVuZ3RoO1xuXG4gICAgdmFyIGZyYWdTb3VyY2UgPSBmcmFnVGVtcGxhdGU7XG5cbiAgICB2YXIgYmx1ckxvb3AgPSAnJztcbiAgICB2YXIgdGVtcGxhdGUgPSAnZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdkJsdXJUZXhDb29yZHNbJWluZGV4JV0pICogJXZhbHVlJTsnO1xuICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkpO1xuXG4gICAgICAgIHZhbHVlID0gaTtcblxuICAgICAgICBpZiAoaSA+PSBoYWxmTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyV2YWx1ZSUnLCBrZXJuZWxbdmFsdWVdKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gZnJhZ1NvdXJjZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlQmx1ckZyYWdTb3VyY2UuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2VuZXJhdGVWZXJ0Qmx1clNvdXJjZTtcbnZhciB2ZXJ0VGVtcGxhdGUgPSBbJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjsnLCAnYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDsnLCAndW5pZm9ybSBmbG9hdCBzdHJlbmd0aDsnLCAndW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7JywgJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsICd2b2lkIG1haW4odm9pZCknLCAneycsICdnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKChhVmVydGV4UG9zaXRpb24pLCAxLjApKS54eSwgMC4wLCAxLjApOycsICclYmx1ciUnLCAnfSddLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVZlcnRCbHVyU291cmNlKGtlcm5lbFNpemUsIHgpIHtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IE1hdGguY2VpbChrZXJuZWxTaXplIC8gMik7XG5cbiAgICB2YXIgdmVydFNvdXJjZSA9IHZlcnRUZW1wbGF0ZTtcblxuICAgIHZhciBibHVyTG9vcCA9ICcnO1xuICAgIHZhciB0ZW1wbGF0ZSA9IHZvaWQgMDtcbiAgICAvLyBsZXQgdmFsdWU7XG5cbiAgICBpZiAoeCkge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9IGFUZXh0dXJlQ29vcmQgKyB2ZWMyKCVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCwgMC4wKTsnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gYVRleHR1cmVDb29yZCArIHZlYzIoMC4wLCAlc2FtcGxlSW5kZXglICogc3RyZW5ndGgpOyc7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaSk7XG5cbiAgICAgICAgLy8gdmFsdWUgPSBpO1xuXG4gICAgICAgIC8vIGlmKGkgPj0gaGFsZkxlbmd0aClcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCclc2FtcGxlSW5kZXglJywgaSAtIChoYWxmTGVuZ3RoIC0gMSkgKyAnLjAnKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gdmVydFNvdXJjZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlQmx1clZlcnRTb3VyY2UuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UgPSByZXF1aXJlKCcuL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UnKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UpO1xuXG52YXIgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UgPSByZXF1aXJlKCcuL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UnKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UpO1xuXG52YXIgX2dldE1heEJsdXJLZXJuZWxTaXplID0gcmVxdWlyZSgnLi9nZXRNYXhCbHVyS2VybmVsU2l6ZScpO1xuXG52YXIgX2dldE1heEJsdXJLZXJuZWxTaXplMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldE1heEJsdXJLZXJuZWxTaXplKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBCbHVyWEZpbHRlciBhcHBsaWVzIGEgaG9yaXpvbnRhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyWEZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQmx1clhGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZW5ndGggLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5IC0gVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBba2VybmVsU2l6ZT01XSAtIFRoZSBrZXJuZWxTaXplIG9mIHRoZSBibHVyIGZpbHRlci5PcHRpb25zOiA1LCA3LCA5LCAxMSwgMTMsIDE1LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsdXJYRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCbHVyWEZpbHRlcik7XG5cbiAgICAgICAga2VybmVsU2l6ZSA9IGtlcm5lbFNpemUgfHwgNTtcbiAgICAgICAgdmFyIHZlcnRTcmMgPSAoMCwgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUsIHRydWUpO1xuICAgICAgICB2YXIgZnJhZ1NyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICB2ZXJ0U3JjLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgZnJhZ1NyYykpO1xuXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICBfdGhpcy5fcXVhbGl0eSA9IDA7XG5cbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgX3RoaXMuc3RyZW5ndGggPSBzdHJlbmd0aCB8fCA4O1xuXG4gICAgICAgIF90aGlzLmZpcnN0UnVuID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmc/XG4gICAgICovXG5cblxuICAgIEJsdXJYRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0UnVuKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmdsO1xuICAgICAgICAgICAgdmFyIGtlcm5lbFNpemUgPSAoMCwgX2dldE1heEJsdXJLZXJuZWxTaXplMi5kZWZhdWx0KShnbCk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSAoMCwgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUpO1xuXG4gICAgICAgICAgICB0aGlzLmZpcnN0UnVuID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gMSAvIG91dHB1dC5zaXplLndpZHRoICogKG91dHB1dC5zaXplLndpZHRoIC8gaW5wdXQuc2l6ZS53aWR0aCk7XG5cbiAgICAgICAgLy8gc2NyZWVuIHNwYWNlIVxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoICo9IHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7IC8vIC8gdGhpcy5wYXNzZXMvL01hdGgucG93KDEsIHRoaXMucGFzc2VzKTtcblxuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0UmVuZGVyVGFyZ2V0KHRydWUpO1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBpbnB1dDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGFzc2VzIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIG91dHB1dCwgY2xlYXIpO1xuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVyblJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTZcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEJsdXJYRmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdibHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLmFicyh2YWx1ZSkgKiAyO1xuICAgICAgICAgICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogU2V0cyB0aGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBieSBtb2RpZnlpbmcgdGhlIG51bWJlciBvZiBwYXNzZXMuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlclxuICAgICAgICAqIHF1YWlsaXR5IGJsdXJpbmcgYnV0IHRoZSBsb3dlciB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICogQGRlZmF1bHQgNFxuICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdxdWFsaXR5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBhc3NlcyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJsdXJYRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJsdXJYRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qmx1clhGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5CaXRtYXBUZXh0ID0gZXhwb3J0cy5UaWxpbmdTcHJpdGVSZW5kZXJlciA9IGV4cG9ydHMuVGlsaW5nU3ByaXRlID0gZXhwb3J0cy5BbmltYXRlZFNwcml0ZSA9IHVuZGVmaW5lZDtcblxudmFyIF9BbmltYXRlZFNwcml0ZSA9IHJlcXVpcmUoJy4vQW5pbWF0ZWRTcHJpdGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdBbmltYXRlZFNwcml0ZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FuaW1hdGVkU3ByaXRlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UaWxpbmdTcHJpdGUgPSByZXF1aXJlKCcuL1RpbGluZ1Nwcml0ZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RpbGluZ1Nwcml0ZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbGluZ1Nwcml0ZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGlsaW5nU3ByaXRlUmVuZGVyZXIgPSByZXF1aXJlKCcuL3dlYmdsL1RpbGluZ1Nwcml0ZVJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGlsaW5nU3ByaXRlUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaWxpbmdTcHJpdGVSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQml0bWFwVGV4dCA9IHJlcXVpcmUoJy4vQml0bWFwVGV4dCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0JpdG1hcFRleHQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CaXRtYXBUZXh0KS5kZWZhdWx0O1xuICB9XG59KTtcblxucmVxdWlyZSgnLi9jYWNoZUFzQml0bWFwJyk7XG5cbnJlcXVpcmUoJy4vZ2V0Q2hpbGRCeU5hbWUnKTtcblxucmVxdWlyZSgnLi9nZXRHbG9iYWxQb3NpdGlvbicpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBpbXBvcnRlZCBmb3Igc2lkZSBlZmZlY3Qgb2YgZXh0ZW5kaW5nIHRoZSBwcm90b3R5cGUgb25seSwgY29udGFpbnMgbm8gZXhwb3J0c1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGFjY2Vzc2libGUgb2JqZWN0c1xuICogdXNlZCBieSB7QGxpbmsgUElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfS5cbiAqXG4gKiBAZnVuY3Rpb24gYWNjZXNzaWJsZVRhcmdldFxuICogQG1lbWJlcm9mIFBJWEkuYWNjZXNzaWJpbGl0eVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIE15T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuYWNjZXNzaWJpbGl0eS5hY2Nlc3NpYmxlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgLyoqXG4gICAqICBGbGFnIGZvciBpZiB0aGUgb2JqZWN0IGlzIGFjY2Vzc2libGUuIElmIHRydWUgQWNjZXNzaWJpbGl0eU1hbmFnZXIgd2lsbCBvdmVybGF5IGFcbiAgICogICBzaGFkb3cgZGl2IHdpdGggYXR0cmlidXRlcyBzZXRcbiAgICpcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICovXG4gIGFjY2Vzc2libGU6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICogSWYgYWNjZXNzaWJsZVRpdGxlIEFORCBhY2Nlc3NpYmxlSGludCBoYXMgbm90IGJlZW4gdGhpcyB3aWxsIGRlZmF1bHQgdG8gJ2Rpc3BsYXlPYmplY3QgW3RhYkluZGV4XSdcbiAgICpcbiAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgKi9cbiAgYWNjZXNzaWJsZVRpdGxlOiBudWxsLFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgKlxuICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAqL1xuICBhY2Nlc3NpYmxlSGludDogbnVsbCxcblxuICAvKipcbiAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICovXG4gIHRhYkluZGV4OiAwLFxuXG4gIC8qKlxuICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgKi9cbiAgX2FjY2Vzc2libGVBY3RpdmU6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgKi9cbiAgX2FjY2Vzc2libGVEaXY6IGZhbHNlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWNjZXNzaWJsZVRhcmdldC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmF1dG9EZXRlY3RSZW5kZXJlciA9IGF1dG9EZXRlY3RSZW5kZXJlcjtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIHV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzKTtcblxudmFyIF9DYW52YXNSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlcicpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuLyoqXG4gKiBUaGlzIGhlbHBlciBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IHdoaWNoIHJlbmRlcmVyIHlvdSBzaG91bGQgYmUgdXNpbmcuXG4gKiBXZWJHTCBpcyB0aGUgcHJlZmVycmVkIHJlbmRlcmVyIGFzIGl0IGlzIGEgbG90IGZhc3Rlci4gSWYgd2ViR0wgaXMgbm90IHN1cHBvcnRlZCBieVxuICogdGhlIGJyb3dzZXIgdGhlbiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGEgY2FudmFzIHJlbmRlcmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXMgKG9ubHkgYXBwbGljYWJsZSBpbiBjaHJvbWUgYXQgdGhlIG1vbWVudClcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAqICBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAqICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIsIHJldGluYSB3b3VsZCBiZSAyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlQ2FudmFzPWZhbHNlXSAtIHByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucm91bmRQaXhlbHM9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZyxcbiAqICBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gZm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gKiAgRlhBQSBpcyBmYXN0ZXIsIGJ1dCBtYXkgbm90IGFsd2F5cyBsb29rIGFzIGdyZWF0ICoqd2ViZ2wgb25seSoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlZ2FjeT1mYWxzZV0gLSBgdHJ1ZWAgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy5cbiAqICBJZiB5b3UgZXhwZXJpZW5jZSB1bmV4cGxhaW5lZCBmbGlja2VyaW5nIHRyeSBzZXR0aW5nIHRoaXMgdG8gdHJ1ZS4gKip3ZWJnbCBvbmx5KipcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZCAqKndlYmdsIG9ubHkqKlxuICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfFBJWEkuQ2FudmFzUmVuZGVyZXJ9IFJldHVybnMgV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXJcbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMsIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAvLyBCYWNrd2FyZC1jb21wYXRpYmxlIHN1cHBvcnQgZm9yIG5vV2ViR0wgb3B0aW9uXG4gICAgdmFyIGZvcmNlQ2FudmFzID0gb3B0aW9ucyAmJiBvcHRpb25zLmZvcmNlQ2FudmFzO1xuXG4gICAgaWYgKGFyZzMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmb3JjZUNhbnZhcyA9IGFyZzM7XG4gICAgfVxuXG4gICAgaWYgKCFmb3JjZUNhbnZhcyAmJiB1dGlscy5pc1dlYkdMU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfV2ViR0xSZW5kZXJlcjIuZGVmYXVsdChvcHRpb25zLCBhcmcxLCBhcmcyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IF9DYW52YXNSZW5kZXJlcjIuZGVmYXVsdChvcHRpb25zLCBhcmcxLCBhcmcyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dG9EZXRlY3RSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfYXV0b0RldGVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi9hdXRvRGV0ZWN0UmVuZGVyZXInKTtcblxudmFyIF9Db250YWluZXIgPSByZXF1aXJlKCcuL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcik7XG5cbnZhciBfdGlja2VyID0gcmVxdWlyZSgnLi90aWNrZXInKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ29udmVuaWVuY2UgY2xhc3MgdG8gY3JlYXRlIGEgbmV3IFBJWEkgYXBwbGljYXRpb24uXG4gKiBUaGlzIGNsYXNzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyB0aGUgcmVuZGVyZXIsIHRpY2tlclxuICogYW5kIHJvb3QgY29udGFpbmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIEFkZCB0aGUgdmlldyB0byB0aGUgRE9NXG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqXG4gKiAvLyBleCwgYWRkIGRpc3BsYXkgb2JqZWN0c1xuICogYXBwLnN0YWdlLmFkZENoaWxkKFBJWEkuU3ByaXRlLmZyb21JbWFnZSgnc29tZXRoaW5nLnBuZycpKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBsaWNhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2NcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9TdGFydD10cnVlXSAtIGF1dG9tYXRpY2FsbHkgc3RhcnRzIHRoZSByZW5kZXJpbmcgYWZ0ZXIgdGhlIGNvbnN0cnVjdGlvbi5cbiAgICAgKiAgICAgTm90ZSB0aGF0IHNldHRpbmcgdGhpcyBwYXJhbWV0ZXIgdG8gZmFsc2UgZG9lcyBOT1Qgc3RvcCB0aGUgc2hhcmVkIHRpY2tlciBldmVuIGlmIHlvdSBzZXRcbiAgICAgKiAgICAgb3B0aW9ucy5zaGFyZWRUaWNrZXIgdG8gdHJ1ZSBpbiBjYXNlIHRoYXQgaXQgaXMgYWxyZWFkeSBzdGFydGVkLiBTdG9wIGl0IGJ5IHlvdXIgb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcyAob25seSBhcHBsaWNhYmxlIGluIGNocm9tZSBhdCB0aGUgbW9tZW50KVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAgICAgKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VDYW52YXM9ZmFsc2VdIC0gcHJldmVudHMgc2VsZWN0aW9uIG9mIFdlYkdMIHJlbmRlcmVyLCBldmVuIGlmIHN1Y2ggaXMgcHJlc2VudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAgICogICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLFxuICAgICAqICBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VGWEFBPWZhbHNlXSAtIGZvcmNlcyBGWEFBIGFudGlhbGlhc2luZyB0byBiZSB1c2VkIG92ZXIgbmF0aXZlLlxuICAgICAqICBGWEFBIGlzIGZhc3RlciwgYnV0IG1heSBub3QgYWx3YXlzIGxvb2sgYXMgZ3JlYXQgKip3ZWJnbCBvbmx5KipcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlZ2FjeT1mYWxzZV0gLSBgdHJ1ZWAgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy5cbiAgICAgKiAgSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyB0cnkgc2V0dGluZyB0aGlzIHRvIHRydWUuICoqd2ViZ2wgb25seSoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICAgICAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZCAqKndlYmdsIG9ubHkqKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkVGlja2VyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS50aWNrZXIuc2hhcmVkLCBgZmFsc2VgIHRvIGNyZWF0ZSBuZXcgdGlja2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkTG9hZGVyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS5sb2FkZXJzLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IExvYWRlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcHBsaWNhdGlvbihvcHRpb25zLCBhcmcyLCBhcmczLCBhcmc0LCBhcmc1KSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHBsaWNhdGlvbik7XG5cbiAgICAgICAgLy8gU3VwcG9ydCBmb3IgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgb3B0aW9ucywgbm9XZWJHTCwgdXNlU2hhcmVkVGlja2VyKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhcmcyIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRU5ERVJfT1BUSU9OUy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgZm9yY2VDYW52YXM6ICEhYXJnNCxcbiAgICAgICAgICAgICAgICBzaGFyZWRUaWNrZXI6ICEhYXJnNVxuICAgICAgICAgICAgfSwgYXJnMyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgb3B0aW9ucywgc28gd2UgbWl4aW4gZnVuY3Rpb25hbGl0eSBsYXRlci5cbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICAgICAgc2hhcmVkVGlja2VyOiBmYWxzZSxcbiAgICAgICAgICAgIGZvcmNlQ2FudmFzOiBmYWxzZSxcbiAgICAgICAgICAgIHNoYXJlZExvYWRlcjogZmFsc2VcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlYkdMIHJlbmRlcmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIENhbnZhc1JlbmRlcmVyXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuV2ViR0xSZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9ICgwLCBfYXV0b0RldGVjdFJlbmRlcmVyLmF1dG9EZXRlY3RSZW5kZXJlcikob3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IGRpc3BsYXkgY29udGFpbmVyIHRoYXQncyByZW5kZXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWdlID0gbmV3IF9Db250YWluZXIyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIHRoZSB0aWNrZXJcbiAgICAgICAgICogQG1lbWJlciB7UElYSS50aWNrZXIuVGlja2VyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGlja2VyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGlja2VyIGZvciBkb2luZyByZW5kZXIgdXBkYXRlcy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS50aWNrZXIuVGlja2VyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnRpY2tlci5zaGFyZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2VyID0gb3B0aW9ucy5zaGFyZWRUaWNrZXIgPyBfdGlja2VyLnNoYXJlZCA6IG5ldyBfdGlja2VyLlRpY2tlcigpO1xuXG4gICAgICAgIC8vIFN0YXJ0IHRoZSByZW5kZXJpbmdcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b1N0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGN1cnJlbnQgc3RhZ2UuXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RvcHBpbmcgdGhlIHJlbmRlci5cbiAgICAgKi9cblxuXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICB0aGlzLl90aWNrZXIuc3RvcCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHN0YXJ0aW5nIHRoZSByZW5kZXIuXG4gICAgICovXG5cblxuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLl90aWNrZXIuc3RhcnQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIGNhbnZhcyBlbGVtZW50LlxuICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSBBdXRvbWF0aWNhbGx5IHJlbW92ZSBjYW52YXMgZnJvbSBET00uXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW3N0YWdlT3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdzdGFnZU9wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gICAgICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIHN0YWdlT3B0aW9ucy5jaGlsZHJlbiBpcyBzZXRcbiAgICAgKiAgdG8gdHJ1ZS4gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcsIHN0YWdlT3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5fdGlja2VyKSB7XG4gICAgICAgICAgICB2YXIgb2xkVGlja2VyID0gdGhpcy5fdGlja2VyO1xuXG4gICAgICAgICAgICB0aGlzLnRpY2tlciA9IG51bGw7XG4gICAgICAgICAgICBvbGRUaWNrZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGFnZS5kZXN0cm95KHN0YWdlT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc3RhZ2UgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZGVzdHJveShyZW1vdmVWaWV3KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG51bGw7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhBcHBsaWNhdGlvbiwgW3tcbiAgICAgICAga2V5OiAndGlja2VyJyxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGlja2VyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlci5yZW1vdmUodGhpcy5yZW5kZXIsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGlja2VyID0gdGlja2VyO1xuICAgICAgICAgICAgaWYgKHRpY2tlcikge1xuICAgICAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIF9jb25zdC5VUERBVEVfUFJJT1JJVFkuTE9XKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tlcjtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndmlldycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIudmlldztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3Mgc2NyZWVuIHJlY3RhbmdsZS4gSXRzIHNhZmUgdG8gdXNlIGFzIGZpbHRlckFyZWEgb3IgaGl0QXJlYSBmb3Igd2hvbGUgc2NyZWVuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NjcmVlbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuc2NyZWVuO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFwcGxpY2F0aW9uO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBcHBsaWNhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFwcGxpY2F0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEEgR3JhcGhpY3NEYXRhIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGluZVdpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVDb2xvciAtIHRoZSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lQWxwaGEgLSB0aGUgYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgKiBAcGFyYW0ge251bWJlcn0gZmlsbENvbG9yIC0gdGhlIGNvbG9yIG9mIHRoZSBmaWxsXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmaWxsQWxwaGEgLSB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICogQHBhcmFtIHtib29sZWFufSBmaWxsIC0gd2hldGhlciBvciBub3QgdGhlIHNoYXBlIGlzIGZpbGxlZCB3aXRoIGEgY29sb3VyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbmF0aXZlTGluZXMgLSB0aGUgbWV0aG9kIGZvciBkcmF3aW5nIGxpbmVzXG4gICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5SZWN0YW5nbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbn0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lQWxpZ25tZW50IC0gdGhlIGFsaWdubWVudCBvZiB0aGUgbGluZS5cbiAgICovXG4gIGZ1bmN0aW9uIEdyYXBoaWNzRGF0YShsaW5lV2lkdGgsIGxpbmVDb2xvciwgbGluZUFscGhhLCBmaWxsQ29sb3IsIGZpbGxBbHBoYSwgZmlsbCwgbmF0aXZlTGluZXMsIHNoYXBlLCBsaW5lQWxpZ25tZW50KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdyYXBoaWNzRGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbGlnbm1lbnQgb2YgYW55IGxpbmVzIGRyYXduICgwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIsIDAgPSBpbm5lcikuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMubGluZUFsaWdubWVudCA9IGxpbmVBbGlnbm1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBpZiB0cnVlIHRoZSBsaWVucyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5uYXRpdmVMaW5lcyA9IG5hdGl2ZUxpbmVzO1xuXG4gICAgLyoqXG4gICAgICogdGhlIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5saW5lQ29sb3IgPSBsaW5lQ29sb3I7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVBbHBoYSA9IGxpbmVBbHBoYTtcblxuICAgIC8qKlxuICAgICAqIGNhY2hlZCB0aW50IG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9saW5lVGludCA9IGxpbmVDb2xvcjtcblxuICAgIC8qKlxuICAgICAqIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxDb2xvciA9IGZpbGxDb2xvcjtcblxuICAgIC8qKlxuICAgICAqIHRoZSBhbHBoYSBvZiB0aGUgZmlsbFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxBbHBoYSA9IGZpbGxBbHBoYTtcblxuICAgIC8qKlxuICAgICAqIGNhY2hlZCB0aW50IG9mIHRoZSBmaWxsXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fZmlsbFRpbnQgPSBmaWxsQ29sb3I7XG5cbiAgICAvKipcbiAgICAgKiB3aGV0aGVyIG9yIG5vdCB0aGUgc2hhcGUgaXMgZmlsbGVkIHdpdGggYSBjb2xvdXJcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZmlsbCA9IGZpbGw7XG5cbiAgICB0aGlzLmhvbGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQG1lbWJlciB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gICAgICovXG4gICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIHNoYXBlLCBzZWUgdGhlIENvbnN0LlNoYXBlcyBmaWxlIGZvciBhbGwgdGhlIGV4aXN0aW5nIHR5cGVzLFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBzaGFwZS50eXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3NEYXRhIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICpcbiAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IENsb25lZCBHcmFwaGljc0RhdGEgb2JqZWN0XG4gICAqL1xuXG5cbiAgR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgR3JhcGhpY3NEYXRhKHRoaXMubGluZVdpZHRoLCB0aGlzLmxpbmVDb2xvciwgdGhpcy5saW5lQWxwaGEsIHRoaXMuZmlsbENvbG9yLCB0aGlzLmZpbGxBbHBoYSwgdGhpcy5maWxsLCB0aGlzLm5hdGl2ZUxpbmVzLCB0aGlzLnNoYXBlKTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkcyBhIGhvbGUgdG8gdGhlIHNoYXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfFBJWEkuQ2lyY2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvZiB0aGUgaG9sZS5cbiAgICovXG5cblxuICBHcmFwaGljc0RhdGEucHJvdG90eXBlLmFkZEhvbGUgPSBmdW5jdGlvbiBhZGRIb2xlKHNoYXBlKSB7XG4gICAgdGhpcy5ob2xlcy5wdXNoKHNoYXBlKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIGRhdGEuXG4gICAqL1xuXG5cbiAgR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLnNoYXBlID0gbnVsbDtcbiAgICB0aGlzLmhvbGVzID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gR3JhcGhpY3NEYXRhO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBHcmFwaGljc0RhdGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmFwaGljc0RhdGEuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBUZXh0TWV0cmljcyBvYmplY3QgcmVwcmVzZW50cyB0aGUgbWVhc3VyZW1lbnQgb2YgYSBibG9jayBvZiB0ZXh0IHdpdGggYSBzcGVjaWZpZWQgc3R5bGUuXG4gKlxuICogYGBganNcbiAqIGxldCBzdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSlcbiAqIGxldCB0ZXh0TWV0cmljcyA9IFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZVRleHQoJ1lvdXIgdGV4dCcsIHN0eWxlKVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyT2YgUElYSVxuICovXG52YXIgVGV4dE1ldHJpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBsaW5lcyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lcyBvZiB0ZXh0IGJyb2tlbiBieSBuZXcgbGluZXMgYW5kIHdyYXBwaW5nIGlmIHNwZWNpZmllZCBpbiBzdHlsZVxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGxpbmVXaWR0aHMgLSBhbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUhlaWdodCAtIHRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhMaW5lV2lkdGggLSB0aGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZm9udFByb3BlcnRpZXMgLSB0aGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0LCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0TWV0cmljcyk7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgICAgIHRoaXMubGluZVdpZHRocyA9IGxpbmVXaWR0aHM7XG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgIHRoaXMubWF4TGluZVdpZHRoID0gbWF4TGluZVdpZHRoO1xuICAgICAgICB0aGlzLmZvbnRQcm9wZXJ0aWVzID0gZm9udFByb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVhc3VyZXMgdGhlIHN1cHBsaWVkIHN0cmluZyBvZiB0ZXh0IGFuZCByZXR1cm5zIGEgUmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0byBtZWFzdXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHRleHQgc3R5bGUgdG8gdXNlIGZvciBtZWFzdXJpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt3b3JkV3JhcF0gLSBvcHRpb25hbCBvdmVycmlkZSBmb3IgaWYgd29yZC13cmFwIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dE1ldHJpY3N9IG1lYXN1cmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0ID0gZnVuY3Rpb24gbWVhc3VyZVRleHQodGV4dCwgc3R5bGUsIHdvcmRXcmFwKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IFRleHRNZXRyaWNzLl9jYW52YXM7XG5cbiAgICAgICAgd29yZFdyYXAgPSB3b3JkV3JhcCB8fCBzdHlsZS53b3JkV3JhcDtcbiAgICAgICAgdmFyIGZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICAgICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgICAgICB2YXIgb3V0cHV0VGV4dCA9IHdvcmRXcmFwID8gVGV4dE1ldHJpY3Mud29yZFdyYXAodGV4dCwgc3R5bGUsIGNhbnZhcykgOiB0ZXh0O1xuICAgICAgICB2YXIgbGluZXMgPSBvdXRwdXRUZXh0LnNwbGl0KC8oPzpcXHJcXG58XFxyfFxcbikvKTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBuZXcgQXJyYXkobGluZXMubGVuZ3RoKTtcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQobGluZXNbaV0pLndpZHRoICsgKGxpbmVzW2ldLmxlbmd0aCAtIDEpICogc3R5bGUubGV0dGVyU3BhY2luZztcblxuICAgICAgICAgICAgbGluZVdpZHRoc1tpXSA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2lkdGggPSBtYXhMaW5lV2lkdGggKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG5cbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gc3R5bGUubGluZUhlaWdodCB8fCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KGxpbmVIZWlnaHQsIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKSArIChsaW5lcy5sZW5ndGggLSAxKSAqIChsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZyk7XG5cbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIGhlaWdodCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIG5ld2xpbmVzIHRvIGEgc3RyaW5nIHRvIGhhdmUgaXQgb3B0aW1hbGx5IGZpdCBpbnRvIHRoZSBob3Jpem9udGFsXG4gICAgICogYm91bmRzIHNldCBieSB0aGUgVGV4dCBvYmplY3QncyB3b3JkV3JhcFdpZHRoIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFN0cmluZyB0byBhcHBseSB3b3JkIHdyYXBwaW5nIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgc3R5bGUgdG8gdXNlIHdoZW4gd3JhcHBpbmdcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IE5ldyBzdHJpbmcgd2l0aCBuZXcgbGluZXMgYXBwbGllZCB3aGVyZSByZXF1aXJlZFxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy53b3JkV3JhcCA9IGZ1bmN0aW9uIHdvcmRXcmFwKHRleHQsIHN0eWxlKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFRleHRNZXRyaWNzLl9jYW52YXM7XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICB2YXIgd2lkdGggPSAwO1xuICAgICAgICB2YXIgbGluZSA9ICcnO1xuICAgICAgICB2YXIgbGluZXMgPSAnJztcblxuICAgICAgICB2YXIgY2FjaGUgPSB7fTtcbiAgICAgICAgdmFyIGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nLFxuICAgICAgICAgICAgd2hpdGVTcGFjZSA9IHN0eWxlLndoaXRlU3BhY2U7XG5cbiAgICAgICAgLy8gSG93IHRvIGhhbmRsZSB3aGl0ZXNwYWNlc1xuXG4gICAgICAgIHZhciBjb2xsYXBzZVNwYWNlcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpO1xuICAgICAgICB2YXIgY29sbGFwc2VOZXdsaW5lcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG5cbiAgICAgICAgLy8gd2hldGhlciBvciBub3Qgc3BhY2VzIG1heSBiZSBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgIHZhciBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuXG4gICAgICAgIC8vIFRoZXJlIGlzIGxldHRlclNwYWNpbmcgYWZ0ZXIgZXZlcnkgY2hhciBleGNlcHQgdGhlIGxhc3Qgb25lXG4gICAgICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hXG4gICAgICAgIC8vIHNvIGZvciBjb252ZW5pZW5jZSB0aGUgYWJvdmUgbmVlZHMgdG8gYmUgY29tcGFyZWQgdG8gd2lkdGggKyAxIGV4dHJhIGxldHRlclNwYWNlXG4gICAgICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hX1xuICAgICAgICAvLyBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbiAgICAgICAgLy8gQW5kIHRoZW4gdGhlIGZpbmFsIHNwYWNlIGlzIHNpbXBseSBubyBhcHBlbmRlZCB0byBlYWNoIGxpbmVcbiAgICAgICAgdmFyIHdvcmRXcmFwV2lkdGggPSBzdHlsZS53b3JkV3JhcFdpZHRoICsgbGV0dGVyU3BhY2luZztcblxuICAgICAgICAvLyBicmVhayB0ZXh0IGludG8gd29yZHMsIHNwYWNlcyBhbmQgbmV3bGluZSBjaGFyc1xuICAgICAgICB2YXIgdG9rZW5zID0gVGV4dE1ldHJpY3MudG9rZW5pemUodGV4dCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgd29yZCwgc3BhY2Ugb3IgbmV3bGluZUNoYXJcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgICAgICAgICAgLy8gaWYgd29yZCBpcyBhIG5ldyBsaW5lXG4gICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuaXNOZXdsaW5lKHRva2VuKSkge1xuICAgICAgICAgICAgICAgIC8vIGtlZXAgdGhlIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKCFjb2xsYXBzZU5ld2xpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgbmV3IGxpbmVzXG4gICAgICAgICAgICAgICAgLy8gd2Ugc2ltcGx5IGNvbnZlcnQgaXQgaW50byBhIHNwYWNlXG4gICAgICAgICAgICAgICAgdG9rZW4gPSAnICc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHdlIHNob3VsZCBjb2xsYXBzZSByZXBlYXRlZCB3aGl0ZXNwYWNlc1xuICAgICAgICAgICAgaWYgKGNvbGxhcHNlU3BhY2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgYm90aCB0aGlzIGFuZCB0aGUgbGFzdCB0b2tlbnMgZm9yIHNwYWNlc1xuICAgICAgICAgICAgICAgIHZhciBjdXJySXNCcmVha2luZ1NwYWNlID0gVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKHRva2VuKTtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdElzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShsaW5lW2xpbmUubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJJc0JyZWFraW5nU3BhY2UgJiYgbGFzdElzQnJlYWtpbmdTcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGdldCB3b3JkIHdpZHRoIGZyb20gY2FjaGUgaWYgcG9zc2libGVcbiAgICAgICAgICAgIHZhciB0b2tlbldpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKHRva2VuLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgIC8vIHdvcmQgaXMgbG9uZ2VyIHRoYW4gZGVzaXJlZCBib3VuZHNcbiAgICAgICAgICAgIGlmICh0b2tlbldpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBub3QgYWxyZWFkeSBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgbGluZVxuICAgICAgICAgICAgICAgIGlmIChsaW5lICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBuZXdsaW5lcyBmb3Igb3ZlcmZsb3cgd29yZHNcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYnJlYWsgbGFyZ2Ugd29yZCBvdmVyIG11bHRpcGxlIGxpbmVzXG4gICAgICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHModG9rZW4sIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJyZWFrIHdvcmQgaW50byBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJzID0gdG9rZW4uc3BsaXQoJycpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvb3AgdGhlIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhciA9IGNoYXJhY3RlcnNbal07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBub3QgYXQgdGhlIGVuZCBvZiB0aGUgdG9rZW5cblxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNoYXJhY3RlcnNbaiArIGtdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDaGFyID0gY2hhcmFjdGVyc1tqICsga107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RDaGFyID0gY2hhcltjaGFyLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIG5vdCBzcGxpdCBjaGFyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyhsYXN0Q2hhciwgbmV4dENoYXIsIHRva2VuLCBqLCBzdHlsZS5icmVha1dvcmRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21iaW5lIGNoYXJzICYgbW92ZSBmb3J3YXJkIG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyICs9IG5leHRDaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaiArPSBjaGFyLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJXaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZShjaGFyLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJXaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGNoYXJhY3RlcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcnVuIHdvcmQgb3V0IG9mIHRoZSBib3VuZHNcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSB3b3JkcyBpbiB0aGlzIGxpbmUgYWxyZWFkeVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoYXQgbGluZSBhbmQgc3RhcnQgYSBuZXcgb25lXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNMYXN0VG9rZW4gPSBpID09PSB0b2tlbnMubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2l2ZSBpdCBpdHMgb3duIGxpbmUgaWYgaXQncyBub3QgdGhlIGVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZSh0b2tlbiwgIWlzTGFzdFRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3b3JkIGNvdWxkIGZpdFxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdvcmQgd29uJ3QgZml0IGJlY2F1c2Ugb2YgZXhpc3Rpbmcgd29yZHNcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5XaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXRzIGEgc3BhY2Ugd2UgZG9uJ3Qgd2FudCBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIHNwYWNlcyB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDAgfHwgIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbikgfHwgY2FuUHJlcGVuZFNwYWNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSB3b3JkIHRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gdG9rZW47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB3aWR0aCBjb3VudGVyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSB0b2tlbldpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lLCBmYWxzZSk7XG5cbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252aWVuaWVuY2UgZnVuY3Rpb24gZm9yIGxvZ2dpbmcgZWFjaCBsaW5lIGFkZGVkIGR1cmluZyB0aGUgd29yZFdyYXBcbiAgICAgKiBtZXRob2RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIGxpbmUgICAgICAgIC0gVGhlIGxpbmUgb2YgdGV4dCB0byBhZGRcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgbmV3TGluZSAgICAgLSBBZGQgbmV3IGxpbmUgY2hhcmFjdGVyIHRvIGVuZFxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gICBBIGZvcm1hdHRlZCBsaW5lXG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLmFkZExpbmUgPSBmdW5jdGlvbiBhZGRMaW5lKGxpbmUpIHtcbiAgICAgICAgdmFyIG5ld0xpbmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG5cbiAgICAgICAgbGluZSA9IFRleHRNZXRyaWNzLnRyaW1SaWdodChsaW5lKTtcblxuICAgICAgICBsaW5lID0gbmV3TGluZSA/IGxpbmUgKyAnXFxuJyA6IGxpbmU7XG5cbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgJiBzZXRzIHRoZSB3aWR0aHMgb2YgY2FsY3VsYXRlZCBjaGFyYWN0ZXJzIGluIGEgY2FjaGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgICAgICAgIGtleSAgICAgICAgICAgIFRoZSBrZXlcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nICBUaGUgbGV0dGVyIHNwYWNpbmdcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgICBjYWNoZSAgICAgICAgICBUaGUgY2FjaGVcbiAgICAgKiBAcGFyYW0gIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICBjb250ZXh0ICAgICAgICBUaGUgY2FudmFzIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBUaGUgZnJvbSBjYWNoZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlID0gZnVuY3Rpb24gZ2V0RnJvbUNhY2hlKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gY2FjaGVba2V5XTtcblxuICAgICAgICBpZiAod2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHNwYWNpbmcgPSBrZXkubGVuZ3RoICogbGV0dGVyU3BhY2luZztcblxuICAgICAgICAgICAgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGtleSkud2lkdGggKyBzcGFjaW5nO1xuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIGJyZWFraW5nIHNwYWNlc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAgVGhlIFRleHRTdHlsZSBwcm9wZXJ0eSB3aGl0ZVNwYWNlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyA9IGZ1bmN0aW9uIGNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIHdoaXRlU3BhY2UgPT09ICdub3JtYWwnIHx8IHdoaXRlU3BhY2UgPT09ICdwcmUtbGluZSc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgbmV3TGluZSBjaGFyc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAgVGhlIHdoaXRlIHNwYWNlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5jb2xsYXBzZU5ld2xpbmVzID0gZnVuY3Rpb24gY29sbGFwc2VOZXdsaW5lcyh3aGl0ZVNwYWNlKSB7XG4gICAgICAgIHJldHVybiB3aGl0ZVNwYWNlID09PSAnbm9ybWFsJztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdHJpbXMgYnJlYWtpbmcgd2hpdGVzcGFjZXMgZnJvbSBzdHJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdGV4dCAgVGhlIHRleHRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICB0cmltbWVkIHN0cmluZ1xuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy50cmltUmlnaHQgPSBmdW5jdGlvbiB0cmltUmlnaHQodGV4dCkge1xuICAgICAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0ZXh0W2ldO1xuXG4gICAgICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZSgwLCAtMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgbmV3bGluZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgVGhlIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIG5ld2xpbmUsIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MuaXNOZXdsaW5lID0gZnVuY3Rpb24gaXNOZXdsaW5lKGNoYXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGFyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9uZXdsaW5lcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgYnJlYWtpbmcgd2hpdGVzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgVGhlIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIHdoaXRlc3BhY2UsIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlID0gZnVuY3Rpb24gaXNCcmVha2luZ1NwYWNlKGNoYXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGFyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGEgc3RyaW5nIGludG8gd29yZHMsIGJyZWFraW5nLXNwYWNlcyBhbmQgbmV3TGluZSBjaGFyYWN0ZXJzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgICAgICAgVGhlIHRleHRcbiAgICAgKiBAcmV0dXJuIHthcnJheX0gIEEgdG9rZW5pemVkIGFycmF5XG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLnRva2VuaXplID0gZnVuY3Rpb24gdG9rZW5pemUodGV4dCkge1xuICAgICAgICB2YXIgdG9rZW5zID0gW107XG4gICAgICAgIHZhciB0b2tlbiA9ICcnO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcblxuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSB8fCBUZXh0TWV0cmljcy5pc05ld2xpbmUoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4gIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSAnJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaChjaGFyKTtcblxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0b2tlbiArPSBjaGFyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRva2VuICE9PSAnJykge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgZXhpc3RzIHRvIGJlIGVhc2lseSBvdmVycmlkZGVuXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBjdXN0b21pc2Ugd2hpY2ggd29yZHMgc2hvdWxkIGJyZWFrXG4gICAgICogRXhhbXBsZXMgYXJlIGlmIHRoZSB0b2tlbiBpcyBDSksgb3IgbnVtYmVycy5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuICAgICAgIFRoZSB0b2tlblxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzICBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdG8gYnJlYWsgd29yZCBvciBub3RcbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3JkcyA9IGZ1bmN0aW9uIGNhbkJyZWFrV29yZHModG9rZW4sIGJyZWFrV29yZHMpIHtcbiAgICAgICAgcmV0dXJuIGJyZWFrV29yZHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGV4aXN0cyB0byBiZSBlYXNpbHkgb3ZlcnJpZGRlblxuICAgICAqIEl0IGFsbG93cyBvbmUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWlyIG9mIGNoYXJhY3RlcnNcbiAgICAgKiBzaG91bGQgYmUgYnJva2VuIGJ5IG5ld2xpbmVzXG4gICAgICogRm9yIGV4YW1wbGUgY2VydGFpbiBjaGFyYWN0ZXJzIGluIENKSyBsYW5ncyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgICAgIFRoZSBjaGFyYWN0ZXJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBuZXh0Q2hhciAgVGhlIG5leHQgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gICAgIFRoZSB0b2tlbi93b3JkIHRoZSBjaGFyYWN0ZXJzIGFyZSBmcm9tXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgaW5kZXggICAgIFRoZSBpbmRleCBpbiB0aGUgdG9rZW4gb2YgdGhlIGNoYXJcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgYnJlYWtXb3JkcyAgVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLmNhbkJyZWFrQ2hhcnMgPSBmdW5jdGlvbiBjYW5CcmVha0NoYXJzKGNoYXIsIG5leHRDaGFyLCB0b2tlbiwgaW5kZXgsIGJyZWFrV29yZHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udC1zdHlsZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRNZXRyaWNzfkZvbnRNZXRyaWNzfSBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250ID0gZnVuY3Rpb24gbWVhc3VyZUZvbnQoZm9udCkge1xuICAgICAgICAvLyBhcyB0aGlzIG1ldGhvZCBpcyB1c2VkIGZvciBwcmVwYXJpbmcgYXNzZXRzLCBkb24ndCByZWNhbGN1bGF0ZSB0aGluZ3MgaWYgd2UgZG9uJ3QgbmVlZCB0b1xuICAgICAgICBpZiAoVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdKSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICB2YXIgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcbiAgICAgICAgdmFyIGNvbnRleHQgPSBUZXh0TWV0cmljcy5fY29udGV4dDtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgICAgIHZhciBtZXRyaWNzU3RyaW5nID0gVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgKyBUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0w7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KG1ldHJpY3NTdHJpbmcpLndpZHRoKTtcbiAgICAgICAgdmFyIGJhc2VsaW5lID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQoVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MKS53aWR0aCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSAyICogYmFzZWxpbmU7XG5cbiAgICAgICAgYmFzZWxpbmUgPSBiYXNlbGluZSAqIFRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgfCAwO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG5cbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnYWxwaGFiZXRpYyc7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KG1ldHJpY3NTdHJpbmcsIDAsIGJhc2VsaW5lKTtcblxuICAgICAgICB2YXIgaW1hZ2VkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICAgICAgdmFyIHBpeGVscyA9IGltYWdlZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBsaW5lID0gd2lkdGggKiA0O1xuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHZhciBzdG9wID0gZmFsc2U7XG5cbiAgICAgICAgLy8gYXNjZW50LiBzY2FuIGZyb20gdG9wIHRvIGJvdHRvbSB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYmFzZWxpbmU7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGpdICE9PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RvcCkge1xuICAgICAgICAgICAgICAgIGlkeCArPSBsaW5lO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnRpZXMuYXNjZW50ID0gYmFzZWxpbmUgLSBpO1xuXG4gICAgICAgIGlkeCA9IHBpeGVscyAtIGxpbmU7XG4gICAgICAgIHN0b3AgPSBmYWxzZTtcblxuICAgICAgICAvLyBkZXNjZW50LiBzY2FuIGZyb20gYm90dG9tIHRvIHRvcCB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgICAgICBmb3IgKGkgPSBoZWlnaHQ7IGkgPiBiYXNlbGluZTsgLS1pKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaiA9IDA7IF9qIDwgbGluZTsgX2ogKz0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgX2pdICE9PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgICAgICAgICAgaWR4IC09IGxpbmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcy5kZXNjZW50ID0gaSAtIGJhc2VsaW5lO1xuICAgICAgICBwcm9wZXJ0aWVzLmZvbnRTaXplID0gcHJvcGVydGllcy5hc2NlbnQgKyBwcm9wZXJ0aWVzLmRlc2NlbnQ7XG5cbiAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdID0gcHJvcGVydGllcztcblxuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgZm9udCBtZXRyaWNzIGluIG1ldHJpY3MgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmb250XSAtIGZvbnQgbmFtZS4gSWYgZm9udCBuYW1lIG5vdCBzZXQgdGhlbiBjbGVhciBjYWNoZSBmb3IgYWxsIGZvbnRzLlxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5jbGVhck1ldHJpY3MgPSBmdW5jdGlvbiBjbGVhck1ldHJpY3MoKSB7XG4gICAgICAgIHZhciBmb250ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcblxuICAgICAgICBpZiAoZm9udCkge1xuICAgICAgICAgICAgZGVsZXRlIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0TWV0cmljcztcbn0oKTtcblxuLyoqXG4gKiBJbnRlcm5hbCByZXR1cm4gb2JqZWN0IGZvciB7QGxpbmsgUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udCBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRgfS5cbiAqIEBjbGFzcyBGb250TWV0cmljc1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3N+XG4gKiBAcHJvcGVydHkge251bWJlcn0gYXNjZW50IC0gVGhlIGFzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBUaGUgZGVzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvbnRTaXplIC0gRm9udCBzaXplIGZyb20gYXNjZW50IHRvIGRlc2NlbnRcbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0TWV0cmljcztcbnZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuY2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IDEwO1xuXG4vKipcbiAqIENhY2hlZCBjYW52YXMgZWxlbWVudCBmb3IgbWVhc3VyaW5nIHRleHRcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY2FudmFzID0gY2FudmFzO1xuXG4vKipcbiAqIENhY2hlIGZvciBjb250ZXh0IHRvIHVzZS5cbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuLyoqXG4gKiBDYWNoZSBvZiBQSVhJLlRleHRNZXRyaWNzfkZvbnRNZXRyaWNzIG9iamVjdHMuXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuXG4vKipcbiAqIFN0cmluZyB1c2VkIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIE1FVFJJQ1NfU1RSSU5HXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgfMOJcVxuICovXG5UZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyA9ICd8w4lxJztcblxuLyoqXG4gKiBCYXNlbGluZSBzeW1ib2wgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfU1lNQk9MXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgTVxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wgPSAnTSc7XG5cbi8qKlxuICogQmFzZWxpbmUgbXVsdGlwbGllciBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9NVUxUSVBMSUVSXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMS40XG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgPSAxLjQ7XG5cbi8qKlxuICogQ2FjaGUgb2YgbmV3IGxpbmUgY2hhcnMuXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX25ld2xpbmVzID0gWzB4MDAwQSwgLy8gbGluZSBmZWVkXG4weDAwMERdO1xuXG4vKipcbiAqIENhY2hlIG9mIGJyZWFraW5nIHNwYWNlcy5cbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7bnVtYmVyW119XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fYnJlYWtpbmdTcGFjZXMgPSBbMHgwMDA5LCAvLyBjaGFyYWN0ZXIgdGFidWxhdGlvblxuMHgwMDIwLCAvLyBzcGFjZVxuMHgyMDAwLCAvLyBlbiBxdWFkXG4weDIwMDEsIC8vIGVtIHF1YWRcbjB4MjAwMiwgLy8gZW4gc3BhY2VcbjB4MjAwMywgLy8gZW0gc3BhY2VcbjB4MjAwNCwgLy8gdGhyZWUtcGVyLWVtIHNwYWNlXG4weDIwMDUsIC8vIGZvdXItcGVyLWVtIHNwYWNlXG4weDIwMDYsIC8vIHNpeC1wZXItZW0gc3BhY2VcbjB4MjAwOCwgLy8gcHVuY3R1YXRpb24gc3BhY2VcbjB4MjAwOSwgLy8gdGhpbiBzcGFjZVxuMHgyMDBBLCAvLyBoYWlyIHNwYWNlXG4weDIwNUYsIC8vIG1lZGl1bSBtYXRoZW1hdGljYWwgc3BhY2VcbjB4MzAwMF07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0TWV0cmljcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7IC8vIGRpc2FibGluZyBlc2xpbnQgZm9yIG5vdywgZ29pbmcgdG8gcmV3cml0ZSB0aGlzIGluIHY1XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBkZWZhdWx0U3R5bGUgPSB7XG4gICAgYWxpZ246ICdsZWZ0JyxcbiAgICBicmVha1dvcmRzOiBmYWxzZSxcbiAgICBkcm9wU2hhZG93OiBmYWxzZSxcbiAgICBkcm9wU2hhZG93QWxwaGE6IDEsXG4gICAgZHJvcFNoYWRvd0FuZ2xlOiBNYXRoLlBJIC8gNixcbiAgICBkcm9wU2hhZG93Qmx1cjogMCxcbiAgICBkcm9wU2hhZG93Q29sb3I6ICdibGFjaycsXG4gICAgZHJvcFNoYWRvd0Rpc3RhbmNlOiA1LFxuICAgIGZpbGw6ICdibGFjaycsXG4gICAgZmlsbEdyYWRpZW50VHlwZTogX2NvbnN0LlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMLFxuICAgIGZpbGxHcmFkaWVudFN0b3BzOiBbXSxcbiAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgIGZvbnRTaXplOiAyNixcbiAgICBmb250U3R5bGU6ICdub3JtYWwnLFxuICAgIGZvbnRWYXJpYW50OiAnbm9ybWFsJyxcbiAgICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcbiAgICBsZXR0ZXJTcGFjaW5nOiAwLFxuICAgIGxpbmVIZWlnaHQ6IDAsXG4gICAgbGluZUpvaW46ICdtaXRlcicsXG4gICAgbWl0ZXJMaW1pdDogMTAsXG4gICAgcGFkZGluZzogMCxcbiAgICBzdHJva2U6ICdibGFjaycsXG4gICAgc3Ryb2tlVGhpY2tuZXNzOiAwLFxuICAgIHRleHRCYXNlbGluZTogJ2FscGhhYmV0aWMnLFxuICAgIHRyaW06IGZhbHNlLFxuICAgIHdoaXRlU3BhY2U6ICdwcmUnLFxuICAgIHdvcmRXcmFwOiBmYWxzZSxcbiAgICB3b3JkV3JhcFdpZHRoOiAxMDAsXG4gICAgbGVhZGluZzogMFxufTtcblxuLyoqXG4gKiBBIFRleHRTdHlsZSBPYmplY3QgZGVjb3JhdGVzIGEgVGV4dCBPYmplY3QuIEl0IGNhbiBiZSBzaGFyZWQgYmV0d2VlblxuICogbXVsdGlwbGUgVGV4dCBvYmplY3RzLiBDaGFuZ2luZyB0aGUgc3R5bGUgd2lsbCB1cGRhdGUgYWxsIHRleHQgb2JqZWN0cyB1c2luZyBpdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFRleHRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5hbGlnbj0nbGVmdCddIC0gQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSxcbiAgICAgKiAgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5icmVha1dvcmRzPWZhbHNlXSAtIEluZGljYXRlcyBpZiBsaW5lcyBjYW4gYmUgd3JhcHBlZCB3aXRoaW4gd29yZHMsIGl0XG4gICAgICogIG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUuZHJvcFNoYWRvdz1mYWxzZV0gLSBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbHBoYT0xXSAtIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93QW5nbGU9TWF0aC5QSS82XSAtIFNldCBhIGFuZ2xlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0JsdXI9MF0gLSBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Q29sb3I9J2JsYWNrJ10gLSBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlPTVdIC0gU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59IFtzdHlsZS5maWxsPSdibGFjayddIC0gQSBjYW52YXNcbiAgICAgKiAgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLiBDYW4gYmUgYW4gYXJyYXkgdG8gY3JlYXRlIGEgZ3JhZGllbnRcbiAgICAgKiAgZWcgWycjMDAwMDAwJywnI0ZGRkZGRiddXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZpbGxHcmFkaWVudFR5cGU9UElYSS5URVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTF0gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnNcbiAgICAgKiAgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgY2FuIGNoYW5nZSB0aGUgdHlwZS9kaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LiBTZWUge0BsaW5rIFBJWEkuVEVYVF9HUkFESUVOVH1cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbc3R5bGUuZmlsbEdyYWRpZW50U3RvcHNdIC0gSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXRcbiAgICAgKiB0aGUgc3RvcCBwb2ludHMgKG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxKSBmb3IgdGhlIGNvbG9yLCBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBldmVubHkgc3BhY2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBbc3R5bGUuZm9udEZhbWlseT0nQXJpYWwnXSAtIFRoZSBmb250IGZhbWlseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW3N0eWxlLmZvbnRTaXplPTI2XSAtIFRoZSBmb250IHNpemUgKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsXG4gICAgICogIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFN0eWxlPSdub3JtYWwnXSAtIFRoZSBmb250IHN0eWxlICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFZhcmlhbnQ9J25vcm1hbCddIC0gVGhlIGZvbnQgdmFyaWFudCAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFdlaWdodD0nbm9ybWFsJ10gLSBUaGUgZm9udCB3ZWlnaHQgKCdub3JtYWwnLCAnYm9sZCcsICdib2xkZXInLCAnbGlnaHRlcicgYW5kICcxMDAnLFxuICAgICAqICAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsICc3MDAnLCA4MDAnIG9yICc5MDAnKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGVhZGluZz0wXSAtIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5saW5lSGVpZ2h0XSAtIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmxpbmVKb2luPSdtaXRlciddIC0gVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlXG4gICAgICogICAgICBzcGlrZWQgdGV4dCBpc3N1ZXMuIFBvc3NpYmxlIHZhbHVlcyBcIm1pdGVyXCIgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLCBcInJvdW5kXCIgKGNyZWF0ZXMgYSByb3VuZCBjb3JuZXIpIG9yIFwiYmV2ZWxcIlxuICAgICAqICAgICAgKGNyZWF0ZXMgYSBzcXVhcmVkIGNvcm5lcikuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5taXRlckxpbWl0PTEwXSAtIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlLiBUaGlzIGNhbiByZWR1Y2VcbiAgICAgKiAgICAgIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnBhZGRpbmc9MF0gLSBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tXG4gICAgICogICAgIGhhcHBlbmluZyBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3R5bGUuc3Ryb2tlPSdibGFjayddIC0gQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAqICBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnN0cm9rZVRoaWNrbmVzcz0wXSAtIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICogIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLnRyaW09ZmFsc2VdIC0gVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS50ZXh0QmFzZWxpbmU9J2FscGhhYmV0aWMnXSAtIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLndoaXRlU3BhY2U9J3ByZSddIC0gRGV0ZXJtaW5lcyB3aGV0aGVyIG5ld2xpbmVzICYgc3BhY2VzIGFyZSBjb2xsYXBzZWQgb3IgcHJlc2VydmVkIFwibm9ybWFsXCJcbiAgICAgKiAgICAgIChjb2xsYXBzZSwgY29sbGFwc2UpLCBcInByZVwiIChwcmVzZXJ2ZSwgcHJlc2VydmUpIHwgXCJwcmUtbGluZVwiIChwcmVzZXJ2ZSwgY29sbGFwc2UpLiBJdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLndvcmRXcmFwPWZhbHNlXSAtIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLndvcmRXcmFwV2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0U3R5bGUoc3R5bGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHRTdHlsZSk7XG5cbiAgICAgICAgdGhpcy5zdHlsZUlEID0gMDtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIHN0eWxlLCBzdHlsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBUZXh0U3R5bGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb25seSB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IGFyZSBjbG9uZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRTdHlsZX0gTmV3IGNsb25lZCBUZXh0U3R5bGUgb2JqZWN0XG4gICAgICovXG5cblxuICAgIFRleHRTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgdmFyIGNsb25lZFByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXMoY2xvbmVkUHJvcGVydGllcywgdGhpcywgZGVmYXVsdFN0eWxlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFRleHRTdHlsZShjbG9uZWRQcm9wZXJ0aWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCBwcm9wZXJ0aWVzIHRvIHRoZSBkZWZhdWx0cyBzcGVjaWZpZWQgaW4gVGV4dFN0eWxlLnByb3RvdHlwZS5fZGVmYXVsdFxuICAgICAqL1xuXG5cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBkZWZhdWx0U3R5bGUsIGRlZmF1bHRTdHlsZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGZvbnQgc3R5bGUgc3RyaW5nIHRvIHVzZSBmb3IgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBGb250IHN0eWxlIHN0cmluZywgZm9yIHBhc3NpbmcgdG8gYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgXG4gICAgICovXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS50b0ZvbnRTdHJpbmcgPSBmdW5jdGlvbiB0b0ZvbnRTdHJpbmcoKSB7XG4gICAgICAgIC8vIGJ1aWxkIGNhbnZhcyBhcGkgZm9udCBzZXR0aW5nIGZyb20gaW5kaXZpZHVhbCBjb21wb25lbnRzLiBDb252ZXJ0IGEgbnVtZXJpYyB0aGlzLmZvbnRTaXplIHRvIHB4XG4gICAgICAgIHZhciBmb250U2l6ZVN0cmluZyA9IHR5cGVvZiB0aGlzLmZvbnRTaXplID09PSAnbnVtYmVyJyA/IHRoaXMuZm9udFNpemUgKyAncHgnIDogdGhpcy5mb250U2l6ZTtcblxuICAgICAgICAvLyBDbGVhbi11cCBmb250RmFtaWx5IHByb3BlcnR5IGJ5IHF1b3RpbmcgZWFjaCBmb250IG5hbWVcbiAgICAgICAgLy8gdGhpcyB3aWxsIHN1cHBvcnQgZm9udCBuYW1lcyB3aXRoIHNwYWNlc1xuICAgICAgICB2YXIgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5O1xuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZvbnRGYW1pbHkpKSB7XG4gICAgICAgICAgICBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHkuc3BsaXQoJywnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSBmb250RmFtaWxpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIC8vIFRyaW0gYW55IGV4dHJhIHdoaXRlLXNwYWNlXG4gICAgICAgICAgICB2YXIgZm9udEZhbWlseSA9IGZvbnRGYW1pbGllc1tpXS50cmltKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGZvbnQgYWxyZWFkeSBjb250YWlucyBzdHJpbmdzXG4gICAgICAgICAgICBpZiAoIS8oW1xcXCJcXCddKVteXFwnXFxcIl0rXFwxLy50ZXN0KGZvbnRGYW1pbHkpKSB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseSA9ICdcIicgKyBmb250RmFtaWx5ICsgJ1wiJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvbnRGYW1pbGllc1tpXSA9IGZvbnRGYW1pbHk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5mb250U3R5bGUgKyAnICcgKyB0aGlzLmZvbnRWYXJpYW50ICsgJyAnICsgdGhpcy5mb250V2VpZ2h0ICsgJyAnICsgZm9udFNpemVTdHJpbmcgKyAnICcgKyBmb250RmFtaWxpZXMuam9pbignLCcpO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoVGV4dFN0eWxlLCBbe1xuICAgICAgICBrZXk6ICdhbGlnbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChhbGlnbikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiAhPT0gYWxpZ24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiBsaW5lcyBjYW4gYmUgd3JhcHBlZCB3aXRoaW4gd29yZHMsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdicmVha1dvcmRzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnJlYWtXb3JkcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoYnJlYWtXb3JkcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9icmVha1dvcmRzICE9PSBicmVha1dvcmRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnJlYWtXb3JkcyA9IGJyZWFrV29yZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgZHJvcCBzaGFkb3cgZm9yIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcm9wU2hhZG93JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvdztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvdykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93ICE9PSBkcm9wU2hhZG93KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvdyA9IGRyb3BTaGFkb3c7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZHJvcFNoYWRvd0FscGhhJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FscGhhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93QWxwaGEpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FscGhhICE9PSBkcm9wU2hhZG93QWxwaGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93QWxwaGEgPSBkcm9wU2hhZG93QWxwaGE7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dBbmdsZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvd0FuZ2xlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSAhPT0gZHJvcFNoYWRvd0FuZ2xlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0FuZ2xlID0gZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcm9wU2hhZG93Qmx1cicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dCbHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93Qmx1cikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Qmx1ciAhPT0gZHJvcFNoYWRvd0JsdXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcm9wU2hhZG93Q29sb3InLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3dDb2xvcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGRyb3BTaGFkb3dDb2xvcik7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0NvbG9yICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dDb2xvciA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcm9wU2hhZG93RGlzdGFuY2UnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3dEaXN0YW5jZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgIT09IGRyb3BTaGFkb3dEaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSA9IGRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuXG4gICAgICAgICAqIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudCBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfHN0cmluZ1tdfG51bWJlcnxudW1iZXJbXXxDYW52YXNHcmFkaWVudHxDYW52YXNQYXR0ZXJufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZmlsbCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZpbGwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihmaWxsKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxsICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGwgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgY2FuIGNoYW5nZSB0aGUgdHlwZS9kaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LlxuICAgICAgICAgKiBTZWUge0BsaW5rIFBJWEkuVEVYVF9HUkFESUVOVH1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZmlsbEdyYWRpZW50VHlwZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZpbGxHcmFkaWVudFR5cGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsbEdyYWRpZW50VHlwZSAhPT0gZmlsbEdyYWRpZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgPSBmaWxsR3JhZGllbnRUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0IHRoZSBzdG9wIHBvaW50c1xuICAgICAgICAgKiAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZmlsbEdyYWRpZW50U3RvcHMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRTdG9wcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZmlsbEdyYWRpZW50U3RvcHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWFyZUFycmF5c0VxdWFsKHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzLCBmaWxsR3JhZGllbnRTdG9wcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsR3JhZGllbnRTdG9wcyA9IGZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IGZhbWlseVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW119XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb250RmFtaWx5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udEZhbWlseTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZm9udEZhbWlseSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZvbnRGYW1pbHkgIT09IGZvbnRGYW1pbHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gZm9udEZhbWlseTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBzaXplXG4gICAgICAgICAqIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLCBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfHN0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnRTaXplJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZvbnRTaXplKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRTaXplICE9PSBmb250U2l6ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgc3R5bGVcbiAgICAgICAgICogKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnRTdHlsZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZm9udFN0eWxlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRTdHlsZSAhPT0gZm9udFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHZhcmlhbnRcbiAgICAgICAgICogKCdub3JtYWwnIG9yICdzbWFsbC1jYXBzJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udFZhcmlhbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250VmFyaWFudDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZm9udFZhcmlhbnQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFZhcmlhbnQgIT09IGZvbnRWYXJpYW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSBmb250VmFyaWFudDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCB3ZWlnaHRcbiAgICAgICAgICogKCdub3JtYWwnLCAnYm9sZCcsICdib2xkZXInLCAnbGlnaHRlcicgYW5kICcxMDAnLCAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsICc3MDAnLCA4MDAnIG9yICc5MDAnKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb250V2VpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFdlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZm9udFdlaWdodCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250V2VpZ2h0ICE9PSBmb250V2VpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9IGZvbnRXZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xldHRlclNwYWNpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsZXR0ZXJTcGFjaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IGxldHRlclNwYWNpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZSBoZWlnaHQsIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCBhIGxldHRlciB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xpbmVIZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsaW5lSGVpZ2h0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xpbmVIZWlnaHQgIT09IGxpbmVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3BhY2UgYmV0d2VlbiBsaW5lc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsZWFkaW5nJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVhZGluZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobGVhZGluZykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sZWFkaW5nICE9PSBsZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlIHNwaWtlZCB0ZXh0IGlzc3Vlcy5cbiAgICAgICAgICogRGVmYXVsdCBpcyAnbWl0ZXInIChjcmVhdGVzIGEgc2hhcnAgY29ybmVyKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGluZUpvaW4nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lSm9pbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobGluZUpvaW4pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGluZUpvaW4gIT09IGxpbmVKb2luKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZUpvaW4gPSBsaW5lSm9pbjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWl0ZXIgbGltaXQgdG8gdXNlIHdoZW4gdXNpbmcgdGhlICdtaXRlcicgbGluZUpvaW4gbW9kZVxuICAgICAgICAgKiBUaGlzIGNhbiByZWR1Y2Ugb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdtaXRlckxpbWl0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWl0ZXJMaW1pdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobWl0ZXJMaW1pdCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9taXRlckxpbWl0ICE9PSBtaXRlckxpbWl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWl0ZXJMaW1pdCA9IG1pdGVyTGltaXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogT2NjYXNpb25hbGx5IHNvbWUgZm9udHMgYXJlIGNyb3BwZWQuIEFkZGluZyBzb21lIHBhZGRpbmcgd2lsbCBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmdcbiAgICAgICAgICogYnkgYWRkaW5nIHBhZGRpbmcgdG8gYWxsIHNpZGVzIG9mIHRoZSB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdwYWRkaW5nJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFkZGluZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQocGFkZGluZykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWRkaW5nICE9PSBwYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAgICAgKiBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N0cm9rZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0cm9rZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoc3Ryb2tlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3Ioc3Ryb2tlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHJva2UgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgICAgICogRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N0cm9rZVRoaWNrbmVzcycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoc3Ryb2tlVGhpY2tuZXNzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cm9rZVRoaWNrbmVzcyAhPT0gc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlVGhpY2tuZXNzID0gc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0QmFzZWxpbmUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0QmFzZWxpbmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRleHRCYXNlbGluZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0QmFzZWxpbmUgIT09IHRleHRCYXNlbGluZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHRCYXNlbGluZSA9IHRleHRCYXNlbGluZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RyaW0nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmltO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0cmltKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyaW0gIT09IHRyaW0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmltID0gdHJpbTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgbmV3bGluZXMgYW5kIHNwYWNlcyBzaG91bGQgYmUgaGFuZGxlZC5cbiAgICAgICAgICogRGVmYXVsdCBpcyAncHJlJyAocHJlc2VydmUsIHByZXNlcnZlKS5cbiAgICAgICAgICpcbiAgICAgICAgICogIHZhbHVlICAgICAgIHwgTmV3IGxpbmVzICAgICB8ICAgU3BhY2VzXG4gICAgICAgICAqICAtLS0gICAgICAgICB8IC0tLSAgICAgICAgICAgfCAgIC0tLVxuICAgICAgICAgKiAnbm9ybWFsJyAgICAgfCBDb2xsYXBzZSAgICAgIHwgICBDb2xsYXBzZVxuICAgICAgICAgKiAncHJlJyAgICAgICAgfCBQcmVzZXJ2ZSAgICAgIHwgICBQcmVzZXJ2ZVxuICAgICAgICAgKiAncHJlLWxpbmUnICAgfCBQcmVzZXJ2ZSAgICAgIHwgICBDb2xsYXBzZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3aGl0ZVNwYWNlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2hpdGVTcGFjZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQod2hpdGVTcGFjZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93aGl0ZVNwYWNlICE9PSB3aGl0ZVNwYWNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2hpdGVTcGFjZSA9IHdoaXRlU3BhY2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd29yZFdyYXAnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQod29yZFdyYXApIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd29yZFdyYXAgIT09IHdvcmRXcmFwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29yZFdyYXAgPSB3b3JkV3JhcDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dvcmRXcmFwV2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93b3JkV3JhcFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh3b3JkV3JhcFdpZHRoKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dvcmRXcmFwV2lkdGggIT09IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JkV3JhcFdpZHRoID0gd29yZFdyYXBXaWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUZXh0U3R5bGU7XG59KCk7XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcnxudW1iZXJbXX0gY29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dFN0eWxlO1xuZnVuY3Rpb24gZ2V0U2luZ2xlQ29sb3IoY29sb3IpIHtcbiAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gKDAsIF91dGlscy5oZXgyc3RyaW5nKShjb2xvcik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChjb2xvci5pbmRleE9mKCcweCcpID09PSAwKSB7XG4gICAgICAgICAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoJzB4JywgJyMnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb2xvcjtcbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogVGhpcyB2ZXJzaW9uIGNhbiBhbHNvIGNvbnZlcnQgYXJyYXkgb2YgY29sb3JzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ8bnVtYmVyW119IGNvbG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb2xvciBhcyBhIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZ2V0Q29sb3IoY29sb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgICAgIHJldHVybiBnZXRTaW5nbGVDb2xvcihjb2xvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xvci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29sb3JbaV0gPSBnZXRTaW5nbGVDb2xvcihjb2xvcltpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBUaGlzIHZlcnNpb24gY2FuIGFsc28gY29udmVydCBhcnJheSBvZiBjb2xvcnNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTEgRmlyc3QgYXJyYXkgdG8gY29tcGFyZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkyIFNlY29uZCBhcnJheSB0byBjb21wYXJlXG4gKiBAcmV0dXJuIHtib29sZWFufSBEbyB0aGUgYXJyYXlzIGNvbnRhaW4gdGhlIHNhbWUgdmFsdWVzIGluIHRoZSBzYW1lIG9yZGVyXG4gKi9cbmZ1bmN0aW9uIGFyZUFycmF5c0VxdWFsKGFycmF5MSwgYXJyYXkyKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5MSkgfHwgIUFycmF5LmlzQXJyYXkoYXJyYXkyKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGFycmF5MS5sZW5ndGggIT09IGFycmF5Mi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkxLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhcnJheTFbaV0gIT09IGFycmF5MltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBlbnN1cmUgdGhhdCBvYmplY3QgcHJvcGVydGllcyBhcmUgY29waWVkIGJ5IHZhbHVlLCBhbmQgbm90IGJ5IHJlZmVyZW5jZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGFyZ2V0IG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgaW50b1xuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBTb3VyY2Ugb2JqZWN0IGZvciB0aGUgcHJvcG9ydGllcyB0byBjb3B5XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlPYmogT2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyBuYW1lcyB3ZSB3YW50IHRvIGxvb3Agb3ZlclxuICovXG5mdW5jdGlvbiBkZWVwQ29weVByb3BlcnRpZXModGFyZ2V0LCBzb3VyY2UsIHByb3BlcnR5T2JqKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wZXJ0eU9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2VbcHJvcF0pKSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF0uc2xpY2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHRTdHlsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbnZhciBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMvY3JlYXRlSW5kaWNlc0ZvclF1YWRzJyk7XG5cbnZhciBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUluZGljZXNGb3JRdWFkcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHF1YWRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBRdWFkID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGdsIGNvbnRleHQgZm9yIHRoaXMgcXVhZCB0byB1c2UuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSAtIFRPRE86IERlc2NyaXB0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBRdWFkKGdsLCBzdGF0ZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBRdWFkKTtcblxuICAgIC8qKlxuICAgICAqIHRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAtMSwgMSwgLTEsIDEsIDEsIC0xLCAxXSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgVXZzIG9mIHRoZSBxdWFkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAxLCAwLCAxLCAxLCAwLCAxXSk7XG5cbiAgICB0aGlzLmludGVybGVhdmVkID0gbmV3IEZsb2F0MzJBcnJheSg4ICogMik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNF0gPSB0aGlzLnZlcnRpY2VzW2kgKiAyXTtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDQgKyAxXSA9IHRoaXMudmVydGljZXNbaSAqIDIgKyAxXTtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDQgKyAyXSA9IHRoaXMudXZzW2kgKiAyXTtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDQgKyAzXSA9IHRoaXMudXZzW2kgKiAyICsgMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgY29udGFpbmluZyB0aGUgaW5kaWNlcyBvZiB0aGUgdmVydGljZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMuaW5kaWNlcyA9ICgwLCBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMi5kZWZhdWx0KSgxKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJ0ZXggYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbENvcmUuR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy52ZXJ0ZXhCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIHRoaXMuaW50ZXJsZWF2ZWQsIGdsLlNUQVRJQ19EUkFXKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsQ29yZS5HTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLmluZGV4QnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIHRoaXMuaW5kaWNlcywgZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZlcnRleCBhcnJheSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsQ29yZS5WZXJ0ZXhBcnJheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnZhbyA9IG5ldyBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdChnbCwgc3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpc2VzIHRoZSB2YW9zIGFuZCB1c2VzIHRoZSBzaGFkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIHRoZSBzaGFkZXIgdG8gdXNlXG4gICAqL1xuXG5cbiAgUXVhZC5wcm90b3R5cGUuaW5pdFZhbyA9IGZ1bmN0aW9uIGluaXRWYW8oc2hhZGVyKSB7XG4gICAgdGhpcy52YW8uY2xlYXIoKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUodGhpcy52ZXJ0ZXhCdWZmZXIsIHNoYWRlci5hdHRyaWJ1dGVzLmFWZXJ0ZXhQb3NpdGlvbiwgdGhpcy5nbC5GTE9BVCwgZmFsc2UsIDQgKiA0LCAwKS5hZGRBdHRyaWJ1dGUodGhpcy52ZXJ0ZXhCdWZmZXIsIHNoYWRlci5hdHRyaWJ1dGVzLmFUZXh0dXJlQ29vcmQsIHRoaXMuZ2wuRkxPQVQsIGZhbHNlLCA0ICogNCwgMiAqIDQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNYXBzIHR3byBSZWN0YW5nbGUgdG8gdGhlIHF1YWQuXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHRhcmdldFRleHR1cmVGcmFtZSAtIHRoZSBmaXJzdCByZWN0YW5nbGVcbiAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIHRoZSBzZWNvbmQgcmVjdGFuZ2xlXG4gICAqIEByZXR1cm4ge1BJWEkuUXVhZH0gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuXG5cbiAgUXVhZC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gbWFwKHRhcmdldFRleHR1cmVGcmFtZSwgZGVzdGluYXRpb25GcmFtZSkge1xuICAgIHZhciB4ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS54IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgIHZhciB5ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS55IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcblxuICAgIHRoaXMudXZzWzBdID0geDtcbiAgICB0aGlzLnV2c1sxXSA9IHk7XG5cbiAgICB0aGlzLnV2c1syXSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgIHRoaXMudXZzWzNdID0geTtcblxuICAgIHRoaXMudXZzWzRdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGg7XG4gICAgdGhpcy51dnNbNV0gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0O1xuXG4gICAgdGhpcy51dnNbNl0gPSB4O1xuICAgIHRoaXMudXZzWzddID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcblxuICAgIHggPSBkZXN0aW5hdGlvbkZyYW1lLng7XG4gICAgeSA9IGRlc3RpbmF0aW9uRnJhbWUueTtcblxuICAgIHRoaXMudmVydGljZXNbMF0gPSB4O1xuICAgIHRoaXMudmVydGljZXNbMV0gPSB5O1xuXG4gICAgdGhpcy52ZXJ0aWNlc1syXSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgIHRoaXMudmVydGljZXNbM10gPSB5O1xuXG4gICAgdGhpcy52ZXJ0aWNlc1s0XSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgIHRoaXMudmVydGljZXNbNV0gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG5cbiAgICB0aGlzLnZlcnRpY2VzWzZdID0geDtcbiAgICB0aGlzLnZlcnRpY2VzWzddID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIHRoZSBidWZmZXIgYW5kIHVwbG9hZHMgdGhlIGRhdGFcbiAgICpcbiAgICogQHJldHVybiB7UElYSS5RdWFkfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG5cblxuICBRdWFkLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDRdID0gdGhpcy52ZXJ0aWNlc1tpICogMl07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgMV0gPSB0aGlzLnZlcnRpY2VzW2kgKiAyICsgMV07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgMl0gPSB0aGlzLnV2c1tpICogMl07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgM10gPSB0aGlzLnV2c1tpICogMiArIDFdO1xuICAgIH1cblxuICAgIHRoaXMudmVydGV4QnVmZmVyLnVwbG9hZCh0aGlzLmludGVybGVhdmVkKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoaXMgcXVhZCBmcm9tIFdlYkdMXG4gICAqL1xuXG5cbiAgUXVhZC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIGdsLmRlbGV0ZUJ1ZmZlcih0aGlzLnZlcnRleEJ1ZmZlcik7XG4gICAgZ2wuZGVsZXRlQnVmZmVyKHRoaXMuaW5kZXhCdWZmZXIpO1xuICB9O1xuXG4gIHJldHVybiBRdWFkO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBRdWFkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UXVhZC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfTWF0cml4ID0gcmVxdWlyZSgnLi4vbWF0aC9NYXRyaXgnKTtcblxudmFyIF9NYXRyaXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWF0cml4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIHRlbXBNYXQgPSBuZXcgX01hdHJpeDIuZGVmYXVsdCgpO1xuXG4vKipcbiAqIENsYXNzIGNvbnRyb2xzIHV2IHRyYW5zZm9ybSBhbmQgZnJhbWUgY2xhbXAgZm9yIHRleHR1cmVcbiAqIENhbiBiZSB1c2VkIGluIFRleHR1cmUgXCJ0cmFuc2Zvcm1cIiBmaWVsZCwgb3Igc2VwYXJhdGVseSwgeW91IGNhbiB1c2UgZGlmZmVyZW50IGNsYW1wIHNldHRpbmdzIG9uIHRoZSBzYW1lIHRleHR1cmUuXG4gKiBJZiB5b3Ugd2FudCB0byBhZGQgc3VwcG9ydCBmb3IgdGV4dHVyZSByZWdpb24gb2YgY2VydGFpbiBmZWF0dXJlIG9yIGZpbHRlciwgdGhhdCdzIHdoYXQgeW91J3JlIGxvb2tpbmcgZm9yLlxuICpcbiAqIEBzZWUgUElYSS5UZXh0dXJlXG4gKiBAc2VlIFBJWEkubWVzaC5NZXNoXG4gKiBAc2VlIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBUZXh0dXJlTWF0cml4ID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgb2JzZXJ2ZWQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY2xhbXBNYXJnaW5dIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcsIDAuNSBieSBkZWZhdWx0LiBVc2UgLTAuNSBmb3IgZXh0cmEgYm9yZGVyLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVNYXRyaXgodGV4dHVyZSwgY2xhbXBNYXJnaW4pIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHR1cmVNYXRyaXgpO1xuXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlO1xuXG4gICAgICAgIHRoaXMubWFwQ29vcmQgPSBuZXcgX01hdHJpeDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMudUNsYW1wRnJhbWUgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuXG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0ID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcblxuICAgICAgICB0aGlzLl9sYXN0VGV4dHVyZUlEID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmdcbiAgICAgICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgICAgICogQ2hhbmdlIHRvIDEuNSBpZiB5b3UgdGV4dHVyZSBoYXMgcmVwZWF0ZWQgcmlnaHQgYW5kIGJvdHRvbSBsaW5lcywgdGhhdCBsZWFkcyB0byBzbW9vdGhlciBib3JkZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE9mZnNldCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmdcbiAgICAgICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsYW1wTWFyZ2luID0gdHlwZW9mIGNsYW1wTWFyZ2luID09PSAndW5kZWZpbmVkJyA/IDAuNSA6IGNsYW1wTWFyZ2luO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHRleHR1cmUgcHJvcGVydHlcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdXZzIGFycmF5IHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB1dnMgbWVzaCB1dnNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD11dnNdIG91dHB1dFxuICAgICAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IG91dHB1dFxuICAgICAqL1xuICAgIFRleHR1cmVNYXRyaXgucHJvdG90eXBlLm11bHRpcGx5VXZzID0gZnVuY3Rpb24gbXVsdGlwbHlVdnModXZzLCBvdXQpIHtcbiAgICAgICAgaWYgKG91dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvdXQgPSB1dnM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWF0ID0gdGhpcy5tYXBDb29yZDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHV2cy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHggPSB1dnNbaV07XG4gICAgICAgICAgICB2YXIgeSA9IHV2c1tpICsgMV07XG5cbiAgICAgICAgICAgIG91dFtpXSA9IHggKiBtYXQuYSArIHkgKiBtYXQuYyArIG1hdC50eDtcbiAgICAgICAgICAgIG91dFtpICsgMV0gPSB4ICogbWF0LmIgKyB5ICogbWF0LmQgKyBtYXQudHk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiB1cGRhdGVzIG1hdHJpY2VzIGlmIHRleHR1cmUgd2FzIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlVXBkYXRlIGlmIHRydWUsIG1hdHJpY2VzIHdpbGwgYmUgdXBkYXRlZCBhbnkgY2FzZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCBpdCB3YXMgdXBkYXRlZFxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgdmFyIHRleCA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXggfHwgIXRleC52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3JjZVVwZGF0ZSAmJiB0aGlzLl9sYXN0VGV4dHVyZUlEID09PSB0ZXguX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0VGV4dHVyZUlEID0gdGV4Ll91cGRhdGVJRDtcblxuICAgICAgICB2YXIgdXZzID0gdGV4Ll91dnM7XG5cbiAgICAgICAgdGhpcy5tYXBDb29yZC5zZXQodXZzLngxIC0gdXZzLngwLCB1dnMueTEgLSB1dnMueTAsIHV2cy54MyAtIHV2cy54MCwgdXZzLnkzIC0gdXZzLnkwLCB1dnMueDAsIHV2cy55MCk7XG5cbiAgICAgICAgdmFyIG9yaWcgPSB0ZXgub3JpZztcbiAgICAgICAgdmFyIHRyaW0gPSB0ZXgudHJpbTtcblxuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgdGVtcE1hdC5zZXQob3JpZy53aWR0aCAvIHRyaW0ud2lkdGgsIDAsIDAsIG9yaWcuaGVpZ2h0IC8gdHJpbS5oZWlnaHQsIC10cmltLnggLyB0cmltLndpZHRoLCAtdHJpbS55IC8gdHJpbS5oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5tYXBDb29yZC5hcHBlbmQodGVtcE1hdCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4QmFzZSA9IHRleC5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGZyYW1lID0gdGhpcy51Q2xhbXBGcmFtZTtcbiAgICAgICAgdmFyIG1hcmdpbiA9IHRoaXMuY2xhbXBNYXJnaW4gLyB0ZXhCYXNlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLmNsYW1wT2Zmc2V0O1xuXG4gICAgICAgIGZyYW1lWzBdID0gKHRleC5fZnJhbWUueCArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVsxXSA9ICh0ZXguX2ZyYW1lLnkgKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIGZyYW1lWzJdID0gKHRleC5fZnJhbWUueCArIHRleC5fZnJhbWUud2lkdGggLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICAgICAgZnJhbWVbM10gPSAodGV4Ll9mcmFtZS55ICsgdGV4Ll9mcmFtZS5oZWlnaHQgLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzBdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsV2lkdGg7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzFdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsSGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoVGV4dHVyZU1hdHJpeCwgW3tcbiAgICAgICAga2V5OiAndGV4dHVyZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fbGFzdFRleHR1cmVJRCA9IC0xO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRleHR1cmVNYXRyaXg7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHR1cmVNYXRyaXg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlTWF0cml4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9leHRyYWN0VW5pZm9ybXNGcm9tU3JjID0gcmVxdWlyZSgnLi9leHRyYWN0VW5pZm9ybXNGcm9tU3JjJyk7XG5cbnZhciBfZXh0cmFjdFVuaWZvcm1zRnJvbVNyYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRyYWN0VW5pZm9ybXNGcm9tU3JjKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vLi4vLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBTT1VSQ0VfS0VZX01BUCA9IHt9O1xuXG4vLyBsZXQgbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uL21hdGgnKTtcbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xuXG52YXIgRmlsdGVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgKi9cbiAgZnVuY3Rpb24gRmlsdGVyKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmVydGV4IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYyB8fCBGaWx0ZXIuZGVmYXVsdFZlcnRleFNyYztcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5mcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjIHx8IEZpbHRlci5kZWZhdWx0RnJhZ21lbnRTcmM7XG5cbiAgICB0aGlzLl9ibGVuZE1vZGUgPSBfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgdGhpcy51bmlmb3JtRGF0YSA9IHVuaWZvcm1zIHx8ICgwLCBfZXh0cmFjdFVuaWZvcm1zRnJvbVNyYzIuZGVmYXVsdCkodGhpcy52ZXJ0ZXhTcmMsIHRoaXMuZnJhZ21lbnRTcmMsICdwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyJyk7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgY3VycmVudCB2YWx1ZXMgb2YgY3VzdG9tIHVuaWZvcm1zLlxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlVwZGF0aW5nIHRoZSB2YWx1ZSBvZiBhIGN1c3RvbSB1bmlmb3JtPC9jYXB0aW9uPlxuICAgICAqIGZpbHRlci51bmlmb3Jtcy50aW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICovXG4gICAgdGhpcy51bmlmb3JtcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSBpbiB0aGlzLnVuaWZvcm1EYXRhKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zW2ldID0gdGhpcy51bmlmb3JtRGF0YVtpXS52YWx1ZTtcbiAgICAgIGlmICh0aGlzLnVuaWZvcm1EYXRhW2ldLnR5cGUpIHtcbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YVtpXS50eXBlID0gdGhpcy51bmlmb3JtRGF0YVtpXS50eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdGhpcyBpcyB3aGVyZSB3ZSBzdG9yZSBzaGFkZXIgcmVmZXJlbmNlcy4uXG4gICAgLy8gVE9ETyB3ZSBjb3VsZCBjYWNoZSB0aGlzIVxuICAgIHRoaXMuZ2xTaGFkZXJzID0ge307XG5cbiAgICAvLyB1c2VkIGZvciBjYWNoZWluZy4uIHN1cmUgdGhlcmUgaXMgYSBiZXR0ZXIgd2F5IVxuICAgIGlmICghU09VUkNFX0tFWV9NQVBbdGhpcy52ZXJ0ZXhTcmMgKyB0aGlzLmZyYWdtZW50U3JjXSkge1xuICAgICAgU09VUkNFX0tFWV9NQVBbdGhpcy52ZXJ0ZXhTcmMgKyB0aGlzLmZyYWdtZW50U3JjXSA9ICgwLCBfdXRpbHMudWlkKSgpO1xuICAgIH1cblxuICAgIHRoaXMuZ2xTaGFkZXJLZXkgPSBTT1VSQ0VfS0VZX01BUFt0aGlzLnZlcnRleFNyYyArIHRoaXMuZnJhZ21lbnRTcmNdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBhZGRpbmcgb2YgdGhlIGZpbHRlci4gU29tZSBmaWx0ZXJzIHJlcXVpcmUgZXh0cmEgc3BhY2UgdG8gYnJlYXRoIHN1Y2ggYXMgYSBibHVyLlxuICAgICAqIEluY3JlYXNpbmcgdGhpcyB3aWxsIGFkZCBleHRyYSB3aWR0aCBhbmQgaGVpZ2h0IHRvIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCB0aGF0IHRoZVxuICAgICAqIGZpbHRlciBpcyBhcHBsaWVkIHRvLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucGFkZGluZyA9IDQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgZmlsdGVyLiBTZXR0aW5nIHRoaXMgdG8gYmUgbG93ZXIgd2lsbCBsb3dlciB0aGUgcXVhbGl0eSBidXRcbiAgICAgKiBpbmNyZWFzZSB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSBfc2V0dGluZ3MyLmRlZmF1bHQuRklMVEVSX1JFU09MVVRJT047XG5cbiAgICAvKipcbiAgICAgKiBJZiBlbmFibGVkIGlzIHRydWUgdGhlIGZpbHRlciBpcyBhcHBsaWVkLCBpZiBmYWxzZSBpdCB3aWxsIG5vdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIElmIGVuYWJsZWQsIFBpeGlKUyB3aWxsIGZpdCB0aGUgZmlsdGVyIGFyZWEgaW50byBib3VuZGFyaWVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAgICogU3dpdGNoIGl0IG9mZiBpZiBpdCBkb2VzIG5vdCB3b3JrIGZvciBzcGVjaWZpYyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuYXV0b0ZpdCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgKiBAcGFyYW0ge29iamVjdH0gW2N1cnJlbnRTdGF0ZV0gLSBJdCdzIGN1cnJlbnQgc3RhdGUgb2YgZmlsdGVyLlxuICAgKiAgICAgICAgVGhlcmUgYXJlIHNvbWUgdXNlZnVsIHByb3BlcnRpZXMgaW4gdGhlIGN1cnJlbnRTdGF0ZSA6XG4gICAqICAgICAgICB0YXJnZXQsIGZpbHRlcnMsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lLCByZW5kZXJUYXJnZXQsIHJlc29sdXRpb25cbiAgICovXG5cblxuICBGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIsIGN1cnJlbnRTdGF0ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICB7XG4gICAgLy8gLS0tIC8vXG4gICAgLy8gIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGVtcE1hdHJpeCwgd2luZG93LnBhbmRhICk7XG5cbiAgICAvLyBkbyBhcyB5b3UgcGxlYXNlIVxuXG4gICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG5cbiAgICAvLyBvciBqdXN0IGRvIGEgcmVndWxhciByZW5kZXIuLlxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKEZpbHRlciwgW3tcbiAgICBrZXk6ICdibGVuZE1vZGUnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICB0aGlzLl9ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuXG4gIH1dLCBbe1xuICAgIGtleTogJ2RlZmF1bHRWZXJ0ZXhTcmMnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFsnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uOycsICdhdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkOycsICd1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDsnLCAndW5pZm9ybSBtYXQzIGZpbHRlck1hdHJpeDsnLCAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7JywgJ3ZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7JywgJyAgIHZGaWx0ZXJDb29yZCA9ICggZmlsdGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTsnLCAnICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQgOycsICd9J10uam9pbignXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkZWZhdWx0RnJhZ21lbnRTcmMnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFsndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7JywgJ3ZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7JywgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsICd1bmlmb3JtIHNhbXBsZXIyRCBmaWx0ZXJTYW1wbGVyOycsICd2b2lkIG1haW4odm9pZCl7JywgJyAgIHZlYzQgbWFza3kgPSB0ZXh0dXJlMkQoZmlsdGVyU2FtcGxlciwgdkZpbHRlckNvb3JkKTsnLCAnICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpOycsICcgICB2ZWM0IGNvbG9yOycsICcgICBpZihtb2QodkZpbHRlckNvb3JkLngsIDEuMCkgPiAwLjUpJywgJyAgIHsnLCAnICAgICBjb2xvciA9IHZlYzQoMS4wLCAwLjAsIDAuMCwgMS4wKTsnLCAnICAgfScsICcgICBlbHNlJywgJyAgIHsnLCAnICAgICBjb2xvciA9IHZlYzQoMC4wLCAxLjAsIDAuMCwgMS4wKTsnLCAnICAgfScsXG4gICAgICAvLyAnICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChtb2QodkZpbHRlckNvb3JkLngsIDEuNSksIHZGaWx0ZXJDb29yZC55LDAuMCwxLjApOycsXG4gICAgICAnICAgZ2xfRnJhZ0NvbG9yID0gbWl4KHNhbXBsZSwgbWFza3ksIDAuNSk7JywgJyAgIGdsX0ZyYWdDb2xvciAqPSBzYW1wbGUuYTsnLCAnfSddLmpvaW4oJ1xcbicpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBGaWx0ZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfRmlsdGVyMiA9IHJlcXVpcmUoJy4uL0ZpbHRlcicpO1xuXG52YXIgX0ZpbHRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXIyKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vbWF0aCcpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbnZhciBfVGV4dHVyZU1hdHJpeCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3RleHR1cmVzL1RleHR1cmVNYXRyaXgnKTtcblxudmFyIF9UZXh0dXJlTWF0cml4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVNYXRyaXgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIFNwcml0ZU1hc2tGaWx0ZXIgY2xhc3NcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlTWFza0ZpbHRlciA9IGZ1bmN0aW9uIChfRmlsdGVyKSB7XG4gICAgX2luaGVyaXRzKFNwcml0ZU1hc2tGaWx0ZXIsIF9GaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gdGhlIHRhcmdldCBzcHJpdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTcHJpdGVNYXNrRmlsdGVyKHNwcml0ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3ByaXRlTWFza0ZpbHRlcik7XG5cbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0ZpbHRlci5jYWxsKHRoaXMsICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgb3RoZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZNYXNrQ29vcmQgPSAoIG90aGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG59XFxuJywgJ3ZhcnlpbmcgdmVjMiB2TWFza0Nvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hc2s7XFxudW5pZm9ybSBmbG9hdCBhbHBoYTtcXG51bmlmb3JtIHZlYzQgbWFza0NsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZmxvYXQgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueCwgdk1hc2tDb29yZC54KSArXFxuICAgICAgICBzdGVwKG1hc2tDbGFtcC55LCB2TWFza0Nvb3JkLnkpICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC54LCBtYXNrQ2xhbXAueikgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLnksIG1hc2tDbGFtcC53KSk7XFxuXFxuICAgIHZlYzQgb3JpZ2luYWwgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZTJEKG1hc2ssIHZNYXNrQ29vcmQpO1xcblxcbiAgICBvcmlnaW5hbCAqPSAobWFza3kuciAqIG1hc2t5LmEgKiBhbHBoYSAqIGNsaXApO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBvcmlnaW5hbDtcXG59XFxuJykpO1xuXG4gICAgICAgIHNwcml0ZS5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgX3RoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgX3RoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICovXG5cblxuICAgIFNwcml0ZU1hc2tGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCkge1xuICAgICAgICB2YXIgbWFza1Nwcml0ZSA9IHRoaXMubWFza1Nwcml0ZTtcbiAgICAgICAgdmFyIHRleCA9IHRoaXMubWFza1Nwcml0ZS50ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4LnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0ZXgudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyBtYXJnaW4gPSAwLjAsIGxldCBpdCBibGVlZCBhIGJpdCwgc2hhZGVyIGNvZGUgYmVjb21lcyBlYXNpZXJcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgYXRsYXMgdGV4dHVyZXMgd2VyZSBtYWRlIHdpdGggMS1waXhlbCBwYWRkaW5nXG4gICAgICAgICAgICB0ZXgudHJhbnNmb3JtID0gbmV3IF9UZXh0dXJlTWF0cml4Mi5kZWZhdWx0KHRleCwgMC4wKTtcbiAgICAgICAgfVxuICAgICAgICB0ZXgudHJhbnNmb3JtLnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFzayA9IHRleDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5vdGhlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgbWFza1Nwcml0ZSkucHJlcGVuZCh0ZXgudHJhbnNmb3JtLm1hcENvb3JkKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5hbHBoYSA9IG1hc2tTcHJpdGUud29ybGRBbHBoYTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrQ2xhbXAgPSB0ZXgudHJhbnNmb3JtLnVDbGFtcEZyYW1lO1xuXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCk7XG4gICAgfTtcblxuICAgIHJldHVybiBTcHJpdGVNYXNrRmlsdGVyO1xufShfRmlsdGVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3ByaXRlTWFza0ZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwcml0ZU1hc2tGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2Rlcztcbi8qKlxuICogQ3JlYXRlcyBhIGxpdHRsZSBjb2xvcmVkIGNhbnZhc1xuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIFRoZSBjb2xvciB0byBtYWtlIHRoZSBjYW52YXNcbiAqIEByZXR1cm4ge2NhbnZhc30gYSBzbWFsbCBjYW52YXMgZWxlbWVudFxuICovXG5mdW5jdGlvbiBjcmVhdGVDb2xvcmVkQ2FudmFzKGNvbG9yKSB7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgY2FudmFzLndpZHRoID0gNjtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTtcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgNiwgMSk7XG5cbiAgICByZXR1cm4gY2FudmFzO1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBDYW52YXMgQmxlbmRNb2RlcyBhcmUgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IGJyb3dzZXJcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZXkgYXJlIHN1cHBvcnRlZFxuICovXG5mdW5jdGlvbiBjYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzKCkge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgbWFnZW50YSA9IGNyZWF0ZUNvbG9yZWRDYW52YXMoJyNmZjAwZmYnKTtcbiAgICB2YXIgeWVsbG93ID0gY3JlYXRlQ29sb3JlZENhbnZhcygnI2ZmZmYwMCcpO1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgY2FudmFzLndpZHRoID0gNjtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTtcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdtdWx0aXBseSc7XG4gICAgY29udGV4dC5kcmF3SW1hZ2UobWFnZW50YSwgMCwgMCk7XG4gICAgY29udGV4dC5kcmF3SW1hZ2UoeWVsbG93LCAyLCAwKTtcblxuICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgyLCAwLCAxLCAxKTtcblxuICAgIGlmICghaW1hZ2VEYXRhKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuXG4gICAgcmV0dXJuIGRhdGFbMF0gPT09IDI1NSAmJiBkYXRhWzFdID09PSAwICYmIGRhdGFbMl0gPT09IDA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uLy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCBvZiB0aGUgZ2l2ZW4gc2l6ZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDYW52YXNSZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBmb3IgdGhlIG5ld2x5IGNyZWF0ZWQgY2FudmFzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXNcbiAgICovXG4gIGZ1bmN0aW9uIENhbnZhc1JlbmRlclRhcmdldCh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc1JlbmRlclRhcmdldCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgQ2FudmFzIG9iamVjdCB0aGF0IGJlbG9uZ3MgdG8gdGhpcyBDYW52YXNSZW5kZXJUYXJnZXQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgLyoqXG4gICAgICogQSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgb2JqZWN0IHJlcHJlc2VudGluZyBhIHR3by1kaW1lbnNpb25hbCByZW5kZXJpbmcgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTjtcblxuICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgY2FudmFzIHRoYXQgd2FzIGNyZWF0ZWQgYnkgdGhlIENhbnZhc1JlbmRlclRhcmdldCBjbGFzcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgdGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSBjYW52YXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICovXG5cblxuICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG4gIH07XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoaXMgY2FudmFzLlxuICAgKlxuICAgKi9cblxuXG4gIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSB3aWR0aCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoQ2FudmFzUmVuZGVyVGFyZ2V0LCBbe1xuICAgIGtleTogJ3dpZHRoJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB2YWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2hlaWdodCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB2YWw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhbnZhc1JlbmRlclRhcmdldDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzUmVuZGVyVGFyZ2V0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzUmVuZGVyVGFyZ2V0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9CYXNlVGV4dHVyZTIgPSByZXF1aXJlKCcuL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUyKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBCYXNlUmVuZGVyVGV4dHVyZSBzaG91bGQgYmUgcHJlbG9hZGVkXG4gKiBvdGhlcndpc2UgYmxhY2sgcmVjdGFuZ2xlcyB3aWxsIGJlIGRyYXduIGluc3RlYWQuXG4gKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gVGhlIHBvc2l0aW9uXG4gKiBhbmQgcm90YXRpb24gb2YgdGhlIGdpdmVuIERpc3BsYXkgT2JqZWN0cyBpcyBpZ25vcmVkLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoMTAyNCwgMTAyNCwgeyB2aWV3OiBjYW52YXMsIHJhdGlvOiAxIH0pO1xuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUocmVuZGVyZXIsIDgwMCwgNjAwKTtcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tSW1hZ2UoXCJzcGluT2JqXzAxLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUucG9zaXRpb24ueCA9IDgwMC8yO1xuICogc3ByaXRlLnBvc2l0aW9uLnkgPSA2MDAvMjtcbiAqIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAqIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcbiAqXG4gKiBiYXNlUmVuZGVyVGV4dHVyZS5yZW5kZXIoc3ByaXRlKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBTcHJpdGUgaW4gdGhpcyBjYXNlIHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgaXRzIGxvY2FsIHRyYW5zZm9ybS4gVG8gcmVuZGVyIHRoaXMgc3ByaXRlIGF0IDAsMFxuICogeW91IGNhbiBjbGVhciB0aGUgdHJhbnNmb3JtXG4gKlxuICogYGBganNcbiAqXG4gKiBzcHJpdGUuc2V0VHJhbnNmb3JtKClcbiAqXG4gKiBsZXQgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5CYXNlUmVuZGVyVGV4dHVyZSgxMDAsIDEwMCk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZVJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiAoX0Jhc2VUZXh0dXJlKSB7XG4gIF9pbmhlcml0cyhCYXNlUmVuZGVyVGV4dHVyZSwgX0Jhc2VUZXh0dXJlKTtcblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkXG4gICAqL1xuICBmdW5jdGlvbiBCYXNlUmVuZGVyVGV4dHVyZSgpIHtcbiAgICB2YXIgd2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDEwMDtcbiAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMDA7XG4gICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1syXTtcbiAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50c1szXTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlUmVuZGVyVGV4dHVyZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQmFzZVRleHR1cmUuY2FsbCh0aGlzLCBudWxsLCBzY2FsZU1vZGUpKTtcblxuICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgX3RoaXMud2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgIF90aGlzLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuXG4gICAgX3RoaXMucmVhbFdpZHRoID0gX3RoaXMud2lkdGggKiBfdGhpcy5yZXNvbHV0aW9uO1xuICAgIF90aGlzLnJlYWxIZWlnaHQgPSBfdGhpcy5oZWlnaHQgKiBfdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgX3RoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERTtcbiAgICBfdGhpcy5oYXNMb2FkZWQgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIHJlbmRlclRhcmdldHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgV2ViR0xUZXh0dXJlPn1cbiAgICAgKi9cbiAgICBfdGhpcy5fZ2xSZW5kZXJUYXJnZXRzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzIHJlbmRlciB0YXJnZXQgKHdlIG9ubHkgbmVlZCBvbmUgYXMgdGhpcyBjYW4gYmUgc2hhcmVkIGFjcm9zcyByZW5kZXJlcnMpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIFdlYkdMVGV4dHVyZT59XG4gICAgICovXG4gICAgX3RoaXMuX2NhbnZhc1JlbmRlclRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgX3RoaXMudmFsaWQgPSBmYWxzZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVzaXplcyB0aGUgQmFzZVJlbmRlclRleHR1cmUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCB0byByZXNpemUgdG8uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICovXG5cblxuICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICBpZiAod2lkdGggPT09IHRoaXMud2lkdGggJiYgaGVpZ2h0ID09PSB0aGlzLmhlaWdodCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudmFsaWQgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcblxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIHRoaXMucmVhbFdpZHRoID0gdGhpcy53aWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICB0aGlzLnJlYWxIZWlnaHQgPSB0aGlzLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcblxuICAgIGlmICghdGhpcy52YWxpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgKlxuICAgKi9cblxuXG4gIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBfQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCB0cnVlKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gQmFzZVJlbmRlclRleHR1cmU7XG59KF9CYXNlVGV4dHVyZTMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJhc2VSZW5kZXJUZXh0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZVJlbmRlclRleHR1cmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX0NvbnRhaW5lciA9IHJlcXVpcmUoJy4uL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcik7XG5cbnZhciBfUmVuZGVyVGV4dHVyZSA9IHJlcXVpcmUoJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnKTtcblxudmFyIF9SZW5kZXJUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRleHR1cmUpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgdGVtcE1hdHJpeCA9IG5ldyBfbWF0aC5NYXRyaXgoKTtcblxuLyoqXG4gKiBUaGUgU3lzdGVtUmVuZGVyZXIgaXMgdGhlIGJhc2UgZm9yIGEgUGl4aUpTIFJlbmRlcmVyLiBJdCBpcyBleHRlbmRlZCBieSB0aGUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9XG4gKiBhbmQge0BsaW5rIFBJWEkuV2ViR0xSZW5kZXJlcn0gd2hpY2ggY2FuIGJlIHVzZWQgZm9yIHJlbmRlcmluZyBhIFBpeGlKUyBzY2VuZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBTeXN0ZW1SZW5kZXJlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhTeXN0ZW1SZW5kZXJlciwgX0V2ZW50RW1pdHRlcik7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhbGlkLWpzZG9jXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3lzdGVtIC0gVGhlIG5hbWUgb2YgdGhlIHN5c3RlbSB0aGlzIHJlbmRlcmVyIGlzIGZvci5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSBzY3JlZW5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9SZXNpemU9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIGF1dG9tYXRpY2FsbHkgcmVzaXplZCwgZGVmYXVsdCBmYWxzZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcyAob25seSBhcHBsaWNhYmxlIGluIGNocm9tZSBhdCB0aGUgbW9tZW50KVxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci4gVGhlXG4gICAqICByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAqICAgICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLFxuICAgKiAgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIFN5c3RlbVJlbmRlcmVyKHN5c3RlbSwgb3B0aW9ucywgYXJnMiwgYXJnMykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTeXN0ZW1SZW5kZXJlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRFbWl0dGVyLmNhbGwodGhpcykpO1xuXG4gICAgKDAsIF91dGlscy5zYXlIZWxsbykoc3lzdGVtKTtcblxuICAgIC8vIFN1cHBvcnQgZm9yIGNvbnN0cnVjdG9yKHN5c3RlbSwgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCwgb3B0aW9ucylcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHdpZHRoOiBvcHRpb25zLFxuICAgICAgICBoZWlnaHQ6IGFyZzIgfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFTkRFUl9PUFRJT05TLmhlaWdodFxuICAgICAgfSwgYXJnMyk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIF9zZXR0aW5nczIuZGVmYXVsdC5SRU5ERVJfT1BUSU9OUywgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3VwcGxpZWQgY29uc3RydWN0b3Igb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKi9cbiAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlJFTkRFUkVSX1RZUEUuVU5LTk9XTlxuICAgICAqIEBzZWUgUElYSS5SRU5ERVJFUl9UWVBFXG4gICAgICovXG4gICAgX3RoaXMudHlwZSA9IF9jb25zdC5SRU5ERVJFUl9UWVBFLlVOS05PV047XG5cbiAgICAvKipcbiAgICAgKiBNZWFzdXJlbWVudHMgb2YgdGhlIHNjcmVlbi4gKDAsIDAsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpXG4gICAgICpcbiAgICAgKiBJdHMgc2FmZSB0byB1c2UgYXMgZmlsdGVyQXJlYSBvciBoaXRBcmVhIGZvciB3aG9sZSBzdGFnZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICovXG4gICAgX3RoaXMuc2NyZWVuID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICBfdGhpcy52aWV3ID0gb3B0aW9ucy52aWV3IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIF90aGlzLnJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy50cmFuc3BhcmVudCA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGNzcyBkaW1lbnNpb25zIG9mIGNhbnZhcyB2aWV3IHNob3VsZCBiZSByZXNpemVkIHRvIHNjcmVlbiBkaW1lbnNpb25zIGF1dG9tYXRpY2FsbHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgX3RoaXMuYXV0b1Jlc2l6ZSA9IG9wdGlvbnMuYXV0b1Jlc2l6ZSB8fCBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRyYWNrcyB0aGUgYmxlbmQgbW9kZXMgdXNlZnVsIGZvciB0aGlzIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0PHN0cmluZywgbWl4ZWQ+fVxuICAgICAqL1xuICAgIF90aGlzLmJsZW5kTW9kZXMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIG9mIHRoZSBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgZmxhZyBhZmZlY3RzIHdoZXRoZXIgb3Igbm90IHRoZSBjb250ZW50cyBvZlxuICAgICAqIHRoZSBzdGVuY2lsIGJ1ZmZlciBpcyByZXRhaW5lZCBhZnRlciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIF90aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBzZXRzIGlmIHRoZSBDYW52YXNSZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIElmIHRoZSBzY2VuZSBpcyBOT1QgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGEgY2FudmFzIHNpemVkIGZpbGxSZWN0IG9wZXJhdGlvbiBldmVyeVxuICAgICAqIGZyYW1lIHRvIHNldCB0aGUgY2FudmFzIGJhY2tncm91bmQgY29sb3IuIElmIHRoZSBzY2VuZSBpcyB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgY2xlYXJSZWN0XG4gICAgICogdG8gY2xlYXIgdGhlIGNhbnZhcyBldmVyeSBmcmFtZS4gRGlzYWJsZSB0aGlzIGJ5IHNldHRpbmcgdGhpcyB0byBmYWxzZS4gRm9yIGV4YW1wbGUgaWZcbiAgICAgKiB5b3VyIGdhbWUgaGFzIGEgY2FudmFzIGZpbGxpbmcgYmFja2dyb3VuZCBpbWFnZSB5b3Ugb2Z0ZW4gZG9uJ3QgbmVlZCB0aGlzIHNldC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBfdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IG9wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEhhbmR5IGZvciBjcmlzcCBwaXhlbCBhcnQgYW5kIHNwZWVkIG9uIGxlZ2FjeSBkZXZpY2VzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy5yb3VuZFBpeGVscyA9IG9wdGlvbnMucm91bmRQaXhlbHM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAweDAwMDAwMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSAnIzAwMDAwMCc7XG5cbiAgICBfdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCBfdGhpcy5fYmFja2dyb3VuZENvbG9yOyAvLyBydW4gYmcgY29sb3Igc2V0dGVyXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHRlbXBvcmFyeSBkaXNwbGF5IG9iamVjdCB1c2VkIGFzIHRoZSBwYXJlbnQgb2YgdGhlIGN1cnJlbnRseSBiZWluZyByZW5kZXJlZCBpdGVtXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgX0NvbnRhaW5lcjIuZGVmYXVsdCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxhc3Qgcm9vdCBvYmplY3QgdGhhdCB0aGUgcmVuZGVyZXIgdHJpZWQgdG8gcmVuZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IF90aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2FtZSBhcyB2aWV3LndpZHRoLCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IGhvcml6b250YWxcbiAgICpcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAcmVhZG9ubHlcbiAgICogQGRlZmF1bHQgODAwXG4gICAqL1xuXG5cbiAgLyoqXG4gICAqIFJlc2l6ZXMgdGhlIHNjcmVlbiBhbmQgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodFxuICAgKiBDYW52YXMgZGltZW5zaW9ucyBhcmUgbXVsdGlwbGllZCBieSByZXNvbHV0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlblxuICAgKi9cbiAgU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgdGhpcy5zY3JlZW4ud2lkdGggPSBzY3JlZW5XaWR0aDtcbiAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSBzY3JlZW5IZWlnaHQ7XG5cbiAgICB0aGlzLnZpZXcud2lkdGggPSBzY3JlZW5XaWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICB0aGlzLnZpZXcuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgaWYgKHRoaXMuYXV0b1Jlc2l6ZSkge1xuICAgICAgdGhpcy52aWV3LnN0eWxlLndpZHRoID0gc2NyZWVuV2lkdGggKyAncHgnO1xuICAgICAgdGhpcy52aWV3LnN0eWxlLmhlaWdodCA9IHNjcmVlbkhlaWdodCArICdweCc7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVc2VmdWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdGV4dHVyZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBzcHJpdGVzXG4gICAqIFRoaXMgY2FuIGJlIHF1aXRlIHVzZWZ1bCBpZiB5b3VyIGRpc3BsYXlPYmplY3QgaXMgY29tcGxpY2F0ZWQgYW5kIG5lZWRzIHRvIGJlIHJldXNlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheU9iamVjdCB0aGUgb2JqZWN0IHdpbGwgYmUgZ2VuZXJhdGVkIGZyb21cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlTW9kZSAtIFNob3VsZCBiZSBvbmUgb2YgdGhlIHNjYWxlTW9kZSBjb25zdHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlZ2lvbl0gLSBUaGUgcmVnaW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LCB0aGF0IHNoYWxsIGJlIHJlbmRlcmVkLFxuICAgKiAgICAgICAgaWYgbm8gcmVnaW9uIGlzIHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBhIHRleHR1cmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdFxuICAgKi9cblxuXG4gIFN5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZVRleHR1cmUoZGlzcGxheU9iamVjdCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uLCByZWdpb24pIHtcbiAgICByZWdpb24gPSByZWdpb24gfHwgZGlzcGxheU9iamVjdC5nZXRMb2NhbEJvdW5kcygpO1xuXG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBfUmVuZGVyVGV4dHVyZTIuZGVmYXVsdC5jcmVhdGUocmVnaW9uLndpZHRoIHwgMCwgcmVnaW9uLmhlaWdodCB8IDAsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbik7XG5cbiAgICB0ZW1wTWF0cml4LnR4ID0gLXJlZ2lvbi54O1xuICAgIHRlbXBNYXRyaXgudHkgPSAtcmVnaW9uLnk7XG5cbiAgICB0aGlzLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBmYWxzZSwgdGVtcE1hdHJpeCwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gcmVuZGVyVGV4dHVyZTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIGFuZCBvcHRpb25hbGx5IHJlbW92ZXMgdGhlIENhbnZhcyBET00gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAqL1xuXG5cbiAgU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICBpZiAocmVtb3ZlVmlldyAmJiB0aGlzLnZpZXcucGFyZW50Tm9kZSkge1xuICAgICAgdGhpcy52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3KTtcbiAgICB9XG5cbiAgICB0aGlzLnR5cGUgPSBfY29uc3QuUkVOREVSRVJfVFlQRS5VTktOT1dOO1xuXG4gICAgdGhpcy52aWV3ID0gbnVsbDtcblxuICAgIHRoaXMuc2NyZWVuID0gbnVsbDtcblxuICAgIHRoaXMucmVzb2x1dGlvbiA9IDA7XG5cbiAgICB0aGlzLnRyYW5zcGFyZW50ID0gZmFsc2U7XG5cbiAgICB0aGlzLmF1dG9SZXNpemUgPSBmYWxzZTtcblxuICAgIHRoaXMuYmxlbmRNb2RlcyA9IG51bGw7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBudWxsO1xuXG4gICAgdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBmYWxzZTtcbiAgICB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gZmFsc2U7XG5cbiAgICB0aGlzLnJvdW5kUGl4ZWxzID0gZmFsc2U7XG5cbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAwO1xuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBudWxsO1xuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IG51bGw7XG5cbiAgICB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG4gICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gbnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIGJhY2tncm91bmQgY29sb3IgdG8gZmlsbCBpZiBub3QgdHJhbnNwYXJlbnRcbiAgICpcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhTeXN0ZW1SZW5kZXJlciwgW3tcbiAgICBrZXk6ICd3aWR0aCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy52aWV3LndpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgdmlldy5oZWlnaHQsIGFjdHVhbCBudW1iZXIgb2YgcGl4ZWxzIGluIHRoZSBjYW52YXMgYnkgdmVydGljYWxcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaGVpZ2h0JyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZpZXcuaGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2JhY2tncm91bmRDb2xvcicsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IHZhbHVlO1xuICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gKDAsIF91dGlscy5oZXgyc3RyaW5nKSh2YWx1ZSk7XG4gICAgICAoMCwgX3V0aWxzLmhleDJyZ2IpKHZhbHVlLCB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3lzdGVtUmVuZGVyZXI7XG59KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTeXN0ZW1SZW5kZXJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN5c3RlbVJlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9Hcm91cEQgPSByZXF1aXJlKCcuLi9tYXRoL0dyb3VwRDgnKTtcblxudmFyIF9Hcm91cEQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JvdXBEKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBIHN0YW5kYXJkIG9iamVjdCB0byBzdG9yZSB0aGUgVXZzIG9mIGEgdGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlVXZzID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZVV2cygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHR1cmVVdnMpO1xuXG4gICAgICAgIHRoaXMueDAgPSAwO1xuICAgICAgICB0aGlzLnkwID0gMDtcblxuICAgICAgICB0aGlzLngxID0gMTtcbiAgICAgICAgdGhpcy55MSA9IDA7XG5cbiAgICAgICAgdGhpcy54MiA9IDE7XG4gICAgICAgIHRoaXMueTIgPSAxO1xuXG4gICAgICAgIHRoaXMueDMgPSAwO1xuICAgICAgICB0aGlzLnkzID0gMTtcblxuICAgICAgICB0aGlzLnV2c1VpbnQzMiA9IG5ldyBVaW50MzJBcnJheSg0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0ZXh0dXJlIFV2cyBiYXNlZCBvbiB0aGUgZ2l2ZW4gZnJhbWUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGZyYW1lIC0gVGhlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYmFzZUZyYW1lIC0gVGhlIGJhc2UgZnJhbWUgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRlIC0gUm90YXRpb24gb2YgZnJhbWUsIHNlZSB7QGxpbmsgUElYSS5Hcm91cEQ4fVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlVXZzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQoZnJhbWUsIGJhc2VGcmFtZSwgcm90YXRlKSB7XG4gICAgICAgIHZhciB0dyA9IGJhc2VGcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIHRoID0gYmFzZUZyYW1lLmhlaWdodDtcblxuICAgICAgICBpZiAocm90YXRlKSB7XG4gICAgICAgICAgICAvLyB3aWR0aCBhbmQgaGVpZ2h0IGRpdiAyIGRpdiBiYXNlRnJhbWUgc2l6ZVxuICAgICAgICAgICAgdmFyIHcyID0gZnJhbWUud2lkdGggLyAyIC8gdHc7XG4gICAgICAgICAgICB2YXIgaDIgPSBmcmFtZS5oZWlnaHQgLyAyIC8gdGg7XG5cbiAgICAgICAgICAgIC8vIGNvb3JkaW5hdGVzIG9mIGNlbnRlclxuICAgICAgICAgICAgdmFyIGNYID0gZnJhbWUueCAvIHR3ICsgdzI7XG4gICAgICAgICAgICB2YXIgY1kgPSBmcmFtZS55IC8gdGggKyBoMjtcblxuICAgICAgICAgICAgcm90YXRlID0gX0dyb3VwRDIuZGVmYXVsdC5hZGQocm90YXRlLCBfR3JvdXBEMi5kZWZhdWx0Lk5XKTsgLy8gTlcgaXMgdG9wLWxlZnQgY29ybmVyXG4gICAgICAgICAgICB0aGlzLngwID0gY1ggKyB3MiAqIF9Hcm91cEQyLmRlZmF1bHQudVgocm90YXRlKTtcbiAgICAgICAgICAgIHRoaXMueTAgPSBjWSArIGgyICogX0dyb3VwRDIuZGVmYXVsdC51WShyb3RhdGUpO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBfR3JvdXBEMi5kZWZhdWx0LmFkZChyb3RhdGUsIDIpOyAvLyByb3RhdGUgOTAgZGVncmVlcyBjbG9ja3dpc2VcbiAgICAgICAgICAgIHRoaXMueDEgPSBjWCArIHcyICogX0dyb3VwRDIuZGVmYXVsdC51WChyb3RhdGUpO1xuICAgICAgICAgICAgdGhpcy55MSA9IGNZICsgaDIgKiBfR3JvdXBEMi5kZWZhdWx0LnVZKHJvdGF0ZSk7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IF9Hcm91cEQyLmRlZmF1bHQuYWRkKHJvdGF0ZSwgMik7XG4gICAgICAgICAgICB0aGlzLngyID0gY1ggKyB3MiAqIF9Hcm91cEQyLmRlZmF1bHQudVgocm90YXRlKTtcbiAgICAgICAgICAgIHRoaXMueTIgPSBjWSArIGgyICogX0dyb3VwRDIuZGVmYXVsdC51WShyb3RhdGUpO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBfR3JvdXBEMi5kZWZhdWx0LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICAgICAgdGhpcy54MyA9IGNYICsgdzIgKiBfR3JvdXBEMi5kZWZhdWx0LnVYKHJvdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnkzID0gY1kgKyBoMiAqIF9Hcm91cEQyLmRlZmF1bHQudVkocm90YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMueDAgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkwID0gZnJhbWUueSAvIHRoO1xuXG4gICAgICAgICAgICB0aGlzLngxID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTEgPSBmcmFtZS55IC8gdGg7XG5cbiAgICAgICAgICAgIHRoaXMueDIgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MiA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuXG4gICAgICAgICAgICB0aGlzLngzID0gZnJhbWUueCAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MyA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51dnNVaW50MzJbMF0gPSAodGhpcy55MCAqIDY1NTM1ICYgMHhGRkZGKSA8PCAxNiB8IHRoaXMueDAgKiA2NTUzNSAmIDB4RkZGRjtcbiAgICAgICAgdGhpcy51dnNVaW50MzJbMV0gPSAodGhpcy55MSAqIDY1NTM1ICYgMHhGRkZGKSA8PCAxNiB8IHRoaXMueDEgKiA2NTUzNSAmIDB4RkZGRjtcbiAgICAgICAgdGhpcy51dnNVaW50MzJbMl0gPSAodGhpcy55MiAqIDY1NTM1ICYgMHhGRkZGKSA8PCAxNiB8IHRoaXMueDIgKiA2NTUzNSAmIDB4RkZGRjtcbiAgICAgICAgdGhpcy51dnNVaW50MzJbM10gPSAodGhpcy55MyAqIDY1NTM1ICYgMHhGRkZGKSA8PCAxNiB8IHRoaXMueDMgKiA2NTUzNSAmIDB4RkZGRjtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRleHR1cmVVdnM7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHR1cmVVdnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlVXZzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9CYXNlVGV4dHVyZTIgPSByZXF1aXJlKCcuL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUyKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfdGlja2VyID0gcmVxdWlyZSgnLi4vdGlja2VyJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX2RldGVybWluZUNyb3NzT3JpZ2luID0gcmVxdWlyZSgnLi4vdXRpbHMvZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4nKTtcblxudmFyIF9kZXRlcm1pbmVDcm9zc09yaWdpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXRlcm1pbmVDcm9zc09yaWdpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIHRleHR1cmUgb2YgYSBbcGxheWluZ10gVmlkZW8uXG4gKlxuICogVmlkZW8gYmFzZSB0ZXh0dXJlcyBtaW1pYyBQaXhpSlMgQmFzZVRleHR1cmUuZnJvbS4uLi4gbWV0aG9kIGluIHRoZWlyIGNyZWF0aW9uIHByb2Nlc3MuXG4gKlxuICogVGhpcyBjYW4gYmUgdXNlZCBpbiBzZXZlcmFsIHdheXMsIHN1Y2ggYXM6XG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmwoJ2h0dHA6Ly9teWRvbWFpbi5jb20vdmlkZW8ubXA0Jyk7XG4gKlxuICogbGV0IHRleHR1cmUgPSBQSVhJLlZpZGVvQmFzZVRleHR1cmUuZnJvbVVybCh7IHNyYzogJ2h0dHA6Ly9teWRvbWFpbi5jb20vdmlkZW8ubXA0JywgbWltZTogJ3ZpZGVvL21wNCcgfSk7XG4gKlxuICogbGV0IHRleHR1cmUgPSBQSVhJLlZpZGVvQmFzZVRleHR1cmUuZnJvbVVybHMoWycvdmlkZW8ud2VibScsICcvdmlkZW8ubXA0J10pO1xuICpcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmxzKFtcbiAqICAgICB7IHNyYzogJy92aWRlby53ZWJtJywgbWltZTogJ3ZpZGVvL3dlYm0nIH0sXG4gKiAgICAgeyBzcmM6ICcvdmlkZW8ubXA0JywgbWltZTogJ3ZpZGVvL21wNCcgfVxuICogXSk7XG4gKiBgYGBcbiAqXG4gKiBTZWUgdGhlIFtcImRldXNcIiBkZW1vXShodHRwOi8vd3d3Lmdvb2Rib3lkaWdpdGFsLmNvbS9waXhpanMvZXhhbXBsZXMvZGV1cy8pLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFZpZGVvQmFzZVRleHR1cmUgPSBmdW5jdGlvbiAoX0Jhc2VUZXh0dXJlKSB7XG4gICAgX2luaGVyaXRzKFZpZGVvQmFzZVRleHR1cmUsIF9CYXNlVGV4dHVyZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFZpZGVvIHNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWaWRlb0Jhc2VUZXh0dXJlKHNvdXJjZSwgc2NhbGVNb2RlKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaWRlb0Jhc2VUZXh0dXJlKTtcblxuICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB2aWRlbyBzb3VyY2UgZWxlbWVudCBzcGVjaWZpZWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBob29rIGluIGhlcmUgdG8gY2hlY2sgaWYgdmlkZW8gaXMgYWxyZWFkeSBhdmFpbGFibGUuXG4gICAgICAgIC8vIEJhc2VUZXh0dXJlIGxvb2tzIGZvciBhIHNvdXJjZS5jb21wbGV0ZSBib29sZWFuLCBwbHVzIHdpZHRoICYgaGVpZ2h0LlxuXG4gICAgICAgIGlmICgoc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0VOT1VHSF9EQVRBIHx8IHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9GVVRVUkVfREFUQSkgJiYgc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHNvdXJjZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQmFzZVRleHR1cmUuY2FsbCh0aGlzLCBzb3VyY2UsIHNjYWxlTW9kZSkpO1xuXG4gICAgICAgIF90aGlzLndpZHRoID0gc291cmNlLnZpZGVvV2lkdGg7XG4gICAgICAgIF90aGlzLmhlaWdodCA9IHNvdXJjZS52aWRlb0hlaWdodDtcblxuICAgICAgICBfdGhpcy5fYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIF90aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHNldCB0byB0cnVlIHdpbGwgYXV0b21hdGljYWxseSBwbGF5IHZpZGVvcyB1c2VkIGJ5IHRoaXMgdGV4dHVyZSBvbmNlXG4gICAgICAgICAqIHRoZXkgYXJlIGxvYWRlZC4gSWYgZmFsc2UsIGl0IHdpbGwgbm90IG1vZGlmeSB0aGUgcGxheWluZyBzdGF0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1BsYXkgPSB0cnVlO1xuXG4gICAgICAgIF90aGlzLnVwZGF0ZSA9IF90aGlzLnVwZGF0ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuX29uQ2FuUGxheSA9IF90aGlzLl9vbkNhblBsYXkuYmluZChfdGhpcyk7XG5cbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCBfdGhpcy5fb25QbGF5U3RhcnQuYmluZChfdGhpcykpO1xuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBfdGhpcy5fb25QbGF5U3RvcC5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLmhhc0xvYWRlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fX2xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghX3RoaXMuX2lzU291cmNlUmVhZHkoKSkge1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCBfdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIF90aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcGxheWluZy5cbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX2lzU291cmNlUGxheWluZyA9IGZ1bmN0aW9uIF9pc1NvdXJjZVBsYXlpbmcoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcblxuICAgICAgICByZXR1cm4gc291cmNlLmN1cnJlbnRUaW1lID4gMCAmJiBzb3VyY2UucGF1c2VkID09PSBmYWxzZSAmJiBzb3VyY2UuZW5kZWQgPT09IGZhbHNlICYmIHNvdXJjZS5yZWFkeVN0YXRlID4gMjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyByZWFkeSBmb3IgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiByZWFkeS5cbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX2lzU291cmNlUmVhZHkgPSBmdW5jdGlvbiBfaXNTb3VyY2VSZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLnJlYWR5U3RhdGUgPT09IDMgfHwgdGhpcy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gNDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgdXBkYXRlIGxvb3Agd2hlbiB0aGUgdmlkZW8gaXMgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX29uUGxheVN0YXJ0ID0gZnVuY3Rpb24gX29uUGxheVN0YXJ0KCkge1xuICAgICAgICAvLyBKdXN0IGluIGNhc2UgdGhlIHZpZGVvIGhhcyBub3QgcmVjZWl2ZWQgaXRzIGNhbiBwbGF5IGV2ZW4geWV0Li5cbiAgICAgICAgaWYgKCF0aGlzLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2lzQXV0b1VwZGF0aW5nICYmIHRoaXMuYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBfY29uc3QuVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwYXVzZSBldmVudCBpcyB0cmlnZ2VyZWQsIHN0b3BzIHRoZSB1cGRhdGUgbG9vcFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX29uUGxheVN0b3AgPSBmdW5jdGlvbiBfb25QbGF5U3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXV0b1VwZGF0aW5nKSB7XG4gICAgICAgICAgICBfdGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBpcyBsb2FkZWQgYW5kIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLl9vbkNhblBsYXkgPSBmdW5jdGlvbiBfb25DYW5QbGF5KCkge1xuICAgICAgICB0aGlzLmhhc0xvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMuc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcblxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuc291cmNlLnZpZGVvV2lkdGg7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuc291cmNlLnZpZGVvSGVpZ2h0O1xuXG4gICAgICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIGxvYWRlZCBkaXNwYXRjaGVzLi5cbiAgICAgICAgICAgIGlmICghdGhpcy5fX2xvYWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgdGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uUGxheVN0YXJ0KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXV0b1BsYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZS5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0F1dG9VcGRhdGluZykge1xuICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZSAmJiB0aGlzLnNvdXJjZS5fcGl4aUlkKSB7XG4gICAgICAgICAgICBfQmFzZVRleHR1cmUzLmRlZmF1bHQucmVtb3ZlRnJvbUNhY2hlKHRoaXMuc291cmNlLl9waXhpSWQpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc291cmNlLl9waXhpSWQ7XG5cbiAgICAgICAgICAgIHRoaXMuc291cmNlLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5zcmMgPSAnJztcbiAgICAgICAgICAgIHRoaXMuc291cmNlLmxvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9CYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNaW1pYyBQaXhpSlMgQmFzZVRleHR1cmUuZnJvbS4uLi4gbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudH0gdmlkZW8gLSBWaWRlbyB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEByZXR1cm4ge1BJWEkuVmlkZW9CYXNlVGV4dHVyZX0gTmV3bHkgY3JlYXRlZCBWaWRlb0Jhc2VUZXh0dXJlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUuZnJvbVZpZGVvID0gZnVuY3Rpb24gZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgaWYgKCF2aWRlby5fcGl4aUlkKSB7XG4gICAgICAgICAgICB2aWRlby5fcGl4aUlkID0gJ3ZpZGVvXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW3ZpZGVvLl9waXhpSWRdO1xuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IFZpZGVvQmFzZVRleHR1cmUodmlkZW8sIHNjYWxlTW9kZSk7XG4gICAgICAgICAgICBfQmFzZVRleHR1cmUzLmRlZmF1bHQuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgdmlkZW8uX3BpeGlJZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgQmFzZVRleHR1cmUgYmFzZWQgb24gdGhlIGdpdmVuIHZpZGVvIGVsZW1lbnQuXG4gICAgICogVGhpcyBCYXNlVGV4dHVyZSBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R8c3RyaW5nW118b2JqZWN0W119IHZpZGVvU3JjIC0gVGhlIFVSTChzKSBmb3IgdGhlIHZpZGVvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmlkZW9TcmMuc3JjXSAtIE9uZSBvZiB0aGUgc291cmNlIHVybHMgZm9yIHRoZSB2aWRlb1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmlkZW9TcmMubWltZV0gLSBUaGUgbWltZXR5cGUgb2YgdGhlIHZpZGVvIChlLmcuICd2aWRlby9tcDQnKS4gSWYgbm90IHNwZWNpZmllZFxuICAgICAqICB0aGUgdXJsJ3MgZXh0ZW5zaW9uIHdpbGwgYmUgdXNlZCBhcyB0aGUgc2Vjb25kIHBhcnQgb2YgdGhlIG1pbWUgdHlwZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVNb2RlIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3Jvc3NvcmlnaW49KGF1dG8pXSAtIFNob3VsZCB1c2UgYW5vbnltb3VzIENPUlM/IERlZmF1bHRzIHRvIHRydWUgaWYgdGhlIFVSTCBpcyBub3QgYSBkYXRhLVVSSS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlZpZGVvQmFzZVRleHR1cmV9IE5ld2x5IGNyZWF0ZWQgVmlkZW9CYXNlVGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBWaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmwgPSBmdW5jdGlvbiBmcm9tVXJsKHZpZGVvU3JjLCBzY2FsZU1vZGUsIGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cbiAgICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKCd3ZWJraXQtcGxheXNpbmxpbmUnLCAnJyk7XG4gICAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG5cbiAgICAgICAgdmFyIHVybCA9IEFycmF5LmlzQXJyYXkodmlkZW9TcmMpID8gdmlkZW9TcmNbMF0uc3JjIHx8IHZpZGVvU3JjWzBdIDogdmlkZW9TcmMuc3JjIHx8IHZpZGVvU3JjO1xuXG4gICAgICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkICYmIHVybC5pbmRleE9mKCdkYXRhOicpICE9PSAwKSB7XG4gICAgICAgICAgICB2aWRlby5jcm9zc09yaWdpbiA9ICgwLCBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yLmRlZmF1bHQpKHVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgICAgIHZpZGVvLmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSAnc3RyaW5nJyA/IGNyb3Nzb3JpZ2luIDogJ2Fub255bW91cyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhcnJheSBvZiBvYmplY3RzIG9yIHN0cmluZ3NcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmlkZW9TcmMpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZGVvU3JjLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmlkZW8uYXBwZW5kQ2hpbGQoY3JlYXRlU291cmNlKHZpZGVvU3JjW2ldLnNyYyB8fCB2aWRlb1NyY1tpXSwgdmlkZW9TcmNbaV0ubWltZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNpbmdsZSBvYmplY3Qgb3Igc3RyaW5nXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZGVvLmFwcGVuZENoaWxkKGNyZWF0ZVNvdXJjZSh1cmwsIHZpZGVvU3JjLm1pbWUpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB2aWRlby5sb2FkKCk7XG5cbiAgICAgICAgcmV0dXJuIFZpZGVvQmFzZVRleHR1cmUuZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgdGhlIGJhc2UgdGV4dHVyZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZSBpdHNlbGYsIHNldCB0byB0cnVlIGJ5IGRlZmF1bHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhWaWRlb0Jhc2VUZXh0dXJlLCBbe1xuICAgICAgICBrZXk6ICdhdXRvVXBkYXRlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0b1VwZGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX2F1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNBdXRvVXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQXV0b1VwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgX2NvbnN0LlVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBWaWRlb0Jhc2VUZXh0dXJlO1xufShfQmFzZVRleHR1cmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBWaWRlb0Jhc2VUZXh0dXJlO1xuXG5cblZpZGVvQmFzZVRleHR1cmUuZnJvbVVybHMgPSBWaWRlb0Jhc2VUZXh0dXJlLmZyb21Vcmw7XG5cbmZ1bmN0aW9uIGNyZWF0ZVNvdXJjZShwYXRoLCB0eXBlKSB7XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICAgIHR5cGUgPSAndmlkZW8vJyArIHBhdGguc3Vic3RyKHBhdGgubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcblxuICAgIHNvdXJjZS5zcmMgPSBwYXRoO1xuICAgIHNvdXJjZS50eXBlID0gdHlwZTtcblxuICAgIHJldHVybiBzb3VyY2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWRlb0Jhc2VUZXh0dXJlLmpzLm1hcCIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW47XG5cbnZhciBfdXJsMiA9IHJlcXVpcmUoJ3VybCcpO1xuXG52YXIgX3VybDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cmwyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHRlbXBBbmNob3IgPSB2b2lkIDA7XG5cbi8qKlxuICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAqIE5pcHBlZCBmcm9tIHRoZSByZXNvdXJjZSBsb2FkZXIhXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAqL1xuZnVuY3Rpb24gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsKSB7XG4gICAgdmFyIGxvYyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogd2luZG93LmxvY2F0aW9uO1xuXG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG4gICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIH1cblxuICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgIHVybCA9IF91cmwzLmRlZmF1bHQucGFyc2UodGVtcEFuY2hvci5ocmVmKTtcblxuICAgIHZhciBzYW1lUG9ydCA9ICF1cmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycgfHwgdXJsLnBvcnQgPT09IGxvYy5wb3J0O1xuXG4gICAgLy8gaWYgY3Jvc3Mgb3JpZ2luXG4gICAgaWYgKHVybC5ob3N0bmFtZSAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCB1cmwucHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZTIgPSByZXF1aXJlKCcuL1RyYW5zZm9ybUJhc2UnKTtcblxudmFyIF9UcmFuc2Zvcm1CYXNlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybUJhc2UyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEdlbmVyaWMgY2xhc3MgdG8gZGVhbCB3aXRoIHRyYWRpdGlvbmFsIDJEIG1hdHJpeCB0cmFuc2Zvcm1zXG4gKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBpcyBjYWxjdWxhdGVkIGZyb20gcG9zaXRpb24sc2NhbGUsc2tldyBhbmQgcm90YXRpb25cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVHJhbnNmb3JtQmFzZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyYW5zZm9ybSA9IGZ1bmN0aW9uIChfVHJhbnNmb3JtQmFzZSkge1xuICBfaW5oZXJpdHMoVHJhbnNmb3JtLCBfVHJhbnNmb3JtQmFzZSk7XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBUcmFuc2Zvcm0oKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zZm9ybSk7XG5cbiAgICAvKipcbiAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgKlxuICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAqL1xuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9UcmFuc2Zvcm1CYXNlLmNhbGwodGhpcykpO1xuXG4gICAgX3RoaXMucG9zaXRpb24gPSBuZXcgX21hdGguUG9pbnQoMCwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAqL1xuICAgIF90aGlzLnNjYWxlID0gbmV3IF9tYXRoLlBvaW50KDEsIDEpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNrZXcgYW1vdW50LCBvbiB0aGUgeCBhbmQgeSBheGlzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgX3RoaXMuc2tldyA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMudXBkYXRlU2tldywgX3RoaXMsIDAsIDApO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICovXG4gICAgX3RoaXMucGl2b3QgPSBuZXcgX21hdGguUG9pbnQoMCwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm90YXRpb24gdmFsdWUgb2YgdGhlIG9iamVjdCwgaW4gcmFkaWFuc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7TnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX3JvdGF0aW9uID0gMDtcblxuICAgIF90aGlzLl9jeCA9IDE7IC8vIGNvcyByb3RhdGlvbiArIHNrZXdZO1xuICAgIF90aGlzLl9zeCA9IDA7IC8vIHNpbiByb3RhdGlvbiArIHNrZXdZO1xuICAgIF90aGlzLl9jeSA9IDA7IC8vIGNvcyByb3RhdGlvbiArIE1hdGguUEkvMiAtIHNrZXdYO1xuICAgIF90aGlzLl9zeSA9IDE7IC8vIHNpbiByb3RhdGlvbiArIE1hdGguUEkvMiAtIHNrZXdYO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBza2V3IHZhbHVlcyB3aGVuIHRoZSBza2V3IG9yIHJvdGF0aW9uIGNoYW5nZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVTa2V3ID0gZnVuY3Rpb24gdXBkYXRlU2tldygpIHtcbiAgICB0aGlzLl9jeCA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICB0aGlzLl9zeCA9IE1hdGguc2luKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICB0aGlzLl9jeSA9IC1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIGNvcywgYWRkZWQgUEkvMlxuICAgIHRoaXMuX3N5ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcuX3gpOyAvLyBzaW4sIGFkZGVkIFBJLzJcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyBvbmx5IGxvY2FsIG1hdHJpeFxuICAgKi9cblxuXG4gIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVMb2NhbFRyYW5zZm9ybSgpIHtcbiAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS54O1xuICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS55O1xuXG4gICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLnggLSAodGhpcy5waXZvdC54ICogbHQuYSArIHRoaXMucGl2b3QueSAqIGx0LmMpO1xuICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKHRoaXMucGl2b3QueCAqIGx0LmIgKyB0aGlzLnBpdm90LnkgKiBsdC5kKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdmFsdWVzIG9mIHRoZSBvYmplY3QgYW5kIGFwcGxpZXMgdGhlIHBhcmVudCdzIHRyYW5zZm9ybS5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSBvZiB0aGUgcGFyZW50IG9mIHRoaXMgb2JqZWN0XG4gICAqL1xuXG5cbiAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0ocGFyZW50VHJhbnNmb3JtKSB7XG4gICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS55O1xuICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcblxuICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi54IC0gKHRoaXMucGl2b3QueCAqIGx0LmEgKyB0aGlzLnBpdm90LnkgKiBsdC5jKTtcbiAgICBsdC50eSA9IHRoaXMucG9zaXRpb24ueSAtICh0aGlzLnBpdm90LnggKiBsdC5iICsgdGhpcy5waXZvdC55ICogbHQuZCk7XG5cbiAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgdmFyIHB0ID0gcGFyZW50VHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIHZhciB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG5cbiAgICB3dC5hID0gbHQuYSAqIHB0LmEgKyBsdC5iICogcHQuYztcbiAgICB3dC5iID0gbHQuYSAqIHB0LmIgKyBsdC5iICogcHQuZDtcbiAgICB3dC5jID0gbHQuYyAqIHB0LmEgKyBsdC5kICogcHQuYztcbiAgICB3dC5kID0gbHQuYyAqIHB0LmIgKyBsdC5kICogcHQuZDtcbiAgICB3dC50eCA9IGx0LnR4ICogcHQuYSArIGx0LnR5ICogcHQuYyArIHB0LnR4O1xuICAgIHd0LnR5ID0gbHQudHggKiBwdC5iICsgbHQudHkgKiBwdC5kICsgcHQudHk7XG5cbiAgICB0aGlzLl93b3JsZElEKys7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlY29tcG9zZXMgYSBtYXRyaXggYW5kIHNldHMgdGhlIHRyYW5zZm9ybXMgcHJvcGVydGllcyBiYXNlZCBvbiBpdC5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBkZWNvbXBvc2VcbiAgICovXG5cblxuICBUcmFuc2Zvcm0ucHJvdG90eXBlLnNldEZyb21NYXRyaXggPSBmdW5jdGlvbiBzZXRGcm9tTWF0cml4KG1hdHJpeCkge1xuICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoVHJhbnNmb3JtLCBbe1xuICAgIGtleTogJ3JvdGF0aW9uJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICB0aGlzLl9yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgdGhpcy51cGRhdGVTa2V3KCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyYW5zZm9ybTtcbn0oX1RyYW5zZm9ybUJhc2UzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmFuc2Zvcm07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2Zvcm0uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZTIgPSByZXF1aXJlKCcuL1RyYW5zZm9ybUJhc2UnKTtcblxudmFyIF9UcmFuc2Zvcm1CYXNlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybUJhc2UyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGF0IHRha2VzIGNhcmUgYWJvdXQgaXRzIHZlcnNpb25zXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlRyYW5zZm9ybUJhc2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmFuc2Zvcm1TdGF0aWMgPSBmdW5jdGlvbiAoX1RyYW5zZm9ybUJhc2UpIHtcbiAgICBfaW5oZXJpdHMoVHJhbnNmb3JtU3RhdGljLCBfVHJhbnNmb3JtQmFzZSk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRyYW5zZm9ybVN0YXRpYygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zZm9ybVN0YXRpYyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgKlxuICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVHJhbnNmb3JtQmFzZS5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5wb3NpdGlvbiA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMub25DaGFuZ2UsIF90aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlID0gbmV3IF9tYXRoLk9ic2VydmFibGVQb2ludChfdGhpcy5vbkNoYW5nZSwgX3RoaXMsIDEsIDEpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBpdm90ID0gbmV3IF9tYXRoLk9ic2VydmFibGVQb2ludChfdGhpcy5vbkNoYW5nZSwgX3RoaXMsIDAsIDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2tldyBhbW91bnQsIG9uIHRoZSB4IGFuZCB5IGF4aXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2tldyA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMudXBkYXRlU2tldywgX3RoaXMsIDAsIDApO1xuXG4gICAgICAgIF90aGlzLl9yb3RhdGlvbiA9IDA7XG5cbiAgICAgICAgX3RoaXMuX2N4ID0gMTsgLy8gY29zIHJvdGF0aW9uICsgc2tld1k7XG4gICAgICAgIF90aGlzLl9zeCA9IDA7IC8vIHNpbiByb3RhdGlvbiArIHNrZXdZO1xuICAgICAgICBfdGhpcy5fY3kgPSAwOyAvLyBjb3Mgcm90YXRpb24gKyBNYXRoLlBJLzIgLSBza2V3WDtcbiAgICAgICAgX3RoaXMuX3N5ID0gMTsgLy8gc2luIHJvdGF0aW9uICsgTWF0aC5QSS8yIC0gc2tld1g7XG5cbiAgICAgICAgX3RoaXMuX2xvY2FsSUQgPSAwO1xuICAgICAgICBfdGhpcy5fY3VycmVudExvY2FsSUQgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYSB2YWx1ZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVHJhbnNmb3JtU3RhdGljLnByb3RvdHlwZS5vbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHNrZXcgb3Igcm90YXRpb24gY2hhbmdlc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVHJhbnNmb3JtU3RhdGljLnByb3RvdHlwZS51cGRhdGVTa2V3ID0gZnVuY3Rpb24gdXBkYXRlU2tldygpIHtcbiAgICAgICAgdGhpcy5fY3ggPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy5feSk7XG4gICAgICAgIHRoaXMuX3N4ID0gTWF0aC5zaW4odGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgICAgICB0aGlzLl9jeSA9IC1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIGNvcywgYWRkZWQgUEkvMlxuICAgICAgICB0aGlzLl9zeSA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3Ll94KTsgLy8gc2luLCBhZGRlZCBQSS8yXG5cbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIG9ubHkgbG9jYWwgbWF0cml4XG4gICAgICovXG5cblxuICAgIFRyYW5zZm9ybVN0YXRpYy5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVMb2NhbFRyYW5zZm9ybSgpIHtcbiAgICAgICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgICAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLl95O1xuICAgICAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS5feTtcblxuICAgICAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLl94IC0gKHRoaXMucGl2b3QuX3ggKiBsdC5hICsgdGhpcy5waXZvdC5feSAqIGx0LmMpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLl95IC0gKHRoaXMucGl2b3QuX3ggKiBsdC5iICsgdGhpcy5waXZvdC5feSAqIGx0LmQpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuXG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB2YWx1ZXMgb2YgdGhlIG9iamVjdCBhbmQgYXBwbGllcyB0aGUgcGFyZW50J3MgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSBvZiB0aGUgcGFyZW50IG9mIHRoaXMgb2JqZWN0XG4gICAgICovXG5cblxuICAgIFRyYW5zZm9ybVN0YXRpYy5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKHBhcmVudFRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRCkge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUuX3k7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLl95O1xuXG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24uX3ggLSAodGhpcy5waXZvdC5feCAqIGx0LmEgKyB0aGlzLnBpdm90Ll95ICogbHQuYyk7XG4gICAgICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24uX3kgLSAodGhpcy5waXZvdC5feCAqIGx0LmIgKyB0aGlzLnBpdm90Ll95ICogbHQuZCk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG5cbiAgICAgICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudElEICE9PSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQpIHtcbiAgICAgICAgICAgIC8vIGNvbmNhdCB0aGUgcGFyZW50IG1hdHJpeCB3aXRoIHRoZSBvYmplY3RzIHRyYW5zZm9ybS5cbiAgICAgICAgICAgIHZhciBwdCA9IHBhcmVudFRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgIHZhciB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgIHd0LmEgPSBsdC5hICogcHQuYSArIGx0LmIgKiBwdC5jO1xuICAgICAgICAgICAgd3QuYiA9IGx0LmEgKiBwdC5iICsgbHQuYiAqIHB0LmQ7XG4gICAgICAgICAgICB3dC5jID0gbHQuYyAqIHB0LmEgKyBsdC5kICogcHQuYztcbiAgICAgICAgICAgIHd0LmQgPSBsdC5jICogcHQuYiArIGx0LmQgKiBwdC5kO1xuICAgICAgICAgICAgd3QudHggPSBsdC50eCAqIHB0LmEgKyBsdC50eSAqIHB0LmMgKyBwdC50eDtcbiAgICAgICAgICAgIHd0LnR5ID0gbHQudHggKiBwdC5iICsgbHQudHkgKiBwdC5kICsgcHQudHk7XG5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGlkIG9mIHRoZSB0cmFuc2Zvcm0uLlxuICAgICAgICAgICAgdGhpcy5fd29ybGRJRCsrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgYSBtYXRyaXggYW5kIHNldHMgdGhlIHRyYW5zZm9ybXMgcHJvcGVydGllcyBiYXNlZCBvbiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gZGVjb21wb3NlXG4gICAgICovXG5cblxuICAgIFRyYW5zZm9ybVN0YXRpYy5wcm90b3R5cGUuc2V0RnJvbU1hdHJpeCA9IGZ1bmN0aW9uIHNldEZyb21NYXRyaXgobWF0cml4KSB7XG4gICAgICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRyYW5zZm9ybVN0YXRpYywgW3tcbiAgICAgICAga2V5OiAncm90YXRpb24nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTa2V3KCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVHJhbnNmb3JtU3RhdGljO1xufShfVHJhbnNmb3JtQmFzZTMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRyYW5zZm9ybVN0YXRpYztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zZm9ybVN0YXRpYy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX1RyYW5zZm9ybVN0YXRpYyA9IHJlcXVpcmUoJy4vVHJhbnNmb3JtU3RhdGljJyk7XG5cbnZhciBfVHJhbnNmb3JtU3RhdGljMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybVN0YXRpYyk7XG5cbnZhciBfVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9UcmFuc2Zvcm0nKTtcblxudmFyIF9UcmFuc2Zvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtKTtcblxudmFyIF9Cb3VuZHMgPSByZXF1aXJlKCcuL0JvdW5kcycpO1xuXG52YXIgX0JvdW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Cb3VuZHMpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLy8gX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IERpc3BsYXlPYmplY3QoKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBmb3IgYWxsIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgb24gdGhlIHNjcmVlbi5cbiAqIFRoaXMgaXMgYW4gYWJzdHJhY3QgY2xhc3MgYW5kIHNob3VsZCBub3QgYmUgdXNlZCBvbiBpdHMgb3duIHJhdGhlciBpdCBzaG91bGQgYmUgZXh0ZW5kZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBEaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgICBfaW5oZXJpdHMoRGlzcGxheU9iamVjdCwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERpc3BsYXlPYmplY3QoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEaXNwbGF5T2JqZWN0KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRFbWl0dGVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIHZhciBUcmFuc2Zvcm1DbGFzcyA9IF9zZXR0aW5nczIuZGVmYXVsdC5UUkFOU0ZPUk1fTU9ERSA9PT0gX2NvbnN0LlRSQU5TRk9STV9NT0RFLlNUQVRJQyA/IF9UcmFuc2Zvcm1TdGF0aWMyLmRlZmF1bHQgOiBfVHJhbnNmb3JtMi5kZWZhdWx0O1xuXG4gICAgICAgIF90aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcblxuICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIGNyZWF0ZSBUcmFuc2Zvcm0gZnJvbSBmYWN0b3J5XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXb3JsZCB0cmFuc2Zvcm0gYW5kIGxvY2FsIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICogVGhpcyB3aWxsIGJlY29tZSByZWFkLW9ubHkgbGF0ZXIsIHBsZWFzZSBkbyBub3QgYXNzaWduIGFueXRoaW5nIHRoZXJlIHVubGVzcyB5b3Uga25vdyB3aGF0IGFyZSB5b3UgZG9pbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm1CYXNlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybUNsYXNzKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZpc2liaWxpdHkgb2YgdGhlIG9iamVjdC4gSWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biwgYW5kXG4gICAgICAgICAqIHRoZSB1cGRhdGVUcmFuc2Zvcm0gZnVuY3Rpb24gd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG9yIGNhbGwgdXBkYXRlVHJhbnNmb3JtIG1hbnVhbGx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aXNpYmxlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FuIHRoaXMgb2JqZWN0IGJlIHJlbmRlcmVkLCBpZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduIGJ1dCB0aGUgdXBkYXRlVHJhbnNmb3JtXG4gICAgICAgICAqIG1ldGhvZHMgd2lsbCBzdGlsbCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgbWFudWFsbHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmFibGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyIHRoYXQgY29udGFpbnMgdGhpcyBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFyZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG11bHRpcGxpZWQgYWxwaGEgb2YgdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndvcmxkQWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJlYSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQgdG8uIFRoaXMgaXMgdXNlZCBhcyBtb3JlIG9mIGFuIG9wdGltaXNhdGlvblxuICAgICAgICAgKiByYXRoZXIgdGhhbiBmaWd1cmluZyBvdXQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGRpc3BsYXlPYmplY3QgZWFjaCBmcmFtZSB5b3UgY2FuIHNldCB0aGlzIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBBbHNvIHdvcmtzIGFzIGFuIGludGVyYWN0aW9uIG1hc2tcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5fZmlsdGVycyA9IG51bGw7XG4gICAgICAgIF90aGlzLl9lbmFibGVkRmlsdGVycyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgb2JqZWN0LCB0aGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIGFuZCBzdG9yZSB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdW5kcyA9IG5ldyBfQm91bmRzMi5kZWZhdWx0KCk7XG4gICAgICAgIF90aGlzLl9ib3VuZHNJRCA9IDA7XG4gICAgICAgIF90aGlzLl9sYXN0Qm91bmRzSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX2JvdW5kc1JlY3QgPSBudWxsO1xuICAgICAgICBfdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsLCBjYWNoZWQgbWFzayBvZiB0aGUgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N8UElYSS5TcHJpdGV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWFzayA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2FkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgYWRkZWQgdG8uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyByZW1vdmVkIGZyb20gYSBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmVtb3ZlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHJlbW92ZWQgZnJvbS5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBUT0RPIC0gT3B0aW1pemF0aW9uIHBhc3MhXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgLy8gbXVsdGlwbHkgdGhlIGFscGhhcy4uXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiByZWN1cnNpdmVseSB1cGRhdGVzIHRyYW5zZm9ybSBvZiBhbGwgb2JqZWN0cyBmcm9tIHRoZSByb290IHRvIHRoaXMgb25lXG4gICAgICogaW50ZXJuYWwgZnVuY3Rpb24gZm9yIHRvTG9jYWwoKVxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIF9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Ll9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2tpcFVwZGF0ZSAtIHNldHRpbmcgdG8gdHJ1ZSB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAgICAgKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAgICAgKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdFxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIGdldEJvdW5kcyhza2lwVXBkYXRlLCByZWN0KSB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvdW5kc0lEICE9PSB0aGlzLl9sYXN0Qm91bmRzSUQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fYm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kc1JlY3QgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9ib3VuZHNSZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvblxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICAgICAgdmFyIHRyYW5zZm9ybVJlZiA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICB2YXIgcGFyZW50UmVmID0gdGhpcy5wYXJlbnQ7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybTtcblxuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKGZhbHNlLCByZWN0KTtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudFJlZjtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1SZWY7XG5cbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSBuZXcgUG9pbnQpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnRvR2xvYmFsID0gZnVuY3Rpb24gdG9HbG9iYWwocG9zaXRpb24sIHBvaW50KSB7XG4gICAgICAgIHZhciBza2lwVXBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgLy8gdGhpcyBwYXJlbnQgY2hlY2sgaXMgZm9yIGp1c3QgaW4gY2FzZSB0aGUgaXRlbSBpcyBhIHJvb3Qgb2JqZWN0LlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgd2UgbmVlZCB0byBnaXZlIGl0IGEgdGVtcG9yYXJ5IHBhcmVudCBzbyB0aGF0IGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gd29ya3MgY29ycmVjdGx5XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1haW5seSB0byBhdm9pZCBhIHBhcmVudCBjaGVjayBpbiB0aGUgbWFpbiBsb29wLiBFdmVyeSBsaXR0bGUgaGVscHMgZm9yIHBlcmZvcm1hbmNlIDopXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIGxvdFxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBsb2NhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QgcmVsYXRpdmUgdG8gYW5vdGhlciBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gW2Zyb21dIC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2FsY3VsYXRlIHRoZSBnbG9iYWwgcG9zaXRpb24gZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludClcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0xvY2FsID0gZnVuY3Rpb24gdG9Mb2NhbChwb3NpdGlvbiwgZnJvbSwgcG9pbnQsIHNraXBVcGRhdGUpIHtcbiAgICAgICAgaWYgKGZyb20pIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZnJvbS50b0dsb2JhbChwb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpbXBseSBhcHBseSB0aGUgbWF0cml4Li5cbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge31cbiAgICAvLyBPVkVSV1JJVEU7XG5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgO1xuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUucmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge31cbiAgICAvLyBPVkVSV1JJVEU7XG5cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFyZW50IENvbnRhaW5lciBvZiB0aGlzIERpc3BsYXlPYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBDb250YWluZXIgdG8gYWRkIHRoaXMgRGlzcGxheU9iamVjdCB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuQ29udGFpbmVyfSBUaGUgQ29udGFpbmVyIHRoYXQgdGhpcyBEaXNwbGF5T2JqZWN0IHdhcyBhZGRlZCB0b1xuICAgICAqL1xuICAgIDtcblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFBhcmVudCA9IGZ1bmN0aW9uIHNldFBhcmVudChjb250YWluZXIpIHtcbiAgICAgICAgaWYgKCFjb250YWluZXIgfHwgIWNvbnRhaW5lci5hZGRDaGlsZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRQYXJlbnQ6IEFyZ3VtZW50IG11c3QgYmUgYSBDb250YWluZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBzZXQgdGhlIHBvc2l0aW9uLCBzY2FsZSwgc2tldyBhbmQgcGl2b3QgYXQgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWD0xXSAtIFRoZSBYIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVk9MV0gLSBUaGUgWSBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdYPTBdIC0gVGhlIFggc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2tld1k9MF0gLSBUaGUgWSBza2V3IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwaXZvdFg9MF0gLSBUaGUgWCBwaXZvdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RZPTBdIC0gVGhlIFkgcGl2b3QgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybSgpIHtcbiAgICAgICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICB2YXIgc2NhbGVYID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuICAgICAgICB2YXIgc2NhbGVZID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAxO1xuICAgICAgICB2YXIgcm90YXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDA7XG4gICAgICAgIHZhciBza2V3WCA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcbiAgICAgICAgdmFyIHNrZXdZID0gYXJndW1lbnRzLmxlbmd0aCA+IDYgJiYgYXJndW1lbnRzWzZdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNl0gOiAwO1xuICAgICAgICB2YXIgcGl2b3RYID0gYXJndW1lbnRzLmxlbmd0aCA+IDcgJiYgYXJndW1lbnRzWzddICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbN10gOiAwO1xuICAgICAgICB2YXIgcGl2b3RZID0gYXJndW1lbnRzLmxlbmd0aCA+IDggJiYgYXJndW1lbnRzWzhdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbOF0gOiAwO1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHk7XG4gICAgICAgIHRoaXMuc2NhbGUueCA9ICFzY2FsZVggPyAxIDogc2NhbGVYO1xuICAgICAgICB0aGlzLnNjYWxlLnkgPSAhc2NhbGVZID8gMSA6IHNjYWxlWTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICB0aGlzLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB0aGlzLnBpdm90LnggPSBwaXZvdFg7XG4gICAgICAgIHRoaXMucGl2b3QueSA9IHBpdm90WTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmFzZSBkZXN0cm95IG1ldGhvZCBmb3IgZ2VuZXJpYyBkaXNwbGF5IG9iamVjdHMuIFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogcmVtb3ZlIHRoZSBkaXNwbGF5IG9iamVjdCBmcm9tIGl0cyBwYXJlbnQgQ29udGFpbmVyIGFzIHdlbGwgYXMgcmVtb3ZlXG4gICAgICogYWxsIGN1cnJlbnQgZXZlbnQgbGlzdGVuZXJzIGFuZCBpbnRlcm5hbCByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGEgRGlzcGxheU9iamVjdFxuICAgICAqIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3lgLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3VycmVudEJvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX21hc2sgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi54XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhEaXNwbGF5T2JqZWN0LCBbe1xuICAgICAgICBrZXk6ICdfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBEaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICd4JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi54O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHkgYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIHdvcmxkIChwYXJlbnQpIGZhY3RvcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd29ybGRUcmFuc2Zvcm0nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIGxvY2FsIGZhY3RvcnM6IHBvc2l0aW9uLCBzY2FsZSwgb3RoZXIgc3R1ZmZcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbG9jYWxUcmFuc2Zvcm0nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR8UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdwb3NpdGlvbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fFBJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2NhbGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5zY2FsZS5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZFxuICAgICAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR8UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdwaXZvdCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdm90O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBpdm90LmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBza2V3IGZhY3RvciBmb3IgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2tldycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNrZXc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2tldy5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyb3RhdGlvbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBvYmplY3QgaXMgZ2xvYmFsbHkgdmlzaWJsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3b3JsZFZpc2libGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcztcblxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmICghaXRlbS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbS5wYXJlbnQ7XG4gICAgICAgICAgICB9IHdoaWxlIChpdGVtKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyBhIG1hc2sgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LiBBIG1hc2sgaXMgYW4gb2JqZWN0IHRoYXQgbGltaXRzIHRoZSB2aXNpYmlsaXR5IG9mIGFuXG4gICAgICAgICAqIG9iamVjdCB0byB0aGUgc2hhcGUgb2YgdGhlIG1hc2sgYXBwbGllZCB0byBpdC4gSW4gUElYSSBhIHJlZ3VsYXIgbWFzayBtdXN0IGJlIGFcbiAgICAgICAgICogUElYSS5HcmFwaGljcyBvciBhIFBJWEkuU3ByaXRlIG9iamVjdC4gVGhpcyBhbGxvd3MgZm9yIG11Y2ggZmFzdGVyIG1hc2tpbmcgaW4gY2FudmFzIGFzIGl0XG4gICAgICAgICAqIHV0aWxpc2VzIHNoYXBlIGNsaXBwaW5nLiBUbyByZW1vdmUgYSBtYXNrLCBzZXQgdGhpcyBwcm9wZXJ0eSB0byBudWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdG9kbyBGb3IgdGhlIG1vbWVudCwgUElYSS5DYW52YXNSZW5kZXJlciBkb2Vzbid0IHN1cHBvcnQgUElYSS5TcHJpdGUgYXMgbWFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc3xQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21hc2snLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXNrO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzay5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrLmlzTWFzayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9tYXNrID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzay5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzay5pc01hc2sgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGZpbHRlcnMgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKiAqIElNUE9SVEFOVDogVGhpcyBpcyBhIHdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqIFRvIHJlbW92ZSBmaWx0ZXJzIHNpbXBseSBzZXQgdGhpcyBwcm9wZXJ0eSB0byAnbnVsbCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJbXX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZpbHRlcnMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWx0ZXJzICYmIHRoaXMuX2ZpbHRlcnMuc2xpY2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9maWx0ZXJzID0gdmFsdWUgJiYgdmFsdWUuc2xpY2UoKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEaXNwbGF5T2JqZWN0O1xufShfZXZlbnRlbWl0dGVyMi5kZWZhdWx0KTtcblxuLy8gcGVyZm9ybWFuY2UgaW5jcmVhc2UgdG8gYXZvaWQgdXNpbmcgY2FsbC4uICgxMHggZmFzdGVyKVxuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IERpc3BsYXlPYmplY3Q7XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtID0gRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGlzcGxheU9iamVjdC5qcy5tYXAiLCIvKipcbiAqIEV4dHJhY3RzIHRoZSBhdHRyaWJ1dGVzXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHVuaWZvcm1zIHtBcnJheX0gQG1hdCA/XG4gKiBAcmV0dXJuIGF0dHJpYnV0ZXMge09iamVjdH1cbiAqL1xudmFyIGdlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdCA9IGZ1bmN0aW9uKGdsLCB1bmlmb3JtRGF0YSlcbntcbiAgICAvLyB0aGlzIGlzIHRoZSBvYmplY3Qgd2Ugd2lsbCBiZSBzZW5kaW5nIGJhY2suXG4gICAgLy8gYW4gb2JqZWN0IGhpZXJhY2h5IHdpbGwgYmUgY3JlYXRlZCBmb3Igc3RydWN0c1xuICAgIHZhciB1bmlmb3JtcyA9IHtkYXRhOnt9fTtcblxuICAgIHVuaWZvcm1zLmdsID0gZ2w7XG5cbiAgICB2YXIgdW5pZm9ybUtleXM9IE9iamVjdC5rZXlzKHVuaWZvcm1EYXRhKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdW5pZm9ybUtleXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgZnVsbE5hbWUgPSB1bmlmb3JtS2V5c1tpXTtcblxuICAgICAgICB2YXIgbmFtZVRva2VucyA9IGZ1bGxOYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgIHZhciBuYW1lID0gbmFtZVRva2Vuc1tuYW1lVG9rZW5zLmxlbmd0aCAtIDFdO1xuXG5cbiAgICAgICAgdmFyIHVuaWZvcm1Hcm91cCA9IGdldFVuaWZvcm1Hcm91cChuYW1lVG9rZW5zLCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgdmFyIHVuaWZvcm0gPSAgdW5pZm9ybURhdGFbZnVsbE5hbWVdO1xuICAgICAgICB1bmlmb3JtR3JvdXAuZGF0YVtuYW1lXSA9IHVuaWZvcm07XG5cbiAgICAgICAgdW5pZm9ybUdyb3VwLmdsID0gZ2w7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHVuaWZvcm1Hcm91cCwgbmFtZSwge1xuICAgICAgICAgICAgZ2V0OiBnZW5lcmF0ZUdldHRlcihuYW1lKSxcbiAgICAgICAgICAgIHNldDogZ2VuZXJhdGVTZXR0ZXIobmFtZSwgdW5pZm9ybSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaWZvcm1zO1xufTtcblxudmFyIGdlbmVyYXRlR2V0dGVyID0gZnVuY3Rpb24obmFtZSlcbntcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbbmFtZV0udmFsdWU7XG4gICAgfTtcbn07XG5cbnZhciBHTFNMX1NJTkdMRV9TRVRURVJTID0ge1xuICAgIGZsb2F0OiBmdW5jdGlvbiBzZXRTaW5nbGVGbG9hdChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xZihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIHZlYzI6IGZ1bmN0aW9uIHNldFNpbmdsZVZlYzIoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMmYobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSk7IH0sXG4gICAgdmVjMzogZnVuY3Rpb24gc2V0U2luZ2xlVmVjMyhnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zZihsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSk7IH0sXG4gICAgdmVjNDogZnVuY3Rpb24gc2V0U2luZ2xlVmVjNChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm00Zihsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSwgdmFsdWVbM10pOyB9LFxuXG4gICAgaW50OiBmdW5jdGlvbiBzZXRTaW5nbGVJbnQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWkobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBpdmVjMjogZnVuY3Rpb24gc2V0U2luZ2xlSXZlYzIoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMmkobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSk7IH0sXG4gICAgaXZlYzM6IGZ1bmN0aW9uIHNldFNpbmdsZUl2ZWMzKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdKTsgfSxcbiAgICBpdmVjNDogZnVuY3Rpb24gc2V0U2luZ2xlSXZlYzQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGkobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0sIHZhbHVlWzNdKTsgfSxcblxuICAgIGJvb2w6IGZ1bmN0aW9uIHNldFNpbmdsZUJvb2woZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWkobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBidmVjMjogZnVuY3Rpb24gc2V0U2luZ2xlQnZlYzIoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMmkobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSk7IH0sXG4gICAgYnZlYzM6IGZ1bmN0aW9uIHNldFNpbmdsZUJ2ZWMzKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdKTsgfSxcbiAgICBidmVjNDogZnVuY3Rpb24gc2V0U2luZ2xlQnZlYzQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGkobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0sIHZhbHVlWzNdKTsgfSxcblxuICAgIG1hdDI6IGZ1bmN0aW9uIHNldFNpbmdsZU1hdDIoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtTWF0cml4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdmFsdWUpOyB9LFxuICAgIG1hdDM6IGZ1bmN0aW9uIHNldFNpbmdsZU1hdDMoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtTWF0cml4M2Z2KGxvY2F0aW9uLCBmYWxzZSwgdmFsdWUpOyB9LFxuICAgIG1hdDQ6IGZ1bmN0aW9uIHNldFNpbmdsZU1hdDQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdmFsdWUpOyB9LFxuXG4gICAgc2FtcGxlcjJEOiBmdW5jdGlvbiBzZXRTaW5nbGVTYW1wbGVyMkQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWkobG9jYXRpb24sIHZhbHVlKTsgfSxcbn07XG5cbnZhciBHTFNMX0FSUkFZX1NFVFRFUlMgPSB7XG4gICAgZmxvYXQ6IGZ1bmN0aW9uIHNldEZsb2F0QXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWZ2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgdmVjMjogZnVuY3Rpb24gc2V0VmVjMkFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJmdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIHZlYzM6IGZ1bmN0aW9uIHNldFZlYzNBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zZnYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICB2ZWM0OiBmdW5jdGlvbiBzZXRWZWM0QXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGZ2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaW50OiBmdW5jdGlvbiBzZXRJbnRBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBpdmVjMjogZnVuY3Rpb24gc2V0SXZlYzJBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0yaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBpdmVjMzogZnVuY3Rpb24gc2V0SXZlYzNBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBpdmVjNDogZnVuY3Rpb24gc2V0SXZlYzRBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm00aXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBib29sOiBmdW5jdGlvbiBzZXRCb29sQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgYnZlYzI6IGZ1bmN0aW9uIHNldEJ2ZWMyQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgYnZlYzM6IGZ1bmN0aW9uIHNldEJ2ZWMzQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgYnZlYzQ6IGZ1bmN0aW9uIHNldEJ2ZWM0QXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgc2FtcGxlcjJEOiBmdW5jdGlvbiBzZXRTYW1wbGVyMkRBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbn07XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU2V0dGVyKG5hbWUsIHVuaWZvcm0pXG57XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGF0YVtuYW1lXS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB2YXIgbG9jYXRpb24gPSB0aGlzLmRhdGFbbmFtZV0ubG9jYXRpb247XG4gICAgICAgIGlmICh1bmlmb3JtLnNpemUgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEdMU0xfU0lOR0xFX1NFVFRFUlNbdW5pZm9ybS50eXBlXSh0aGlzLmdsLCBsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZ2xzbFNldEFycmF5KGdsLCBsb2NhdGlvbiwgdHlwZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIEdMU0xfQVJSQVlfU0VUVEVSU1t1bmlmb3JtLnR5cGVdKHRoaXMuZ2wsIGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRVbmlmb3JtR3JvdXAobmFtZVRva2VucywgdW5pZm9ybSlcbntcbiAgICB2YXIgY3VyID0gdW5pZm9ybTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZVRva2Vucy5sZW5ndGggLSAxOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgbyA9IGN1cltuYW1lVG9rZW5zW2ldXSB8fCB7ZGF0YTp7fX07XG4gICAgICAgIGN1cltuYW1lVG9rZW5zW2ldXSA9IG87XG4gICAgICAgIGN1ciA9IG87XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cjtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGdlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdDtcbiIsIi8qKlxuICogU2V0cyB0aGUgZmxvYXQgcHJlY2lzaW9uIG9uIHRoZSBzaGFkZXIuIElmIHRoZSBwcmVjaXNpb24gaXMgYWxyZWFkeSBwcmVzZW50IHRoaXMgZnVuY3Rpb24gd2lsbCBkbyBub3RoaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjICAgICAgIHRoZSBzaGFkZXIgc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJlY2lzaW9uIFRoZSBmbG9hdCBwcmVjaXNpb24gb2YgdGhlIHNoYWRlci4gT3B0aW9ucyBhcmUgJ2xvd3AnLCAnbWVkaXVtcCcgb3IgJ2hpZ2hwJy5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IG1vZGlmaWVkIHNoYWRlciBzb3VyY2VcbiAqL1xudmFyIHNldFByZWNpc2lvbiA9IGZ1bmN0aW9uKHNyYywgcHJlY2lzaW9uKVxue1xuICAgIGlmKHNyYy5zdWJzdHJpbmcoMCwgOSkgIT09ICdwcmVjaXNpb24nKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICdwcmVjaXNpb24gJyArIHByZWNpc2lvbiArICcgZmxvYXQ7XFxuJyArIHNyYztcbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXRQcmVjaXNpb247XG4iLCIvKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ30gVHlwZSBvZiB2YWx1ZVxuICogQHBhcmFtIHNpemUge051bWJlcn1cbiAqL1xudmFyIGRlZmF1bHRWYWx1ZSA9IGZ1bmN0aW9uKHR5cGUsIHNpemUpIFxue1xuICAgIHN3aXRjaCAodHlwZSlcbiAgICB7XG4gICAgICAgIGNhc2UgJ2Zsb2F0JzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzInOiBcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICd2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICd2ZWM0JzogICAgIFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoNCAqIHNpemUpO1xuICAgICAgICAgICAgXG4gICAgICAgIGNhc2UgJ2ludCc6XG4gICAgICAgIGNhc2UgJ3NhbXBsZXIyRCc6XG4gICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICBjYXNlICdpdmVjMic6ICAgXG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaXZlYzQnOiBcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYm9vbCc6ICAgICBcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjYXNlICdidmVjMic6XG5cbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoIDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdidmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdidmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdtYXQyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDFdKTtcblxuICAgICAgICBjYXNlICdtYXQzJzogXG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAxLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIDFdKTtcblxuICAgICAgICBjYXNlICdtYXQ0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAwLCAwLCAxXSk7XG4gICAgfVxufTtcblxudmFyIGJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uKHNpemUpXG57XG4gICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KHNpemUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgXG4gICAge1xuICAgICAgICBhcnJheVtpXSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdFZhbHVlO1xuIiwidmFyIG1hcFR5cGUgPSByZXF1aXJlKCcuL21hcFR5cGUnKTtcbnZhciBkZWZhdWx0VmFsdWUgPSByZXF1aXJlKCcuL2RlZmF1bHRWYWx1ZScpO1xuXG4vKipcbiAqIEV4dHJhY3RzIHRoZSB1bmlmb3Jtc1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSBwcm9ncmFtIHtXZWJHTFByb2dyYW19IFRoZSBzaGFkZXIgcHJvZ3JhbSB0byBnZXQgdGhlIHVuaWZvcm1zIGZyb21cbiAqIEByZXR1cm4gdW5pZm9ybXMge09iamVjdH1cbiAqL1xudmFyIGV4dHJhY3RVbmlmb3JtcyA9IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKVxue1xuXHR2YXIgdW5pZm9ybXMgPSB7fTtcblxuICAgIHZhciB0b3RhbFVuaWZvcm1zID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFVuaWZvcm1zOyBpKyspXG4gICAge1xuICAgIFx0dmFyIHVuaWZvcm1EYXRhID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpKTtcbiAgICBcdHZhciBuYW1lID0gdW5pZm9ybURhdGEubmFtZS5yZXBsYWNlKC9cXFsuKj9cXF0vLCBcIlwiKTtcbiAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCB1bmlmb3JtRGF0YS50eXBlICk7XG5cbiAgICBcdHVuaWZvcm1zW25hbWVdID0ge1xuICAgIFx0XHR0eXBlOnR5cGUsXG4gICAgXHRcdHNpemU6dW5pZm9ybURhdGEuc2l6ZSxcbiAgICBcdFx0bG9jYXRpb246Z2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIG5hbWUpLFxuICAgIFx0XHR2YWx1ZTpkZWZhdWx0VmFsdWUodHlwZSwgdW5pZm9ybURhdGEuc2l6ZSlcbiAgICBcdH07XG4gICAgfVxuXG5cdHJldHVybiB1bmlmb3Jtcztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXh0cmFjdFVuaWZvcm1zO1xuIiwiLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbnZhciBtYXBTaXplID0gZnVuY3Rpb24odHlwZSkgXG57IFxuICAgIHJldHVybiBHTFNMX1RPX1NJWkVbdHlwZV07XG59O1xuXG5cbnZhciBHTFNMX1RPX1NJWkUgPSB7XG4gICAgJ2Zsb2F0JzogICAgMSxcbiAgICAndmVjMic6ICAgICAyLFxuICAgICd2ZWMzJzogICAgIDMsXG4gICAgJ3ZlYzQnOiAgICAgNCxcblxuICAgICdpbnQnOiAgICAgIDEsXG4gICAgJ2l2ZWMyJzogICAgMixcbiAgICAnaXZlYzMnOiAgICAzLFxuICAgICdpdmVjNCc6ICAgIDQsXG5cbiAgICAnYm9vbCc6ICAgICAxLFxuICAgICdidmVjMic6ICAgIDIsXG4gICAgJ2J2ZWMzJzogICAgMyxcbiAgICAnYnZlYzQnOiAgICA0LFxuXG4gICAgJ21hdDInOiAgICAgNCxcbiAgICAnbWF0Myc6ICAgICA5LFxuICAgICdtYXQ0JzogICAgIDE2LFxuXG4gICAgJ3NhbXBsZXIyRCc6ICAxXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcFNpemU7XG4iLCJcbnZhciBtYXBUeXBlID0gcmVxdWlyZSgnLi9tYXBUeXBlJyk7XG52YXIgbWFwU2l6ZSA9IHJlcXVpcmUoJy4vbWFwU2l6ZScpO1xuXG4vKipcbiAqIEV4dHJhY3RzIHRoZSBhdHRyaWJ1dGVzXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHByb2dyYW0ge1dlYkdMUHJvZ3JhbX0gVGhlIHNoYWRlciBwcm9ncmFtIHRvIGdldCB0aGUgYXR0cmlidXRlcyBmcm9tXG4gKiBAcmV0dXJuIGF0dHJpYnV0ZXMge09iamVjdH1cbiAqL1xudmFyIGV4dHJhY3RBdHRyaWJ1dGVzID0gZnVuY3Rpb24oZ2wsIHByb2dyYW0pXG57XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSB7fTtcblxuICAgIHZhciB0b3RhbEF0dHJpYnV0ZXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9BVFRSSUJVVEVTKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxBdHRyaWJ1dGVzOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgYXR0cmliRGF0YSA9IGdsLmdldEFjdGl2ZUF0dHJpYihwcm9ncmFtLCBpKTtcbiAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCBhdHRyaWJEYXRhLnR5cGUpO1xuXG4gICAgICAgIGF0dHJpYnV0ZXNbYXR0cmliRGF0YS5uYW1lXSA9IHtcbiAgICAgICAgICAgIHR5cGU6dHlwZSxcbiAgICAgICAgICAgIHNpemU6bWFwU2l6ZSh0eXBlKSxcbiAgICAgICAgICAgIGxvY2F0aW9uOmdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYkRhdGEubmFtZSksXG4gICAgICAgICAgICAvL1RPRE8gLSBtYWtlIGFuIGF0dHJpYnV0ZSBvYmplY3RcbiAgICAgICAgICAgIHBvaW50ZXI6IHBvaW50ZXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXR0cmlidXRlcztcbn07XG5cbnZhciBwb2ludGVyID0gZnVuY3Rpb24odHlwZSwgbm9ybWFsaXplZCwgc3RyaWRlLCBzdGFydCl7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5sb2NhdGlvbilcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMubG9jYXRpb24sdGhpcy5zaXplLCB0eXBlIHx8IGdsLkZMT0FULCBub3JtYWxpemVkIHx8IGZhbHNlLCBzdHJpZGUgfHwgMCwgc3RhcnQgfHwgMCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4dHJhY3RBdHRyaWJ1dGVzO1xuIiwiXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHQge1dlYkdMUHJvZ3JhbX1cbiAqIEBwYXJhbSB2ZXJ0ZXhTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gZnJhZ21lbnRTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIGZyYWdtZW50IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBhdHRyaWJ1dGVMb2NhdGlvbnMge09iamVjdH0gQW4gYXR0cmlidXRlIGxvY2F0aW9uIG1hcCB0aGF0IGxldHMgeW91IG1hbnVhbGx5IHNldCB0aGUgYXR0cmlidXRlIGxvY2F0aW9uc1xuICogQHJldHVybiB7V2ViR0xQcm9ncmFtfSB0aGUgc2hhZGVyIHByb2dyYW1cbiAqL1xudmFyIGNvbXBpbGVQcm9ncmFtID0gZnVuY3Rpb24oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIGF0dHJpYnV0ZUxvY2F0aW9ucylcbntcbiAgICB2YXIgZ2xWZXJ0U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U3JjKTtcbiAgICB2YXIgZ2xGcmFnU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNyYyk7XG5cbiAgICB2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcblxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbEZyYWdTaGFkZXIpO1xuXG4gICAgLy8gb3B0aW9uYWxseSwgc2V0IHRoZSBhdHRyaWJ1dGVzIG1hbnVhbGx5IGZvciB0aGUgcHJvZ3JhbSByYXRoZXIgdGhhbiBsZXR0aW5nIFdlYkdMIGRlY2lkZS4uXG4gICAgaWYoYXR0cmlidXRlTG9jYXRpb25zKVxuICAgIHtcbiAgICAgICAgZm9yKHZhciBpIGluIGF0dHJpYnV0ZUxvY2F0aW9ucylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYnV0ZUxvY2F0aW9uc1tpXSwgaSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuXG4gICAgLy8gaWYgbGlua2luZyBmYWlscywgdGhlbiBsb2cgYW5kIGNsZWFudXBcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGl4aS5qcyBFcnJvcjogQ291bGQgbm90IGluaXRpYWxpemUgc2hhZGVyLicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdnbC5WQUxJREFURV9TVEFUVVMnLCBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLlZBTElEQVRFX1NUQVRVUykpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdnbC5nZXRFcnJvcigpJywgZ2wuZ2V0RXJyb3IoKSk7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBwcm9ncmFtIGluZm8gbG9nLCBsb2cgaXRcbiAgICAgICAgaWYgKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pICE9PSAnJylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQaXhpLmpzIFdhcm5pbmc6IGdsLmdldFByb2dyYW1JbmZvTG9nKCknLCBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBwcm9ncmFtID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBjbGVhbiB1cCBzb21lIHNoYWRlcnNcbiAgICBnbC5kZWxldGVTaGFkZXIoZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5kZWxldGVTaGFkZXIoZ2xGcmFnU2hhZGVyKTtcblxuICAgIHJldHVybiBwcm9ncmFtO1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHQge1dlYkdMUHJvZ3JhbX1cbiAqIEBwYXJhbSB0eXBlIHtOdW1iZXJ9IHRoZSB0eXBlLCBjYW4gYmUgZWl0aGVyIFZFUlRFWF9TSEFERVIgb3IgRlJBR01FTlRfU0hBREVSXG4gKiBAcGFyYW0gdmVydGV4U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHJldHVybiB7V2ViR0xTaGFkZXJ9IHRoZSBzaGFkZXJcbiAqL1xudmFyIGNvbXBpbGVTaGFkZXIgPSBmdW5jdGlvbiAoZ2wsIHR5cGUsIHNyYylcbntcbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuXG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc3JjKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBzaGFkZXI7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbXBpbGVQcm9ncmFtO1xuIiwiXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0XG4gKiBAcGFyYW0gd2lkdGgge251bWJlcn0gdGhlIHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gaGVpZ2h0IHtudW1iZXJ9IHRoZSBoZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSBmb3JtYXQge251bWJlcn0gdGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZS4gZGVmYXVsdHMgdG8gZ2wuUkdCQVxuICogQHBhcmFtIHR5cGUge251bWJlcn0gdGhlIGdsIHR5cGUgb2YgdGhlIHRleHR1cmUuIGRlZmF1bHRzIHRvIGdsLlVOU0lHTkVEX0JZVEVcbiAqL1xudmFyIFRleHR1cmUgPSBmdW5jdGlvbihnbCwgd2lkdGgsIGhlaWdodCwgZm9ybWF0LCB0eXBlKVxue1xuXHQvKipcblx0ICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcblx0ICpcblx0ICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuXHQgKi9cblx0dGhpcy5nbCA9IGdsO1xuXG5cblx0LyoqXG5cdCAqIFRoZSBXZWJHTCB0ZXh0dXJlXG5cdCAqXG5cdCAqIEBtZW1iZXIge1dlYkdMVGV4dHVyZX1cblx0ICovXG5cdHRoaXMudGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcblxuXHQvKipcblx0ICogSWYgbWlwbWFwcGluZyB3YXMgdXNlZCBmb3IgdGhpcyB0ZXh0dXJlLCBlbmFibGUgYW5kIGRpc2FibGUgd2l0aCBlbmFibGVNaXBtYXAoKVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtCb29sZWFufVxuXHQgKi9cblx0Ly8gc29tZSBzZXR0aW5ncy4uXG5cdHRoaXMubWlwbWFwID0gZmFsc2U7XG5cblxuXHQvKipcblx0ICogU2V0IHRvIHRydWUgdG8gZW5hYmxlIHByZS1tdWx0aXBsaWVkIGFscGhhXG5cdCAqXG5cdCAqIEBtZW1iZXIge0Jvb2xlYW59XG5cdCAqL1xuXHR0aGlzLnByZW11bHRpcGx5QWxwaGEgPSBmYWxzZTtcblxuXHQvKipcblx0ICogVGhlIHdpZHRoIG9mIHRleHR1cmVcblx0ICpcblx0ICogQG1lbWJlciB7TnVtYmVyfVxuXHQgKi9cblx0dGhpcy53aWR0aCA9IHdpZHRoIHx8IC0xO1xuXHQvKipcblx0ICogVGhlIGhlaWdodCBvZiB0ZXh0dXJlXG5cdCAqXG5cdCAqIEBtZW1iZXIge051bWJlcn1cblx0ICovXG5cdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IC0xO1xuXG5cdC8qKlxuXHQgKiBUaGUgcGl4ZWwgZm9ybWF0IG9mIHRoZSB0ZXh0dXJlLiBkZWZhdWx0cyB0byBnbC5SR0JBXG5cdCAqXG5cdCAqIEBtZW1iZXIge051bWJlcn1cblx0ICovXG5cdHRoaXMuZm9ybWF0ID0gZm9ybWF0IHx8IGdsLlJHQkE7XG5cblx0LyoqXG5cdCAqIFRoZSBnbCB0eXBlIG9mIHRoZSB0ZXh0dXJlLiBkZWZhdWx0cyB0byBnbC5VTlNJR05FRF9CWVRFXG5cdCAqXG5cdCAqIEBtZW1iZXIge051bWJlcn1cblx0ICovXG5cdHRoaXMudHlwZSA9IHR5cGUgfHwgZ2wuVU5TSUdORURfQllURTtcblxuXG59O1xuXG4vKipcbiAqIFVwbG9hZHMgdGhpcyB0ZXh0dXJlIHRvIHRoZSBHUFVcbiAqIEBwYXJhbSBzb3VyY2Uge0hUTUxJbWFnZUVsZW1lbnR8SW1hZ2VEYXRhfEhUTUxWaWRlb0VsZW1lbnR9IHRoZSBzb3VyY2UgaW1hZ2Ugb2YgdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24oc291cmNlKVxue1xuXHR0aGlzLmJpbmQoKTtcblxuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cblx0Z2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCB0aGlzLnByZW11bHRpcGx5QWxwaGEpO1xuXG5cdHZhciBuZXdXaWR0aCA9IHNvdXJjZS52aWRlb1dpZHRoIHx8IHNvdXJjZS53aWR0aDtcblx0dmFyIG5ld0hlaWdodCA9IHNvdXJjZS52aWRlb0hlaWdodCB8fCBzb3VyY2UuaGVpZ2h0O1xuXG5cdGlmKG5ld0hlaWdodCAhPT0gdGhpcy5oZWlnaHQgfHwgbmV3V2lkdGggIT09IHRoaXMud2lkdGgpXG5cdHtcblx0XHRnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIHRoaXMuZm9ybWF0LCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCBzb3VyY2UpO1xuXHR9XG5cdGVsc2Vcblx0e1xuICAgIFx0Z2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCBzb3VyY2UpO1xuXHR9XG5cblx0Ly8gaWYgdGhlIHNvdXJjZSBpcyBhIHZpZGVvLCB3ZSBuZWVkIHRvIHVzZSB0aGUgdmlkZW9XaWR0aCAvIHZpZGVvSGVpZ2h0IHByb3BlcnRpZXMgYXMgd2lkdGggLyBoZWlnaHQgd2lsbCBiZSBpbmNvcnJlY3QuXG5cdHRoaXMud2lkdGggPSBuZXdXaWR0aDtcblx0dGhpcy5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cbn07XG5cbnZhciBGTE9BVElOR19QT0lOVF9BVkFJTEFCTEUgPSBmYWxzZTtcblxuLyoqXG4gKiBVc2UgYSBkYXRhIHNvdXJjZSBhbmQgdXBsb2FkcyB0aGlzIHRleHR1cmUgdG8gdGhlIEdQVVxuICogQHBhcmFtIGRhdGEge1R5cGVkQXJyYXl9IHRoZSBkYXRhIHRvIHVwbG9hZCB0byB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHdpZHRoIHtudW1iZXJ9IHRoZSBuZXcgd2lkdGggb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSBoZWlnaHQge251bWJlcn0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUudXBsb2FkRGF0YSA9IGZ1bmN0aW9uKGRhdGEsIHdpZHRoLCBoZWlnaHQpXG57XG5cdHRoaXMuYmluZCgpO1xuXG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblxuXHRpZihkYXRhIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KVxuXHR7XG5cdFx0aWYoIUZMT0FUSU5HX1BPSU5UX0FWQUlMQUJMRSlcblx0XHR7XG5cdFx0XHR2YXIgZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfZmxvYXRcIik7XG5cblx0XHRcdGlmKGV4dClcblx0XHRcdHtcblx0XHRcdFx0RkxPQVRJTkdfUE9JTlRfQVZBSUxBQkxFID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdmbG9hdGluZyBwb2ludCB0ZXh0dXJlcyBub3QgYXZhaWxhYmxlJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy50eXBlID0gZ2wuRkxPQVQ7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdFx0Ly8gVE9ETyBzdXBwb3J0IGZvciBvdGhlciB0eXBlc1xuXHRcdHRoaXMudHlwZSA9IHRoaXMudHlwZSB8fCBnbC5VTlNJR05FRF9CWVRFO1xuXHR9XG5cblx0Ly8gd2hhdCB0eXBlIG9mIGRhdGE/XG5cdGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgdGhpcy5wcmVtdWx0aXBseUFscGhhKTtcblxuXG5cdGlmKHdpZHRoICE9PSB0aGlzLndpZHRoIHx8IGhlaWdodCAhPT0gdGhpcy5oZWlnaHQpXG5cdHtcblx0XHRnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIHRoaXMuZm9ybWF0LCAgd2lkdGgsIGhlaWdodCwgMCwgdGhpcy5mb3JtYXQsIHRoaXMudHlwZSwgZGF0YSB8fCBudWxsKTtcblx0fVxuXHRlbHNlXG5cdHtcblx0XHRnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIHdpZHRoLCBoZWlnaHQsIHRoaXMuZm9ybWF0LCB0aGlzLnR5cGUsIGRhdGEgfHwgbnVsbCk7XG5cdH1cblxuXHR0aGlzLndpZHRoID0gd2lkdGg7XG5cdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG5cbi8vXHR0ZXhTdWJJbWFnZTJEXG59O1xuXG4vKipcbiAqIEJpbmRzIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gIGxvY2F0aW9uXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbihsb2NhdGlvbilcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHRpZihsb2NhdGlvbiAhPT0gdW5kZWZpbmVkKVxuXHR7XG5cdFx0Z2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcblx0fVxuXG5cdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG59O1xuXG4vKipcbiAqIFVuYmluZHMgdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIGxpbmVhciB7Qm9vbGVhbn0gaWYgd2Ugd2FudCB0byB1c2UgbGluZWFyIGZpbHRlcmluZyBvciBuZWFyZXN0IG5laWdoYm91ciBpbnRlcnBvbGF0aW9uXG4gKi9cblRleHR1cmUucHJvdG90eXBlLm1pbkZpbHRlciA9IGZ1bmN0aW9uKCBsaW5lYXIgKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdGlmKHRoaXMubWlwbWFwKVxuXHR7XG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGxpbmVhciA/IGdsLkxJTkVBUl9NSVBNQVBfTElORUFSIDogZ2wuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCk7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGxpbmVhciA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuXHR9XG59O1xuXG4vKipcbiAqIEBwYXJhbSBsaW5lYXIge0Jvb2xlYW59IGlmIHdlIHdhbnQgdG8gdXNlIGxpbmVhciBmaWx0ZXJpbmcgb3IgbmVhcmVzdCBuZWlnaGJvdXIgaW50ZXJwb2xhdGlvblxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5tYWdGaWx0ZXIgPSBmdW5jdGlvbiggbGluZWFyIClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgbGluZWFyID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XG59O1xuXG4vKipcbiAqIEVuYWJsZXMgbWlwbWFwcGluZ1xuICovXG5UZXh0dXJlLnByb3RvdHlwZS5lbmFibGVNaXBtYXAgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0dGhpcy5taXBtYXAgPSB0cnVlO1xuXG5cdGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIGxpbmVhciBmaWx0ZXJpbmdcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlTGluZWFyU2NhbGluZyA9IGZ1bmN0aW9uKClcbntcblx0dGhpcy5taW5GaWx0ZXIodHJ1ZSk7XG5cdHRoaXMubWFnRmlsdGVyKHRydWUpO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIG5lYXJlc3QgbmVpZ2hib3VyIGludGVycG9sYXRpb25cbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlTmVhcmVzdFNjYWxpbmcgPSBmdW5jdGlvbigpXG57XG5cdHRoaXMubWluRmlsdGVyKGZhbHNlKTtcblx0dGhpcy5tYWdGaWx0ZXIoZmFsc2UpO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIGNsYW1waW5nIG9uIHRoZSB0ZXh0dXJlIHNvIFdlYkdMIHdpbGwgbm90IHJlcGVhdCBpdFxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5lbmFibGVXcmFwQ2xhbXAgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG59O1xuXG4vKipcbiAqIEVuYWJsZSB0aWxpbmcgb24gdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlV3JhcFJlcGVhdCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5SRVBFQVQpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLlJFUEVBVCk7XG59O1xuXG5UZXh0dXJlLnByb3RvdHlwZS5lbmFibGVXcmFwTWlycm9yUmVwZWF0ID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLk1JUlJPUkVEX1JFUEVBVCk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuTUlSUk9SRURfUkVQRUFUKTtcbn07XG5cblxuLyoqXG4gKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblx0Ly9UT0RPXG5cdGdsLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKTtcbn07XG5cbi8qKlxuICogQHN0YXRpY1xuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHRcbiAqIEBwYXJhbSBzb3VyY2Uge0hUTUxJbWFnZUVsZW1lbnR8SW1hZ2VEYXRhfSB0aGUgc291cmNlIGltYWdlIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gcHJlbXVsdGlwbHlBbHBoYSB7Qm9vbGVhbn0gSWYgd2Ugd2FudCB0byB1c2UgcHJlLW11bHRpcGxpZWQgYWxwaGFcbiAqL1xuVGV4dHVyZS5mcm9tU291cmNlID0gZnVuY3Rpb24oZ2wsIHNvdXJjZSwgcHJlbXVsdGlwbHlBbHBoYSlcbntcblx0dmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZShnbCk7XG5cdHRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA9IHByZW11bHRpcGx5QWxwaGEgfHwgZmFsc2U7XG5cdHRleHR1cmUudXBsb2FkKHNvdXJjZSk7XG5cblx0cmV0dXJuIHRleHR1cmU7XG59O1xuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0XG4gKiBAcGFyYW0gZGF0YSB7VHlwZWRBcnJheX0gdGhlIGRhdGEgdG8gdXBsb2FkIHRvIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gd2lkdGgge251bWJlcn0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIGhlaWdodCB7bnVtYmVyfSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICovXG5UZXh0dXJlLmZyb21EYXRhID0gZnVuY3Rpb24oZ2wsIGRhdGEsIHdpZHRoLCBoZWlnaHQpXG57XG5cdC8vY29uc29sZS5sb2coZGF0YSwgd2lkdGgsIGhlaWdodCk7XG5cdHZhciB0ZXh0dXJlID0gbmV3IFRleHR1cmUoZ2wpO1xuXHR0ZXh0dXJlLnVwbG9hZERhdGEoZGF0YSwgd2lkdGgsIGhlaWdodCk7XG5cblx0cmV0dXJuIHRleHR1cmU7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gVGV4dHVyZTtcbiIsIi8vIHZhciBHTF9NQVAgPSB7fTtcblxuLyoqXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dFxuICogQHBhcmFtIGF0dHJpYnMgeyp9XG4gKiBAcGFyYW0gc3RhdGUgeyp9XG4gKi9cbnZhciBzZXRWZXJ0ZXhBdHRyaWJBcnJheXMgPSBmdW5jdGlvbiAoZ2wsIGF0dHJpYnMsIHN0YXRlKVxue1xuICAgIHZhciBpO1xuICAgIGlmKHN0YXRlKVxuICAgIHtcbiAgICAgICAgdmFyIHRlbXBBdHRyaWJTdGF0ZSA9IHN0YXRlLnRlbXBBdHRyaWJTdGF0ZSxcbiAgICAgICAgICAgIGF0dHJpYlN0YXRlID0gc3RhdGUuYXR0cmliU3RhdGU7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRlbXBBdHRyaWJTdGF0ZS5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGVtcEF0dHJpYlN0YXRlW2ldID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBhdHRyaWJzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhdHRyaWJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wQXR0cmliU3RhdGVbYXR0cmlic1tpXS5hdHRyaWJ1dGUubG9jYXRpb25dID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhdHRyaWJTdGF0ZS5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGF0dHJpYlN0YXRlW2ldICE9PSB0ZW1wQXR0cmliU3RhdGVbaV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmliU3RhdGVbaV0gPSB0ZW1wQXR0cmliU3RhdGVbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuYXR0cmliU3RhdGVbaV0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhdHRyaWJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYXR0cmliID0gYXR0cmlic1tpXTtcbiAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGF0dHJpYi5hdHRyaWJ1dGUubG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXRWZXJ0ZXhBdHRyaWJBcnJheXM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfTWF0cml4ID0gcmVxdWlyZSgnLi9NYXRyaXgnKTtcblxudmFyIF9NYXRyaXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWF0cml4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHV4ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDFdOyAvLyBZb3VyIGZyaWVuZGx5IG5laWdoYm91ciBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EaWhlZHJhbF9ncm91cCBvZiBvcmRlciAxNlxuXG52YXIgdXkgPSBbMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG52YXIgdnggPSBbMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG52YXIgdnkgPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMV07XG52YXIgdGVtcE1hdHJpY2VzID0gW107XG5cbnZhciBtdWwgPSBbXTtcblxuZnVuY3Rpb24gc2lnbnVtKHgpIHtcbiAgICBpZiAoeCA8IDApIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpZiAoeCA+IDApIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSBbXTtcblxuICAgICAgICBtdWwucHVzaChyb3cpO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7IGorKykge1xuICAgICAgICAgICAgdmFyIF91eCA9IHNpZ251bSh1eFtpXSAqIHV4W2pdICsgdnhbaV0gKiB1eVtqXSk7XG4gICAgICAgICAgICB2YXIgX3V5ID0gc2lnbnVtKHV5W2ldICogdXhbal0gKyB2eVtpXSAqIHV5W2pdKTtcbiAgICAgICAgICAgIHZhciBfdnggPSBzaWdudW0odXhbaV0gKiB2eFtqXSArIHZ4W2ldICogdnlbal0pO1xuICAgICAgICAgICAgdmFyIF92eSA9IHNpZ251bSh1eVtpXSAqIHZ4W2pdICsgdnlbaV0gKiB2eVtqXSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgMTY7IGsrKykge1xuICAgICAgICAgICAgICAgIGlmICh1eFtrXSA9PT0gX3V4ICYmIHV5W2tdID09PSBfdXkgJiYgdnhba10gPT09IF92eCAmJiB2eVtrXSA9PT0gX3Z5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5wdXNoKGspO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgMTY7IF9pKyspIHtcbiAgICAgICAgdmFyIG1hdCA9IG5ldyBfTWF0cml4Mi5kZWZhdWx0KCk7XG5cbiAgICAgICAgbWF0LnNldCh1eFtfaV0sIHV5W19pXSwgdnhbX2ldLCB2eVtfaV0sIDAsIDApO1xuICAgICAgICB0ZW1wTWF0cmljZXMucHVzaChtYXQpO1xuICAgIH1cbn1cblxuaW5pdCgpO1xuXG4vKipcbiAqIEltcGxlbWVudHMgRGloZWRyYWwgR3JvdXAgRF84LCBzZWUgW2dyb3VwIEQ0XXtAbGluayBodHRwOi8vbWF0aHdvcmxkLndvbGZyYW0uY29tL0RpaGVkcmFsR3JvdXBENC5odG1sfSxcbiAqIEQ4IGlzIHRoZSBzYW1lIGJ1dCB3aXRoIGRpYWdvbmFscy4gVXNlZCBmb3IgdGV4dHVyZSByb3RhdGlvbnMuXG4gKlxuICogVmVjdG9yIHhYKGkpLCB4WShpKSBpcyBVLWF4aXMgb2Ygc3ByaXRlIHdpdGggcm90YXRpb24gaVxuICogVmVjdG9yIHlZKGkpLCB5WShpKSBpcyBWLWF4aXMgb2Ygc3ByaXRlIHdpdGggcm90YXRpb24gaVxuICogUm90YXRpb25zOiAwIGdyYWQgKDApLCA5MCBncmFkICgyKSwgMTgwIGdyYWQgKDQpLCAyNzAgZ3JhZCAoNilcbiAqIE1pcnJvcnM6IHZlcnRpY2FsICg4KSwgbWFpbiBkaWFnb25hbCAoMTApLCBob3Jpem9udGFsICgxMiksIHJldmVyc2UgZGlhZ29uYWwgKDE0KVxuICogVGhpcyBpcyB0aGUgc21hbGwgcGFydCBvZiBnYW1lb2Zib21icy5jb20gcG9ydGFsIHN5c3RlbS4gSXQgd29ya3MuXG4gKlxuICogQGF1dGhvciBJdmFuIEBpdmFucG9wZWx5c2hldlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JvdXBEOCA9IHtcbiAgICBFOiAwLFxuICAgIFNFOiAxLFxuICAgIFM6IDIsXG4gICAgU1c6IDMsXG4gICAgVzogNCxcbiAgICBOVzogNSxcbiAgICBOOiA2LFxuICAgIE5FOiA3LFxuICAgIE1JUlJPUl9WRVJUSUNBTDogOCxcbiAgICBNSVJST1JfSE9SSVpPTlRBTDogMTIsXG4gICAgdVg6IGZ1bmN0aW9uIHVYKGluZCkge1xuICAgICAgICByZXR1cm4gdXhbaW5kXTtcbiAgICB9LFxuICAgIHVZOiBmdW5jdGlvbiB1WShpbmQpIHtcbiAgICAgICAgcmV0dXJuIHV5W2luZF07XG4gICAgfSxcbiAgICB2WDogZnVuY3Rpb24gdlgoaW5kKSB7XG4gICAgICAgIHJldHVybiB2eFtpbmRdO1xuICAgIH0sXG4gICAgdlk6IGZ1bmN0aW9uIHZZKGluZCkge1xuICAgICAgICByZXR1cm4gdnlbaW5kXTtcbiAgICB9LFxuICAgIGludjogZnVuY3Rpb24gaW52KHJvdGF0aW9uKSB7XG4gICAgICAgIGlmIChyb3RhdGlvbiAmIDgpIHtcbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbiAmIDE1O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIC1yb3RhdGlvbiAmIDc7XG4gICAgfSxcbiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkge1xuICAgICAgICByZXR1cm4gbXVsW3JvdGF0aW9uU2Vjb25kXVtyb3RhdGlvbkZpcnN0XTtcbiAgICB9LFxuICAgIHN1YjogZnVuY3Rpb24gc3ViKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7XG4gICAgICAgIHJldHVybiBtdWxbcm90YXRpb25TZWNvbmRdW0dyb3VwRDguaW52KHJvdGF0aW9uRmlyc3QpXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyAxODAgZGVncmVlcyB0byByb3RhdGlvbi4gQ29tbXV0YXRpdmUgb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gcm90YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHJvdGF0ZWQgbnVtYmVyXG4gICAgICovXG4gICAgcm90YXRlMTgwOiBmdW5jdGlvbiByb3RhdGUxODAocm90YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uIF4gNDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGlyZWN0aW9uIG9mIG1haW4gdmVjdG9yIGNhbiBiZSBob3Jpem9udGFsLCB2ZXJ0aWNhbCBvciBkaWFnb25hbC5cbiAgICAgKiBTb21lIG9iamVjdHMgd29yayB3aXRoIHZlcnRpY2FsIGRpcmVjdGlvbnMgZGlmZmVyZW50LlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBkaXJlY3Rpb24gaXMgdmVydGljYWxcbiAgICAgKi9cbiAgICBpc1ZlcnRpY2FsOiBmdW5jdGlvbiBpc1ZlcnRpY2FsKHJvdGF0aW9uKSB7XG4gICAgICAgIHJldHVybiAocm90YXRpb24gJiAzKSA9PT0gMjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHkgLSBUT0RPXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRPRE9cbiAgICAgKi9cbiAgICBieURpcmVjdGlvbjogZnVuY3Rpb24gYnlEaXJlY3Rpb24oZHgsIGR5KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeCkgKiAyIDw9IE1hdGguYWJzKGR5KSkge1xuICAgICAgICAgICAgaWYgKGR5ID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5OO1xuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGR5KSAqIDIgPD0gTWF0aC5hYnMoZHgpKSB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguVztcbiAgICAgICAgfSBlbHNlIGlmIChkeSA+IDApIHtcbiAgICAgICAgICAgIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguU1c7XG4gICAgICAgIH0gZWxzZSBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5ORTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBHcm91cEQ4Lk5XO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIZWxwcyBzcHJpdGUgdG8gY29tcGVuc2F0ZSB0ZXh0dXJlIHBhY2tlciByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBzcHJpdGUgd29ybGQgbWF0cml4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIHJvdGF0aW9uIGZhY3RvciB0byB1c2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKi9cbiAgICBtYXRyaXhBcHBlbmRSb3RhdGlvbkludjogZnVuY3Rpb24gbWF0cml4QXBwZW5kUm90YXRpb25JbnYobWF0cml4LCByb3RhdGlvbikge1xuICAgICAgICB2YXIgdHggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciB0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcblxuICAgICAgICAvLyBQYWNrZXIgdXNlZCBcInJvdGF0aW9uXCIsIHdlIHVzZSBcImludihyb3RhdGlvbilcIlxuICAgICAgICB2YXIgbWF0ID0gdGVtcE1hdHJpY2VzW0dyb3VwRDguaW52KHJvdGF0aW9uKV07XG5cbiAgICAgICAgbWF0LnR4ID0gdHg7XG4gICAgICAgIG1hdC50eSA9IHR5O1xuICAgICAgICBtYXRyaXguYXBwZW5kKG1hdCk7XG4gICAgfVxufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR3JvdXBEODtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyb3VwRDguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICogQW4gb2JzZXJ2YWJsZSBwb2ludCBpcyBhIHBvaW50IHRoYXQgdHJpZ2dlcnMgYSBjYWxsYmFjayB3aGVuIHRoZSBwb2ludCdzIHBvc2l0aW9uIGlzIGNoYW5nZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgT2JzZXJ2YWJsZVBvaW50ID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gY2FsbGJhY2sgd2hlbiBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNjb3BlIC0gb3duZXIgb2YgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZVBvaW50KGNiLCBzY29wZSkge1xuICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9ic2VydmFibGVQb2ludCk7XG5cbiAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgIHRoaXMuX3kgPSB5O1xuXG4gICAgICAgIHRoaXMuY2IgPSBjYjtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAgICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cblxuXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQoeCwgeSkge1xuICAgICAgICB2YXIgX3ggPSB4IHx8IDA7XG4gICAgICAgIHZhciBfeSA9IHkgfHwgKHkgIT09IDAgPyBfeCA6IDApO1xuXG4gICAgICAgIGlmICh0aGlzLl94ICE9PSBfeCB8fCB0aGlzLl95ICE9PSBfeSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IF94O1xuICAgICAgICAgICAgdGhpcy5feSA9IF95O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgZGF0YSBmcm9tIGFub3RoZXIgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludH0gcG9pbnQgLSBwb2ludCB0byBjb3B5IGZyb21cbiAgICAgKi9cblxuXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwb2ludCkge1xuICAgICAgICBpZiAodGhpcy5feCAhPT0gcG9pbnQueCB8fCB0aGlzLl95ICE9PSBwb2ludC55KSB7XG4gICAgICAgICAgICB0aGlzLl94ID0gcG9pbnQueDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBwb2ludC55O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoT2JzZXJ2YWJsZVBvaW50LCBbe1xuICAgICAgICBrZXk6IFwieFwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl94ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJ5XCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3kgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBPYnNlcnZhYmxlUG9pbnQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE9ic2VydmFibGVQb2ludDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGVQb2ludC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUaW1lTGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHBlciBmcmFtZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaW1lTGltaXRlciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhNaWxsaXNlY29uZHMgLSBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdGhhdCBjYW4gYmUgc3BlbnQgcHJlcGFyaW5nIGl0ZW1zIGVhY2ggZnJhbWUuXG4gICAqL1xuICBmdW5jdGlvbiBUaW1lTGltaXRlcihtYXhNaWxsaXNlY29uZHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGltZUxpbWl0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRoYXQgY2FuIGJlIHNwZW50IHByZXBhcmluZyBpdGVtcyBlYWNoIGZyYW1lLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5tYXhNaWxsaXNlY29uZHMgPSBtYXhNaWxsaXNlY29uZHM7XG4gICAgLyoqXG4gICAgICogVGhlIHN0YXJ0IHRpbWUgb2YgdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZnJhbWVTdGFydCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICAgKi9cblxuXG4gIFRpbWVMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gYmVnaW5GcmFtZSgpIHtcbiAgICB0aGlzLmZyYW1lU3RhcnQgPSBEYXRlLm5vdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAqL1xuXG5cbiAgVGltZUxpbWl0ZXIucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZCA9IGZ1bmN0aW9uIGFsbG93ZWRUb1VwbG9hZCgpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuZnJhbWVTdGFydCA8IHRoaXMubWF4TWlsbGlzZWNvbmRzO1xuICB9O1xuXG4gIHJldHVybiBUaW1lTGltaXRlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGltZUxpbWl0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaW1lTGltaXRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfQmFzZVByZXBhcmUyID0gcmVxdWlyZSgnLi4vQmFzZVByZXBhcmUnKTtcblxudmFyIF9CYXNlUHJlcGFyZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlUHJlcGFyZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBDQU5WQVNfU1RBUlRfU0laRSA9IDE2O1xuXG4vKipcbiAqIFRoZSBwcmVwYXJlIG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB1cGxvYWQgY29udGVudCB0byB0aGUgR1BVXG4gKiBUaGlzIGNhbm5vdCBiZSBkb25lIGRpcmVjdGx5IGZvciBDYW52YXMgbGlrZSBpbiBXZWJHTCwgYnV0IHRoZSBlZmZlY3QgY2FuIGJlIGFjaGlldmVkIGJ5IGRyYXdpbmdcbiAqIHRleHR1cmVzIHRvIGFuIG9mZmxpbmUgY2FudmFzLlxuICogVGhpcyBkcmF3IGNhbGwgd2lsbCBmb3JjZSB0aGUgdGV4dHVyZSB0byBiZSBtb3ZlZCBvbnRvIHRoZSBHUFUuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLnByZXBhcmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZVxuICogQG1lbWJlcm9mIFBJWEkucHJlcGFyZVxuICovXG5cbnZhciBDYW52YXNQcmVwYXJlID0gZnVuY3Rpb24gKF9CYXNlUHJlcGFyZSkge1xuICAgIF9pbmhlcml0cyhDYW52YXNQcmVwYXJlLCBfQmFzZVByZXBhcmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzUHJlcGFyZShyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzUHJlcGFyZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0Jhc2VQcmVwYXJlLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy51cGxvYWRIb29rSGVscGVyID0gX3RoaXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogQW4gb2ZmbGluZSBjYW52YXMgdG8gcmVuZGVyIHRleHR1cmVzIHRvXG4gICAgICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICovXG4gICAgICAgIF90aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBfdGhpcy5jYW52YXMud2lkdGggPSBDQU5WQVNfU1RBUlRfU0laRTtcbiAgICAgICAgX3RoaXMuY2FudmFzLmhlaWdodCA9IENBTlZBU19TVEFSVF9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29udGV4dCB0byB0aGUgY2FudmFzXG4gICAgICAgICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdHggPSBfdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICAvLyBBZGQgdGV4dHVyZXMgdG8gdXBsb2FkXG4gICAgICAgIF90aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRCYXNlVGV4dHVyZXMpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbiwgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzUHJlcGFyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIF9CYXNlUHJlcGFyZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmN0eCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhbnZhc1ByZXBhcmU7XG59KF9CYXNlUHJlcGFyZTMuZGVmYXVsdCk7XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5UZXh0dXJlIG9iamVjdHMgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBwcmVwYXJlIC0gSW5zdGFuY2Ugb2YgQ2FudmFzUHJlcGFyZVxuICogQHBhcmFtIHsqfSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNQcmVwYXJlO1xuZnVuY3Rpb24gdXBsb2FkQmFzZVRleHR1cmVzKHByZXBhcmUsIGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuQmFzZVRleHR1cmUpIHtcbiAgICAgICAgdmFyIGltYWdlID0gaXRlbS5zb3VyY2U7XG5cbiAgICAgICAgLy8gU29tZXRpbWVzIGltYWdlcyAobGlrZSBhdGxhcyBpbWFnZXMpIHJlcG9ydCBhIHNpemUgb2YgemVybywgY2F1c2luZyBlcnJvcnMgb24gd2luZG93cyBwaG9uZS5cbiAgICAgICAgLy8gU28gaWYgdGhlIHdpZHRoIG9yIGhlaWdodCBpcyBlcXVhbCB0byB6ZXJvIHRoZW4gdXNlIHRoZSBjYW52YXMgc2l6ZVxuICAgICAgICAvLyBPdGhlcndpc2UgdXNlIHdoYXRldmVyIGlzIHNtYWxsZXIsIHRoZSBpbWFnZSBkaW1lbnNpb25zIG9yIHRoZSBjYW52YXMgZGltZW5zaW9ucy5cbiAgICAgICAgdmFyIGltYWdlV2lkdGggPSBpbWFnZS53aWR0aCA9PT0gMCA/IHByZXBhcmUuY2FudmFzLndpZHRoIDogTWF0aC5taW4ocHJlcGFyZS5jYW52YXMud2lkdGgsIGltYWdlLndpZHRoKTtcbiAgICAgICAgdmFyIGltYWdlSGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0ID09PSAwID8gcHJlcGFyZS5jYW52YXMuaGVpZ2h0IDogTWF0aC5taW4ocHJlcGFyZS5jYW52YXMuaGVpZ2h0LCBpbWFnZS5oZWlnaHQpO1xuXG4gICAgICAgIC8vIE9ubHkgYSBzbWFsbCBzdWJzZWN0aW9ucyBpcyByZXF1aXJlZCB0byBiZSBkcmF3biB0byBoYXZlIHRoZSB3aG9sZSB0ZXh0dXJlIHVwbG9hZGVkIHRvIHRoZSBHUFVcbiAgICAgICAgLy8gQSBzbWFsbGVyIGRyYXcgY2FuIGJlIGZhc3Rlci5cbiAgICAgICAgcHJlcGFyZS5jdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBpbWFnZVdpZHRoLCBpbWFnZUhlaWdodCwgMCwgMCwgcHJlcGFyZS5jYW52YXMud2lkdGgsIHByZXBhcmUuY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb3JlLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwcmVwYXJlJywgQ2FudmFzUHJlcGFyZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNQcmVwYXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9CYXNlUHJlcGFyZTIgPSByZXF1aXJlKCcuLi9CYXNlUHJlcGFyZScpO1xuXG52YXIgX0Jhc2VQcmVwYXJlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VQcmVwYXJlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVS5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbnZhciBXZWJHTFByZXBhcmUgPSBmdW5jdGlvbiAoX0Jhc2VQcmVwYXJlKSB7XG4gICAgX2luaGVyaXRzKFdlYkdMUHJlcGFyZSwgX0Jhc2VQcmVwYXJlKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gV2ViR0xQcmVwYXJlKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJHTFByZXBhcmUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9CYXNlUHJlcGFyZS5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMudXBsb2FkSG9va0hlbHBlciA9IF90aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIC8vIEFkZCB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdXBsb2FkXG4gICAgICAgIF90aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEdyYXBoaWNzKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEJhc2VUZXh0dXJlcyk7XG4gICAgICAgIF90aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRHcmFwaGljcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gV2ViR0xQcmVwYXJlO1xufShfQmFzZVByZXBhcmUzLmRlZmF1bHQpO1xuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLlRleHR1cmUgb2JqZWN0cyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTFByZXBhcmU7XG5mdW5jdGlvbiB1cGxvYWRCYXNlVGV4dHVyZXMocmVuZGVyZXIsIGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuQmFzZVRleHR1cmUpIHtcbiAgICAgICAgLy8gaWYgdGhlIHRleHR1cmUgYWxyZWFkeSBoYXMgYSBHTCB0ZXh0dXJlLCB0aGVuIHRoZSB0ZXh0dXJlIGhhcyBiZWVuIHByZXBhcmVkIG9yIHJlbmRlcmVkXG4gICAgICAgIC8vIGJlZm9yZSBub3cuIElmIHRoZSB0ZXh0dXJlIGNoYW5nZWQsIHRoZW4gdGhlIGNoYW5nZXIgc2hvdWxkIGJlIGNhbGxpbmcgdGV4dHVyZS51cGRhdGUoKSB3aGljaFxuICAgICAgICAvLyByZXVwbG9hZHMgdGhlIHRleHR1cmUgd2l0aG91dCBuZWVkIGZvciBwcmVwYXJpbmcgaXQgYWdhaW5cbiAgICAgICAgaWYgKCFpdGVtLl9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZU1hbmFnZXIudXBkYXRlVGV4dHVyZShpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLkdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkR3JhcGhpY3MocmVuZGVyZXIsIGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuR3JhcGhpY3MpIHtcbiAgICAgICAgLy8gaWYgdGhlIGl0ZW0gaXMgbm90IGRpcnR5IGFuZCBhbHJlYWR5IGhhcyB3ZWJnbCBkYXRhLCB0aGVuIGl0IGdvdCBwcmVwYXJlZCBvciByZW5kZXJlZFxuICAgICAgICAvLyBiZWZvcmUgbm93IGFuZCB3ZSBzaG91bGRuJ3Qgd2FzdGUgdGltZSB1cGRhdGluZyBpdCBhZ2FpblxuICAgICAgICBpZiAoaXRlbS5kaXJ0eSB8fCBpdGVtLmNsZWFyRGlydHkgfHwgIWl0ZW0uX3dlYkdMW3JlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnVwZGF0ZUdyYXBoaWNzKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBncmFwaGljcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLkdyYXBoaWNzIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRHcmFwaGljcyhpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5HcmFwaGljcykge1xuICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwcmVwYXJlJywgV2ViR0xQcmVwYXJlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkdMUHJlcGFyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xQcmVwYXJlID0gcmVxdWlyZSgnLi93ZWJnbC9XZWJHTFByZXBhcmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd3ZWJnbCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUHJlcGFyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzUHJlcGFyZSA9IHJlcXVpcmUoJy4vY2FudmFzL0NhbnZhc1ByZXBhcmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjYW52YXMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNQcmVwYXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9CYXNlUHJlcGFyZSA9IHJlcXVpcmUoJy4vQmFzZVByZXBhcmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCYXNlUHJlcGFyZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VQcmVwYXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Db3VudExpbWl0ZXIgPSByZXF1aXJlKCcuL2xpbWl0ZXJzL0NvdW50TGltaXRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NvdW50TGltaXRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvdW50TGltaXRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGltZUxpbWl0ZXIgPSByZXF1aXJlKCcuL2xpbWl0ZXJzL1RpbWVMaW1pdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGltZUxpbWl0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaW1lTGltaXRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbnZhciBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzID0gcmVxdWlyZSgnLi4vLi4vY29yZS91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHMnKTtcblxudmFyIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlSW5kaWNlc0ZvclF1YWRzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0XG4gKiB0aGV5IG5vdyBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZUJ1ZmZlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVCdWZmZXIuamF2YVxuICovXG5cbi8qKlxuICogVGhlIHBhcnRpY2xlIGJ1ZmZlciBtYW5hZ2VzIHRoZSBzdGF0aWMgYW5kIGR5bmFtaWMgYnVmZmVycyBmb3IgYSBwYXJ0aWNsZSBjb250YWluZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXX0gZHluYW1pY1Byb3BlcnR5RmxhZ3MgLSBGbGFncyBmb3Igd2hpY2ggcHJvcGVydGllcyBhcmUgZHluYW1pYy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSBiYXRjaC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZUJ1ZmZlcihnbCwgcHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIHNpemUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnRpY2xlQnVmZmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgcGFydGljbGVzIHRoZSBidWZmZXIgY2FuIGhvbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIHRoZSBwcm9wZXJ0aWVzIHRoYXQgYXJlIGR5bmFtaWMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgc3RhdGljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgLy8gTWFrZSBjb3B5IG9mIHByb3BlcnRpZXMgb2JqZWN0IHNvIHRoYXQgd2hlbiB3ZSBlZGl0IHRoZSBvZmZzZXQgaXQgZG9lc24ndFxuICAgICAgICAgICAgLy8gY2hhbmdlIGFsbCBvdGhlciBpbnN0YW5jZXMgb2YgdGhlIG9iamVjdCBsaXRlcmFsXG4gICAgICAgICAgICBwcm9wZXJ0eSA9IHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6IHByb3BlcnR5LmF0dHJpYnV0ZSxcbiAgICAgICAgICAgICAgICBzaXplOiBwcm9wZXJ0eS5zaXplLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgICAgICB1bnNpZ25lZEJ5dGU6IHByb3BlcnR5LnVuc2lnbmVkQnl0ZSxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHByb3BlcnR5Lm9mZnNldFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKGR5bmFtaWNQcm9wZXJ0eUZsYWdzW2ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuaW5pdEJ1ZmZlcnMgPSBmdW5jdGlvbiBpbml0QnVmZmVycygpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGR5bmFtaWNPZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgaW5kaWNlcyBvZiB0aGUgZ2VvbWV0cnkgKHF1YWRzKSB0byBkcmF3XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gKDAsIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyLmRlZmF1bHQpKHRoaXMuc2l6ZSk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCwgdGhpcy5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG5cbiAgICAgICAgICAgIHByb3BlcnR5Lm9mZnNldCA9IGR5bmFtaWNPZmZzZXQ7XG4gICAgICAgICAgICBkeW5hbWljT2Zmc2V0ICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkeW5CdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5keW5hbWljU3RyaWRlICogNCAqIDQpO1xuXG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBkeW5CdWZmZXIsIGdsLlNUUkVBTV9EUkFXKTtcblxuICAgICAgICAvLyBzdGF0aWMgLy9cbiAgICAgICAgdmFyIHN0YXRpY09mZnNldCA9IDA7XG5cbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW19pXTtcblxuICAgICAgICAgICAgX3Byb3BlcnR5Lm9mZnNldCA9IHN0YXRpY09mZnNldDtcbiAgICAgICAgICAgIHN0YXRpY09mZnNldCArPSBfcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlICs9IF9wcm9wZXJ0eS5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5zdGF0aWNTdHJpZGUgKiA0ICogNCk7XG5cbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgc3RhdEJ1ZmZlciwgZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIHRoaXMudmFvID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KGdsKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKTtcblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytfaTIpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcGVydHkyID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tfaTJdO1xuXG4gICAgICAgICAgICBpZiAoX3Byb3BlcnR5Mi51bnNpZ25lZEJ5dGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhby5hZGRBdHRyaWJ1dGUodGhpcy5keW5hbWljQnVmZmVyLCBfcHJvcGVydHkyLmF0dHJpYnV0ZSwgZ2wuVU5TSUdORURfQllURSwgdHJ1ZSwgdGhpcy5keW5hbWljU3RyaWRlICogNCwgX3Byb3BlcnR5Mi5vZmZzZXQgKiA0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YW8uYWRkQXR0cmlidXRlKHRoaXMuZHluYW1pY0J1ZmZlciwgX3Byb3BlcnR5Mi5hdHRyaWJ1dGUsIGdsLkZMT0FULCBmYWxzZSwgdGhpcy5keW5hbWljU3RyaWRlICogNCwgX3Byb3BlcnR5Mi5vZmZzZXQgKiA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsrX2kzKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BlcnR5MyA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tfaTNdO1xuXG4gICAgICAgICAgICBpZiAoX3Byb3BlcnR5My51bnNpZ25lZEJ5dGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhby5hZGRBdHRyaWJ1dGUodGhpcy5zdGF0aWNCdWZmZXIsIF9wcm9wZXJ0eTMuYXR0cmlidXRlLCBnbC5VTlNJR05FRF9CWVRFLCB0cnVlLCB0aGlzLnN0YXRpY1N0cmlkZSAqIDQsIF9wcm9wZXJ0eTMub2Zmc2V0ICogNCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvLmFkZEF0dHJpYnV0ZSh0aGlzLnN0YXRpY0J1ZmZlciwgX3Byb3BlcnR5My5hdHRyaWJ1dGUsIGdsLkZMT0FULCBmYWxzZSwgdGhpcy5zdGF0aWNTdHJpZGUgKiA0LCBfcHJvcGVydHkzLm9mZnNldCAqIDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIGR5bmFtaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIG51bWJlciB0byB1cGxvYWQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS51cGxvYWREeW5hbWljID0gZnVuY3Rpb24gdXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgcHJvcGVydHkudW5zaWduZWRCeXRlID8gdGhpcy5keW5hbWljRGF0YVVpbnQzMiA6IHRoaXMuZHluYW1pY0RhdGEsIHRoaXMuZHluYW1pY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlci51cGxvYWQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgc3RhdGljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkU3RhdGljID0gZnVuY3Rpb24gdXBsb2FkU3RhdGljKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgcHJvcGVydHkudW5zaWduZWRCeXRlID8gdGhpcy5zdGF0aWNEYXRhVWludDMyIDogdGhpcy5zdGF0aWNEYXRhLCB0aGlzLnN0YXRpY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyLnVwbG9hZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVCdWZmZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGFydGljbGVCdWZmZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBhcnRpY2xlQnVmZmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVCdWZmZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1NoYWRlcjIgPSByZXF1aXJlKCcuLi8uLi9jb3JlL1NoYWRlcicpO1xuXG52YXIgX1NoYWRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZVNoYWRlciA9IGZ1bmN0aW9uIChfU2hhZGVyKSB7XG4gICAgX2luaGVyaXRzKFBhcnRpY2xlU2hhZGVyLCBfU2hhZGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IGdsIC0gVGhlIHdlYmdsIHNoYWRlciBtYW5hZ2VyIHRoaXMgc2hhZGVyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZVNoYWRlcihnbCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljbGVTaGFkZXIpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfU2hhZGVyLmNhbGwodGhpcywgZ2wsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgWydhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247JywgJ2F0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7JywgJ2F0dHJpYnV0ZSB2ZWM0IGFDb2xvcjsnLCAnYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uQ29vcmQ7JywgJ2F0dHJpYnV0ZSBmbG9hdCBhUm90YXRpb247JywgJ3VuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4OycsICd1bmlmb3JtIHZlYzQgdUNvbG9yOycsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgICBmbG9hdCB4ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIGNvcyhhUm90YXRpb24pIC0gKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIHNpbihhUm90YXRpb24pOycsICcgICBmbG9hdCB5ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIHNpbihhUm90YXRpb24pICsgKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIGNvcyhhUm90YXRpb24pOycsICcgICB2ZWMyIHYgPSB2ZWMyKHgsIHkpOycsICcgICB2ID0gdiArIGFQb3NpdGlvbkNvb3JkOycsICcgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHYsIDEuMCkpLnh5LCAwLjAsIDEuMCk7JywgJyAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkOycsICcgICB2Q29sb3IgPSBhQ29sb3IgKiB1Q29sb3I7JywgJ30nXS5qb2luKCdcXG4nKSxcbiAgICAgICAgLy8gaGVsbG9cbiAgICAgICAgWyd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjsnLCAnICBnbF9GcmFnQ29sb3IgPSBjb2xvcjsnLCAnfSddLmpvaW4oJ1xcbicpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFBhcnRpY2xlU2hhZGVyO1xufShfU2hhZGVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGFydGljbGVTaGFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZVNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfUGFydGljbGVTaGFkZXIgPSByZXF1aXJlKCcuL1BhcnRpY2xlU2hhZGVyJyk7XG5cbnZhciBfUGFydGljbGVTaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFydGljbGVTaGFkZXIpO1xuXG52YXIgX1BhcnRpY2xlQnVmZmVyID0gcmVxdWlyZSgnLi9QYXJ0aWNsZUJ1ZmZlcicpO1xuXG52YXIgX1BhcnRpY2xlQnVmZmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcnRpY2xlQnVmZmVyKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXQgdGhleSBub3dcbiAqIHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlUmVuZGVyZXIuamF2YVxuICovXG5cbi8qKlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZVJlbmRlcmVyID0gZnVuY3Rpb24gKF9jb3JlJE9iamVjdFJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKFBhcnRpY2xlUmVuZGVyZXIsIF9jb3JlJE9iamVjdFJlbmRlcmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHNwcml0ZSBiYXRjaCB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljbGVSZW5kZXJlcik7XG5cbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgLy8gYW5kIG1heCBudW1iZXIgb2YgZWxlbWVudCBpbiB0aGUgaW5kZXggYnVmZmVyIGlzIDE2Mzg0ICogNiA9IDk4MzA0XG4gICAgICAgIC8vIENyZWF0aW5nIGEgZnVsbCBpbmRleCBidWZmZXIsIG92ZXJoZWFkIGlzIDk4MzA0ICogMiA9IDE5NktvXG4gICAgICAgIC8vIGxldCBudW1JbmRpY2VzID0gOTgzMDQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlciB0aGF0IGlzIHVzZWQgaWYgYSBzcHJpdGUgZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnByb3BlcnRpZXMgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnRlbXBNYXRyaXggPSBuZXcgY29yZS5NYXRyaXgoKTtcblxuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZXJlIGlzIGEgV2ViR0wgY29udGV4dCBjaGFuZ2VcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcblxuICAgICAgICAvLyBzZXR1cCBkZWZhdWx0IHNoYWRlclxuICAgICAgICB0aGlzLnNoYWRlciA9IG5ldyBfUGFydGljbGVTaGFkZXIyLmRlZmF1bHQoZ2wpO1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IFtcbiAgICAgICAgLy8gdmVydGljZXNEYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sXG4gICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVmVydGljZXMsXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gcG9zaXRpb25EYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hUG9zaXRpb25Db29yZCxcbiAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRQb3NpdGlvbixcbiAgICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9LFxuICAgICAgICAvLyByb3RhdGlvbkRhdGFcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmlidXRlOiB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFSb3RhdGlvbixcbiAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRSb3RhdGlvbixcbiAgICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9LFxuICAgICAgICAvLyB1dnNEYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hVGV4dHVyZUNvb3JkLFxuICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFV2cyxcbiAgICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9LFxuICAgICAgICAvLyB0aW50RGF0YVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYUNvbG9yLFxuICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgIHVuc2lnbmVkQnl0ZTogdHJ1ZSxcbiAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFRpbnQsXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIG5ldyBwYXJ0aWNsZSBiYXRjaC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRTaGFkZXIodGhpcy5zaGFkZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBwYXJ0aWNsZSBjb250YWluZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgIHZhciBtYXhTaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0b3RhbENoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGlmICh0b3RhbENoaWxkcmVuID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodG90YWxDaGlsZHJlbiA+IG1heFNpemUpIHtcbiAgICAgICAgICAgIHRvdGFsQ2hpbGRyZW4gPSBtYXhTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBjb250YWluZXIuX2dsQnVmZmVyc1tyZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFidWZmZXJzKSB7XG4gICAgICAgICAgICBidWZmZXJzID0gY29udGFpbmVyLl9nbEJ1ZmZlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdID0gdGhpcy5nZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRCbGVuZE1vZGUoY29yZS51dGlscy5jb3JyZWN0QmxlbmRNb2RlKGNvbnRhaW5lci5ibGVuZE1vZGUsIGJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSkpO1xuXG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHZhciBtID0gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmNvcHkodGhpcy50ZW1wTWF0cml4KTtcblxuICAgICAgICBtLnByZXBlbmQocmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5wcm9qZWN0aW9uTWF0cml4KTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gbS50b0FycmF5KHRydWUpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IGNvcmUudXRpbHMucHJlbXVsdGlwbHlSZ2JhKGNvbnRhaW5lci50aW50UmdiLCBjb250YWluZXIud29ybGRBbHBoYSwgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgdGV4dHVyZSBpcyBib3VuZC4uXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gcmVuZGVyZXIuYmluZFRleHR1cmUoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIHZhciB1cGRhdGVTdGF0aWMgPSBmYWxzZTtcblxuICAgICAgICAvLyBub3cgbGV0cyB1cGxvYWQgYW5kIHJlbmRlciB0aGUgYnVmZmVycy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsQ2hpbGRyZW47IGkgKz0gYmF0Y2hTaXplLCBqICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSB0b3RhbENoaWxkcmVuIC0gaTtcblxuICAgICAgICAgICAgaWYgKGFtb3VudCA+IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgICAgIGFtb3VudCA9IGJhdGNoU2l6ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5lci5hdXRvUmVzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2godGhpcy5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1tqXTtcblxuICAgICAgICAgICAgLy8gd2UgYWx3YXlzIHVwbG9hZCB0aGUgZHluYW1pY1xuICAgICAgICAgICAgYnVmZmVyLnVwbG9hZER5bmFtaWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG5cbiAgICAgICAgICAgIHZhciBiaWQgPSBjb250YWluZXIuX2J1ZmZlclVwZGF0ZUlEc1tqXSB8fCAwO1xuXG4gICAgICAgICAgICB1cGRhdGVTdGF0aWMgPSB1cGRhdGVTdGF0aWMgfHwgYnVmZmVyLl91cGRhdGVJRCA8IGJpZDtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAodXBkYXRlU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl91cGRhdGVJRCA9IGNvbnRhaW5lci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYmluZCB0aGUgYnVmZmVyXG4gICAgICAgICAgICByZW5kZXJlci5iaW5kVmFvKGJ1ZmZlci52YW8pO1xuICAgICAgICAgICAgYnVmZmVyLnZhby5kcmF3KGdsLlRSSUFOR0xFUywgYW1vdW50ICogNik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgcGFydGljbGUgYnVmZmVyIGZvciBlYWNoIGNoaWxkIGluIHRoZSBjb250YWluZXIgd2Ugd2FudCB0byByZW5kZXIgYW5kIHVwZGF0ZXMgaW50ZXJuYWwgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyW119IFRoZSBidWZmZXJzXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlQnVmZmVycyA9IGZ1bmN0aW9uIGdlbmVyYXRlQnVmZmVycyhjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdmFyIHNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSArPSBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMucHVzaChuZXcgX1BhcnRpY2xlQnVmZmVyMi5kZWZhdWx0KGdsLCB0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBtb3JlIHBhcnRpY2xlIGJ1ZmZlciwgYmVjYXVzZSBjb250YWluZXIgaGFzIGF1dG9SZXNpemUgZmVhdHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyfSBnZW5lcmF0ZWQgYnVmZmVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciA9IGZ1bmN0aW9uIF9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuXG4gICAgICAgIHJldHVybiBuZXcgX1BhcnRpY2xlQnVmZmVyMi5kZWZhdWx0KGdsLCB0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB2ZXJ0aWNpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciB2ZXJ0aWNlcyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFZlcnRpY2VzID0gZnVuY3Rpb24gdXBsb2FkVmVydGljZXMoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciB3MCA9IDA7XG4gICAgICAgIHZhciB3MSA9IDA7XG4gICAgICAgIHZhciBoMCA9IDA7XG4gICAgICAgIHZhciBoMSA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICAgICAgdmFyIHN4ID0gc3ByaXRlLnNjYWxlLng7XG4gICAgICAgICAgICB2YXIgc3kgPSBzcHJpdGUuc2NhbGUueTtcbiAgICAgICAgICAgIHZhciB0cmltID0gdGV4dHVyZS50cmltO1xuICAgICAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG5cbiAgICAgICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBleHRyYSBzcGFjZSBiZWZvcmUgdHJhbnNmb3JtaW5nIHRoZSBzcHJpdGUgY29vcmRzLi5cbiAgICAgICAgICAgICAgICB3MSA9IHRyaW0ueCAtIHNwcml0ZS5hbmNob3IueCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG5cbiAgICAgICAgICAgICAgICBoMSA9IHRyaW0ueSAtIHNwcml0ZS5hbmNob3IueSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdzAgPSBvcmlnLndpZHRoICogKDEgLSBzcHJpdGUuYW5jaG9yLngpO1xuICAgICAgICAgICAgICAgIHcxID0gb3JpZy53aWR0aCAqIC1zcHJpdGUuYW5jaG9yLng7XG5cbiAgICAgICAgICAgICAgICBoMCA9IG9yaWcuaGVpZ2h0ICogKDEgLSBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICAgICAgICAgIGgxID0gb3JpZy5oZWlnaHQgKiAtc3ByaXRlLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gaDEgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IGgxICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gdzAgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDIgKyAxXSA9IGgwICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDMgKyAxXSA9IGgwICogc3k7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcG9zaXRpb25zIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkUG9zaXRpb24gPSBmdW5jdGlvbiB1cGxvYWRQb3NpdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNwcml0ZVBvc2l0aW9uID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLnBvc2l0aW9uO1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDIgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDMgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRSb3RhdGlvbiA9IGZ1bmN0aW9uIHVwbG9hZFJvdGF0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlUm90YXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucm90YXRpb247XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IHNwcml0ZVJvdGF0aW9uO1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVXZzID0gZnVuY3Rpb24gdXBsb2FkVXZzKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5fdGV4dHVyZS5fdXZzO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZVV2cykge1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSB0ZXh0dXJlVXZzLngwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gdGV4dHVyZVV2cy55MDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gdGV4dHVyZVV2cy55MTtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gdGV4dHVyZVV2cy54MjtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSB0ZXh0dXJlVXZzLnkyO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSB0ZXh0dXJlVXZzLngzO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDMgKyAxXSA9IHRleHR1cmVVdnMueTM7XG5cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyB5b3Uga25vdyB0aGlzIGNhbiBiZSBlYXNpZXIhXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMl0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDIgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRUaW50ID0gZnVuY3Rpb24gdXBsb2FkVGludChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIHZhciBwcmVtdWx0aXBsaWVkID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYTtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IHNwcml0ZS5hbHBoYTtcbiAgICAgICAgICAgIC8vIHdlIGRvbnQgY2FsbCBleHRyYSBmdW5jdGlvbiBpZiBhbHBoYSBpcyAxLjAsIHRoYXQncyBmYXN0ZXJcbiAgICAgICAgICAgIHZhciBhcmdiID0gYWxwaGEgPCAxLjAgJiYgcHJlbXVsdGlwbGllZCA/ICgwLCBfdXRpbHMucHJlbXVsdGlwbHlUaW50KShzcHJpdGUuX3RpbnRSR0IsIGFscGhhKSA6IHNwcml0ZS5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IGFyZ2I7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZVJlbmRlcmVyLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5nbCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5kZWxldGVCdWZmZXIodGhpcy5pbmRleEJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBfY29yZSRPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLmRlc3Ryb3koKTtcblxuICAgICAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnRlbXBNYXRyaXggPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGFydGljbGVSZW5kZXJlcjtcbn0oY29yZS5PYmplY3RSZW5kZXJlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBhcnRpY2xlUmVuZGVyZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwYXJ0aWNsZScsIFBhcnRpY2xlUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi9jb3JlL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgUGFydGljbGVDb250YWluZXIgY2xhc3MgaXMgYSByZWFsbHkgZmFzdCB2ZXJzaW9uIG9mIHRoZSBDb250YWluZXIgYnVpbHQgc29sZWx5IGZvciBzcGVlZCxcbiAqIHNvIHVzZSB3aGVuIHlvdSBuZWVkIGEgbG90IG9mIHNwcml0ZXMgb3IgcGFydGljbGVzLiBUaGUgdHJhZGVvZmYgb2YgdGhlIFBhcnRpY2xlQ29udGFpbmVyIGlzIHRoYXQgbW9zdCBhZHZhbmNlZFxuICogZnVuY3Rpb25hbGl0eSB3aWxsIG5vdCB3b3JrLiBQYXJ0aWNsZUNvbnRhaW5lciBpbXBsZW1lbnRzIHRoZSBiYXNpYyBvYmplY3QgdHJhbnNmb3JtIChwb3NpdGlvbiwgc2NhbGUsIHJvdGF0aW9uKVxuICogYW5kIHNvbWUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIHRpbnQgKGFzIG9mIHY0LjUuNikuXG4gKiBPdGhlciBtb3JlIGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgbGlrZSBtYXNraW5nLCBjaGlsZHJlbiwgZmlsdGVycywgZXRjIHdpbGwgbm90IHdvcmsgb24gc3ByaXRlcyBpbiB0aGlzIGJhdGNoLlxuICpcbiAqIEl0J3MgZXh0cmVtZWx5IGVhc3kgdG8gdXNlIDpcbiAqXG4gKiBgYGBqc1xuICogbGV0IGNvbnRhaW5lciA9IG5ldyBQYXJ0aWNsZUNvbnRhaW5lcigpO1xuICpcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyArK2kpXG4gKiB7XG4gKiAgICAgbGV0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZS5mcm9tSW1hZ2UoXCJteUltYWdlLnBuZ1wiKTtcbiAqICAgICBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEFuZCBoZXJlIHlvdSBoYXZlIGEgaHVuZHJlZCBzcHJpdGVzIHRoYXQgd2lsbCBiZSByZW5kZXJlZCBhdCB0aGUgc3BlZWQgb2YgbGlnaHQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWEkucGFydGljbGVzXG4gKi9cbnZhciBQYXJ0aWNsZUNvbnRhaW5lciA9IGZ1bmN0aW9uIChfY29yZSRDb250YWluZXIpIHtcbiAgICBfaW5oZXJpdHMoUGFydGljbGVDb250YWluZXIsIF9jb3JlJENvbnRhaW5lcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21heFNpemU9MTUwMF0gLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgcGFydGljbGVzIHRoYXQgY2FuIGJlIHJlbmRlcmVkIGJ5IHRoZSBjb250YWluZXIuXG4gICAgICogIEFmZmVjdHMgc2l6ZSBvZiBhbGxvY2F0ZWQgYnVmZmVycy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3Byb3BlcnRpZXNdIC0gVGhlIHByb3BlcnRpZXMgb2YgY2hpbGRyZW4gdGhhdCBzaG91bGQgYmUgdXBsb2FkZWQgdG8gdGhlIGdwdSBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnZlcnRpY2VzPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgdmVydGljZXMgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogICAgICAgICAgICAgICAgICBpZiBzcHJpdGUncyBgIHNjYWxlL2FuY2hvci90cmltL2ZyYW1lL29yaWdgIGlzIGR5bmFtaWMsIHBsZWFzZSBzZXQgYHRydWVgLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMucG9zaXRpb249dHJ1ZV0gLSBXaGVuIHRydWUsIHBvc2l0aW9uIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMucm90YXRpb249ZmFsc2VdIC0gV2hlbiB0cnVlLCByb3RhdGlvbiBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnV2cz1mYWxzZV0gLSBXaGVuIHRydWUsIHV2cyBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnRpbnQ9ZmFsc2VdIC0gV2hlbiB0cnVlLCBhbHBoYSBhbmQgdGludCBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JhdGNoU2l6ZT0xNjM4NF0gLSBOdW1iZXIgb2YgcGFydGljbGVzIHBlciBiYXRjaC4gSWYgbGVzcyB0aGFuIG1heFNpemUsIGl0IHVzZXMgbWF4U2l6ZSBpbnN0ZWFkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9SZXNpemU9ZmFsc2VdIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2VcbiAgICAgKiAgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlQ29udGFpbmVyKCkge1xuICAgICAgICB2YXIgbWF4U2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTUwMDtcbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDE2Mzg0O1xuICAgICAgICB2YXIgYXV0b1Jlc2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnRpY2xlQ29udGFpbmVyKTtcblxuICAgICAgICAvLyBNYWtpbmcgc3VyZSB0aGUgYmF0Y2ggc2l6ZSBpcyB2YWxpZFxuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRDb250YWluZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgdmFyIG1heEJhdGNoU2l6ZSA9IDE2Mzg0O1xuXG4gICAgICAgIGlmIChiYXRjaFNpemUgPiBtYXhCYXRjaFNpemUpIHtcbiAgICAgICAgICAgIGJhdGNoU2l6ZSA9IG1heEJhdGNoU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYXRjaFNpemUgPiBtYXhTaXplKSB7XG4gICAgICAgICAgICBiYXRjaFNpemUgPSBtYXhTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBwcm9wZXJ0aWVzIHRvIGJlIGR5bmFtaWMgKHRydWUpIC8gc3RhdGljIChmYWxzZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Byb3BlcnRpZXMgPSBbZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2VdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4U2l6ZSA9IG1heFNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYXRjaFNpemUgPSBiYXRjaFNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIFdlYkdMQnVmZmVyPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9nbEJ1ZmZlcnMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogZm9yIGV2ZXJ5IGJhdGNoIHN0b3JlcyBfdXBkYXRlSUQgY29ycmVzcG9uZGluZyB0byB0aGUgbGFzdCBjaGFuZ2UgaW4gdGhhdCBiYXRjaFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogd2hlbiBjaGlsZCBpbnNlcnRlZCwgcmVtb3ZlZCBvciBjaGFuZ2VzIHBvc2l0aW9uIHRoaXMgbnVtYmVyIGdvZXMgdXBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYFxuICAgICAgICAgKiB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IGNvcmUuQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9SZXNpemUgPSBhdXRvUmVzaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGZvciBjYW52YXMgcmVuZGVyZXJpbmcuIElmIHRydWUgdGhlbiB0aGUgZWxlbWVudHMgd2lsbCBiZSBwb3NpdGlvbmVkIGF0IHRoZVxuICAgICAgICAgKiBuZWFyZXN0IHBpeGVsLiBUaGlzIHByb3ZpZGVzIGEgbmljZSBzcGVlZCBib29zdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZTtcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvdW5kUGl4ZWxzID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdXNlZCB0byByZW5kZXIgdGhlIGNoaWxkcmVuLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7QmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RpbnQgPSAwO1xuICAgICAgICBfdGhpcy50aW50UmdiID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcHJpdmF0ZSBwcm9wZXJ0aWVzIGFycmF5IHRvIGR5bmFtaWMgLyBzdGF0aWMgYmFzZWQgb24gdGhlIHBhc3NlZCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byBiZSB1cGxvYWRlZFxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuc2V0UHJvcGVydGllcyA9IGZ1bmN0aW9uIHNldFByb3BlcnRpZXMocHJvcGVydGllcykge1xuICAgICAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1swXSA9ICd2ZXJ0aWNlcycgaW4gcHJvcGVydGllcyB8fCAnc2NhbGUnIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudmVydGljZXMgfHwgISFwcm9wZXJ0aWVzLnNjYWxlIDogdGhpcy5fcHJvcGVydGllc1swXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMV0gPSAncG9zaXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucG9zaXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzFdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1syXSA9ICdyb3RhdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5yb3RhdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMl07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzNdID0gJ3V2cycgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy51dnMgOiB0aGlzLl9wcm9wZXJ0aWVzWzNdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1s0XSA9ICd0aW50JyBpbiBwcm9wZXJ0aWVzIHx8ICdhbHBoYScgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy50aW50IHx8ICEhcHJvcGVydGllcy5hbHBoYSA6IHRoaXMuX3Byb3BlcnRpZXNbNF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICAvLyBUT0RPIGRvbid0IG5lZWQgdG8hXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAvLyAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybS5jYWxsKCB0aGlzICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKiogSU1QT1JUQU5UOiBUaGlzIGlzIGEgd2ViR0wgb25seSBmZWF0dXJlIGFuZCB3aWxsIGJlIGlnbm9yZWQgYnkgdGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGFpbmVyIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gdGhpcy5jaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9uY2UoJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNoaWxkcmVuQ2hhbmdlKDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZsYWcgdGhhdCBzdGF0aWMgZGF0YSBzaG91bGQgYmUgdXBkYXRlZCB0byB0cnVlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzbWFsbGVzdENoaWxkSW5kZXggLSBUaGUgc21hbGxlc3QgY2hpbGQgaW5kZXhcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLm9uQ2hpbGRyZW5DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoaWxkcmVuQ2hhbmdlKHNtYWxsZXN0Q2hpbGRJbmRleCkge1xuICAgICAgICB2YXIgYnVmZmVySW5kZXggPSBNYXRoLmZsb29yKHNtYWxsZXN0Q2hpbGRJbmRleCAvIHRoaXMuX2JhdGNoU2l6ZSk7XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5sZW5ndGggPCBidWZmZXJJbmRleCkge1xuICAgICAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzLnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzW2J1ZmZlckluZGV4XSA9ICsrdGhpcy5fdXBkYXRlSUQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiByZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb250ZXh0ID0gcmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBpc1JvdGF0ZWQgPSB0cnVlO1xuXG4gICAgICAgIHZhciBwb3NpdGlvblggPSAwO1xuICAgICAgICB2YXIgcG9zaXRpb25ZID0gMDtcblxuICAgICAgICB2YXIgZmluYWxXaWR0aCA9IDA7XG4gICAgICAgIHZhciBmaW5hbEhlaWdodCA9IDA7XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0QmxlbmRNb2RlKHRoaXMuYmxlbmRNb2RlKTtcblxuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKCFjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBmcmFtZSA9IGNoaWxkLl90ZXh0dXJlLmZyYW1lO1xuXG4gICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gdGhpcy53b3JsZEFscGhhICogY2hpbGQuYWxwaGE7XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC5yb3RhdGlvbiAlIChNYXRoLlBJICogMikgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBmYXN0ZXN0ICB3YXkgdG8gb3B0aW1pc2UhIC0gaWYgcm90YXRpb24gaXMgMCB0aGVuIHdlIGNhbiBhdm9pZCBhbnkga2luZCBvZiBzZXRUcmFuc2Zvcm0gY2FsbFxuICAgICAgICAgICAgICAgIGlmIChpc1JvdGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEsIHRyYW5zZm9ybS5iLCB0cmFuc2Zvcm0uYywgdHJhbnNmb3JtLmQsIHRyYW5zZm9ybS50eCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlbmRlcmVyLnJlc29sdXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlzUm90YXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCA9IGNoaWxkLmFuY2hvci54ICogKC1mcmFtZS53aWR0aCAqIGNoaWxkLnNjYWxlLngpICsgY2hpbGQucG9zaXRpb24ueCArIDAuNTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSBjaGlsZC5hbmNob3IueSAqICgtZnJhbWUuaGVpZ2h0ICogY2hpbGQuc2NhbGUueSkgKyBjaGlsZC5wb3NpdGlvbi55ICsgMC41O1xuXG4gICAgICAgICAgICAgICAgZmluYWxXaWR0aCA9IGZyYW1lLndpZHRoICogY2hpbGQuc2NhbGUueDtcbiAgICAgICAgICAgICAgICBmaW5hbEhlaWdodCA9IGZyYW1lLmhlaWdodCAqIGNoaWxkLnNjYWxlLnk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghaXNSb3RhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzUm90YXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2hpbGQuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkVHJhbnNmb3JtID0gY2hpbGQud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZXIucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oY2hpbGRUcmFuc2Zvcm0uYSwgY2hpbGRUcmFuc2Zvcm0uYiwgY2hpbGRUcmFuc2Zvcm0uYywgY2hpbGRUcmFuc2Zvcm0uZCwgY2hpbGRUcmFuc2Zvcm0udHggKiByZW5kZXJlci5yZXNvbHV0aW9uIHwgMCwgY2hpbGRUcmFuc2Zvcm0udHkgKiByZW5kZXJlci5yZXNvbHV0aW9uIHwgMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oY2hpbGRUcmFuc2Zvcm0uYSwgY2hpbGRUcmFuc2Zvcm0uYiwgY2hpbGRUcmFuc2Zvcm0uYywgY2hpbGRUcmFuc2Zvcm0uZCwgY2hpbGRUcmFuc2Zvcm0udHggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBjaGlsZFRyYW5zZm9ybS50eSAqIHJlbmRlcmVyLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCA9IGNoaWxkLmFuY2hvci54ICogLWZyYW1lLndpZHRoICsgMC41O1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IGNoaWxkLmFuY2hvci55ICogLWZyYW1lLmhlaWdodCArIDAuNTtcblxuICAgICAgICAgICAgICAgIGZpbmFsV2lkdGggPSBmcmFtZS53aWR0aDtcbiAgICAgICAgICAgICAgICBmaW5hbEhlaWdodCA9IGZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBjaGlsZC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShjaGlsZC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgZnJhbWUud2lkdGggKiByZXNvbHV0aW9uLCBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uLCBwb3NpdGlvblggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBwb3NpdGlvblkgKiByZW5kZXJlci5yZXNvbHV0aW9uLCBmaW5hbFdpZHRoICogcmVuZGVyZXIucmVzb2x1dGlvbiwgZmluYWxIZWlnaHQgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyXG4gICAgICogIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICBfY29yZSRDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5fYnVmZmVycykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcyA9IG51bGw7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhQYXJ0aWNsZUNvbnRhaW5lciwgW3tcbiAgICAgICAga2V5OiAndGludCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgKDAsIF91dGlscy5oZXgycmdiKSh2YWx1ZSwgdGhpcy50aW50UmdiKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQYXJ0aWNsZUNvbnRhaW5lcjtcbn0oY29yZS5Db250YWluZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQYXJ0aWNsZUNvbnRhaW5lcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlQ29udGFpbmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9QYXJ0aWNsZUNvbnRhaW5lciA9IHJlcXVpcmUoJy4vUGFydGljbGVDb250YWluZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdQYXJ0aWNsZUNvbnRhaW5lcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcnRpY2xlQ29udGFpbmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9QYXJ0aWNsZVJlbmRlcmVyID0gcmVxdWlyZSgnLi93ZWJnbC9QYXJ0aWNsZVJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUGFydGljbGVSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcnRpY2xlUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX01lc2gyID0gcmVxdWlyZSgnLi9NZXNoJyk7XG5cbnZhciBfTWVzaDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgcm9wZSBhbGxvd3MgeW91IHRvIGRyYXcgYSB0ZXh0dXJlIGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbSBtYW5pcHVsYXRlIHRoZXNlIHBvaW50c1xuICpcbiAqYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGxldCByb3BlID0gbmV3IFBJWEkuUm9wZShQSVhJLlRleHR1cmUuZnJvbUltYWdlKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5tZXNoLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJLm1lc2hcbiAqXG4gKi9cbnZhciBSb3BlID0gZnVuY3Rpb24gKF9NZXNoKSB7XG4gICAgX2luaGVyaXRzKFJvcGUsIF9NZXNoKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSByb3BlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBwb2ludHMgLSBBbiBhcnJheSBvZiB7QGxpbmsgUElYSS5Qb2ludH0gb2JqZWN0cyB0byBjb25zdHJ1Y3QgdGhpcyByb3BlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvcGUodGV4dHVyZSwgcG9pbnRzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb3BlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRoYXQgZGV0ZXJtaW5lIHRoZSByb3BlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9NZXNoLmNhbGwodGhpcywgdGV4dHVyZSkpO1xuXG4gICAgICAgIF90aGlzLnBvaW50cyA9IHBvaW50cztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgdmVydGljZXMgdXNlZCB0byBjb25zdHJ1Y3QgdGhpcyByb3BlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgVXZzIG9mIHRoZSByb3BlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgY29udGFpbmluZyB0aGUgY29sb3IgY29tcG9uZW50c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb2xvcnMgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiAyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgY29udGFpbmluZyB0aGUgaW5kaWNlcyBvZiB0aGUgdmVydGljZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KHBvaW50cy5sZW5ndGggKiAyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmVmcmVzaGVzIHZlcnRpY2VzIG9uIGV2ZXJ5IHVwZGF0ZVRyYW5zZm9ybVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXNcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBSb3BlLnByb3RvdHlwZS5fcmVmcmVzaCA9IGZ1bmN0aW9uIF9yZWZyZXNoKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgLy8gaWYgdG9vIGxpdHRsZSBwb2ludHMsIG9yIHRleHR1cmUgaGFzbid0IGdvdCBVVnMgc2V0IHlldCBqdXN0IG1vdmUgb24uXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSB8fCAhdGhpcy5fdGV4dHVyZS5fdXZzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgbnVtYmVyIG9mIHBvaW50cyBoYXMgY2hhbmdlZCB3ZSB3aWxsIG5lZWQgdG8gcmVjcmVhdGUgdGhlIGFycmF5YnVmZmVyc1xuICAgICAgICBpZiAodGhpcy52ZXJ0aWNlcy5sZW5ndGggLyA0ICE9PSBwb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgdGhpcy5jb2xvcnMgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiAyKTtcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShwb2ludHMubGVuZ3RoICogMik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG5cbiAgICAgICAgdmFyIGluZGljZXMgPSB0aGlzLmluZGljZXM7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcblxuICAgICAgICB1dnNbMF0gPSAwO1xuICAgICAgICB1dnNbMV0gPSAwO1xuICAgICAgICB1dnNbMl0gPSAwO1xuICAgICAgICB1dnNbM10gPSAxO1xuXG4gICAgICAgIGNvbG9yc1swXSA9IDE7XG4gICAgICAgIGNvbG9yc1sxXSA9IDE7XG5cbiAgICAgICAgaW5kaWNlc1swXSA9IDA7XG4gICAgICAgIGluZGljZXNbMV0gPSAxO1xuXG4gICAgICAgIHZhciB0b3RhbCA9IHBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICAvLyB0aW1lIHRvIGRvIHNvbWUgc21hcnQgZHJhd2luZyFcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9IGkgLyAodG90YWwgLSAxKTtcblxuICAgICAgICAgICAgdXZzW2luZGV4XSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDFdID0gMDtcblxuICAgICAgICAgICAgdXZzW2luZGV4ICsgMl0gPSBhbW91bnQ7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAzXSA9IDE7XG5cbiAgICAgICAgICAgIGluZGV4ID0gaSAqIDI7XG4gICAgICAgICAgICBjb2xvcnNbaW5kZXhdID0gMTtcbiAgICAgICAgICAgIGNvbG9yc1tpbmRleCArIDFdID0gMTtcblxuICAgICAgICAgICAgaW5kZXggPSBpICogMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhdID0gaW5kZXg7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4ICsgMV0gPSBpbmRleCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgY2hhbmdlcyBhcmUgdXBsb2FkZWRcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICB0aGlzLmluZGV4RGlydHkrKztcblxuICAgICAgICB0aGlzLm11bHRpcGx5VXZzKCk7XG4gICAgICAgIHRoaXMucmVmcmVzaFZlcnRpY2VzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHJlZnJlc2hlcyB2ZXJ0aWNlcyBvZiBSb3BlIG1lc2hcbiAgICAgKi9cblxuXG4gICAgUm9wZS5wcm90b3R5cGUucmVmcmVzaFZlcnRpY2VzID0gZnVuY3Rpb24gcmVmcmVzaFZlcnRpY2VzKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGFzdFBvaW50ID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgbmV4dFBvaW50ID0gdm9pZCAwO1xuICAgICAgICB2YXIgcGVycFggPSAwO1xuICAgICAgICB2YXIgcGVycFkgPSAwO1xuXG4gICAgICAgIC8vIHRoaXMuY291bnQgLT0gMC4yO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHZhciB0b3RhbCA9IHBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcblxuICAgICAgICAgICAgaWYgKGkgPCBwb2ludHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50c1tpICsgMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwZXJwWSA9IC0obmV4dFBvaW50LnggLSBsYXN0UG9pbnQueCk7XG4gICAgICAgICAgICBwZXJwWCA9IG5leHRQb2ludC55IC0gbGFzdFBvaW50Lnk7XG5cbiAgICAgICAgICAgIHZhciByYXRpbyA9ICgxIC0gaSAvICh0b3RhbCAtIDEpKSAqIDEwO1xuXG4gICAgICAgICAgICBpZiAocmF0aW8gPiAxKSB7XG4gICAgICAgICAgICAgICAgcmF0aW8gPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcGVycExlbmd0aCA9IE1hdGguc3FydChwZXJwWCAqIHBlcnBYICsgcGVycFkgKiBwZXJwWSk7XG4gICAgICAgICAgICB2YXIgbnVtID0gdGhpcy5fdGV4dHVyZS5oZWlnaHQgLyAyOyAvLyAoMjAgKyBNYXRoLmFicyhNYXRoLnNpbigoaSArIHRoaXMuY291bnQpICogMC4zKSAqIDUwKSApKiByYXRpbztcblxuICAgICAgICAgICAgcGVycFggLz0gcGVycExlbmd0aDtcbiAgICAgICAgICAgIHBlcnBZIC89IHBlcnBMZW5ndGg7XG5cbiAgICAgICAgICAgIHBlcnBYICo9IG51bTtcbiAgICAgICAgICAgIHBlcnBZICo9IG51bTtcblxuICAgICAgICAgICAgdmVydGljZXNbaW5kZXhdID0gcG9pbnQueCArIHBlcnBYO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAxXSA9IHBvaW50LnkgKyBwZXJwWTtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgMl0gPSBwb2ludC54IC0gcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDNdID0gcG9pbnQueSAtIHBlcnBZO1xuXG4gICAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFJvcGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoVmVydGljZXMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUm9wZTtcbn0oX01lc2gzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSb3BlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um9wZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfUGxhbmUyID0gcmVxdWlyZSgnLi9QbGFuZScpO1xuXG52YXIgX1BsYW5lMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BsYW5lMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIERFRkFVTFRfQk9SREVSX1NJWkUgPSAxMDtcblxuLyoqXG4gKiBUaGUgTmluZVNsaWNlUGxhbmUgYWxsb3dzIHlvdSB0byBzdHJldGNoIGEgdGV4dHVyZSB1c2luZyA5LXNsaWNlIHNjYWxpbmcuIFRoZSBjb3JuZXJzIHdpbGwgcmVtYWluIHVuc2NhbGVkICh1c2VmdWxcbiAqIGZvciBidXR0b25zIHdpdGggcm91bmRlZCBjb3JuZXJzIGZvciBleGFtcGxlKSBhbmQgdGhlIG90aGVyIGFyZWFzIHdpbGwgYmUgc2NhbGVkIGhvcml6b250YWxseSBhbmQgb3IgdmVydGljYWxseVxuICpcbiAqYGBganNcbiAqIGxldCBQbGFuZTkgPSBuZXcgUElYSS5OaW5lU2xpY2VQbGFuZShQSVhJLlRleHR1cmUuZnJvbUltYWdlKCdCb3hXaXRoUm91bmRlZENvcm5lcnMucG5nJyksIDE1LCAxNSwgMTUsIDE1KTtcbiAqICBgYGBcbiAqIDxwcmU+XG4gKiAgICAgIEEgICAgICAgICAgICAgICAgICAgICAgICAgIEJcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgQyB8IDEgfCAgICAgICAgICAyICAgICAgICAgICB8IDMgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICB8IDQgfCAgICAgICAgICA1ICAgICAgICAgICB8IDYgfFxuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgRCB8IDcgfCAgICAgICAgICA4ICAgICAgICAgICB8IDkgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcblxuICogIFdoZW4gY2hhbmdpbmcgdGhpcyBvYmplY3RzIHdpZHRoIGFuZC9vciBoZWlnaHQ6XG4gKiAgICAgYXJlYXMgMSAzIDcgYW5kIDkgd2lsbCByZW1haW4gdW5zY2FsZWQuXG4gKiAgICAgYXJlYXMgMiBhbmQgOCB3aWxsIGJlIHN0cmV0Y2hlZCBob3Jpem9udGFsbHlcbiAqICAgICBhcmVhcyA0IGFuZCA2IHdpbGwgYmUgc3RyZXRjaGVkIHZlcnRpY2FsbHlcbiAqICAgICBhcmVhIDUgd2lsbCBiZSBzdHJldGNoZWQgYm90aCBob3Jpem9udGFsbHkgYW5kIHZlcnRpY2FsbHlcbiAqIDwvcHJlPlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5tZXNoLlBsYW5lXG4gKiBAbWVtYmVyb2YgUElYSS5tZXNoXG4gKlxuICovXG5cbnZhciBOaW5lU2xpY2VQbGFuZSA9IGZ1bmN0aW9uIChfUGxhbmUpIHtcbiAgICBfaW5oZXJpdHMoTmluZVNsaWNlUGxhbmUsIF9QbGFuZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgTmluZVNsaWNlUGxhbmUuXG4gICAgICogQHBhcmFtIHtpbnR9IFtsZWZ0V2lkdGg9MTBdIHNpemUgb2YgdGhlIGxlZnQgdmVydGljYWwgYmFyIChBKVxuICAgICAqIEBwYXJhbSB7aW50fSBbdG9wSGVpZ2h0PTEwXSBzaXplIG9mIHRoZSB0b3AgaG9yaXpvbnRhbCBiYXIgKEMpXG4gICAgICogQHBhcmFtIHtpbnR9IFtyaWdodFdpZHRoPTEwXSBzaXplIG9mIHRoZSByaWdodCB2ZXJ0aWNhbCBiYXIgKEIpXG4gICAgICogQHBhcmFtIHtpbnR9IFtib3R0b21IZWlnaHQ9MTBdIHNpemUgb2YgdGhlIGJvdHRvbSBob3Jpem9udGFsIGJhciAoRClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOaW5lU2xpY2VQbGFuZSh0ZXh0dXJlLCBsZWZ0V2lkdGgsIHRvcEhlaWdodCwgcmlnaHRXaWR0aCwgYm90dG9tSGVpZ2h0KSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOaW5lU2xpY2VQbGFuZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1BsYW5lLmNhbGwodGhpcywgdGV4dHVyZSwgNCwgNCkpO1xuXG4gICAgICAgIF90aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIF90aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gX3RoaXMuX29yaWdXaWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBfdGhpcy5fb3JpZ0hlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtbiAoYSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGVmdFdpZHRoID0gdHlwZW9mIGxlZnRXaWR0aCAhPT0gJ3VuZGVmaW5lZCcgPyBsZWZ0V2lkdGggOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtbiAoYilcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcmlnaHRXaWR0aCA9IHR5cGVvZiByaWdodFdpZHRoICE9PSAndW5kZWZpbmVkJyA/IHJpZ2h0V2lkdGggOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93IChjKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90b3BIZWlnaHQgPSB0eXBlb2YgdG9wSGVpZ2h0ICE9PSAndW5kZWZpbmVkJyA/IHRvcEhlaWdodCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3cgKGQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdHRvbUhlaWdodCA9IHR5cGVvZiBib3R0b21IZWlnaHQgIT09ICd1bmRlZmluZWQnID8gYm90dG9tSGVpZ2h0IDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICBfdGhpcy5yZWZyZXNoKHRydWUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaG9yaXpvbnRhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzID0gZnVuY3Rpb24gdXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzKCkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIHZhciBoID0gdGhpcy5fdG9wSGVpZ2h0ICsgdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9oZWlnaHQgPiBoID8gMS4wIDogdGhpcy5faGVpZ2h0IC8gaDtcblxuICAgICAgICB2ZXJ0aWNlc1s5XSA9IHZlcnRpY2VzWzExXSA9IHZlcnRpY2VzWzEzXSA9IHZlcnRpY2VzWzE1XSA9IHRoaXMuX3RvcEhlaWdodCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1sxN10gPSB2ZXJ0aWNlc1sxOV0gPSB2ZXJ0aWNlc1syMV0gPSB2ZXJ0aWNlc1syM10gPSB0aGlzLl9oZWlnaHQgLSB0aGlzLl9ib3R0b21IZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbMjVdID0gdmVydGljZXNbMjddID0gdmVydGljZXNbMjldID0gdmVydGljZXNbMzFdID0gdGhpcy5faGVpZ2h0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB2ZXJ0aWNhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudXBkYXRlVmVydGljYWxWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwZGF0ZVZlcnRpY2FsVmVydGljZXMoKSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG5cbiAgICAgICAgdmFyIHcgPSB0aGlzLl9sZWZ0V2lkdGggKyB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl93aWR0aCA+IHcgPyAxLjAgOiB0aGlzLl93aWR0aCAvIHc7XG5cbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1sxMF0gPSB2ZXJ0aWNlc1sxOF0gPSB2ZXJ0aWNlc1syNl0gPSB0aGlzLl9sZWZ0V2lkdGggKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbNF0gPSB2ZXJ0aWNlc1sxMl0gPSB2ZXJ0aWNlc1syMF0gPSB2ZXJ0aWNlc1syOF0gPSB0aGlzLl93aWR0aCAtIHRoaXMuX3JpZ2h0V2lkdGggKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbNl0gPSB2ZXJ0aWNlc1sxNF0gPSB2ZXJ0aWNlc1syMl0gPSB2ZXJ0aWNlc1szMF0gPSB0aGlzLl93aWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXIgdG8gcmVuZGVyIHdpdGguXG4gICAgICovXG5cblxuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICB2YXIgY29udGV4dCA9IHJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICAgICAgcmVuZGVyZXIuc2V0QmxlbmRNb2RlKHRoaXMuYmxlbmRNb2RlKTtcblxuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHJlcyA9IHJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHJlbmRlcmVyLnJvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlcywgdHJhbnNmb3JtLmIgKiByZXMsIHRyYW5zZm9ybS5jICogcmVzLCB0cmFuc2Zvcm0uZCAqIHJlcywgdHJhbnNmb3JtLnR4ICogcmVzIHwgMCwgdHJhbnNmb3JtLnR5ICogcmVzIHwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlcywgdHJhbnNmb3JtLmIgKiByZXMsIHRyYW5zZm9ybS5jICogcmVzLCB0cmFuc2Zvcm0uZCAqIHJlcywgdHJhbnNmb3JtLnR4ICogcmVzLCB0cmFuc2Zvcm0udHkgKiByZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2UgPSB0aGlzLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgdGV4dHVyZVNvdXJjZSA9IGJhc2Uuc291cmNlO1xuICAgICAgICB2YXIgdyA9IGJhc2Uud2lkdGggKiBiYXNlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBoID0gYmFzZS5oZWlnaHQgKiBiYXNlLnJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAwLCAxLCAxMCwgMTEpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDIsIDMsIDEyLCAxMyk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgNCwgNSwgMTQsIDE1KTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCA4LCA5LCAxOCwgMTkpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDEwLCAxMSwgMjAsIDIxKTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAxMiwgMTMsIDIyLCAyMyk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMTYsIDE3LCAyNiwgMjcpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDE4LCAxOSwgMjgsIDI5KTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAyMCwgMjEsIDMwLCAzMSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgb25lIHNlZ21lbnQgb2YgdGhlIHBsYW5lLlxuICAgICAqIHRvIG1pbWljIHRoZSBleGFjdCBkcmF3aW5nIGJlaGF2aW9yIG9mIHN0cmV0Y2hpbmcgdGhlIGltYWdlIGxpa2UgV2ViR0wgZG9lcywgd2UgbmVlZCB0byBtYWtlIHN1cmVcbiAgICAgKiB0aGF0IHRoZSBzb3VyY2UgYXJlYSBpcyBhdCBsZWFzdCAxIHBpeGVsIGluIHNpemUsIG90aGVyd2lzZSBub3RoaW5nIGdldHMgZHJhd24gd2hlbiBhIHNsaWNlIHNpemUgb2YgMCBpcyB1c2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCAtIFRoZSBjb250ZXh0IHRvIGRyYXcgd2l0aC5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc0ltYWdlU291cmNlfSB0ZXh0dXJlU291cmNlIC0gVGhlIHNvdXJjZSB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3IC0gd2lkdGggb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaCAtIGhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIHggaW5kZXggMVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIHkgaW5kZXggMVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MiAtIHggaW5kZXggMlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIHkgaW5kZXggMlxuICAgICAqL1xuXG5cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuZHJhd1NlZ21lbnQgPSBmdW5jdGlvbiBkcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCB4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICAvLyBvdGhlcndpc2UgeW91IGdldCB3ZWlyZCByZXN1bHRzIHdoZW4gdXNpbmcgc2xpY2VzIG9mIHRoYXQgYXJlIDAgd2lkZSBvciBoaWdoLlxuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG5cbiAgICAgICAgdmFyIHN3ID0gKHV2c1t4Ml0gLSB1dnNbeDFdKSAqIHc7XG4gICAgICAgIHZhciBzaCA9ICh1dnNbeTJdIC0gdXZzW3kxXSkgKiBoO1xuICAgICAgICB2YXIgZHcgPSB2ZXJ0aWNlc1t4Ml0gLSB2ZXJ0aWNlc1t4MV07XG4gICAgICAgIHZhciBkaCA9IHZlcnRpY2VzW3kyXSAtIHZlcnRpY2VzW3kxXTtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHNvdXJjZSBpcyBhdCBsZWFzdCAxIHBpeGVsIHdpZGUgYW5kIGhpZ2gsIG90aGVyd2lzZSBub3RoaW5nIHdpbGwgYmUgZHJhd24uXG4gICAgICAgIGlmIChzdyA8IDEpIHtcbiAgICAgICAgICAgIHN3ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaCA8IDEpIHtcbiAgICAgICAgICAgIHNoID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSBkZXN0aW5hdGlvbiBpcyBhdCBsZWFzdCAxIHBpeGVsIHdpZGUgYW5kIGhpZ2gsIG90aGVyd2lzZSB5b3UgZ2V0XG4gICAgICAgIC8vIGxpbmVzIHdoZW4gcmVuZGVyaW5nIGNsb3NlIHRvIG9yaWdpbmFsIHNpemUuXG4gICAgICAgIGlmIChkdyA8IDEpIHtcbiAgICAgICAgICAgIGR3ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaCA8IDEpIHtcbiAgICAgICAgICAgIGRoID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRleHR1cmVTb3VyY2UsIHV2c1t4MV0gKiB3LCB1dnNbeTFdICogaCwgc3csIHNoLCB2ZXJ0aWNlc1t4MV0sIHZlcnRpY2VzW3kxXSwgZHcsIGRoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBOaW5lU2xpY2VQbGFuZSBjb29yZHMuIEFsbCBvZiB0aGVtLlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5fcmVmcmVzaCA9IGZ1bmN0aW9uIF9yZWZyZXNoKCkge1xuICAgICAgICBfUGxhbmUucHJvdG90eXBlLl9yZWZyZXNoLmNhbGwodGhpcyk7XG5cbiAgICAgICAgdmFyIHV2cyA9IHRoaXMudXZzO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcblxuICAgICAgICB2YXIgX3V2dyA9IDEuMCAvIHRoaXMuX29yaWdXaWR0aDtcbiAgICAgICAgdmFyIF91dmggPSAxLjAgLyB0aGlzLl9vcmlnSGVpZ2h0O1xuXG4gICAgICAgIHV2c1swXSA9IHV2c1s4XSA9IHV2c1sxNl0gPSB1dnNbMjRdID0gMDtcbiAgICAgICAgdXZzWzFdID0gdXZzWzNdID0gdXZzWzVdID0gdXZzWzddID0gMDtcbiAgICAgICAgdXZzWzZdID0gdXZzWzE0XSA9IHV2c1syMl0gPSB1dnNbMzBdID0gMTtcbiAgICAgICAgdXZzWzI1XSA9IHV2c1syN10gPSB1dnNbMjldID0gdXZzWzMxXSA9IDE7XG5cbiAgICAgICAgdXZzWzJdID0gdXZzWzEwXSA9IHV2c1sxOF0gPSB1dnNbMjZdID0gX3V2dyAqIHRoaXMuX2xlZnRXaWR0aDtcbiAgICAgICAgdXZzWzRdID0gdXZzWzEyXSA9IHV2c1syMF0gPSB1dnNbMjhdID0gMSAtIF91dncgKiB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIF91dmggKiB0aGlzLl9ib3R0b21IZWlnaHQ7XG5cbiAgICAgICAgdGhpcy51cGRhdGVIb3Jpem9udGFsVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKCk7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHRoaXMubXVsdGlwbHlVdnMoKTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKE5pbmVTbGljZVBsYW5lLCBbe1xuICAgICAgICBrZXk6ICd3aWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsZWZ0V2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGVmdFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmlnaHRXaWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmlnaHRXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndG9wSGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RvcEhlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYm90dG9tSGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE5pbmVTbGljZVBsYW5lO1xufShfUGxhbmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOaW5lU2xpY2VQbGFuZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5pbmVTbGljZVBsYW5lLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9NZXNoID0gcmVxdWlyZSgnLi4vTWVzaCcpO1xuXG52YXIgX01lc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogUmVuZGVyZXIgZGVkaWNhdGVkIHRvIG1lc2hlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWVzaFNwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBkb3ducG9ydCB3b3JrcyBmb3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNZXNoU3ByaXRlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lc2hTcHJpdGVSZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIE1lc2hcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSB0aGUgTWVzaCB0byByZW5kZXJcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIobWVzaCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgY29udGV4dCA9IHJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IG1lc2gud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXMgPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXMsIHRyYW5zZm9ybS5iICogcmVzLCB0cmFuc2Zvcm0uYyAqIHJlcywgdHJhbnNmb3JtLmQgKiByZXMsIHRyYW5zZm9ybS50eCAqIHJlcyB8IDAsIHRyYW5zZm9ybS50eSAqIHJlcyB8IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXMsIHRyYW5zZm9ybS5iICogcmVzLCB0cmFuc2Zvcm0uYyAqIHJlcywgdHJhbnNmb3JtLmQgKiByZXMsIHRyYW5zZm9ybS50eCAqIHJlcywgdHJhbnNmb3JtLnR5ICogcmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmNvbnRleHQuZ2xvYmFsQWxwaGEgPSBtZXNoLndvcmxkQWxwaGE7XG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZShtZXNoLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgaWYgKG1lc2guZHJhd01vZGUgPT09IF9NZXNoMi5kZWZhdWx0LkRSQVdfTU9ERVMuVFJJQU5HTEVfTUVTSCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVHJpYW5nbGVNZXNoKG1lc2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVHJpYW5nbGVzKG1lc2gpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBvYmplY3QgaW4gVHJpYW5nbGUgTWVzaCBtb2RlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSB0aGUgTWVzaCB0byByZW5kZXJcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5fcmVuZGVyVHJpYW5nbGVNZXNoID0gZnVuY3Rpb24gX3JlbmRlclRyaWFuZ2xlTWVzaChtZXNoKSB7XG4gICAgICAgIC8vIGRyYXcgdHJpYW5nbGVzISFcbiAgICAgICAgdmFyIGxlbmd0aCA9IG1lc2gudmVydGljZXMubGVuZ3RoIC8gMjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aCAtIDI7IGkrKykge1xuICAgICAgICAgICAgLy8gZHJhdyBzb21lIHRyaWFuZ2xlcyFcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiAyO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEcmF3VHJpYW5nbGUobWVzaCwgaW5kZXgsIGluZGV4ICsgMiwgaW5kZXggKyA0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgb2JqZWN0IGluIHRyaWFuZ2xlIG1vZGUgdXNpbmcgY2FudmFzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSB0aGUgY3VycmVudCBtZXNoXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuX3JlbmRlclRyaWFuZ2xlcyA9IGZ1bmN0aW9uIF9yZW5kZXJUcmlhbmdsZXMobWVzaCkge1xuICAgICAgICAvLyBkcmF3IHRyaWFuZ2xlcyEhXG4gICAgICAgIHZhciBpbmRpY2VzID0gbWVzaC5pbmRpY2VzO1xuICAgICAgICB2YXIgbGVuZ3RoID0gaW5kaWNlcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgLy8gZHJhdyBzb21lIHRyaWFuZ2xlcyFcbiAgICAgICAgICAgIHZhciBpbmRleDAgPSBpbmRpY2VzW2ldICogMjtcbiAgICAgICAgICAgIHZhciBpbmRleDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kZXgyID0gaW5kaWNlc1tpICsgMl0gKiAyO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEcmF3VHJpYW5nbGUobWVzaCwgaW5kZXgwLCBpbmRleDEsIGluZGV4Mik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3Mgb25lIG9mIHRoZSB0cmlhbmdsZXMgdGhhdCBmcm9tIHRoZSBNZXNoXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSB0aGUgY3VycmVudCBtZXNoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4MCAtIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgdmVydGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4MSAtIHRoZSBpbmRleCBvZiB0aGUgc2Vjb25kIHZlcnRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleDIgLSB0aGUgaW5kZXggb2YgdGhlIHRoaXJkIHZlcnRleFxuICAgICAqL1xuXG5cbiAgICBNZXNoU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLl9yZW5kZXJEcmF3VHJpYW5nbGUgPSBmdW5jdGlvbiBfcmVuZGVyRHJhd1RyaWFuZ2xlKG1lc2gsIGluZGV4MCwgaW5kZXgxLCBpbmRleDIpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciB1dnMgPSBtZXNoLnV2cztcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gbWVzaC52ZXJ0aWNlcztcbiAgICAgICAgdmFyIHRleHR1cmUgPSBtZXNoLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2UgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgdGV4dHVyZVNvdXJjZSA9IGJhc2Uuc291cmNlO1xuICAgICAgICB2YXIgdGV4dHVyZVdpZHRoID0gYmFzZS53aWR0aDtcbiAgICAgICAgdmFyIHRleHR1cmVIZWlnaHQgPSBiYXNlLmhlaWdodDtcblxuICAgICAgICB2YXIgdTAgPSB2b2lkIDA7XG4gICAgICAgIHZhciB1MSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHUyID0gdm9pZCAwO1xuICAgICAgICB2YXIgdjAgPSB2b2lkIDA7XG4gICAgICAgIHZhciB2MSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHYyID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChtZXNoLnVwbG9hZFV2VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB2YXIgdXQgPSBtZXNoLl91dlRyYW5zZm9ybS5tYXBDb29yZDtcblxuICAgICAgICAgICAgdTAgPSAodXZzW2luZGV4MF0gKiB1dC5hICsgdXZzW2luZGV4MCArIDFdICogdXQuYyArIHV0LnR4KSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB1MSA9ICh1dnNbaW5kZXgxXSAqIHV0LmEgKyB1dnNbaW5kZXgxICsgMV0gKiB1dC5jICsgdXQudHgpICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHUyID0gKHV2c1tpbmRleDJdICogdXQuYSArIHV2c1tpbmRleDIgKyAxXSAqIHV0LmMgKyB1dC50eCkgKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdjAgPSAodXZzW2luZGV4MF0gKiB1dC5iICsgdXZzW2luZGV4MCArIDFdICogdXQuZCArIHV0LnR5KSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICAgICAgdjEgPSAodXZzW2luZGV4MV0gKiB1dC5iICsgdXZzW2luZGV4MSArIDFdICogdXQuZCArIHV0LnR5KSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICAgICAgdjIgPSAodXZzW2luZGV4Ml0gKiB1dC5iICsgdXZzW2luZGV4MiArIDFdICogdXQuZCArIHV0LnR5KSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdTAgPSB1dnNbaW5kZXgwXSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB1MSA9IHV2c1tpbmRleDFdICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHUyID0gdXZzW2luZGV4Ml0gKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdjAgPSB1dnNbaW5kZXgwICsgMV0gKiBiYXNlLmhlaWdodDtcbiAgICAgICAgICAgIHYxID0gdXZzW2luZGV4MSArIDFdICogYmFzZS5oZWlnaHQ7XG4gICAgICAgICAgICB2MiA9IHV2c1tpbmRleDIgKyAxXSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHgwID0gdmVydGljZXNbaW5kZXgwXTtcbiAgICAgICAgdmFyIHgxID0gdmVydGljZXNbaW5kZXgxXTtcbiAgICAgICAgdmFyIHgyID0gdmVydGljZXNbaW5kZXgyXTtcbiAgICAgICAgdmFyIHkwID0gdmVydGljZXNbaW5kZXgwICsgMV07XG4gICAgICAgIHZhciB5MSA9IHZlcnRpY2VzW2luZGV4MSArIDFdO1xuICAgICAgICB2YXIgeTIgPSB2ZXJ0aWNlc1tpbmRleDIgKyAxXTtcblxuICAgICAgICB2YXIgY2FudmFzUGFkZGluZyA9IG1lc2guY2FudmFzUGFkZGluZyAvIHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAoY2FudmFzUGFkZGluZyA+IDApIHtcbiAgICAgICAgICAgIHZhciBwYWRkaW5nWCA9IGNhbnZhc1BhZGRpbmcgLyBNYXRoLmFicyhtZXNoLndvcmxkVHJhbnNmb3JtLmEpO1xuICAgICAgICAgICAgdmFyIHBhZGRpbmdZID0gY2FudmFzUGFkZGluZyAvIE1hdGguYWJzKG1lc2gud29ybGRUcmFuc2Zvcm0uZCk7XG4gICAgICAgICAgICB2YXIgY2VudGVyWCA9ICh4MCArIHgxICsgeDIpIC8gMztcbiAgICAgICAgICAgIHZhciBjZW50ZXJZID0gKHkwICsgeTEgKyB5MikgLyAzO1xuXG4gICAgICAgICAgICB2YXIgbm9ybVggPSB4MCAtIGNlbnRlclg7XG4gICAgICAgICAgICB2YXIgbm9ybVkgPSB5MCAtIGNlbnRlclk7XG5cbiAgICAgICAgICAgIHZhciBkaXN0ID0gTWF0aC5zcXJ0KG5vcm1YICogbm9ybVggKyBub3JtWSAqIG5vcm1ZKTtcblxuICAgICAgICAgICAgeDAgPSBjZW50ZXJYICsgbm9ybVggLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWCk7XG4gICAgICAgICAgICB5MCA9IGNlbnRlclkgKyBub3JtWSAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdZKTtcblxuICAgICAgICAgICAgLy9cblxuICAgICAgICAgICAgbm9ybVggPSB4MSAtIGNlbnRlclg7XG4gICAgICAgICAgICBub3JtWSA9IHkxIC0gY2VudGVyWTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydChub3JtWCAqIG5vcm1YICsgbm9ybVkgKiBub3JtWSk7XG4gICAgICAgICAgICB4MSA9IGNlbnRlclggKyBub3JtWCAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdYKTtcbiAgICAgICAgICAgIHkxID0gY2VudGVyWSArIG5vcm1ZIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1kpO1xuXG4gICAgICAgICAgICBub3JtWCA9IHgyIC0gY2VudGVyWDtcbiAgICAgICAgICAgIG5vcm1ZID0geTIgLSBjZW50ZXJZO1xuXG4gICAgICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KG5vcm1YICogbm9ybVggKyBub3JtWSAqIG5vcm1ZKTtcbiAgICAgICAgICAgIHgyID0gY2VudGVyWCArIG5vcm1YIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1gpO1xuICAgICAgICAgICAgeTIgPSBjZW50ZXJZICsgbm9ybVkgLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MCwgeTApO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyh4MSwgeTEpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyh4MiwgeTIpO1xuXG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgY29udGV4dC5jbGlwKCk7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBtYXRyaXggdHJhbnNmb3JtXG4gICAgICAgIHZhciBkZWx0YSA9IHUwICogdjEgKyB2MCAqIHUyICsgdTEgKiB2MiAtIHYxICogdTIgLSB2MCAqIHUxIC0gdTAgKiB2MjtcbiAgICAgICAgdmFyIGRlbHRhQSA9IHgwICogdjEgKyB2MCAqIHgyICsgeDEgKiB2MiAtIHYxICogeDIgLSB2MCAqIHgxIC0geDAgKiB2MjtcbiAgICAgICAgdmFyIGRlbHRhQiA9IHUwICogeDEgKyB4MCAqIHUyICsgdTEgKiB4MiAtIHgxICogdTIgLSB4MCAqIHUxIC0gdTAgKiB4MjtcbiAgICAgICAgdmFyIGRlbHRhQyA9IHUwICogdjEgKiB4MiArIHYwICogeDEgKiB1MiArIHgwICogdTEgKiB2MiAtIHgwICogdjEgKiB1MiAtIHYwICogdTEgKiB4MiAtIHUwICogeDEgKiB2MjtcbiAgICAgICAgdmFyIGRlbHRhRCA9IHkwICogdjEgKyB2MCAqIHkyICsgeTEgKiB2MiAtIHYxICogeTIgLSB2MCAqIHkxIC0geTAgKiB2MjtcbiAgICAgICAgdmFyIGRlbHRhRSA9IHUwICogeTEgKyB5MCAqIHUyICsgdTEgKiB5MiAtIHkxICogdTIgLSB5MCAqIHUxIC0gdTAgKiB5MjtcbiAgICAgICAgdmFyIGRlbHRhRiA9IHUwICogdjEgKiB5MiArIHYwICogeTEgKiB1MiArIHkwICogdTEgKiB2MiAtIHkwICogdjEgKiB1MiAtIHYwICogdTEgKiB5MiAtIHUwICogeTEgKiB2MjtcblxuICAgICAgICBjb250ZXh0LnRyYW5zZm9ybShkZWx0YUEgLyBkZWx0YSwgZGVsdGFEIC8gZGVsdGEsIGRlbHRhQiAvIGRlbHRhLCBkZWx0YUUgLyBkZWx0YSwgZGVsdGFDIC8gZGVsdGEsIGRlbHRhRiAvIGRlbHRhKTtcblxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlU291cmNlLCAwLCAwLCB0ZXh0dXJlV2lkdGggKiBiYXNlLnJlc29sdXRpb24sIHRleHR1cmVIZWlnaHQgKiBiYXNlLnJlc29sdXRpb24sIDAsIDAsIHRleHR1cmVXaWR0aCwgdGV4dHVyZUhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuaW52YWxpZGF0ZUJsZW5kTW9kZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgZmxhdCBNZXNoXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSBUaGUgTWVzaCB0byByZW5kZXJcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJNZXNoRmxhdCA9IGZ1bmN0aW9uIHJlbmRlck1lc2hGbGF0KG1lc2gpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IG1lc2gudmVydGljZXM7XG4gICAgICAgIHZhciBsZW5ndGggPSB2ZXJ0aWNlcy5sZW5ndGggLyAyO1xuXG4gICAgICAgIC8vIHRoaXMuY291bnQrKztcblxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoIC0gMjsgKytpKSB7XG4gICAgICAgICAgICAvLyBkcmF3IHNvbWUgdHJpYW5nbGVzIVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDI7XG5cbiAgICAgICAgICAgIHZhciB4MCA9IHZlcnRpY2VzW2luZGV4XTtcbiAgICAgICAgICAgIHZhciB5MCA9IHZlcnRpY2VzW2luZGV4ICsgMV07XG5cbiAgICAgICAgICAgIHZhciB4MSA9IHZlcnRpY2VzW2luZGV4ICsgMl07XG4gICAgICAgICAgICB2YXIgeTEgPSB2ZXJ0aWNlc1tpbmRleCArIDNdO1xuXG4gICAgICAgICAgICB2YXIgeDIgPSB2ZXJ0aWNlc1tpbmRleCArIDRdO1xuICAgICAgICAgICAgdmFyIHkyID0gdmVydGljZXNbaW5kZXggKyA1XTtcblxuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDAsIHkwKTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgxLCB5MSk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4MiwgeTIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI0ZGMDAwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IHRoZSB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBNZXNoU3ByaXRlUmVuZGVyZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1lc2hTcHJpdGVSZW5kZXJlcjtcblxuXG5jb3JlLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdtZXNoJywgTWVzaFNwcml0ZVJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc01lc2hSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbnZhciBfTWVzaCA9IHJlcXVpcmUoJy4uL01lc2gnKTtcblxudmFyIF9NZXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIG1hdHJpeElkZW50aXR5ID0gY29yZS5NYXRyaXguSURFTlRJVFk7XG5cbi8qKlxuICogV2ViR0wgcmVuZGVyZXIgcGx1Z2luIGZvciB0aWxpbmcgc3ByaXRlc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xuXG52YXIgTWVzaFJlbmRlcmVyID0gZnVuY3Rpb24gKF9jb3JlJE9iamVjdFJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKE1lc2hSZW5kZXJlciwgX2NvcmUkT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgLyoqXG4gICAgICogY29uc3RydWN0b3IgZm9yIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIFRoZSByZW5kZXJlciB0aGlzIHRpbGluZyBhd2Vzb21lbmVzcyB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaFJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZXNoUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBNZXNoUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IG5ldyBjb3JlLlNoYWRlcihnbCwgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcbicsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVDb2xvcjtcXG59XFxuJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHJlbmRlcnMgbWVzaFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLm1lc2guTWVzaH0gbWVzaCBtZXNoIGluc3RhbmNlXG4gICAgICovXG5cblxuICAgIE1lc2hSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKG1lc2gpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gbWVzaC5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnbERhdGEgPSBtZXNoLl9nbERhdGFzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWdsRGF0YSkge1xuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFZhbyhudWxsKTtcblxuICAgICAgICAgICAgZ2xEYXRhID0ge1xuICAgICAgICAgICAgICAgIHNoYWRlcjogdGhpcy5zaGFkZXIsXG4gICAgICAgICAgICAgICAgdmVydGV4QnVmZmVyOiBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIG1lc2gudmVydGljZXMsIGdsLlNUUkVBTV9EUkFXKSxcbiAgICAgICAgICAgICAgICB1dkJ1ZmZlcjogX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBtZXNoLnV2cywgZ2wuU1RSRUFNX0RSQVcpLFxuICAgICAgICAgICAgICAgIGluZGV4QnVmZmVyOiBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCwgbWVzaC5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyksXG4gICAgICAgICAgICAgICAgLy8gYnVpbGQgdGhlIHZhbyBvYmplY3QgdGhhdCB3aWxsIHJlbmRlci4uXG4gICAgICAgICAgICAgICAgdmFvOiBudWxsLFxuICAgICAgICAgICAgICAgIGRpcnR5OiBtZXNoLmRpcnR5LFxuICAgICAgICAgICAgICAgIGluZGV4RGlydHk6IG1lc2guaW5kZXhEaXJ0eSxcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEaXJ0eTogbWVzaC52ZXJ0ZXhEaXJ0eVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gYnVpbGQgdGhlIHZhbyBvYmplY3QgdGhhdCB3aWxsIHJlbmRlci4uXG4gICAgICAgICAgICBnbERhdGEudmFvID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KGdsKS5hZGRJbmRleChnbERhdGEuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZShnbERhdGEudmVydGV4QnVmZmVyLCBnbERhdGEuc2hhZGVyLmF0dHJpYnV0ZXMuYVZlcnRleFBvc2l0aW9uLCBnbC5GTE9BVCwgZmFsc2UsIDIgKiA0LCAwKS5hZGRBdHRyaWJ1dGUoZ2xEYXRhLnV2QnVmZmVyLCBnbERhdGEuc2hhZGVyLmF0dHJpYnV0ZXMuYVRleHR1cmVDb29yZCwgZ2wuRkxPQVQsIGZhbHNlLCAyICogNCwgMCk7XG5cbiAgICAgICAgICAgIG1lc2guX2dsRGF0YXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xEYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFZhbyhnbERhdGEudmFvKTtcblxuICAgICAgICBpZiAobWVzaC5kaXJ0eSAhPT0gZ2xEYXRhLmRpcnR5KSB7XG4gICAgICAgICAgICBnbERhdGEuZGlydHkgPSBtZXNoLmRpcnR5O1xuICAgICAgICAgICAgZ2xEYXRhLnV2QnVmZmVyLnVwbG9hZChtZXNoLnV2cyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWVzaC5pbmRleERpcnR5ICE9PSBnbERhdGEuaW5kZXhEaXJ0eSkge1xuICAgICAgICAgICAgZ2xEYXRhLmluZGV4RGlydHkgPSBtZXNoLmluZGV4RGlydHk7XG4gICAgICAgICAgICBnbERhdGEuaW5kZXhCdWZmZXIudXBsb2FkKG1lc2guaW5kaWNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWVzaC52ZXJ0ZXhEaXJ0eSAhPT0gZ2xEYXRhLnZlcnRleERpcnR5KSB7XG4gICAgICAgICAgICBnbERhdGEudmVydGV4RGlydHkgPSBtZXNoLnZlcnRleERpcnR5O1xuICAgICAgICAgICAgZ2xEYXRhLnZlcnRleEJ1ZmZlci51cGxvYWQobWVzaC52ZXJ0aWNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iaW5kU2hhZGVyKGdsRGF0YS5zaGFkZXIpO1xuXG4gICAgICAgIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSByZW5kZXJlci5iaW5kVGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoY29yZS51dGlscy5jb3JyZWN0QmxlbmRNb2RlKG1lc2guYmxlbmRNb2RlLCB0ZXh0dXJlLmJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSkpO1xuXG4gICAgICAgIGlmIChnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIGlmIChtZXNoLnVwbG9hZFV2VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtID0gbWVzaC5fdXZUcmFuc2Zvcm0ubWFwQ29vcmQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtID0gbWF0cml4SWRlbnRpdHkudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gbWVzaC53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuXG4gICAgICAgIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudUNvbG9yID0gY29yZS51dGlscy5wcmVtdWx0aXBseVJnYmEobWVzaC50aW50UmdiLCBtZXNoLndvcmxkQWxwaGEsIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudUNvbG9yLCB0ZXh0dXJlLmJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSk7XG5cbiAgICAgICAgdmFyIGRyYXdNb2RlID0gbWVzaC5kcmF3TW9kZSA9PT0gX01lc2gyLmRlZmF1bHQuRFJBV19NT0RFUy5UUklBTkdMRV9NRVNIID8gZ2wuVFJJQU5HTEVfU1RSSVAgOiBnbC5UUklBTkdMRVM7XG5cbiAgICAgICAgZ2xEYXRhLnZhby5kcmF3KGRyYXdNb2RlLCBtZXNoLmluZGljZXMubGVuZ3RoLCAwKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIE1lc2hSZW5kZXJlcjtcbn0oY29yZS5PYmplY3RSZW5kZXJlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1lc2hSZW5kZXJlcjtcblxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ21lc2gnLCBNZXNoUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVzaFJlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9NZXNoID0gcmVxdWlyZSgnLi9NZXNoJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTWVzaCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX01lc2hSZW5kZXJlciA9IHJlcXVpcmUoJy4vd2ViZ2wvTWVzaFJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTWVzaFJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaFJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DYW52YXNNZXNoUmVuZGVyZXIgPSByZXF1aXJlKCcuL2NhbnZhcy9DYW52YXNNZXNoUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYW52YXNNZXNoUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNNZXNoUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1BsYW5lID0gcmVxdWlyZSgnLi9QbGFuZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1BsYW5lJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGxhbmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX05pbmVTbGljZVBsYW5lID0gcmVxdWlyZSgnLi9OaW5lU2xpY2VQbGFuZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ05pbmVTbGljZVBsYW5lJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTmluZVNsaWNlUGxhbmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1JvcGUgPSByZXF1aXJlKCcuL1JvcGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSb3BlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm9wZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5ibG9iTWlkZGxld2FyZUZhY3RvcnkgPSBibG9iTWlkZGxld2FyZUZhY3Rvcnk7XG5cbnZhciBfUmVzb3VyY2UgPSByZXF1aXJlKCcuLi8uLi9SZXNvdXJjZScpO1xuXG52YXIgX1Jlc291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Jlc291cmNlKTtcblxudmFyIF9iID0gcmVxdWlyZSgnLi4vLi4vYjY0Jyk7XG5cbnZhciBfYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFVybCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcblxuLy8gYSBtaWRkbGV3YXJlIGZvciB0cmFuc2Zvcm1pbmcgWEhSIGxvYWRlZCBCbG9icyBpbnRvIG1vcmUgdXNlZnVsIG9iamVjdHNcbmZ1bmN0aW9uIGJsb2JNaWRkbGV3YXJlRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYmxvYk1pZGRsZXdhcmUocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoaXMgd2FzIGFuIFhIUiBsb2FkIG9mIGEgYmxvYlxuICAgICAgICBpZiAocmVzb3VyY2UueGhyICYmIHJlc291cmNlLnhoclR5cGUgPT09IF9SZXNvdXJjZTIuZGVmYXVsdC5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgICAgICAgICBpZiAoIXdpbmRvdy5CbG9iIHx8IHR5cGVvZiByZXNvdXJjZS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gcmVzb3VyY2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcblxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYW4gaW1hZ2UsIGNvbnZlcnQgdGhlIGJpbmFyeSBzdHJpbmcgaW50byBhIGRhdGEgdXJsXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgJiYgdHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSAnZGF0YTonICsgdHlwZSArICc7YmFzZTY0LCcgKyBfYjIuZGVmYXVsdC5lbmNvZGVCaW5hcnkocmVzb3VyY2UueGhyLnJlc3BvbnNlVGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UudHlwZSA9IF9SZXNvdXJjZTIuZGVmYXVsdC5UWVBFLklNQUdFO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdhaXQgdW50aWwgdGhlIGltYWdlIGxvYWRzIGFuZCB0aGVuIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBjb250ZW50IHR5cGUgc2F5cyB0aGlzIGlzIGFuIGltYWdlLCB0aGVuIHdlIHNob3VsZCB0cmFuc2Zvcm0gdGhlIGJsb2IgaW50byBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc291cmNlLmRhdGEudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNyYyA9IFVybC5jcmVhdGVPYmplY3RVUkwocmVzb3VyY2UuZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmJsb2IgPSByZXNvdXJjZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBzcmM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLnR5cGUgPSBfUmVzb3VyY2UyLmRlZmF1bHQuVFlQRS5JTUFHRTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xlYW51cCB0aGUgbm8gbG9uZ2VyIHVzZWQgYmxvYiBhZnRlciB0aGUgaW1hZ2UgbG9hZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IElzIHRoaXMgY29ycmVjdD8gV2lsbCB0aGUgaW1hZ2UgYmUgaW52YWxpZCBhZnRlciByZXZva2luZz9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVybC5yZXZva2VPYmplY3RVUkwoc3JjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWQuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY6IHZvaWQgMFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIF9yZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKF9yZXQpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0KCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJsb2IuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyJyk7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzb3VyY2VMb2FkZXIpO1xuXG52YXIgX2Jsb2IgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXIvbGliL21pZGRsZXdhcmVzL3BhcnNpbmcvYmxvYicpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF90ZXh0dXJlUGFyc2VyID0gcmVxdWlyZSgnLi90ZXh0dXJlUGFyc2VyJyk7XG5cbnZhciBfdGV4dHVyZVBhcnNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZXh0dXJlUGFyc2VyKTtcblxudmFyIF9zcHJpdGVzaGVldFBhcnNlciA9IHJlcXVpcmUoJy4vc3ByaXRlc2hlZXRQYXJzZXInKTtcblxudmFyIF9zcHJpdGVzaGVldFBhcnNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zcHJpdGVzaGVldFBhcnNlcik7XG5cbnZhciBfYml0bWFwRm9udFBhcnNlciA9IHJlcXVpcmUoJy4vYml0bWFwRm9udFBhcnNlcicpO1xuXG52YXIgX2JpdG1hcEZvbnRQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYml0bWFwRm9udFBhcnNlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKlxuICogVGhlIG5ldyBsb2FkZXIsIGV4dGVuZHMgUmVzb3VyY2UgTG9hZGVyIGJ5IENoYWQgRW5nbGVyOiBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGxvYWRlciA9IFBJWEkubG9hZGVyOyAvLyBQaXhpSlMgZXhwb3NlcyBhIHByZW1hZGUgaW5zdGFuY2UgZm9yIHlvdSB0byB1c2UuXG4gKiAvL29yXG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgUElYSS5sb2FkZXJzLkxvYWRlcigpOyAvLyB5b3UgY2FuIGFsc28gY3JlYXRlIHlvdXIgb3duIGlmIHlvdSB3YW50XG4gKlxuICogY29uc3Qgc3ByaXRlcyA9IHt9O1xuICpcbiAqIC8vIENoYWluYWJsZSBgYWRkYCB0byBlbnF1ZXVlIGEgcmVzb3VyY2VcbiAqIGxvYWRlci5hZGQoJ2J1bm55JywgJ2RhdGEvYnVubnkucG5nJylcbiAqICAgICAgIC5hZGQoJ3NwYWNlc2hpcCcsICdhc3NldHMvc3ByaXRlc2hlZXQuanNvbicpO1xuICogbG9hZGVyLmFkZCgnc2NvcmVGb250JywgJ2Fzc2V0cy9zY29yZS5mbnQnKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHByZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICpiZWZvcmUqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gY2FjaGluZyBtb2R1bGVzICh1c2luZyBmaWxlc3lzdGVtLCBpbmRleGVkZGIsIG1lbW9yeSwgZXRjKS5cbiAqIGxvYWRlci5wcmUoY2FjaGluZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgdXNlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmFmdGVyKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIHBhcnNpbmcgbW9kdWxlcyAobGlrZSBzcHJpdGVzaGVldCBwYXJzZXJzLCBzcGluZSBwYXJzZXIsIGV0YykuXG4gKiBsb2FkZXIudXNlKHBhcnNpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBUaGUgYGxvYWRgIG1ldGhvZCBsb2FkcyB0aGUgcXVldWUgb2YgcmVzb3VyY2VzLCBhbmQgY2FsbHMgdGhlIHBhc3NlZCBpbiBjYWxsYmFjayBjYWxsZWQgb25jZSBhbGxcbiAqIC8vIHJlc291cmNlcyBoYXZlIGxvYWRlZC5cbiAqIGxvYWRlci5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICogICAgIC8vIHJlc291cmNlcyBpcyBhbiBvYmplY3Qgd2hlcmUgdGhlIGtleSBpcyB0aGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgbG9hZGVkIGFuZCB0aGUgdmFsdWUgaXMgdGhlIHJlc291cmNlIG9iamVjdC5cbiAqICAgICAvLyBUaGV5IGhhdmUgYSBjb3VwbGUgZGVmYXVsdCBwcm9wZXJ0aWVzOlxuICogICAgIC8vIC0gYHVybGA6IFRoZSBVUkwgdGhhdCB0aGUgcmVzb3VyY2Ugd2FzIGxvYWRlZCBmcm9tXG4gKiAgICAgLy8gLSBgZXJyb3JgOiBUaGUgZXJyb3IgdGhhdCBoYXBwZW5lZCB3aGVuIHRyeWluZyB0byBsb2FkIChpZiBhbnkpXG4gKiAgICAgLy8gLSBgZGF0YWA6IFRoZSByYXcgZGF0YSB0aGF0IHdhcyBsb2FkZWRcbiAqICAgICAvLyBhbHNvIG1heSBjb250YWluIG90aGVyIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIG1pZGRsZXdhcmUgdGhhdCBydW5zLlxuICogICAgIHNwcml0ZXMuYnVubnkgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLmJ1bm55LnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc3BhY2VzaGlwID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zcGFjZXNoaXAudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zY29yZUZvbnQgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNjb3JlRm9udC50ZXh0dXJlKTtcbiAqIH0pO1xuICpcbiAqIC8vIHRocm91Z2hvdXQgdGhlIHByb2Nlc3MgbXVsdGlwbGUgc2lnbmFscyBjYW4gYmUgZGlzcGF0Y2hlZC5cbiAqIGxvYWRlci5vblByb2dyZXNzLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQvZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25FcnJvci5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25Mb2FkLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQgZmlsZVxuICogbG9hZGVyLm9uQ29tcGxldGUuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2Ugd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAqIGBgYFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgbW9kdWxlOnJlc291cmNlLWxvYWRlci5SZXNvdXJjZUxvYWRlclxuICogQG1lbWJlcm9mIFBJWEkubG9hZGVyc1xuICovXG52YXIgTG9hZGVyID0gZnVuY3Rpb24gKF9SZXNvdXJjZUxvYWRlcikge1xuICAgIF9pbmhlcml0cyhMb2FkZXIsIF9SZXNvdXJjZUxvYWRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9hZGVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVzb3VyY2VMb2FkZXIuY2FsbCh0aGlzLCBiYXNlVXJsLCBjb25jdXJyZW5jeSkpO1xuXG4gICAgICAgIF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQuY2FsbChfdGhpcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX3BpeGlNaWRkbGV3YXJlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBfdGhpcy51c2UoTG9hZGVyLl9waXhpTWlkZGxld2FyZVtpXSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbXBhdCBsYXllciwgdHJhbnNsYXRlIHRoZSBuZXcgdjIgc2lnbmFscyBpbnRvIG9sZCB2MSBldmVudHMuXG4gICAgICAgIF90aGlzLm9uU3RhcnQuYWRkKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdCgnc3RhcnQnLCBsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLm9uUHJvZ3Jlc3MuYWRkKGZ1bmN0aW9uIChsLCByKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdCgncHJvZ3Jlc3MnLCBsLCByKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLm9uRXJyb3IuYWRkKGZ1bmN0aW9uIChlLCBsLCByKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdCgnZXJyb3InLCBlLCBsLCByKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLm9uTG9hZC5hZGQoZnVuY3Rpb24gKGwsIHIpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5lbWl0KCdsb2FkJywgbCwgcik7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5vbkNvbXBsZXRlLmFkZChmdW5jdGlvbiAobCwgcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ2NvbXBsZXRlJywgbCwgcik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGRlZmF1bHQgbWlkZGxld2FyZSB0byB0aGUgUGl4aUpTIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIHRvIGFkZC5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlID0gZnVuY3Rpb24gYWRkUGl4aU1pZGRsZXdhcmUoZm4pIHtcbiAgICAgICAgTG9hZGVyLl9waXhpTWlkZGxld2FyZS5wdXNoKGZuKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgbG9hZGVyLCByZW1vdmVzIHJlZmVyZW5jZXMuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIExvYWRlcjtcbn0oX3Jlc291cmNlTG9hZGVyMi5kZWZhdWx0KTtcblxuLy8gQ29weSBFRTMgcHJvdG90eXBlIChtaXhpbilcblxuXG5leHBvcnRzLmRlZmF1bHQgPSBMb2FkZXI7XG5mb3IgKHZhciBrIGluIF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQucHJvdG90eXBlKSB7XG4gICAgTG9hZGVyLnByb3RvdHlwZVtrXSA9IF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQucHJvdG90eXBlW2tdO1xufVxuXG5Mb2FkZXIuX3BpeGlNaWRkbGV3YXJlID0gW1xuLy8gcGFyc2UgYW55IGJsb2IgaW50byBtb3JlIHVzYWJsZSBvYmplY3RzIChlLmcuIEltYWdlKVxuX2Jsb2IuYmxvYk1pZGRsZXdhcmVGYWN0b3J5LFxuLy8gcGFyc2UgYW55IEltYWdlIG9iamVjdHMgaW50byB0ZXh0dXJlc1xuX3RleHR1cmVQYXJzZXIyLmRlZmF1bHQsXG4vLyBwYXJzZSBhbnkgc3ByaXRlc2hlZXQgZGF0YSBpbnRvIG11bHRpcGxlIHRleHR1cmVzXG5fc3ByaXRlc2hlZXRQYXJzZXIyLmRlZmF1bHQsXG4vLyBwYXJzZSBiaXRtYXAgZm9udCBkYXRhIGludG8gbXVsdGlwbGUgdGV4dHVyZXNcbl9iaXRtYXBGb250UGFyc2VyMi5kZWZhdWx0XTtcblxuLy8gQWRkIGN1c3RvbSBleHRlbnRpb25zXG52YXIgUmVzb3VyY2UgPSBfcmVzb3VyY2VMb2FkZXIyLmRlZmF1bHQuUmVzb3VyY2U7XG5cblJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUoJ2ZudCcsIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9taW5pU2lnbmFscyA9IHJlcXVpcmUoJ21pbmktc2lnbmFscycpO1xuXG52YXIgX21pbmlTaWduYWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21pbmlTaWduYWxzKTtcblxudmFyIF9wYXJzZVVyaSA9IHJlcXVpcmUoJ3BhcnNlLXVyaScpO1xuXG52YXIgX3BhcnNlVXJpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnNlVXJpKTtcblxudmFyIF9hc3luYyA9IHJlcXVpcmUoJy4vYXN5bmMnKTtcblxudmFyIGFzeW5jID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FzeW5jKTtcblxudmFyIF9SZXNvdXJjZSA9IHJlcXVpcmUoJy4vUmVzb3VyY2UnKTtcblxudmFyIF9SZXNvdXJjZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZXNvdXJjZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8vIHNvbWUgY29uc3RhbnRzXG52YXIgTUFYX1BST0dSRVNTID0gMTAwO1xudmFyIHJneEV4dHJhY3RVcmxIYXNoID0gLygjW1xcdy1dKyk/JC87XG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgbXVsdGlwbGUgcmVzb3VyY2VzIHRvIGxvYWQuXG4gKlxuICogQGNsYXNzXG4gKi9cblxudmFyIExvYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvYWRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB2YXIgYmFzZVVybCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICAgIHZhciBjb25jdXJyZW5jeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvYWRlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm9ncmVzcyBwZXJjZW50IG9mIHRoZSBsb2FkZXIgZ29pbmcgdGhyb3VnaCB0aGUgcXVldWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkaW5nIHN0YXRlIG9mIHRoZSBsb2FkZXIsIHRydWUgaWYgaXQgaXMgY3VycmVudGx5IGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIGV2ZXJ5IFVSTCBhZGRlZCB0byB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIHNob3VsZCBiZSBhIHZhbGlkIHF1ZXJ5IHN0cmluZyAqd2l0aG91dCogdGhlIHF1ZXN0aW9uLW1hcmsgKGA/YCkuIFRoZSBsb2FkZXIgd2lsbFxuICAgICAgICAgKiBhbHNvICpub3QqIGVzY2FwZSB2YWx1ZXMgZm9yIHlvdS4gTWFrZSBzdXJlIHRvIGVzY2FwZSB5b3VyIHBhcmFtZXRlcnMgd2l0aFxuICAgICAgICAgKiBbYGVuY29kZVVSSUNvbXBvbmVudGBdKGh0dHBzOi8vbWRuLmlvL2VuY29kZVVSSUNvbXBvbmVudCkgYmVmb3JlIGFzc2lnbmluZyB0aGlzIHByb3BlcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGxvYWRlci5kZWZhdWx0UXVlcnlTdHJpbmcgPSAndXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAgICAgKiBsb2FkZXIuYWRkKCdpbWFnZS5wbmcnKS5sb2FkKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGxvYWRlci5yZXNldCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3Y9MSZ1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgICAgICogbG9hZGVyLmFkZCgnaWFtZ2UucG5nP3Y9MScpLmxvYWQoKTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJyc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFja3MgdGhlIHJlc291cmNlcyB3ZSBhcmUgY3VycmVudGx5IGNvbXBsZXRpbmcgcGFyc2luZyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX2xvYWRSZXNvdXJjZWAgZnVuY3Rpb24gYm91bmQgd2l0aCB0aGlzIG9iamVjdCBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gciAtIFRoZSByZXNvdXJjZSB0byBsb2FkXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGQgLSBUaGUgZGVxdWV1ZSBmdW5jdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uIChyLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuX2xvYWRSZXNvdXJjZShyLCBkKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc291cmNlcyB3YWl0aW5nIHRvIGJlIGxvYWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3F1ZXVlID0gYXN5bmMucXVldWUodGhpcy5fYm91bmRMb2FkUmVzb3VyY2UsIGNvbmN1cnJlbmN5KTtcblxuICAgICAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGwgdGhlIHJlc291cmNlcyBmb3IgdGhpcyBsb2FkZXIga2V5ZWQgYnkgbmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PHN0cmluZywgUmVzb3VyY2U+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgb3IgZXJyb3JlZCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25FcnJvclNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Mb2FkU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkxvYWQgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBwcm9jZXNzIHRoZSBxdWV1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblN0YXJ0U2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblN0YXJ0ID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgcHJvZ3Jlc3MgY2hhbmdlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgcHJvZ3Jlc3MgaXMgYWR2YW5jaW5nIG9uLlxuICAgICAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgb3IgZmFpbGVkIHRvIGNhdXNlIHRoZSBwcm9ncmVzcyB0byBhZHZhbmNlLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBhbiBlcnJvciBvY2N1cnJzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICAgICAqIEBjYWxsYmFjayBPbkVycm9yU2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBlcnJvciBoYXBwZW5lZCBpbi5cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBhIGxvYWQgY29tcGxldGVzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICAgICAqIEBjYWxsYmFjayBPbkxvYWRTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBsYW9kZWQgdGhlIHJlc291cmNlLlxuICAgICAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgbG9hZGluZy5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIGxvYWRlciBzdGFydHMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICAgICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIHN0YXJ0ZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSBsb2FkZXIgY29tcGxldGVzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBmaW5pc2hlZCBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgICAgICovXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHJlc291cmNlIChvciBtdWx0aXBsZSByZXNvdXJjZXMpIHRvIHRoZSBsb2FkZXIgcXVldWUuXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiB0YWtlIGEgd2lkZSB2YXJpZXR5IG9mIGRpZmZlcmVudCBwYXJhbWV0ZXJzLiBUaGUgb25seSB0aGluZyB0aGF0IGlzIGFsd2F5c1xuICAgICAqIHJlcXVpcmVkIHRoZSB1cmwgdG8gbG9hZC4gQWxsIHRoZSBmb2xsb3dpbmcgd2lsbCB3b3JrOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBsb2FkZXJcbiAgICAgKiAgICAgLy8gbm9ybWFsIHBhcmFtIHN5bnRheFxuICAgICAqICAgICAuYWRkKCdrZXknLCAnaHR0cDovLy4uLicsIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKCdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nKVxuICAgICAqXG4gICAgICogICAgIC8vIG9iamVjdCBzeW50YXhcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICBuYW1lOiAna2V5MicsXG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICBuYW1lOiAna2V5MycsXG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge31cbiAgICAgKiAgICAgfSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICB1cmw6ICdodHRwczovLy4uLicsXG4gICAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgKiAgICAgICAgIGNyb3NzT3JpZ2luOiB0cnVlXG4gICAgICogICAgIH0pXG4gICAgICpcbiAgICAgKiAgICAgLy8geW91IGNhbiBhbHNvIHBhc3MgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzIG9yIGJvdGhcbiAgICAgKiAgICAgLmFkZChbXG4gICAgICogICAgICAgICB7IG5hbWU6ICdrZXk0JywgdXJsOiAnaHR0cDovLy4uLicsIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9IH0sXG4gICAgICogICAgICAgICB7IHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgICAqICAgICAgICAgJ2h0dHA6Ly8uLi4nXG4gICAgICogICAgIF0pXG4gICAgICpcbiAgICAgKiAgICAgLy8gYW5kIHlvdSBjYW4gdXNlIGJvdGggcGFyYW1zIGFuZCBvcHRpb25zXG4gICAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgeyBjcm9zc09yaWdpbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLCBpZiBub3QgcGFzc2VkIHRoZSB1cmwgaXMgdXNlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3VybF0gLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0byBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gW29wdGlvbnMubG9hZFR5cGU9UmVzb3VyY2UuTE9BRF9UWVBFLlhIUl0gLSBIb3cgc2hvdWxkIHRoaXMgcmVzb3VyY2UgYmUgbG9hZGVkP1xuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFtvcHRpb25zLnhoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3cgc2hvdWxkXG4gICAgICogICAgICB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW29wdGlvbnMubWV0YWRhdGEubG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm1ldGFkYXRhLnNraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NiXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgICAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKG5hbWUsIHVybCwgb3B0aW9ucywgY2IpIHtcbiAgICAgICAgLy8gc3BlY2lhbCBjYXNlIG9mIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJsc1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQobmFtZVtpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgYW4gb2JqZWN0IGlzIHBhc3NlZCBpbnN0ZWFkIG9mIHBhcmFtc1xuICAgICAgICBpZiAoKHR5cGVvZiBuYW1lID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihuYW1lKSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjYiA9IHVybCB8fCBuYW1lLmNhbGxiYWNrIHx8IG5hbWUub25Db21wbGV0ZTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBuYW1lO1xuICAgICAgICAgICAgdXJsID0gbmFtZS51cmw7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5uYW1lIHx8IG5hbWUua2V5IHx8IG5hbWUudXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FzZSB3aGVyZSBubyBuYW1lIGlzIHBhc3NlZCBzaGlmdCBhbGwgYXJncyBvdmVyIGJ5IG9uZS5cbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zID0gdXJsO1xuICAgICAgICAgICAgdXJsID0gbmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vdyB0aGF0IHdlIHNoaWZ0ZWQgbWFrZSBzdXJlIHdlIGhhdmUgYSBwcm9wZXIgdXJsLlxuICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXJsIHBhc3NlZCB0byBhZGQgcmVzb3VyY2UgdG8gbG9hZGVyLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3B0aW9ucyBhcmUgb3B0aW9uYWwgc28gcGVvcGxlIG1pZ2h0IHBhc3MgYSBmdW5jdGlvbiBhbmQgbm8gb3B0aW9uc1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgbG9hZGluZyBhbHJlYWR5IHlvdSBjYW4gb25seSBhZGQgcmVzb3VyY2VzIHRoYXQgaGF2ZSBhIHBhcmVudC5cbiAgICAgICAgaWYgKHRoaXMubG9hZGluZyAmJiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucGFyZW50UmVzb3VyY2UpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgcmVzb3VyY2VzIHdoaWxlIHRoZSBsb2FkZXIgaXMgcnVubmluZy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIHJlc291cmNlIGFscmVhZHkgZXhpc3RzLlxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgbmFtZWQgXCInICsgbmFtZSArICdcIiBhbHJlYWR5IGV4aXN0cy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBiYXNlIHVybCBpZiB0aGlzIGlzbid0IGFuIGFic29sdXRlIHVybFxuICAgICAgICB1cmwgPSB0aGlzLl9wcmVwYXJlVXJsKHVybCk7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBzdG9yZSB0aGUgcmVzb3VyY2VcbiAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgX1Jlc291cmNlMi5kZWZhdWx0KG5hbWUsIHVybCwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ub25BZnRlck1pZGRsZXdhcmUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBhY3RpdmVseSBsb2FkaW5nLCBtYWtlIHN1cmUgdG8gYWRqdXN0IHByb2dyZXNzIGNodW5rcyBmb3IgdGhhdCBwYXJlbnQgYW5kIGl0cyBjaGlsZHJlblxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnRSZXNvdXJjZTtcbiAgICAgICAgICAgIHZhciBpbmNvbXBsZXRlQ2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7ICsrX2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudC5jaGlsZHJlbltfaV0uaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW4ucHVzaChwYXJlbnQuY2hpbGRyZW5bX2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBmdWxsQ2h1bmsgPSBwYXJlbnQucHJvZ3Jlc3NDaHVuayAqIChpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoICsgMSk7IC8vICsxIGZvciBwYXJlbnRcbiAgICAgICAgICAgIHZhciBlYWNoQ2h1bmsgPSBmdWxsQ2h1bmsgLyAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDIpOyAvLyArMiBmb3IgcGFyZW50ICYgbmV3IGNoaWxkXG5cbiAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcbiAgICAgICAgICAgIHBhcmVudC5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoOyArK19pMikge1xuICAgICAgICAgICAgICAgIGluY29tcGxldGVDaGlsZHJlbltfaTJdLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdGhlIHJlc291cmNlIHRvIHRoZSBxdWV1ZVxuICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYmVmb3JlKiB0aGVcbiAgICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGJlZm9yZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5wcmUgPSBmdW5jdGlvbiBwcmUoZm4pIHtcbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBhbGlhcyB1c2VcbiAgICAgKiBAbWV0aG9kIGFmdGVyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmbikge1xuICAgICAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgcXVldWUgb2YgdGhlIGxvYWRlciB0byBwcmVwYXJlIGZvciBhIG5ldyBsb2FkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcXVldWUua2lsbCgpO1xuICAgICAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuXG4gICAgICAgIC8vIGFib3J0IGFsbCByZXNvdXJjZSBsb2Fkc1xuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gdGhpcy5yZXNvdXJjZXNba107XG5cbiAgICAgICAgICAgIGlmIChyZXMuX29uTG9hZEJpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXMuX29uTG9hZEJpbmRpbmcuZGV0YWNoKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgbG9hZGluZyB0aGUgcXVldWVkIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQuXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgICAgICAvLyByZWdpc3RlciBjb21wbGV0ZSBjYWxsYmFjayBpZiB0aGV5IHBhc3Mgb25lXG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSBxdWV1ZSBoYXMgYWxyZWFkeSBzdGFydGVkIHdlIGFyZSBkb25lIGhlcmVcbiAgICAgICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcXVldWUuaWRsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9vblN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkaXN0cmlidXRlIHByb2dyZXNzIGNodW5rc1xuICAgICAgICAgICAgdmFyIG51bVRhc2tzID0gdGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjaHVuayA9IDEwMCAvIG51bVRhc2tzO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLl90YXNrc1tpXS5kYXRhLnByb2dyZXNzQ2h1bmsgPSBjaHVuaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbm90aWZ5IHdlIGFyZSBzdGFydGluZ1xuICAgICAgICAgICAgdGhpcy5fb25TdGFydCgpO1xuXG4gICAgICAgICAgICAvLyBzdGFydCBsb2FkaW5nXG4gICAgICAgICAgICB0aGlzLl9xdWV1ZS5yZXN1bWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlcyBhIHVybCBmb3IgdXNhZ2UgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gcHJlcGFyZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBwcmVwYXJlZCB1cmwuXG4gICAgICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fcHJlcGFyZVVybCA9IGZ1bmN0aW9uIF9wcmVwYXJlVXJsKHVybCkge1xuICAgICAgICB2YXIgcGFyc2VkVXJsID0gKDAsIF9wYXJzZVVyaTIuZGVmYXVsdCkodXJsLCB7IHN0cmljdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gYWJzb2x1dGUgdXJsLCBqdXN0IHVzZSBpdCBhcyBpcy5cbiAgICAgICAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCB8fCAhcGFyc2VkVXJsLnBhdGggfHwgdXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHVybDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBiYXNlVXJsIGRvZXNuJ3QgZW5kIGluIHNsYXNoIGFuZCB1cmwgZG9lc24ndCBzdGFydCB3aXRoIHNsYXNoLCB0aGVuIGFkZCBhIHNsYXNoIGluYmV0d2VlblxuICAgICAgICBlbHNlIGlmICh0aGlzLmJhc2VVcmwubGVuZ3RoICYmIHRoaXMuYmFzZVVybC5sYXN0SW5kZXhPZignLycpICE9PSB0aGlzLmJhc2VVcmwubGVuZ3RoIC0gMSAmJiB1cmwuY2hhckF0KDApICE9PSAnLycpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyAnLycgKyB1cmw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIHVybDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3ZSBuZWVkIHRvIGFkZCBhIGRlZmF1bHQgcXVlcnlzdHJpbmcsIHRoZXJlIGlzIGEgYml0IG1vcmUgd29ya1xuICAgICAgICBpZiAodGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBoYXNoID0gcmd4RXh0cmFjdFVybEhhc2guZXhlYyhyZXN1bHQpWzBdO1xuXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc3Vic3RyKDAsIHJlc3VsdC5sZW5ndGggLSBoYXNoLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQuaW5kZXhPZignPycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnJicgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICc/JyArIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHQgKz0gaGFzaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIGEgc2luZ2xlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlcXVldWUgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHdlIG5lZWQgdG8gZGVxdWV1ZSB0aGlzIGl0ZW0uXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuX2xvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uIF9sb2FkUmVzb3VyY2UocmVzb3VyY2UsIGRlcXVldWUpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgcmVzb3VyY2UuX2RlcXVldWUgPSBkZXF1ZXVlO1xuXG4gICAgICAgIC8vIHJ1biBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICBhc3luYy5lYWNoU2VyaWVzKHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgICAgICAgZm4uY2FsbChfdGhpczIsIHJlc291cmNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGJlZm9yZSBtaWRkbGV3YXJlIG1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZSxcbiAgICAgICAgICAgICAgICAvLyBicmVhayBhbmQgZG9uJ3QgcHJvY2VzcyBhbnkgbW9yZSBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICAgICAgICAgIG5leHQocmVzb3VyY2UuaXNDb21wbGV0ZSA/IHt9IDogbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHJlc291cmNlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuX29uTG9hZChyZXNvdXJjZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKF90aGlzMi5fb25Mb2FkLCBfdGhpczIpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbmNlIGxvYWRpbmcgaGFzIHN0YXJ0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLl9vblN0YXJ0ID0gZnVuY3Rpb24gX29uU3RhcnQoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbmNlIGVhY2ggcmVzb3VyY2UgaGFzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuX29uQ29tcGxldGUgPSBmdW5jdGlvbiBfb25Db21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IE1BWF9QUk9HUkVTUztcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzLCB0aGlzLnJlc291cmNlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBlYWNoIHRpbWUgYSByZXNvdXJjZXMgaXMgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHdhcyBsb2FkZWRcbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fb25Mb2FkID0gZnVuY3Rpb24gX29uTG9hZChyZXNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IG51bGw7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHRoaXMgcmVzb3VyY2UgZnJvbSB0aGUgYXN5bmMgcXVldWUsIGFuZCBhZGQgaXQgdG8gb3VyIGxpc3Qgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGJlaW5nIHBhcnNlZFxuICAgICAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nLnB1c2gocmVzb3VyY2UpO1xuICAgICAgICByZXNvdXJjZS5fZGVxdWV1ZSgpO1xuXG4gICAgICAgIC8vIHJ1biBhbGwgdGhlIGFmdGVyIG1pZGRsZXdhcmUgZm9yIHRoaXMgcmVzb3VyY2VcbiAgICAgICAgYXN5bmMuZWFjaFNlcmllcyh0aGlzLl9hZnRlck1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgICAgICAgZm4uY2FsbChfdGhpczMsIHJlc291cmNlLCBuZXh0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzb3VyY2Uub25BZnRlck1pZGRsZXdhcmUuZGlzcGF0Y2gocmVzb3VyY2UpO1xuXG4gICAgICAgICAgICBfdGhpczMucHJvZ3Jlc3MgKz0gcmVzb3VyY2UucHJvZ3Jlc3NDaHVuaztcbiAgICAgICAgICAgIF90aGlzMy5vblByb2dyZXNzLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuXG4gICAgICAgICAgICBpZiAocmVzb3VyY2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpczMub25FcnJvci5kaXNwYXRjaChyZXNvdXJjZS5lcnJvciwgX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzMy5vbkxvYWQuZGlzcGF0Y2goX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5zcGxpY2UoX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YocmVzb3VyY2UpLCAxKTtcblxuICAgICAgICAgICAgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuICAgICAgICAgICAgaWYgKF90aGlzMy5fcXVldWUuaWRsZSgpICYmIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpczMuX29uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhMb2FkZXIsIFt7XG4gICAgICAgIGtleTogJ2NvbmN1cnJlbmN5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUuY29uY3VycmVuY3k7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChjb25jdXJyZW5jeSkge1xuICAgICAgICAgICAgdGhpcy5fcXVldWUuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IExvYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxvYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnNoYXJlZCA9IGV4cG9ydHMuUmVzb3VyY2UgPSBleHBvcnRzLnRleHR1cmVQYXJzZXIgPSBleHBvcnRzLmdldFJlc291cmNlUGF0aCA9IGV4cG9ydHMuc3ByaXRlc2hlZXRQYXJzZXIgPSBleHBvcnRzLnBhcnNlQml0bWFwRm9udERhdGEgPSBleHBvcnRzLmJpdG1hcEZvbnRQYXJzZXIgPSBleHBvcnRzLkxvYWRlciA9IHVuZGVmaW5lZDtcblxudmFyIF9iaXRtYXBGb250UGFyc2VyID0gcmVxdWlyZSgnLi9iaXRtYXBGb250UGFyc2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnYml0bWFwRm9udFBhcnNlcicsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYml0bWFwRm9udFBhcnNlcikuZGVmYXVsdDtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAncGFyc2VCaXRtYXBGb250RGF0YScsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2JpdG1hcEZvbnRQYXJzZXIucGFyc2U7XG4gICAgfVxufSk7XG5cbnZhciBfc3ByaXRlc2hlZXRQYXJzZXIgPSByZXF1aXJlKCcuL3Nwcml0ZXNoZWV0UGFyc2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnc3ByaXRlc2hlZXRQYXJzZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Nwcml0ZXNoZWV0UGFyc2VyKS5kZWZhdWx0O1xuICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdnZXRSZXNvdXJjZVBhdGgnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9zcHJpdGVzaGVldFBhcnNlci5nZXRSZXNvdXJjZVBhdGg7XG4gICAgfVxufSk7XG5cbnZhciBfdGV4dHVyZVBhcnNlciA9IHJlcXVpcmUoJy4vdGV4dHVyZVBhcnNlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RleHR1cmVQYXJzZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RleHR1cmVQYXJzZXIpLmRlZmF1bHQ7XG4gICAgfVxufSk7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSZXNvdXJjZScsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3Jlc291cmNlTG9hZGVyLlJlc291cmNlO1xuICAgIH1cbn0pO1xuXG52YXIgX0FwcGxpY2F0aW9uID0gcmVxdWlyZSgnLi4vY29yZS9BcHBsaWNhdGlvbicpO1xuXG52YXIgX0FwcGxpY2F0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FwcGxpY2F0aW9uKTtcblxudmFyIF9sb2FkZXIgPSByZXF1aXJlKCcuL2xvYWRlcicpO1xuXG52YXIgX2xvYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2FkZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIEFQSXMgd2hpY2ggZXh0ZW5kcyB0aGUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXIgcmVzb3VyY2UtbG9hZGVyfSBtb2R1bGVcbiAqIGZvciBsb2FkaW5nIGFzc2V0cywgZGF0YSwgYW5kIG90aGVyIHJlc291cmNlcyBkeW5hbWljYWxseS5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgUElYSS5sb2FkZXJzLkxvYWRlcigpO1xuICogbG9hZGVyLmFkZCgnYnVubnknLCAnZGF0YS9idW5ueS5wbmcnKVxuICogICAgICAgLmFkZCgnc3BhY2VzaGlwJywgJ2Fzc2V0cy9zcHJpdGVzaGVldC5qc29uJyk7XG4gKiBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAqICAgIC8vIHJlc291cmNlcy5idW5ueVxuICogICAgLy8gcmVzb3VyY2VzLnNwYWNlc2hpcFxuICogfSk7XG4gKiBAbmFtZXNwYWNlIFBJWEkubG9hZGVyc1xuICovXG5leHBvcnRzLkxvYWRlciA9IF9sb2FkZXIyLmRlZmF1bHQ7XG5cblxuLyoqXG4gKiBBIHByZW1hZGUgaW5zdGFuY2Ugb2YgdGhlIGxvYWRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGxvYWQgcmVzb3VyY2VzLlxuICogQG5hbWUgc2hhcmVkXG4gKiBAbWVtYmVyb2YgUElYSS5sb2FkZXJzXG4gKiBAdHlwZSB7UElYSS5sb2FkZXJzLkxvYWRlcn1cbiAqL1xudmFyIHNoYXJlZCA9IG5ldyBfbG9hZGVyMi5kZWZhdWx0KCk7XG5cbnNoYXJlZC5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHByb3RlY3QgZGVzdHJveWluZyBzaGFyZWQgbG9hZGVyXG59O1xuXG5leHBvcnRzLnNoYXJlZCA9IHNoYXJlZDtcblxuLy8gTWl4aW4gdGhlIGxvYWRlciBjb25zdHJ1Y3Rpb25cblxudmFyIEFwcFByb3RvdHlwZSA9IF9BcHBsaWNhdGlvbjIuZGVmYXVsdC5wcm90b3R5cGU7XG5cbkFwcFByb3RvdHlwZS5fbG9hZGVyID0gbnVsbDtcblxuLyoqXG4gKiBMb2FkZXIgaW5zdGFuY2UgdG8gaGVscCB3aXRoIGFzc2V0IGxvYWRpbmcuXG4gKiBAbmFtZSBQSVhJLkFwcGxpY2F0aW9uI2xvYWRlclxuICogQHR5cGUge1BJWEkubG9hZGVycy5Mb2FkZXJ9XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBQcm90b3R5cGUsICdsb2FkZXInLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9hZGVyKSB7XG4gICAgICAgICAgICB2YXIgc2hhcmVkTG9hZGVyID0gdGhpcy5fb3B0aW9ucy5zaGFyZWRMb2FkZXI7XG5cbiAgICAgICAgICAgIHRoaXMuX2xvYWRlciA9IHNoYXJlZExvYWRlciA/IHNoYXJlZCA6IG5ldyBfbG9hZGVyMi5kZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGVyO1xuICAgIH1cbn0pO1xuXG4vLyBPdmVycmlkZSB0aGUgZGVzdHJveSBmdW5jdGlvblxuLy8gbWFraW5nIHN1cmUgdG8gZGVzdHJveSB0aGUgY3VycmVudCBMb2FkZXJcbkFwcFByb3RvdHlwZS5fcGFyZW50RGVzdHJveSA9IEFwcFByb3RvdHlwZS5kZXN0cm95O1xuQXBwUHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcsIHN0YWdlT3B0aW9ucykge1xuICAgIGlmICh0aGlzLl9sb2FkZXIpIHtcbiAgICAgICAgdGhpcy5fbG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fbG9hZGVyID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5fcGFyZW50RGVzdHJveShyZW1vdmVWaWV3LCBzdGFnZU9wdGlvbnMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0ludGVyYWN0aW9uRGF0YSA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25EYXRhJyk7XG5cbnZhciBfSW50ZXJhY3Rpb25EYXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uRGF0YSk7XG5cbnZhciBfSW50ZXJhY3Rpb25FdmVudCA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25FdmVudCcpO1xuXG52YXIgX0ludGVyYWN0aW9uRXZlbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25FdmVudCk7XG5cbnZhciBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhJyk7XG5cbnZhciBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9pbnRlcmFjdGl2ZVRhcmdldCA9IHJlcXVpcmUoJy4vaW50ZXJhY3RpdmVUYXJnZXQnKTtcblxudmFyIF9pbnRlcmFjdGl2ZVRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnRlcmFjdGl2ZVRhcmdldCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLy8gTWl4IGludGVyYWN0aXZlVGFyZ2V0IGludG8gY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgYWZ0ZXIgZGVwcmVjYXRpb24gaGFzIGJlZW4gaGFuZGxlZFxuY29yZS51dGlscy5taXhpbnMuZGVsYXlNaXhpbihjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLCBfaW50ZXJhY3RpdmVUYXJnZXQyLmRlZmF1bHQpO1xuXG52YXIgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG5cbi8vIGhlbHBlcnMgZm9yIGhpdFRlc3QoKSAtIG9ubHkgdXNlZCBpbnNpZGUgaGl0VGVzdCgpXG52YXIgaGl0VGVzdEV2ZW50ID0ge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBkYXRhOiB7XG4gICAgICAgIGdsb2JhbDogbnVsbFxuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGludGVyYWN0aW9uIG1hbmFnZXIgZGVhbHMgd2l0aCBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLiBBbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgaW50ZXJhY3RpdmVcbiAqIGlmIGl0cyBpbnRlcmFjdGl2ZSBwYXJhbWV0ZXIgaXMgc2V0IHRvIHRydWVcbiAqIFRoaXMgbWFuYWdlciBhbHNvIHN1cHBvcnRzIG11bHRpdG91Y2guXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cblxudmFyIEludGVyYWN0aW9uTWFuYWdlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKEludGVyYWN0aW9uTWFuYWdlciwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdD10cnVlXSAtIFNob3VsZCB0aGUgbWFuYWdlciBhdXRvbWF0aWNhbGx5IHByZXZlbnQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5PTEwXSAtIEZyZXF1ZW5jeSBpbmNyZWFzZXMgdGhlIGludGVyYWN0aW9uIGV2ZW50cyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25NYW5hZ2VyKHJlbmRlcmVyLCBvcHRpb25zKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcmFjdGlvbk1hbmFnZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGludGVyYWN0aW9uIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN5c3RlbVJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIGRlZmF1bHQgYnJvd3NlciBhY3Rpb25zIGF1dG9tYXRpY2FsbHkgYmUgcHJldmVudGVkLlxuICAgICAgICAgKiBEb2VzIG5vdCBhcHBseSB0byBwb2ludGVyIGV2ZW50cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICogcHJldmVudERlZmF1bHQgb24gcG9pbnRlciBldmVudHMgc3RvcHMgbW91c2UgZXZlbnRzIGZyb20gZmlyaW5nXG4gICAgICAgICAqIFRodXMsIGZvciBldmVyeSBwb2ludGVyIGV2ZW50LCB0aGVyZSB3aWxsIGFsd2F5cyBiZSBlaXRoZXIgYSBtb3VzZSBvZiB0b3VjaCBldmVudCBhbG9uZ3NpZGUgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCA9IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCA6IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyZXF1ZW5jeSBpbiBtaWxsaXNlY29uZHMgdGhhdCB0aGUgbW91c2Vtb3ZlLCBtb3Zlb3ZlciAmIG1vdXNlb3V0IGludGVyYWN0aW9uIGV2ZW50cyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5ID0gb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSB8fCAxMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vdXNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZSA9IG5ldyBfSW50ZXJhY3Rpb25EYXRhMi5kZWZhdWx0KCk7XG4gICAgICAgIF90aGlzLm1vdXNlLmlkZW50aWZpZXIgPSBNT1VTRV9QT0lOVEVSX0lEO1xuXG4gICAgICAgIC8vIHNldHRpbmcgdGhlIG1vdXNlIHRvIHN0YXJ0IG9mZiBmYXIgb2ZmIHNjcmVlbiB3aWxsIG1lYW4gdGhhdCBtb3VzZSBvdmVyIGRvZXNcbiAgICAgICAgLy8gIG5vdCBnZXQgY2FsbGVkIGJlZm9yZSB3ZSBldmVuIG1vdmUgdGhlIG1vdXNlLlxuICAgICAgICBfdGhpcy5tb3VzZS5nbG9iYWwuc2V0KC05OTk5OTkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmVseSB0cmFja2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlcixQSVhJLmludGVyYXRpb24uSW50ZXJhY3Rpb25EYXRhPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICBfdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbTU9VU0VfUE9JTlRFUl9JRF0gPSBfdGhpcy5tb3VzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhdGlvbi5JbnRlcmFjdGlvbkRhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRGF0YVBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZXZlbnQgZGF0YSBvYmplY3QgdG8gaGFuZGxlIGFsbCB0aGUgZXZlbnQgdHJhY2tpbmcvZGlzcGF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXZlbnREYXRhID0gbmV3IF9JbnRlcmFjdGlvbkV2ZW50Mi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBET00gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyBpZiBtb3VzZW1vdmUgYW5kIHRvdWNobW92ZSBldmVudHMgYXJlIGZpcmVkIG9ubHkgd2hlbiB0aGUgY3Vyc29yXG4gICAgICAgICAqIGlzIG92ZXIgdGhlIG9iamVjdC5cbiAgICAgICAgICogU2V0dGluZyB0byB0cnVlIHdpbGwgbWFrZSB0aGluZ3Mgd29yayBtb3JlIGluIGxpbmUgd2l0aCBob3cgdGhlIERPTSB2ZXJpc29uIHdvcmtzLlxuICAgICAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIGNhbiBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIHRoaW5ncyBsaWtlIGRyYWdnaW5nXG4gICAgICAgICAqIEl0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2UgYXMgdGhpcyBpcyBob3cgUGl4aUpTIHVzZWQgdG8gd29yay4gVGhpcyB3aWxsIGJlIHNldCB0byB0cnVlIGluXG4gICAgICAgICAqIGZ1dHVyZSB2ZXJzaW9ucyBvZiBwaXhpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW92ZVdoZW5JbnNpZGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGF2ZSBldmVudHMgYmVlbiBhdHRhY2hlZCB0byB0aGUgZG9tIGVsZW1lbnQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgbW91c2UgaG92ZXJpbmcgb3ZlciB0aGUgcmVuZGVyZXI/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0b3VjaCBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCBwb2ludGVyIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvU3VibWlzc2lvbi9wb2ludGVyLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgPSAhIXdpbmRvdy5Qb2ludGVyRXZlbnQ7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIG1ha2UgaXQgc28gdGhhdCB5b3UgZG9uJ3QgaGF2ZSB0byBjYWxsIGJpbmQgYWxsIHRoZSB0aW1lXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyVXAgPSBfdGhpcy5vblBvaW50ZXJVcC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IF90aGlzLnByb2Nlc3NQb2ludGVyVXAuYmluZChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyQ2FuY2VsID0gX3RoaXMub25Qb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IF90aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlckRvd24gPSBfdGhpcy5vblBvaW50ZXJEb3duLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24uYmluZChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyTW92ZSA9IF90aGlzLm9uUG9pbnRlck1vdmUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdXQgPSBfdGhpcy5vblBvaW50ZXJPdXQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dC5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdmVyID0gX3RoaXMub25Qb2ludGVyT3Zlci5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGljdGlvbmFyeSBvZiBob3cgZGlmZmVyZW50IGN1cnNvciBtb2RlcyBhcmUgaGFuZGxlZC4gU3RyaW5ncyBhcmUgaGFuZGxlZCBhcyBDU1MgY3Vyc29yXG4gICAgICAgICAqIHZhbHVlcywgb2JqZWN0cyBhcmUgaGFuZGxlZCBhcyBkaWN0aW9uYXJpZXMgb2YgQ1NTIHZhbHVlcyBmb3IgaW50ZXJhY3Rpb25ET01FbGVtZW50LFxuICAgICAgICAgKiBhbmQgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW5zdGVhZCBvZiBjaGFuZ2luZyB0aGUgQ1NTLlxuICAgICAgICAgKiBEZWZhdWx0IENTUyBjdXJzb3IgdmFsdWVzIGFyZSBwcm92aWRlZCBmb3IgJ2RlZmF1bHQnIGFuZCAncG9pbnRlcicgbW9kZXMuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCAoc3RyaW5nfEZ1bmN0aW9ufE9iamVjdC48c3RyaW5nLCBzdHJpbmc+KT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJzb3JTdHlsZXMgPSB7XG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgICBwb2ludGVyOiAncG9pbnRlcidcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vZGUgb2YgdGhlIGN1cnNvciB0aGF0IGlzIGJlaW5nIHVzZWQuXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIGlzIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnNvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGVtcFBvaW50ID0gbmV3IGNvcmUuUG9pbnQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpby5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gMTtcblxuICAgICAgICBfdGhpcy5zZXRUYXJnZXRFbGVtZW50KF90aGlzLnJlbmRlcmVyLnZpZXcsIF90aGlzLnJlbmRlcmVyLnJlc29sdXRpb24pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5LlxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoLlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaXQgdGVzdHMgYSBwb2ludCBhZ2FpbnN0IHRoZSBkaXNwbGF5IHRyZWUsIHJldHVybmluZyB0aGUgZmlyc3QgaW50ZXJhY3RpdmUgb2JqZWN0IHRoYXQgaXMgaGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBnbG9iYWxQb2ludCAtIEEgcG9pbnQgdG8gaGl0IHRlc3Qgd2l0aCwgaW4gZ2xvYmFsIHNwYWNlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IFtyb290XSAtIFRoZSByb290IGRpc3BsYXkgb2JqZWN0IHRvIHN0YXJ0IGZyb20uIElmIG9taXR0ZWQsIGRlZmF1bHRzXG4gICAgICogdG8gdGhlIGxhc3QgcmVuZGVyZWQgcm9vdCBvZiB0aGUgYXNzb2NpYXRlZCByZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBoaXQgZGlzcGxheSBvYmplY3QsIGlmIGFueS5cbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5oaXRUZXN0ID0gZnVuY3Rpb24gaGl0VGVzdChnbG9iYWxQb2ludCwgcm9vdCkge1xuICAgICAgICAvLyBjbGVhciB0aGUgdGFyZ2V0IGZvciBvdXIgaGl0IHRlc3RcbiAgICAgICAgaGl0VGVzdEV2ZW50LnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8vIGFzc2lnbiB0aGUgZ2xvYmFsIHBvaW50XG4gICAgICAgIGhpdFRlc3RFdmVudC5kYXRhLmdsb2JhbCA9IGdsb2JhbFBvaW50O1xuICAgICAgICAvLyBlbnN1cmUgc2FmZXR5IG9mIHRoZSByb290XG4gICAgICAgIGlmICghcm9vdCkge1xuICAgICAgICAgICAgcm9vdCA9IHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBydW4gdGhlIGhpdCB0ZXN0XG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGhpdFRlc3RFdmVudCwgcm9vdCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIHJldHVybiBvdXIgZm91bmQgb2JqZWN0IC0gaXQnbGwgYmUgbnVsbCBpZiB3ZSBkaWRuJ3QgaGl0IGFueXRoaW5nXG5cbiAgICAgICAgcmV0dXJuIGhpdFRlc3RFdmVudC50YXJnZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZS90b3VjaCBldmVudHMuIFRoaXMgaXMgdXNlZnVsIGZvciB3aGVuIHlvdSBoYXZlXG4gICAgICogb3RoZXIgRE9NIGVsZW1lbnRzIG9uIHRvcCBvZiB0aGUgcmVuZGVyZXJzIENhbnZhcyBlbGVtZW50LiBXaXRoIHRoaXMgeW91J2xsIGJlIGJhbGUgdG8gZGVsZXRlZ2F0ZVxuICAgICAqIGFub3RoZXIgRE9NIGVsZW1lbnQgdG8gcmVjZWl2ZSB0aG9zZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBlbGVtZW50IC0gdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBuZXcgZWxlbWVudCAocmVsYXRpdmUgdG8gdGhlIGNhbnZhcykuXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuc2V0VGFyZ2V0RWxlbWVudCA9IGZ1bmN0aW9uIHNldFRhcmdldEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTtcblxuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbGwgdGhlIERPTSBldmVudHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24gYWRkRXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb3JlLnRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBjb3JlLlVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTik7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy1jb250ZW50LXpvb21pbmcnXSA9ICdub25lJztcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtdG91Y2gtYWN0aW9uJ10gPSAnbm9uZSc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyd0b3VjaC1hY3Rpb24nXSA9ICdub25lJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGVzZSBldmVudHMgYXJlIGFkZGVkIGZpcnN0LCBzbyB0aGF0IGlmIHBvaW50ZXIgZXZlbnRzIGFyZSBub3JtYWxpc2VkLCB0aGV5IGFyZSBmaXJlZFxuICAgICAgICAgKiBpbiB0aGUgc2FtZSBvcmRlciBhcyBub24tbm9ybWFsaXNlZCBldmVudHMuIGllLiBwb2ludGVyIGV2ZW50IDFzdCwgbW91c2UgLyB0b3VjaCAybmRcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIHBvaW50ZXJvdXQgaXMgZmlyZWQgaW4gYWRkaXRpb24gdG8gcG9pbnRlcnVwIChmb3IgdG91Y2ggZXZlbnRzKSBhbmQgcG9pbnRlcmNhbmNlbFxuICAgICAgICAgICAgLy8gd2UgYWxyZWFkeSBoYW5kbGUgdGhvc2UsIHNvIGZvciB0aGUgcHVycG9zZXMgb2Ygd2hhdCB3ZSBkbyBpbiBvblBvaW50ZXJPdXQsIHdlIG9ubHlcbiAgICAgICAgICAgIC8vIGNhcmUgYWJvdXQgdGhlIHBvaW50ZXJsZWF2ZSBldmVudFxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWx3YXlzIGxvb2sgZGlyZWN0bHkgZm9yIHRvdWNoIGV2ZW50cyBzbyB0aGF0IHdlIGNhbiBwcm92aWRlIG9yaWdpbmFsIGRhdGFcbiAgICAgICAgLy8gSW4gYSBmdXR1cmUgdmVyc2lvbiB3ZSBzaG91bGQgY2hhbmdlIHRoaXMgdG8gYmVpbmcganVzdCBhIGZhbGxiYWNrIGFuZCByZWx5IHNvbGVseSBvblxuICAgICAgICAvLyBQb2ludGVyRXZlbnRzIHdoZW5ldmVyIGF2YWlsYWJsZVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIERPTSBldmVudHMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgcmVnaXN0ZXJlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVFdmVudHMgPSBmdW5jdGlvbiByZW1vdmVFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvcmUudGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuXG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtY29udGVudC16b29taW5nJ10gPSAnJztcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtdG91Y2gtYWN0aW9uJ10gPSAnJztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJ3RvdWNoLWFjdGlvbiddID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzLlxuICAgICAqIEludm9rZWQgYnkgYSB0aHJvdHRsZWQgdGlja2VyIHVwZGF0ZSBmcm9tIHtAbGluayBQSVhJLnRpY2tlci5zaGFyZWR9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgZGVsdGEgc2luY2UgbGFzdCB0aWNrXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGRlbHRhVGltZSkge1xuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgKz0gZGVsdGFUaW1lO1xuXG4gICAgICAgIGlmICh0aGlzLl9kZWx0YVRpbWUgPCB0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuXG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIG1vdmUgdGhlIG1vdXNlIHRoaXMgY2hlY2sgaGFzIGFscmVhZHkgYmVlbiBkb25lIHVzaW5nIHRoZSBtb3VzZSBtb3ZlIVxuICAgICAgICBpZiAodGhpcy5kaWRNb3ZlKSB7XG4gICAgICAgICAgICB0aGlzLmRpZE1vdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuXG4gICAgICAgIC8vIFJlc2V0cyB0aGUgZmxhZyBhcyBzZXQgYnkgYSBzdG9wUHJvcGFnYXRpb24gY2FsbC4gVGhpcyBmbGFnIGlzIHVzdWFsbHkgcmVzZXQgYnkgYSB1c2VyIGludGVyYWN0aW9uIG9mIGFueSBraW5kLFxuICAgICAgICAvLyBidXQgdGhlcmUgd2FzIGEgc2NlbmFyaW8gb2YgYSBkaXNwbGF5IG9iamVjdCBtb3ZpbmcgdW5kZXIgYSBzdGF0aWMgbW91c2UgY3Vyc29yLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIG1vdXNlb3ZlciBhbmQgbW91c2VldmVudHMgd291bGQgbm90IHBhc3MgdGhlIGZsYWcgdGVzdCBpbiBkaXNwYXRjaEV2ZW50IGZ1bmN0aW9uXG4gICAgICAgIGZvciAodmFyIGsgaW4gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YS5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtrXTtcblxuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCAmJiBpbnRlcmFjdGlvbkRhdGEucG9pbnRlclR5cGUgIT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKHRoaXMuY3Vyc29yKTtcblxuICAgICAgICAvLyBUT0RPXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgY3Vyc29yIG1vZGUsIGhhbmRsaW5nIGFueSBjYWxsYmFja3Mgb3IgQ1NTIHN0eWxlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIGN1cnNvciBtb2RlLCBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeVxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldEN1cnNvck1vZGUgPSBmdW5jdGlvbiBzZXRDdXJzb3JNb2RlKG1vZGUpIHtcbiAgICAgICAgbW9kZSA9IG1vZGUgfHwgJ2RlZmF1bHQnO1xuICAgICAgICAvLyBpZiB0aGUgbW9kZSBkaWRuJ3QgYWN0dWFsbHkgY2hhbmdlLCBiYWlsIGVhcmx5XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID09PSBtb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG1vZGU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuY3Vyc29yU3R5bGVzW21vZGVdO1xuXG4gICAgICAgIC8vIG9ubHkgZG8gdGhpbmdzIGlmIHRoZXJlIGlzIGEgY3Vyc29yIHN0eWxlIGZvciBpdFxuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHN0eWxlID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAvLyBzdHJpbmcgc3R5bGVzIGFyZSBoYW5kbGVkIGFzIGN1cnNvciBDU1NcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gZnVuY3Rpb25zIGFyZSBqdXN0IGNhbGxlZCwgYW5kIHBhc3NlZCB0aGUgY3Vyc29yIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUobW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IGlzIGFuIG9iamVjdCwgYXNzdW1lIHRoYXQgaXQgaXMgYSBkaWN0aW9uYXJ5IG9mIENTUyBzdHlsZXMsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGx5IGl0IHRvIHRoZSBpbnRlcmFjdGlvbkRPTUVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kZSA9PT0gJ3N0cmluZycgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmN1cnNvclN0eWxlcywgbW9kZSkpIHtcbiAgICAgICAgICAgIC8vIGlmIGl0IG1vZGUgaXMgYSBzdHJpbmcgKG5vdCBhIFN5bWJvbCkgYW5kIGN1cnNvclN0eWxlcyBkb2Vzbid0IGhhdmUgYW55IGVudHJ5XG4gICAgICAgICAgICAvLyBmb3IgdGhlIG1vZGUsIHRoZW4gYXNzdW1lIHRoYXQgdGhlIGRldiB3YW50cyBpdCB0byBiZSBDU1MgZm9yIHRoZSBjdXJzb3IuXG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBtb2RlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgb24gdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheSBvYmplY3QgaW4gcXVlc3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgKGUuZywgbW91c2Vkb3duKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudERhdGEgLSB0aGUgZXZlbnQgZGF0YSBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpIHtcbiAgICAgICAgaWYgKCFldmVudERhdGEuc3RvcHBlZCkge1xuICAgICAgICAgICAgZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgZXZlbnREYXRhLnR5cGUgPSBldmVudFN0cmluZztcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5lbWl0KGV2ZW50U3RyaW5nLCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10pIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0W2V2ZW50U3RyaW5nXShldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgeCBhbmQgeSBjb29yZHMgZnJvbSBhIERPTSBvYmplY3QgYW5kIG1hcHMgdGhlbSBjb3JyZWN0bHkgdG8gdGhlIFBpeGlKUyB2aWV3LiBUaGVcbiAgICAgKiByZXN1bHRpbmcgdmFsdWUgaXMgc3RvcmVkIGluIHRoZSBwb2ludC4gVGhpcyB0YWtlcyBpbnRvIGFjY291bnQgdGhlIGZhY3QgdGhhdCB0aGUgRE9NXG4gICAgICogZWxlbWVudCBjb3VsZCBiZSBzY2FsZWQgYW5kIHBvc2l0aW9uZWQgYW55d2hlcmUgb24gdGhlIHNjcmVlbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRoYXQgdGhlIHJlc3VsdCB3aWxsIGJlIHN0b3JlZCBpblxuICAgICAqIEBwYXJhbSAge251bWJlcn0geCAtIHRoZSB4IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkgLSB0aGUgeSBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUubWFwUG9zaXRpb25Ub1BvaW50ID0gZnVuY3Rpb24gbWFwUG9zaXRpb25Ub1BvaW50KHBvaW50LCB4LCB5KSB7XG4gICAgICAgIHZhciByZWN0ID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIElFIDExIGZpeFxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJlY3QgPSB7IHg6IDAsIHk6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXNvbHV0aW9uTXVsdGlwbGllciA9IG5hdmlnYXRvci5pc0NvY29vbkpTID8gdGhpcy5yZXNvbHV0aW9uIDogMS4wIC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHBvaW50LnggPSAoeCAtIHJlY3QubGVmdCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQud2lkdGggLyByZWN0LndpZHRoKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgICAgICBwb2ludC55ID0gKHkgLSByZWN0LnRvcCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuaGVpZ2h0IC8gcmVjdC5oZWlnaHQpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgcHJvdmlkZXMgYSBuZWF0IHdheSBvZiBjcmF3bGluZyB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgcnVubmluZyBhXG4gICAgICogc3BlY2lmaWVkIGZ1bmN0aW9uIG9uIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzIGl0IGZpbmRzLiBJdCB3aWxsIGFsc28gdGFrZSBjYXJlIG9mIGhpdFxuICAgICAqIHRlc3RpbmcgdGhlIGludGVyYWN0aXZlIG9iamVjdHMgYW5kIHBhc3NlcyB0aGUgaGl0IGFjcm9zcyBpbiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICAgICAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVyYWN0aXZlXSAtIFdoZXRoZXIgdGhlIGRpc3BsYXlPYmplY3QgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NJbnRlcmFjdGl2ZSA9IGZ1bmN0aW9uIHByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZSkge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QgfHwgIWRpc3BsYXlPYmplY3QudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvaW50ID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmdsb2JhbDtcblxuICAgICAgICAvLyBUb29rIGEgbGl0dGxlIHdoaWxlIHRvIHJld29yayB0aGlzIGZ1bmN0aW9uIGNvcnJlY3RseSEgQnV0IG5vdyBpdCBpcyBkb25lIGFuZCBuaWNlIGFuZCBvcHRpbWlzZWQuIF5fXlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbm93IGxvb3AgdGhyb3VnaCBhbGwgb2JqZWN0cyBhbmQgdGhlbiBvbmx5IGhpdCB0ZXN0IHRoZSBvYmplY3RzIGl0IEhBU1xuICAgICAgICAvLyB0bywgbm90IGFsbCBvZiB0aGVtLiBNVUNIIGZhc3Rlci4uXG4gICAgICAgIC8vIEFuIG9iamVjdCB3aWxsIGJlIGhpdCB0ZXN0IGlmIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZTpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMTogSXQgaXMgaW50ZXJhY3RpdmUuXG4gICAgICAgIC8vIDI6IEl0IGJlbG9uZ3MgdG8gYSBwYXJlbnQgdGhhdCBpcyBpbnRlcmFjdGl2ZSBBTkQgb25lIG9mIHRoZSBwYXJlbnRzIGNoaWxkcmVuIGhhdmUgbm90IGFscmVhZHkgYmVlbiBoaXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEFzIGFub3RoZXIgbGl0dGxlIG9wdGltaXNhdGlvbiBvbmNlIGFuIGludGVyYWN0aXZlIG9iamVjdCBoYXMgYmVlbiBoaXQgd2UgY2FuIGNhcnJ5IG9uXG4gICAgICAgIC8vIHRocm91Z2ggdGhlIHNjZW5lZ3JhcGgsIGJ1dCB3ZSBrbm93IHRoYXQgdGhlcmUgd2lsbCBiZSBubyBtb3JlIGhpdHMhIFNvIHdlIGNhbiBhdm9pZCBleHRyYSBoaXQgdGVzdHNcbiAgICAgICAgLy8gQSBmaW5hbCBvcHRpbWlzYXRpb24gaXMgdGhhdCBhbiBvYmplY3QgaXMgbm90IGhpdCB0ZXN0IGRpcmVjdGx5IGlmIGEgY2hpbGQgaGFzIGFscmVhZHkgYmVlbiBoaXQuXG5cbiAgICAgICAgaW50ZXJhY3RpdmUgPSBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlIHx8IGludGVyYWN0aXZlO1xuXG4gICAgICAgIHZhciBoaXQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGludGVyYWN0aXZlUGFyZW50ID0gaW50ZXJhY3RpdmU7XG5cbiAgICAgICAgLy8gRmxhZyBoZXJlIGNhbiBzZXQgdG8gZmFsc2UgaWYgdGhlIGV2ZW50IGlzIG91dHNpZGUgdGhlIHBhcmVudHMgaGl0QXJlYSBvciBtYXNrXG4gICAgICAgIHZhciBoaXRUZXN0Q2hpbGRyZW4gPSB0cnVlO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgaGl0QXJlYSwgbm8gbmVlZCB0byB0ZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBoaXRBcmVhXG4gICAgICAgIC8vIFRoZXJlIGlzIGFsc28gbm8gbG9uZ2VyIGEgbmVlZCB0byBoaXRUZXN0IGNoaWxkcmVuLlxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5oaXRBcmVhKSB7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdCkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0aGlzLl90ZW1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhLmNvbnRhaW5zKHRoaXMuX3RlbXBQb2ludC54LCB0aGlzLl90ZW1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBtYXNrLCBubyBuZWVkIHRvIHRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIG1hc2tcbiAgICAgICAgZWxzZSBpZiAoZGlzcGxheU9iamVjdC5fbWFzaykge1xuICAgICAgICAgICAgICAgIGlmIChoaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50KHBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdENoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgLy8gKiogRlJFRSBUSVAgKiohIElmIGFuIG9iamVjdCBpcyBub3QgaW50ZXJhY3RpdmUgb3IgaGFzIG5vIGJ1dHRvbnMgaW4gaXRcbiAgICAgICAgLy8gKHN1Y2ggYXMgYSBnYW1lIHNjZW5lISkgc2V0IGludGVyYWN0aXZlQ2hpbGRyZW4gdG8gZmFsc2UgZm9yIHRoYXQgZGlzcGxheU9iamVjdC5cbiAgICAgICAgLy8gVGhpcyB3aWxsIGFsbG93IFBpeGlKUyB0byBjb21wbGV0ZWx5IGlnbm9yZSBhbmQgYnlwYXNzIGNoZWNraW5nIHRoZSBkaXNwbGF5T2JqZWN0cyBjaGlsZHJlbi5cbiAgICAgICAgaWYgKGhpdFRlc3RDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlQ2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgICAgICAvLyB0aW1lIHRvIGdldCByZWN1cnNpdmUuLiBpZiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGlmIHNvbWV0aGluZyBpcyBoaXQuLlxuICAgICAgICAgICAgICAgIHZhciBjaGlsZEhpdCA9IHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIGNoaWxkLCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZVBhcmVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRzIGEgZ29vZCBpZGVhIHRvIGNoZWNrIGlmIGEgY2hpbGQgaGFzIGxvc3QgaXRzIHBhcmVudC5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtZWFucyBpdCBoYXMgYmVlbiByZW1vdmVkIHdoaWxzdCBsb29waW5nIHNvIGl0cyBiZXN0XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueSBtb3JlIG9iamVjdHMgaW4gdGhpcyBjb250YWluZXIgYXMgd2Ugd2VcbiAgICAgICAgICAgICAgICAgICAgLy8gbm93IGtub3cgdGhlIHBhcmVudCBoYXMgYmVlbiBoaXRcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVQYXJlbnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2hpbGQgaXMgaW50ZXJhY3RpdmUgLCB0aGF0IG1lYW5zIHRoYXQgdGhlIG9iamVjdCBoaXQgd2FzIGFjdHVhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVyYWN0aXZlIGFuZCBub3QganVzdCB0aGUgY2hpbGQgb2YgYW4gaW50ZXJhY3RpdmUgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG1lYW5zIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueXRoaW5nIGVsc2UuIFdlIHN0aWxsIG5lZWQgdG8gcnVuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm91Z2ggYWxsIG9iamVjdHMsIGJ1dCB3ZSBkb24ndCBuZWVkIHRvIHBlcmZvcm0gYW55IGhpdCB0ZXN0cy5cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBwb2ludCBydW5uaW5nIHRoaXMgaWYgdGhlIGl0ZW0gaXMgbm90IGludGVyYWN0aXZlIG9yIGRvZXMgbm90IGhhdmUgYW4gaW50ZXJhY3RpdmUgcGFyZW50LlxuICAgICAgICBpZiAoaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBoaXQgdGVzdGluZyAoYXMgaW4gd2UgaGF2ZSBubyBoaXQgYW55IG9iamVjdHMgeWV0KVxuICAgICAgICAgICAgLy8gV2UgYWxzbyBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGhpdCB0ZXN0aW5nIGlmIG9uY2Ugb2YgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyBoYXMgYWxyZWFkeSBiZWVuIGhpdCAtIGJ1dCBvbmx5IGlmIGl0IHdhcyBpbnRlcmFjdGl2ZSwgb3RoZXJ3aXNlIHdlIG5lZWQgdG8ga2VlcFxuICAgICAgICAgICAgLy8gbG9va2luZyBmb3IgYW4gaW50ZXJhY3RpdmUgY2hpbGQsIGp1c3QgaW4gY2FzZSB3ZSBoaXQgb25lXG4gICAgICAgICAgICBpZiAoaGl0VGVzdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHRlc3RlZCBhZ2FpbnN0IGhpdEFyZWEgaWYgaXQgaXMgZGVmaW5lZFxuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhICYmIGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5jb250YWluc1BvaW50KHBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGl0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZ1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYyhpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCAhIWhpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHByZXNzZWQgZG93biBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBwcmVzc2VkIGRvd25cbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJEb3duID0gZnVuY3Rpb24gb25Qb2ludGVyRG93bihvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBObyBuZWVkIHRvIHByZXZlbnQgZGVmYXVsdCBvbiBuYXR1cmFsIHBvaW50ZXIgZXZlbnRzLCBhcyB0aGVyZSBhcmUgbm8gc2lkZSBlZmZlY3RzXG4gICAgICAgICAqIE5vcm1hbGl6ZWQgZXZlbnRzLCBob3dldmVyLCBtYXkgaGF2ZSB0aGUgZG91YmxlIG1vdXNlZG93bi90b3VjaHN0YXJ0IGlzc3VlIG9uIHRoZSBuYXRpdmUgYW5kcm9pZCBicm93c2VyLFxuICAgICAgICAgKiBzbyBzdGlsbCBuZWVkIHRvIGJlIHByZXZlbnRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLy8gR3VhcmFudGVlZCB0aGF0IHRoZXJlIHdpbGwgYmUgYXQgbGVhc3Qgb25lIGV2ZW50IGluIGV2ZW50cywgYW5kIGFsbCBldmVudHMgbXVzdCBoYXZlIHRoZSBzYW1lIHBvaW50ZXIgdHlwZVxuXG4gICAgICAgIGlmICh0aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCAmJiBldmVudHNbMF0uaXNOb3JtYWxpemVkKSB7XG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duLCB0cnVlKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbWl0IGEgbW91c2UgZXZlbnQgZm9yIFwicGVuXCIgcG9pbnRlcnMsIHRoZSB3YXkgYSBicm93c2VyIHdvdWxkIGVtaXQgYSBmYWxsYmFjayBldmVudFxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBkb3duIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyRG93biA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyRG93bihpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIuZGVmYXVsdChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLnJpZ2h0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLmxlZnREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuY2VsbGVkIC0gdHJ1ZSBpZiB0aGUgcG9pbnRlciBpcyBjYW5jZWxsZWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0gRnVuY3Rpb24gcGFzc2VkIHRvIHtAbGluayBwcm9jZXNzSW50ZXJhY3RpdmV9XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ29tcGxldGUgPSBmdW5jdGlvbiBvblBvaW50ZXJDb21wbGV0ZShvcmlnaW5hbEV2ZW50LCBjYW5jZWxsZWQsIGZ1bmMpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGlmIHRoZSBldmVudCB3YXNuJ3QgdGFyZ2V0aW5nIG91ciBjYW52YXMsIHRoZW4gY29uc2lkZXIgaXQgdG8gYmUgcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAvLyBpbiBhbGwgY2FzZXMgKHVubGVzcyBpdCB3YXMgYSBwb2ludGVyY2FuY2VsKVxuICAgICAgICB2YXIgZXZlbnRBcHBlbmQgPSBvcmlnaW5hbEV2ZW50LnRhcmdldCAhPT0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPyAnb3V0c2lkZScgOiAnJztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgLy8gcGVyZm9ybSBoaXQgdGVzdGluZyBmb3IgZXZlbnRzIHRhcmdldGluZyBvdXIgY2FudmFzIG9yIGNhbmNlbCBldmVudHNcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgZnVuYywgY2FuY2VsbGVkIHx8ICFldmVudEFwcGVuZCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAncG9pbnRlcmNhbmNlbCcgOiAncG9pbnRlcnVwJyArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cCcgKyBldmVudEFwcGVuZCA6ICdtb3VzZXVwJyArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3RvdWNoY2FuY2VsJyA6ICd0b3VjaGVuZCcgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50LnBvaW50ZXJJZCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgY2FuY2VsbGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uIG9uUG9pbnRlckNhbmNlbChldmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIHRydWUsIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBjYW5jZWwgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJDYW5jZWwoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlclVwID0gZnVuY3Rpb24gb25Qb2ludGVyVXAoZXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCBmYWxzZSwgdGhpcy5wcm9jZXNzUG9pbnRlclVwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgdXAgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJVcCA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyVXAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJztcbiAgICAgICAgLy8gbmVlZCB0byB0cmFjayBtb3VzZSBkb3duIHN0YXR1cyBpbiB0aGUgbW91c2UgYmxvY2sgc28gdGhhdCB3ZSBjYW4gZW1pdFxuICAgICAgICAvLyBldmVudCBpbiBhIGxhdGVyIGJsb2NrXG4gICAgICAgIHZhciBpc01vdXNlVGFwID0gZmFsc2U7XG5cbiAgICAgICAgLy8gTW91c2Ugb25seVxuICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBkYXRhLmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgdmFyIGZsYWdzID0gX0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhMi5kZWZhdWx0LkZMQUdTO1xuXG4gICAgICAgICAgICB2YXIgdGVzdCA9IGlzUmlnaHRCdXR0b24gPyBmbGFncy5SSUdIVF9ET1dOIDogZmxhZ3MuTEVGVF9ET1dOO1xuXG4gICAgICAgICAgICB2YXIgaXNEb3duID0gdHJhY2tpbmdEYXRhICE9PSB1bmRlZmluZWQgJiYgdHJhY2tpbmdEYXRhLmZsYWdzICYgdGVzdDtcblxuICAgICAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXAnIDogJ21vdXNldXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0Rvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHRjbGljaycgOiAnY2xpY2snLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBjYW4gY29uZmlybSB0aGF0IHRoZSBtb3VzZWRvd24gaGFwcGVuZWQgb24gdGhpcyBvYmplY3QsIGZsYWcgZm9yIGxhdGVyIGVtaXQgb2YgcG9pbnRlcnRhcFxuICAgICAgICAgICAgICAgICAgICBpc01vdXNlVGFwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRG93bikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXBvdXRzaWRlJyA6ICdtb3VzZXVwb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkb3duIHN0YXRlIG9mIHRoZSB0cmFja2luZyBkYXRhXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLnJpZ2h0RG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5sZWZ0RG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBvaW50ZXJzIGFuZCBUb3VjaGVzLCBhbmQgTW91c2VcbiAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoZW5kJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgICAgICAvLyBlbWl0IHBvaW50ZXJ0YXAgaWYgbm90IGEgbW91c2UsIG9yIGlmIHRoZSBtb3VzZSBibG9jayBkZWNpZGVkIGl0IHdhcyBhIHRhcFxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VzZSB8fCBpc01vdXNlVGFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNUb3VjaCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0b3VjaGVzIGFyZSBubyBsb25nZXIgb3ZlciAoaWYgdGhleSBldmVyIHdlcmUpIHdoZW4gd2UgZ2V0IHRoZSB0b3VjaGVuZFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBzaG91bGQgZW5zdXJlIHRoYXQgd2UgZG9uJ3Qga2VlcCBwcmV0ZW5kaW5nIHRoYXQgdGhleSBhcmVcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoZW5kb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgcmVtb3ZlIHRoZSB0cmFja2luZyBkYXRhIGlmIHRoZXJlIGlzIG5vIG92ZXIvZG93biBzdGF0ZSBzdGlsbCBhc3NvY2lhdGVkIHdpdGggaXRcbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSAmJiB0cmFja2luZ0RhdGEubm9uZSkge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBtb3ZlcyBhY3Jvc3MgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBtb3ZpbmdcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJNb3ZlID0gZnVuY3Rpb24gb25Qb2ludGVyTW92ZShvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5kaWRNb3ZlID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aXZlID0gZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcgPyB0aGlzLm1vdmVXaGVuSW5zaWRlIDogdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSwgaW50ZXJhY3RpdmUpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVybW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB0aGlzLmVtaXQoJ3RvdWNobW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykgdGhpcy5lbWl0KCdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gQlVHIGZvciBwYXJlbnRzIGludGVyYWN0aXZlIG9iamVjdCAoYm9yZGVyIG9yZGVyIGlzc3VlKVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG1vdmUgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJNb3ZlID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJNb3ZlKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG5cbiAgICAgICAgdmFyIGlzTW91c2UgPSBkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nO1xuXG4gICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1vdmVXaGVuSW5zaWRlIHx8IGhpdCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVybW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNNb3VzZSkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBvdXQgb2YgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBiZWluZyBtb3ZlZCBvdXRcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJPdXQgPSBmdW5jdGlvbiBvblBvaW50ZXJPdXQob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck91dCwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcblxuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZShudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcblxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHdlIGNhbiBnZXQgdG91Y2hsZWF2ZSBldmVudHMgYWZ0ZXIgdG91Y2hlbmQsIHNvIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBpbnRyb2R1Y2UgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG92ZXIvb3V0IGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyT3Zlck91dChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgdmFyIGlzTW91c2UgPSBkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nO1xuXG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG5cbiAgICAgICAgLy8gaWYgd2UganVzdCBtb3VzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byB0cmFjayB0aGF0IHN0YXRlXG4gICAgICAgIGlmIChoaXQgJiYgIXRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIuZGVmYXVsdChpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhY2tpbmdEYXRhID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBpZiAoaGl0ICYmIHRoaXMubW91c2VPdmVyUmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGlmICghdHJhY2tpbmdEYXRhLm92ZXIpIHtcbiAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbmx5IGNoYW5nZSB0aGUgY3Vyc29yIGlmIGl0IGhhcyBub3QgYWxyZWFkeSBiZWVuIGNoYW5nZWQgKGJ5IHNvbWV0aGluZyBkZWVwZXIgaW4gdGhlXG4gICAgICAgICAgICAvLyBkaXNwbGF5IHRyZWUpXG4gICAgICAgICAgICBpZiAoaXNNb3VzZSAmJiB0aGlzLmN1cnNvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gZGlzcGxheU9iamVjdC5jdXJzb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHJhY2tpbmdEYXRhLm92ZXIpIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdXQnLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIG1vdXNlIGRvd24gaW5mb3JtYXRpb24gZm9yIHRoZSBwb2ludGVyLCB0aGVuIGl0IGlzIHNhZmUgdG8gZGVsZXRlXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhLm5vbmUpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgdmlld1xuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck92ZXIgPSBmdW5jdGlvbiBvblBvaW50ZXJPdmVyKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck92ZXIsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbMF07XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuXG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0IEludGVyYWN0aW9uRGF0YSBmb3IgYSBnaXZlbiBwb2ludGVySWQuIFN0b3JlIHRoYXQgZGF0YSBhcyB3ZWxsXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIE5vcm1hbGl6ZWQgcG9pbnRlciBldmVudCwgb3V0cHV0IGZyb20gbm9ybWFsaXplVG9Qb2ludGVyRGF0YVxuICAgICAqIEByZXR1cm4ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfSAtIEludGVyYWN0aW9uIGRhdGEgZm9yIHRoZSBnaXZlbiBwb2ludGVyIGlkZW50aWZpZXJcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiBnZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpIHtcbiAgICAgICAgdmFyIHBvaW50ZXJJZCA9IGV2ZW50LnBvaW50ZXJJZDtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChwb2ludGVySWQgPT09IE1PVVNFX1BPSU5URVJfSUQgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMubW91c2U7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSkge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wb3AoKSB8fCBuZXcgX0ludGVyYWN0aW9uRGF0YTIuZGVmYXVsdCgpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIgPSBwb2ludGVySWQ7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdID0gaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvcHkgcHJvcGVydGllcyBmcm9tIHRoZSBldmVudCwgc28gdGhhdCB3ZSBjYW4gbWFrZSBzdXJlIHRoYXQgdG91Y2gvcG9pbnRlciBzcGVjaWZpY1xuICAgICAgICAvLyBkYXRhIGlzIGF2YWlsYWJsZVxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEuY29weUV2ZW50KGV2ZW50KTtcblxuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25EYXRhO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdW51c2VkIEludGVyYWN0aW9uRGF0YSB0byB0aGUgcG9vbCwgZm9yIGEgZ2l2ZW4gcG9pbnRlcklkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludGVySWQgLSBJZGVudGlmaWVyIGZyb20gYSBwb2ludGVyIGV2ZW50XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIHJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQocG9pbnRlcklkKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuXG4gICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucHVzaChpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZSBhbiBJbnRlcmFjdGlvbkV2ZW50IHRvIHdyYXAgYSBET00gUG9pbnRlckV2ZW50IGFuZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgZXZlbnQgdG8gYmUgY29uZmlndXJlZFxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgLSBUaGUgRE9NIGV2ZW50IHRoYXQgd2lsbCBiZSBwYWlyZWQgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9IGludGVyYWN0aW9uRGF0YSAtIFRoZSBJbnRlcmFjdGlvbkRhdGEgdGhhdCB3aWxsIGJlIHBhaXJlZFxuICAgICAqICAgICAgICB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHJldHVybiB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSB0aGUgaW50ZXJhY3Rpb24gZXZlbnQgdGhhdCB3YXMgcGFzc2VkIGluXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50ID0gZnVuY3Rpb24gY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KGludGVyYWN0aW9uRXZlbnQsIHBvaW50ZXJFdmVudCwgaW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YSA9IGludGVyYWN0aW9uRGF0YTtcblxuICAgICAgICB0aGlzLm1hcFBvc2l0aW9uVG9Qb2ludChpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLCBwb2ludGVyRXZlbnQuY2xpZW50WCwgcG9pbnRlckV2ZW50LmNsaWVudFkpO1xuXG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIHdheSBJbnRlcmFjdGlvbk1hbmFnZXIgcHJvY2Vzc2VkIHRvdWNoIGV2ZW50cyBiZWZvcmUgdGhlIHJlZmFjdG9yaW5nLCBzbyBJJ3ZlIGtlcHRcbiAgICAgICAgLy8gaXQgaGVyZS4gQnV0IGl0IGRvZXNuJ3QgbWFrZSB0aGF0IG11Y2ggc2Vuc2UgdG8gbWUsIHNpbmNlIG1hcFBvc2l0aW9uVG9Qb2ludCBhbHJlYWR5IGZhY3RvcnNcbiAgICAgICAgLy8gaW4gdGhpcy5yZXNvbHV0aW9uLCBzbyB0aGlzIGp1c3QgZGl2aWRlcyBieSB0aGlzLnJlc29sdXRpb24gdHdpY2UgZm9yIHRvdWNoIGV2ZW50cy4uLlxuICAgICAgICBpZiAobmF2aWdhdG9yLmlzQ29jb29uSlMgJiYgcG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLnggPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLnggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLnkgPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLnkgLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3QgcmVhbGx5IHN1cmUgd2h5IHRoaXMgaXMgaGFwcGVuaW5nLCBidXQgaXQncyBob3cgYSBwcmV2aW91cyB2ZXJzaW9uIGhhbmRsZWQgdGhpbmdzXG4gICAgICAgIGlmIChwb2ludGVyRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxYID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54O1xuICAgICAgICAgICAgcG9pbnRlckV2ZW50Lmdsb2JhbFkgPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLnk7XG4gICAgICAgIH1cblxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCA9IHBvaW50ZXJFdmVudDtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkV2ZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgdGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdCBjb250YWlucyBhbGwgZGF0YSB0aGF0IGEgcmVndWxhciBwb2ludGVyIGV2ZW50IHdvdWxkIGhhdmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUb3VjaEV2ZW50fE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBvcmlnaW5hbCBldmVudCBkYXRhIGZyb20gYSB0b3VjaCBvciBtb3VzZSBldmVudFxuICAgICAqIEByZXR1cm4ge1BvaW50ZXJFdmVudFtdfSBBbiBhcnJheSBjb250YWluaW5nIGEgc2luZ2xlIG5vcm1hbGl6ZWQgcG9pbnRlciBldmVudCwgaW4gdGhlIGNhc2Ugb2YgYSBwb2ludGVyXG4gICAgICogIG9yIG1vdXNlIGV2ZW50LCBvciBhIG11bHRpcGxlIG5vcm1hbGl6ZWQgcG9pbnRlciBldmVudHMgaWYgdGhlcmUgYXJlIG11bHRpcGxlIGNoYW5nZWQgdG91Y2hlc1xuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEgPSBmdW5jdGlvbiBub3JtYWxpemVUb1BvaW50ZXJEYXRhKGV2ZW50KSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkRXZlbnRzID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9uID09PSAndW5kZWZpbmVkJykgdG91Y2guYnV0dG9uID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5idXR0b25zID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2guaXNQcmltYXJ5ID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEgJiYgZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLndpZHRoID09PSAndW5kZWZpbmVkJykgdG91Y2gud2lkdGggPSB0b3VjaC5yYWRpdXNYIHx8IDE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5oZWlnaHQgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5oZWlnaHQgPSB0b3VjaC5yYWRpdXNZIHx8IDE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnRpbHRYID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRZID09PSAndW5kZWZpbmVkJykgdG91Y2gudGlsdFkgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5wb2ludGVyVHlwZSA9ICd0b3VjaCc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5wb2ludGVySWQgPSB0b3VjaC5pZGVudGlmaWVyIHx8IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnByZXNzdXJlID0gdG91Y2guZm9yY2UgfHwgMC41O1xuICAgICAgICAgICAgICAgIHRvdWNoLnR3aXN0ID0gMDtcbiAgICAgICAgICAgICAgICB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGVzZSwgYXMgbGF5ZXJYL1kgaXMgbm90IGEgc3RhbmRhcmQsIGlzIGRlcHJlY2F0ZWQsIGhhcyB1bmV2ZW5cbiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0LCBhbmQgdGhlIGZpbGwgaW5zIGFyZSBub3QgcXVpdGUgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXRYL1kgbWlnaHQgYmUgb2theSwgYnV0IGlzIG5vdCB0aGUgc2FtZSBhcyBjbGllbnRYL1kgd2hlbiB0aGUgY2FudmFzJ3MgdG9wXG4gICAgICAgICAgICAgICAgLy8gbGVmdCBpcyBub3QgMCwwIG9uIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclggPT09ICd1bmRlZmluZWQnKSB0b3VjaC5sYXllclggPSB0b3VjaC5vZmZzZXRYID0gdG91Y2guY2xpZW50WDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmxheWVyWSA9IHRvdWNoLm9mZnNldFkgPSB0b3VjaC5jbGllbnRZO1xuXG4gICAgICAgICAgICAgICAgLy8gbWFyayB0aGUgdG91Y2ggYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICAgICAgdG91Y2guaXNOb3JtYWxpemVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaCh0b3VjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwYXJlbnRseSBQb2ludGVyRXZlbnQgc3ViY2xhc3NlcyBNb3VzZUV2ZW50LCBzbyB5YXlcbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ICYmICghdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgfHwgIShldmVudCBpbnN0YW5jZW9mIHdpbmRvdy5Qb2ludGVyRXZlbnQpKSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQuaXNQcmltYXJ5ID09PSAndW5kZWZpbmVkJykgZXZlbnQuaXNQcmltYXJ5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LndpZHRoID09PSAndW5kZWZpbmVkJykgZXZlbnQud2lkdGggPSAxO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQuaGVpZ2h0ID09PSAndW5kZWZpbmVkJykgZXZlbnQuaGVpZ2h0ID0gMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnRpbHRYID09PSAndW5kZWZpbmVkJykgZXZlbnQudGlsdFggPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQudGlsdFkgPT09ICd1bmRlZmluZWQnKSBldmVudC50aWx0WSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnBvaW50ZXJUeXBlID0gJ21vdXNlJztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnBvaW50ZXJJZCA9IE1PVVNFX1BPSU5URVJfSUQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnByZXNzdXJlID0gMC41O1xuICAgICAgICAgICAgICAgIGV2ZW50LnR3aXN0ID0gMDtcbiAgICAgICAgICAgICAgICBldmVudC50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuXG4gICAgICAgICAgICAgICAgLy8gbWFyayB0aGUgbW91c2UgZXZlbnQgYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICAgICAgZXZlbnQuaXNOb3JtYWxpemVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRFdmVudHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcblxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMubW91c2UgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZXZlbnREYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyVXAgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyVXAgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ2FuY2VsID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJNb3ZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3ZlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdGVtcFBvaW50ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEludGVyYWN0aW9uTWFuYWdlcjtcbn0oX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEludGVyYWN0aW9uTWFuYWdlcjtcblxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2ludGVyYWN0aW9uJywgSW50ZXJhY3Rpb25NYW5hZ2VyKTtcbmNvcmUuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2ludGVyYWN0aW9uJywgSW50ZXJhY3Rpb25NYW5hZ2VyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uTWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfSW50ZXJhY3Rpb25EYXRhID0gcmVxdWlyZSgnLi9JbnRlcmFjdGlvbkRhdGEnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdJbnRlcmFjdGlvbkRhdGEnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvbkRhdGEpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0ludGVyYWN0aW9uTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25NYW5hZ2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnSW50ZXJhY3Rpb25NYW5hZ2VyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25NYW5hZ2VyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9pbnRlcmFjdGl2ZVRhcmdldCA9IHJlcXVpcmUoJy4vaW50ZXJhY3RpdmVUYXJnZXQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdpbnRlcmFjdGl2ZVRhcmdldCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludGVyYWN0aXZlVGFyZ2V0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdJbnRlcmFjdGlvblRyYWNraW5nRGF0YScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9JbnRlcmFjdGlvbkV2ZW50ID0gcmVxdWlyZSgnLi9JbnRlcmFjdGlvbkV2ZW50Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnSW50ZXJhY3Rpb25FdmVudCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uRXZlbnQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBTaW1wbGVzdCBmaWx0ZXIgLSBhcHBsaWVzIGFscGhhXG4gKlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBDb250YWluZXIncyBhbHBoYSBwcm9wZXJ0eSB0byBhdm9pZCB2aXN1YWwgbGF5ZXJpbmcgb2YgaW5kaXZpZHVhbCBlbGVtZW50cy5cbiAqIEFscGhhRmlsdGVyIGFwcGxpZXMgYWxwaGEgZXZlbmx5IGFjcm9zcyB0aGUgZW50aXJlIGRpc3BsYXkgb2JqZWN0IGFuZCBhbnkgb3BhcXVlIGVsZW1lbnRzIGl0IGNvbnRhaW5zLlxuICogSWYgZWxlbWVudHMgYXJlIG5vdCBvcGFxdWUsIHRoZXkgd2lsbCBibGVuZCB3aXRoIGVhY2ggb3RoZXIgYW55d2F5LlxuICpcbiAqIFZlcnkgaGFuZHkgaWYgeW91IHdhbnQgdG8gdXNlIGNvbW1vbiBmZWF0dXJlcyBvZiBhbGwgZmlsdGVyczpcbiAqXG4gKiAxLiBBc3NpZ24gYSBibGVuZE1vZGUgdG8gdGhpcyBmaWx0ZXIsIGJsZW5kIGFsbCBlbGVtZW50cyBpbnNpZGUgZGlzcGxheSBvYmplY3Qgd2l0aCBiYWNrZ3JvdW5kLlxuICpcbiAqIDIuIFRvIHVzZSBjbGlwcGluZyBpbiBkaXNwbGF5IGNvb3JkaW5hdGVzLCBhc3NpZ24gYSBmaWx0ZXJBcmVhIHRvIHRoZSBzYW1lIGNvbnRhaW5lciB0aGF0IGhhcyB0aGlzIGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBBbHBoYUZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQWxwaGFGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIEFtb3VudCBvZiBhbHBoYSBmcm9tIDAgdG8gMSwgd2hlcmUgMCBpcyB0cmFuc3BhcmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFscGhhRmlsdGVyKCkge1xuICAgICAgICB2YXIgYWxwaGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDEuMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWxwaGFGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdUFscGhhO1xcbn1cXG4nKSk7XG5cbiAgICAgICAgX3RoaXMuYWxwaGEgPSBhbHBoYTtcbiAgICAgICAgX3RoaXMuZ2xTaGFkZXJLZXkgPSAnYWxwaGEnO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29lZmZpY2llbnQgZm9yIGFscGhhIG11bHRpcGxpY2F0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQWxwaGFGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ2FscGhhJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBbHBoYUZpbHRlcjtcbn0oY29yZS5GaWx0ZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBbHBoYUZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFscGhhRmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIENvbG9yTWF0cml4RmlsdGVyIGNsYXNzIGxldHMgeW91IGFwcGx5IGEgNXg0IG1hdHJpeCB0cmFuc2Zvcm1hdGlvbiBvbiB0aGUgUkdCQVxuICogY29sb3IgYW5kIGFscGhhIHZhbHVlcyBvZiBldmVyeSBwaXhlbCBvbiB5b3VyIGRpc3BsYXlPYmplY3QgdG8gcHJvZHVjZSBhIHJlc3VsdFxuICogd2l0aCBhIG5ldyBzZXQgb2YgUkdCQSBjb2xvciBhbmQgYWxwaGEgdmFsdWVzLiBJdCdzIHByZXR0eSBwb3dlcmZ1bCFcbiAqXG4gKiBgYGBqc1xuICogIGxldCBjb2xvck1hdHJpeCA9IG5ldyBQSVhJLmZpbHRlcnMuQ29sb3JNYXRyaXhGaWx0ZXIoKTtcbiAqICBjb250YWluZXIuZmlsdGVycyA9IFtjb2xvck1hdHJpeF07XG4gKiAgY29sb3JNYXRyaXguY29udHJhc3QoMik7XG4gKiBgYGBcbiAqIEBhdXRob3IgQ2zDqW1lbnQgQ2hlbmViYXVsdCA8Y2xlbWVudEBnb29kYm95ZGlnaXRhbC5jb20+XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBDb2xvck1hdHJpeEZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQ29sb3JNYXRyaXhGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbG9yTWF0cml4RmlsdGVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sb3JNYXRyaXhGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgbVsyMF07XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IGMgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcblxcbiAgICBpZiAodUFscGhhID09IDAuMCkge1xcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gYztcXG4gICAgICAgIHJldHVybjtcXG4gICAgfVxcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoYy5hID4gMC4wKSB7XFxuICAgICAgYy5yZ2IgLz0gYy5hO1xcbiAgICB9XFxuXFxuICAgIHZlYzQgcmVzdWx0O1xcblxcbiAgICByZXN1bHQuciA9IChtWzBdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzFdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzJdICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzNdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IG1bNF07XFxuXFxuICAgIHJlc3VsdC5nID0gKG1bNV0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bNl0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bN10gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bOF0gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gbVs5XTtcXG5cXG4gICAgcmVzdWx0LmIgPSAobVsxMF0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMV0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMl0gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxM10gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYiArPSBtWzE0XTtcXG5cXG4gICAgcmVzdWx0LmEgPSAobVsxNV0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxNl0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxN10gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxOF0gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYSArPSBtWzE5XTtcXG5cXG4gICAgdmVjMyByZ2IgPSBtaXgoYy5yZ2IsIHJlc3VsdC5yZ2IsIHVBbHBoYSk7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICByZ2IgKj0gcmVzdWx0LmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQocmdiLCByZXN1bHQuYSk7XFxufVxcbicpKTtcblxuICAgICAgICBfdGhpcy51bmlmb3Jtcy5tID0gWzEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIF90aGlzLmFscGhhID0gMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgY3VycmVudCBtYXRyaXggYW5kIHNldCB0aGUgbmV3IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2xvYWRNYXRyaXggPSBmdW5jdGlvbiBfbG9hZE1hdHJpeChtYXRyaXgpIHtcbiAgICAgICAgdmFyIG11bHRpcGx5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgICAgICB2YXIgbmV3TWF0cml4ID0gbWF0cml4O1xuXG4gICAgICAgIGlmIChtdWx0aXBseSkge1xuICAgICAgICAgICAgdGhpcy5fbXVsdGlwbHkobmV3TWF0cml4LCB0aGlzLnVuaWZvcm1zLm0sIG1hdHJpeCk7XG4gICAgICAgICAgICBuZXdNYXRyaXggPSB0aGlzLl9jb2xvck1hdHJpeChuZXdNYXRyaXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHRoZSBuZXcgbWF0cml4XG4gICAgICAgIHRoaXMudW5pZm9ybXMubSA9IG5ld01hdHJpeDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gbWF0NSdzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG91dCAtIDV4NCBtYXRyaXggdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhIC0gNXg0IG1hdHJpeCB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGIgLSA1eDQgbWF0cml4IHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJbXX0gNXg0IG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX211bHRpcGx5ID0gZnVuY3Rpb24gX211bHRpcGx5KG91dCwgYSwgYikge1xuICAgICAgICAvLyBSZWQgQ2hhbm5lbFxuICAgICAgICBvdXRbMF0gPSBhWzBdICogYlswXSArIGFbMV0gKiBiWzVdICsgYVsyXSAqIGJbMTBdICsgYVszXSAqIGJbMTVdO1xuICAgICAgICBvdXRbMV0gPSBhWzBdICogYlsxXSArIGFbMV0gKiBiWzZdICsgYVsyXSAqIGJbMTFdICsgYVszXSAqIGJbMTZdO1xuICAgICAgICBvdXRbMl0gPSBhWzBdICogYlsyXSArIGFbMV0gKiBiWzddICsgYVsyXSAqIGJbMTJdICsgYVszXSAqIGJbMTddO1xuICAgICAgICBvdXRbM10gPSBhWzBdICogYlszXSArIGFbMV0gKiBiWzhdICsgYVsyXSAqIGJbMTNdICsgYVszXSAqIGJbMThdO1xuICAgICAgICBvdXRbNF0gPSBhWzBdICogYls0XSArIGFbMV0gKiBiWzldICsgYVsyXSAqIGJbMTRdICsgYVszXSAqIGJbMTldICsgYVs0XTtcblxuICAgICAgICAvLyBHcmVlbiBDaGFubmVsXG4gICAgICAgIG91dFs1XSA9IGFbNV0gKiBiWzBdICsgYVs2XSAqIGJbNV0gKyBhWzddICogYlsxMF0gKyBhWzhdICogYlsxNV07XG4gICAgICAgIG91dFs2XSA9IGFbNV0gKiBiWzFdICsgYVs2XSAqIGJbNl0gKyBhWzddICogYlsxMV0gKyBhWzhdICogYlsxNl07XG4gICAgICAgIG91dFs3XSA9IGFbNV0gKiBiWzJdICsgYVs2XSAqIGJbN10gKyBhWzddICogYlsxMl0gKyBhWzhdICogYlsxN107XG4gICAgICAgIG91dFs4XSA9IGFbNV0gKiBiWzNdICsgYVs2XSAqIGJbOF0gKyBhWzddICogYlsxM10gKyBhWzhdICogYlsxOF07XG4gICAgICAgIG91dFs5XSA9IGFbNV0gKiBiWzRdICsgYVs2XSAqIGJbOV0gKyBhWzddICogYlsxNF0gKyBhWzhdICogYlsxOV0gKyBhWzldO1xuXG4gICAgICAgIC8vIEJsdWUgQ2hhbm5lbFxuICAgICAgICBvdXRbMTBdID0gYVsxMF0gKiBiWzBdICsgYVsxMV0gKiBiWzVdICsgYVsxMl0gKiBiWzEwXSArIGFbMTNdICogYlsxNV07XG4gICAgICAgIG91dFsxMV0gPSBhWzEwXSAqIGJbMV0gKyBhWzExXSAqIGJbNl0gKyBhWzEyXSAqIGJbMTFdICsgYVsxM10gKiBiWzE2XTtcbiAgICAgICAgb3V0WzEyXSA9IGFbMTBdICogYlsyXSArIGFbMTFdICogYls3XSArIGFbMTJdICogYlsxMl0gKyBhWzEzXSAqIGJbMTddO1xuICAgICAgICBvdXRbMTNdID0gYVsxMF0gKiBiWzNdICsgYVsxMV0gKiBiWzhdICsgYVsxMl0gKiBiWzEzXSArIGFbMTNdICogYlsxOF07XG4gICAgICAgIG91dFsxNF0gPSBhWzEwXSAqIGJbNF0gKyBhWzExXSAqIGJbOV0gKyBhWzEyXSAqIGJbMTRdICsgYVsxM10gKiBiWzE5XSArIGFbMTRdO1xuXG4gICAgICAgIC8vIEFscGhhIENoYW5uZWxcbiAgICAgICAgb3V0WzE1XSA9IGFbMTVdICogYlswXSArIGFbMTZdICogYls1XSArIGFbMTddICogYlsxMF0gKyBhWzE4XSAqIGJbMTVdO1xuICAgICAgICBvdXRbMTZdID0gYVsxNV0gKiBiWzFdICsgYVsxNl0gKiBiWzZdICsgYVsxN10gKiBiWzExXSArIGFbMThdICogYlsxNl07XG4gICAgICAgIG91dFsxN10gPSBhWzE1XSAqIGJbMl0gKyBhWzE2XSAqIGJbN10gKyBhWzE3XSAqIGJbMTJdICsgYVsxOF0gKiBiWzE3XTtcbiAgICAgICAgb3V0WzE4XSA9IGFbMTVdICogYlszXSArIGFbMTZdICogYls4XSArIGFbMTddICogYlsxM10gKyBhWzE4XSAqIGJbMThdO1xuICAgICAgICBvdXRbMTldID0gYVsxNV0gKiBiWzRdICsgYVsxNl0gKiBiWzldICsgYVsxN10gKiBiWzE0XSArIGFbMThdICogYlsxOV0gKyBhWzE5XTtcblxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG1hdHJpeCAtIDV4NCBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJbXX0gNXg0IG1hdHJpeCB3aXRoIGFsbCB2YWx1ZXMgYmV0d2VlbiAwLTFcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9jb2xvck1hdHJpeCA9IGZ1bmN0aW9uIF9jb2xvck1hdHJpeChtYXRyaXgpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgRmxvYXQzMiBBcnJheSBhbmQgbm9ybWFsaXplIHRoZSBvZmZzZXQgY29tcG9uZW50IHRvIDAtMVxuICAgICAgICB2YXIgbSA9IG5ldyBGbG9hdDMyQXJyYXkobWF0cml4KTtcblxuICAgICAgICBtWzRdIC89IDI1NTtcbiAgICAgICAgbVs5XSAvPSAyNTU7XG4gICAgICAgIG1bMTRdIC89IDI1NTtcbiAgICAgICAgbVsxOV0gLz0gMjU1O1xuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGp1c3RzIGJyaWdodG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gdmFsdWUgb2YgdGhlIGJyaWd0aG5lc3MgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyaWdodG5lc3MgPSBmdW5jdGlvbiBicmlnaHRuZXNzKGIsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbYiwgMCwgMCwgMCwgMCwgMCwgYiwgMCwgMCwgMCwgMCwgMCwgYiwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXRyaWNlcyBpbiBncmV5IHNjYWxlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gdmFsdWUgb2YgdGhlIGdyZXkgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyZXlzY2FsZSA9IGZ1bmN0aW9uIGdyZXlzY2FsZShzY2FsZSwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLCBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLCBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGJsYWNrIGFuZCB3aGl0ZSBtYXRyaWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ibGFja0FuZFdoaXRlID0gZnVuY3Rpb24gYmxhY2tBbmRXaGl0ZShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAuMywgMC42LCAwLjEsIDAsIDAsIDAuMywgMC42LCAwLjEsIDAsIDAsIDAuMywgMC42LCAwLjEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaHVlIHByb3BlcnR5IG9mIHRoZSBjb2xvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gaW4gZGVncmVlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuaHVlID0gZnVuY3Rpb24gaHVlKHJvdGF0aW9uLCBtdWx0aXBseSkge1xuICAgICAgICByb3RhdGlvbiA9IChyb3RhdGlvbiB8fCAwKSAvIDE4MCAqIE1hdGguUEk7XG5cbiAgICAgICAgdmFyIGNvc1IgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgICAgIHZhciBzaW5SID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgICAgICB2YXIgc3FydCA9IE1hdGguc3FydDtcblxuICAgICAgICAvKiBhIGdvb2QgYXBwcm94aW1hdGlvbiBmb3IgaHVlIHJvdGF0aW9uXG4gICAgICAgICBUaGlzIG1hdHJpeCBpcyBmYXIgYmV0dGVyIHRoYW4gdGhlIHZlcnNpb25zIHdpdGggbWFnaWMgbHVtaW5hbmNlIGNvbnN0YW50c1xuICAgICAgICAgZm9ybWVybHkgdXNlZCBoZXJlLCBidXQgYWxzbyB1c2VkIGluIHRoZSBzdGFybGluZyBmcmFtZXdvcmsgKGZsYXNoKSBhbmQga25vd24gZnJvbSB0aGlzXG4gICAgICAgICBvbGQgcGFydCBvZiB0aGUgaW50ZXJuZXQ6IHF1YXNpbW9uZG8uY29tL2FyY2hpdmVzLzAwMDU2NS5waHBcbiAgICAgICAgICBUaGlzIG5ldyBtYXRyaXggaXMgYmFzZWQgb24gcmdiIGN1YmUgcm90YXRpb24gaW4gc3BhY2UuIExvb2sgaGVyZSBmb3IgYSBtb3JlIGRlc2NyaXB0aXZlXG4gICAgICAgICBpbXBsZW1lbnRhdGlvbiBhcyBhIHNoYWRlciBub3QgYSBnZW5lcmFsIG1hdHJpeDpcbiAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvNTg4NDFjMjM5MTliZDU5Nzg3ZWZmYzAzMzNhNDg5N2I0MzgzNTQxMi9zcmMvZmlsdGVycy9hZGp1c3QvaHVlc2F0dXJhdGlvbi5qc1xuICAgICAgICAgIFRoaXMgaXMgdGhlIHNvdXJjZSBmb3IgdGhlIGNvZGU6XG4gICAgICAgICBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NTA3ODg1L3NoaWZ0LWh1ZS1vZi1hbi1yZ2ItY29sb3IvODUxMDc1MSM4NTEwNzUxXG4gICAgICAgICAqL1xuXG4gICAgICAgIHZhciB3ID0gMSAvIDM7XG4gICAgICAgIHZhciBzcXJXID0gc3FydCh3KTsgLy8gd2VpZ2h0IGlzXG5cbiAgICAgICAgdmFyIGEwMCA9IGNvc1IgKyAoMS4wIC0gY29zUikgKiB3O1xuICAgICAgICB2YXIgYTAxID0gdyAqICgxLjAgLSBjb3NSKSAtIHNxclcgKiBzaW5SO1xuICAgICAgICB2YXIgYTAyID0gdyAqICgxLjAgLSBjb3NSKSArIHNxclcgKiBzaW5SO1xuXG4gICAgICAgIHZhciBhMTAgPSB3ICogKDEuMCAtIGNvc1IpICsgc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMTEgPSBjb3NSICsgdyAqICgxLjAgLSBjb3NSKTtcbiAgICAgICAgdmFyIGExMiA9IHcgKiAoMS4wIC0gY29zUikgLSBzcXJXICogc2luUjtcblxuICAgICAgICB2YXIgYTIwID0gdyAqICgxLjAgLSBjb3NSKSAtIHNxclcgKiBzaW5SO1xuICAgICAgICB2YXIgYTIxID0gdyAqICgxLjAgLSBjb3NSKSArIHNxclcgKiBzaW5SO1xuICAgICAgICB2YXIgYTIyID0gY29zUiArIHcgKiAoMS4wIC0gY29zUik7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFthMDAsIGEwMSwgYTAyLCAwLCAwLCBhMTAsIGExMSwgYTEyLCAwLCAwLCBhMjAsIGEyMSwgYTIyLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbnRyYXN0IG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBkYXJrIGFuZCBicmlnaHRcbiAgICAgKiBJbmNyZWFzZSBjb250cmFzdCA6IHNoYWRvd3MgZGFya2VyIGFuZCBoaWdobGlnaHRzIGJyaWdodGVyXG4gICAgICogRGVjcmVhc2UgY29udHJhc3QgOiBicmluZyB0aGUgc2hhZG93cyB1cCBhbmQgdGhlIGhpZ2hsaWdodHMgZG93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHZhbHVlIG9mIHRoZSBjb250cmFzdCAoMC0xKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29udHJhc3QgPSBmdW5jdGlvbiBjb250cmFzdChhbW91bnQsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciB2ID0gKGFtb3VudCB8fCAwKSArIDE7XG4gICAgICAgIHZhciBvID0gLTAuNSAqICh2IC0gMSk7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFt2LCAwLCAwLCAwLCBvLCAwLCB2LCAwLCAwLCBvLCAwLCAwLCB2LCAwLCBvLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNhdHVyYXRpb24gbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGNvbG9yc1xuICAgICAqIEluY3JlYXNlIHNhdHVyYXRpb24gOiBpbmNyZWFzZSBjb250cmFzdCwgYnJpZ2h0bmVzcywgYW5kIHNoYXJwbmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBzYXR1cmF0aW9uIGFtb3VudCAoMC0xKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbiBzYXR1cmF0ZSgpIHtcbiAgICAgICAgdmFyIGFtb3VudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIG11bHRpcGx5ID0gYXJndW1lbnRzWzFdO1xuXG4gICAgICAgIHZhciB4ID0gYW1vdW50ICogMiAvIDMgKyAxO1xuICAgICAgICB2YXIgeSA9ICh4IC0gMSkgKiAtMC41O1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbeCwgeSwgeSwgMCwgMCwgeSwgeCwgeSwgMCwgMCwgeSwgeSwgeCwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzYXR1cmF0ZSBpbWFnZSAocmVtb3ZlIGNvbG9yKVxuICAgICAqXG4gICAgICogQ2FsbCB0aGUgc2F0dXJhdGUgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZGVzYXR1cmF0ZSA9IGZ1bmN0aW9uIGRlc2F0dXJhdGUoKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICB0aGlzLnNhdHVyYXRlKC0xKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTmVnYXRpdmUgaW1hZ2UgKGludmVyc2Ugb2YgY2xhc3NpYyByZ2IgbWF0cml4KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uZWdhdGl2ZSA9IGZ1bmN0aW9uIG5lZ2F0aXZlKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbLTEsIDAsIDAsIDEsIDAsIDAsIC0xLCAwLCAxLCAwLCAwLCAwLCAtMSwgMSwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2VwaWEgaW1hZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2VwaWEgPSBmdW5jdGlvbiBzZXBpYShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAuMzkzLCAwLjc2ODk5OTksIDAuMTg4OTk5OTksIDAsIDAsIDAuMzQ5LCAwLjY4NTk5OTksIDAuMTY3OTk5OTksIDAsIDAsIDAuMjcyLCAwLjUzMzk5OTksIDAuMTMwOTk5OTksIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbG9yIG1vdGlvbiBwaWN0dXJlIHByb2Nlc3MgaW52ZW50ZWQgaW4gMTkxNiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudGVjaG5pY29sb3IgPSBmdW5jdGlvbiB0ZWNobmljb2xvcihtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzEuOTEyNTI3Nzg5MTQ1NjA4MywgLTAuODU0NTM0NDk3Njk1MTY0NSwgLTAuMDkxNTU1MDg0ODI3NTU1ODUsIDAsIDExLjc5MzYwMzQzNDM3NzMzNywgLTAuMzA4NzgzMzM4NTkyODA5NywgMS43NjU4OTA4NTU1NDU4NDI4LCAtMC4xMDYwMTc0MzA3NDcyMjI0NSwgMCwgLTcwLjM1MjA1MTYxNDYxMzk4LCAtMC4yMzExMDMzNzc1NDg2MTYsIC0wLjc1MDE4OTkxOTc0NDAyMTIsIDEuODQ3NTk3ODE2MTA4MTg5LCAwLCAzMC45NTA5NDA4Njk0OTExMzgsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvbGFyb2lkIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wb2xhcm9pZCA9IGZ1bmN0aW9uIHBvbGFyb2lkKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMS40MzgsIC0wLjA2MiwgLTAuMDYyLCAwLCAwLCAtMC4xMjIsIDEuMzc4LCAtMC4xMjIsIDAsIDAsIC0wLjAxNiwgLTAuMDE2LCAxLjQ4MywgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHdobyB0cmFuc2Zvcm1zIDogUmVkIC0+IEJsdWUgYW5kIEJsdWUgLT4gUmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRvQkdSID0gZnVuY3Rpb24gdG9CR1IobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFswLCAwLCAxLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb2xvciByZXZlcnNhbCBmaWxtIGludHJvZHVjZWQgYnkgRWFzdG1hbiBLb2RhayBpbiAxOTM1LiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUua29kYWNocm9tZSA9IGZ1bmN0aW9uIGtvZGFjaHJvbWUobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFsxLjEyODU1ODIzOTY1OTM1MjUsIC0wLjM5NjczODIyODM2MDEzNDgsIC0wLjAzOTkyNTU5MTcyOTIxNzkzLCAwLCA2My43Mjk1ODc2MjE5NjUwMiwgLTAuMTY0MDQzMzk5NjIyNDQ2MTYsIDEuMDgzNTI1MTU2NjI5MTMwNCwgLTAuMDU0OTg4MDUxMTU2MzMxMzIsIDAsIDI0LjczMjQwNzg5NjcwNjIwMywgLTAuMTY3ODYwMTA3MDYxNTU3NjMsIC0wLjU2MDM0MTYyNzc2OTUyNDgsIDEuNjAxNDg1MDc2MTk2NDk0MywgMCwgMzUuNjI5ODI4MDc0NjA5NDYsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJyb3duIGRlbGljaW91cyBicm93bmkgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5icm93bmkgPSBmdW5jdGlvbiBicm93bmkobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFswLjU5OTcwMjM0OTgxNTk3MTUsIDAuMzQ1NTMyNDMwNDgzOTEyNjMsIC0wLjI3MDgyOTg2NzQ1MzgwNDIsIDAsIDQ3LjQzMTkyODU1NjAwODczLCAtMC4wMzc3MDMyNDk4Mzc3ODMxNTcsIDAuODYwOTU3NzU4Nzk5MjY0MSwgMC4xNTA1OTU1MjM4ODQ1OTkxMywgMCwgLTM2Ljk2ODQxNDk4MzE5MTI3LCAwLjI0MTEzNjM1MTI4MTUzMzM1LCAtMC4wNzQ0MTAzNzkwODQyMjQ5MiwgMC40NDk3MjE4MjA2NDg3NzE1MywgMCwgLTcuNTYyMDc1Mjc3NTkxMjgzLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWaW50YWdlIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudmludGFnZSA9IGZ1bmN0aW9uIHZpbnRhZ2UobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFswLjYyNzkzNDU2MzU2MDU5OTQsIDAuMzIwMjE4MzQyMDgxOTM2NywgLTAuMDM5NjU0MDgyMTEzMTI0NTMsIDAsIDkuNjUxMjg1ODM1Mjk0MTIzLCAwLjAyNTc4Mzk3NzA0ODA4ODY4LCAwLjY0NDExODg2NDQzNzQ3NzEsIDAuMDMyNTkxMjc2MTYxNDkyOTQsIDAsIDcuNDYyODI5MTc2NDcwNTkxLCAwLjA0NjYwNTU1NTY3ODI3MTksIC0wLjA4NTEyMzI5ODcyNDc4OTEsIDAuNTI0MTY0ODAxODcwMDQ2NSwgMCwgNS4xNTkxOTA1ODgyMzUyOTYsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdlIGRvbid0IGtub3cgZXhhY3RseSB3aGF0IGl0IGRvZXMsIGtpbmQgb2YgZ3JhZGllbnQgbWFwLCBidXQgZnVubnkgdG8gcGxheSB3aXRoIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlc2F0dXJhdGlvbiAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b25lZCAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaWdodENvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGFya0NvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmNvbG9yVG9uZSA9IGZ1bmN0aW9uIGNvbG9yVG9uZShkZXNhdHVyYXRpb24sIHRvbmVkLCBsaWdodENvbG9yLCBkYXJrQ29sb3IsIG11bHRpcGx5KSB7XG4gICAgICAgIGRlc2F0dXJhdGlvbiA9IGRlc2F0dXJhdGlvbiB8fCAwLjI7XG4gICAgICAgIHRvbmVkID0gdG9uZWQgfHwgMC4xNTtcbiAgICAgICAgbGlnaHRDb2xvciA9IGxpZ2h0Q29sb3IgfHwgMHhGRkU1ODA7XG4gICAgICAgIGRhcmtDb2xvciA9IGRhcmtDb2xvciB8fCAweDMzODAwMDtcblxuICAgICAgICB2YXIgbFIgPSAobGlnaHRDb2xvciA+PiAxNiAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbEcgPSAobGlnaHRDb2xvciA+PiA4ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBsQiA9IChsaWdodENvbG9yICYgMHhGRikgLyAyNTU7XG5cbiAgICAgICAgdmFyIGRSID0gKGRhcmtDb2xvciA+PiAxNiAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZEcgPSAoZGFya0NvbG9yID4+IDggJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRCID0gKGRhcmtDb2xvciAmIDB4RkYpIC8gMjU1O1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbMC4zLCAwLjU5LCAwLjExLCAwLCAwLCBsUiwgbEcsIGxCLCBkZXNhdHVyYXRpb24sIDAsIGRSLCBkRywgZEIsIHRvbmVkLCAwLCBsUiAtIGRSLCBsRyAtIGRHLCBsQiAtIGRCLCAwLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOaWdodCBlZmZlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlbnNpdHkgLSBUaGUgaW50ZW5zaXR5IG9mIHRoZSBuaWdodCBlZmZlY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uaWdodCA9IGZ1bmN0aW9uIG5pZ2h0KGludGVuc2l0eSwgbXVsdGlwbHkpIHtcbiAgICAgICAgaW50ZW5zaXR5ID0gaW50ZW5zaXR5IHx8IDAuMTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtpbnRlbnNpdHkgKiAtMi4wLCAtaW50ZW5zaXR5LCAwLCAwLCAwLCAtaW50ZW5zaXR5LCAwLCBpbnRlbnNpdHksIDAsIDAsIDAsIGludGVuc2l0eSwgaW50ZW5zaXR5ICogMi4wLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmVkYXRvciBlZmZlY3RcbiAgICAgKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIGEgbmV3IGluZGVwZW50IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIGhvdyBtdWNoIHRoZSBwcmVkYXRvciBmZWVscyBoaXMgZnV0dXJlIHZpY3RpbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucHJlZGF0b3IgPSBmdW5jdGlvbiBwcmVkYXRvcihhbW91bnQsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgIC8vIHJvdyAxXG4gICAgICAgIDExLjIyNDEzMDYzMDQ5MzE2NCAqIGFtb3VudCwgLTQuNzk0NDg2OTk5NTExNzE5ICogYW1vdW50LCAtMi44NzQ2MTE4NTQ1NTMyMjI3ICogYW1vdW50LCAwICogYW1vdW50LCAwLjQwMzQyNDM4MjIwOTc3NzgzICogYW1vdW50LFxuICAgICAgICAvLyByb3cgMlxuICAgICAgICAtMy42MzMwNjk3NTM2NDY4NTA2ICogYW1vdW50LCA5LjE5MzE1NzE5NjA0NDkyMiAqIGFtb3VudCwgLTIuOTUxODEwODM2NzkxOTkyICogYW1vdW50LCAwICogYW1vdW50LCAtMS4zMTYxMzUwNDg4NjYyNzIgKiBhbW91bnQsXG4gICAgICAgIC8vIHJvdyAzXG4gICAgICAgIC0zLjIxODQxOTc5MDI2Nzk0NDMgKiBhbW91bnQsIC00LjIzNzUwMzA1MTc1NzgxMjUgKiBhbW91bnQsIDcuNDc2NDQ4MDU5MDgyMDMxICogYW1vdW50LCAwICogYW1vdW50LCAwLjgwNDQ0NTkyMjM3NDcyNTMgKiBhbW91bnQsXG4gICAgICAgIC8vIHJvdyA0XG4gICAgICAgIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExTRCBlZmZlY3RcbiAgICAgKlxuICAgICAqIE11bHRpcGx5IHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5sc2QgPSBmdW5jdGlvbiBsc2QobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFsyLCAtMC40LCAwLjUsIDAsIDAsIC0wLjUsIDIsIC0wLjQsIDAsIDAsIC0wLjQsIC0wLjUsIDMsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIHRoZSBkZWZhdWx0IG9uZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBmYWxzZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXRyaXggb2YgdGhlIGNvbG9yIG1hdHJpeCBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqIEBkZWZhdWx0IFsxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwXVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQ29sb3JNYXRyaXhGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ21hdHJpeCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLm0gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BhY2l0eSB2YWx1ZSB0byB1c2Ugd2hlbiBtaXhpbmcgdGhlIG9yaWdpbmFsIGFuZCByZXN1bHRhbnQgY29sb3JzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAwLCB0aGUgb3JpZ2luYWwgY29sb3IgaXMgdXNlZCB3aXRob3V0IG1vZGlmaWNhdGlvbi5cbiAgICAgICAgICogV2hlbiB0aGUgdmFsdWUgaXMgMSwgdGhlIHJlc3VsdCBjb2xvciBpcyB1c2VkLlxuICAgICAgICAgKiBXaGVuIGluIHRoZSByYW5nZSAoMCwgMSkgdGhlIGNvbG9yIGlzIGludGVycG9sYXRlZCBiZXR3ZWVuIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0IGJ5IHRoaXMgYW1vdW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2FscGhhJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb2xvck1hdHJpeEZpbHRlcjtcbn0oY29yZS5GaWx0ZXIpO1xuXG4vLyBBbWVyaWNhbml6ZWQgYWxpYXNcblxuXG5leHBvcnRzLmRlZmF1bHQgPSBDb2xvck1hdHJpeEZpbHRlcjtcbkNvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmF5c2NhbGUgPSBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sb3JNYXRyaXhGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0JsdXJYRmlsdGVyID0gcmVxdWlyZSgnLi9CbHVyWEZpbHRlcicpO1xuXG52YXIgX0JsdXJYRmlsdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJYRmlsdGVyKTtcblxudmFyIF9CbHVyWUZpbHRlciA9IHJlcXVpcmUoJy4vQmx1cllGaWx0ZXInKTtcblxudmFyIF9CbHVyWUZpbHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CbHVyWUZpbHRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgQmx1ckZpbHRlciBhcHBsaWVzIGEgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKiBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgY2FuIGJlIHNldCBmb3IgeC0gYW5kIHktYXhpcyBzZXBhcmF0ZWx5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEJsdXJGaWx0ZXIgPSBmdW5jdGlvbiAoX2NvcmUkRmlsdGVyKSB7XG4gICAgX2luaGVyaXRzKEJsdXJGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZW5ndGggLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5IC0gVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBba2VybmVsU2l6ZT01XSAtIFRoZSBrZXJuZWxTaXplIG9mIHRoZSBibHVyIGZpbHRlci5PcHRpb25zOiA1LCA3LCA5LCAxMSwgMTMsIDE1LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsdXJGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJsdXJGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5ibHVyWEZpbHRlciA9IG5ldyBfQmx1clhGaWx0ZXIyLmRlZmF1bHQoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICBfdGhpcy5ibHVyWUZpbHRlciA9IG5ldyBfQmx1cllGaWx0ZXIyLmRlZmF1bHQoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuXG4gICAgICAgIF90aGlzLnBhZGRpbmcgPSAwO1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBjb3JlLnNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIF90aGlzLnF1YWxpdHkgPSBxdWFsaXR5IHx8IDQ7XG4gICAgICAgIF90aGlzLmJsdXIgPSBzdHJlbmd0aCB8fCA4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICovXG5cblxuICAgIEJsdXJGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCkge1xuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRSZW5kZXJUYXJnZXQodHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgcmVuZGVyVGFyZ2V0LCB0cnVlKTtcbiAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCByZW5kZXJUYXJnZXQsIG91dHB1dCwgZmFsc2UpO1xuXG4gICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXJYIGFuZCBibHVyWSBwcm9wZXJ0aWVzIHNpbXVsdGFuZW91c2x5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQmx1ckZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnYmx1cicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB0aGlzLmJsdXJZRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLCBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSkgKiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIG51bWJlciBvZiBwYXNzZXMgZm9yIGJsdXIuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlciBxdWFpbGl0eSBibHVyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3F1YWxpdHknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5ID0gdGhpcy5ibHVyWUZpbHRlci5xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgdGhlIGJsdXJYIHByb3BlcnR5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMlxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYmx1clgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLm1heChNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKSwgTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpICogMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clkgcHJvcGVydHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdibHVyWScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLCBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSkgKiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JsZW5kTW9kZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuX2JsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLl9ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCbHVyRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJsdXJGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CbHVyRmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIERpc3BsYWNlbWVudEZpbHRlciBjbGFzcyB1c2VzIHRoZSBwaXhlbCB2YWx1ZXMgZnJvbSB0aGUgc3BlY2lmaWVkIHRleHR1cmVcbiAqIChjYWxsZWQgdGhlIGRpc3BsYWNlbWVudCBtYXApIHRvIHBlcmZvcm0gYSBkaXNwbGFjZW1lbnQgb2YgYW4gb2JqZWN0LiBZb3UgY2FuXG4gKiB1c2UgdGhpcyBmaWx0ZXIgdG8gYXBwbHkgYWxsIG1hbm9yIG9mIGNyYXp5IHdhcnBpbmcgZWZmZWN0cy4gQ3VycmVudGx5IHRoZSByXG4gKiBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgeCBhbmQgdGhlIGcgcHJvcGVydHkgb2YgdGhlIHRleHR1cmVcbiAqIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSB5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIERpc3BsYWNlbWVudEZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoRGlzcGxhY2VtZW50RmlsdGVyLCBfY29yZSRGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gKG1ha2Ugc3VyZSBpdHMgYWRkZWQgdG8gdGhlIHNjZW5lISlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSBUaGUgc2NhbGUgb2YgdGhlIGRpc3BsYWNlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERpc3BsYWNlbWVudEZpbHRlcihzcHJpdGUsIHNjYWxlKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEaXNwbGFjZW1lbnRGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IGNvcmUuTWF0cml4KCk7XG5cbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRGaWx0ZXIuY2FsbCh0aGlzLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgZmlsdGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgIHZGaWx0ZXJDb29yZCA9ICggZmlsdGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG4gICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG59JyxcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjMiBzY2FsZTtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXBTYW1wbGVyO1xcblxcbnVuaWZvcm0gdmVjNCBmaWx0ZXJBcmVhO1xcbnVuaWZvcm0gdmVjNCBmaWx0ZXJDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICB2ZWM0IG1hcCA9ICB0ZXh0dXJlMkQobWFwU2FtcGxlciwgdkZpbHRlckNvb3JkKTtcXG5cXG4gIG1hcCAtPSAwLjU7XFxuICBtYXAueHkgKj0gc2NhbGUgLyBmaWx0ZXJBcmVhLnh5O1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcCh2ZWMyKHZUZXh0dXJlQ29vcmQueCArIG1hcC54LCB2VGV4dHVyZUNvb3JkLnkgKyBtYXAueSksIGZpbHRlckNsYW1wLnh5LCBmaWx0ZXJDbGFtcC56dykpO1xcbn1cXG4nKSk7XG5cbiAgICAgICAgX3RoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgX3RoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG5cbiAgICAgICAgX3RoaXMudW5pZm9ybXMubWFwU2FtcGxlciA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgX3RoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gbWFza01hdHJpeDtcbiAgICAgICAgX3RoaXMudW5pZm9ybXMuc2NhbGUgPSB7IHg6IDEsIHk6IDEgfTtcblxuICAgICAgICBpZiAoc2NhbGUgPT09IG51bGwgfHwgc2NhbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2NhbGUgPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnNjYWxlID0gbmV3IGNvcmUuUG9pbnQoc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqL1xuXG5cbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCkge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmZpbHRlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgdGhpcy5tYXNrU3ByaXRlKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zY2FsZS54ID0gdGhpcy5zY2FsZS54O1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnkgPSB0aGlzLnNjYWxlLnk7XG5cbiAgICAgICAgLy8gZHJhdyB0aGUgZmlsdGVyLi4uXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiBNdXN0IGJlIHBvd2VyIG9mIDIgc2l6ZWQgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKERpc3BsYWNlbWVudEZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnbWFwJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlciA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERpc3BsYWNlbWVudEZpbHRlcjtcbn0oY29yZS5GaWx0ZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBEaXNwbGFjZW1lbnRGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EaXNwbGFjZW1lbnRGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAYXV0aG9yIFZpY28gQHZpY29jb3RlYVxuICogb3JpZ2luYWwgZmlsdGVyOiBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iL21hc3Rlci9zcmMvZmlsdGVycy9hZGp1c3Qvbm9pc2UuanNcbiAqL1xuXG4vKipcbiAqIEEgTm9pc2UgZWZmZWN0IGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBOb2lzZUZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoTm9pc2VGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbm9pc2UgLSBUaGUgbm9pc2UgaW50ZW5zaXR5LCBzaG91bGQgYmUgYSBub3JtYWxpemVkIHZhbHVlIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgLSBBIHJhbmRvbSBzZWVkIGZvciB0aGUgbm9pc2UgZ2VuZXJhdGlvbi4gRGVmYXVsdCBpcyBgTWF0aC5yYW5kb20oKWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTm9pc2VGaWx0ZXIoKSB7XG4gICAgICAgIHZhciBub2lzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMC41O1xuICAgICAgICB2YXIgc2VlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogTWF0aC5yYW5kb20oKTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9pc2VGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnVuaWZvcm0gZmxvYXQgdU5vaXNlO1xcbnVuaWZvcm0gZmxvYXQgdVNlZWQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxuZmxvYXQgcmFuZCh2ZWMyIGNvKVxcbntcXG4gICAgcmV0dXJuIGZyYWN0KHNpbihkb3QoY28ueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7XFxufVxcblxcbnZvaWQgbWFpbigpXFxue1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgZmxvYXQgcmFuZG9tVmFsdWUgPSByYW5kKGdsX0ZyYWdDb29yZC54eSAqIHVTZWVkKTtcXG4gICAgZmxvYXQgZGlmZiA9IChyYW5kb21WYWx1ZSAtIDAuNSkgKiB1Tm9pc2U7XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjb2xvci5hID4gMC4wKSB7XFxuICAgICAgICBjb2xvci5yZ2IgLz0gY29sb3IuYTtcXG4gICAgfVxcblxcbiAgICBjb2xvci5yICs9IGRpZmY7XFxuICAgIGNvbG9yLmcgKz0gZGlmZjtcXG4gICAgY29sb3IuYiArPSBkaWZmO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgY29sb3IucmdiICo9IGNvbG9yLmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG4nKSk7XG5cbiAgICAgICAgX3RoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgX3RoaXMuc2VlZCA9IHNlZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIG5vaXNlIHRvIGFwcGx5LCB0aGlzIHZhbHVlIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2UgKDAsIDFdLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoTm9pc2VGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ25vaXNlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51Tm9pc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51Tm9pc2UgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNlZWQgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIHJhbmRvbSBub2lzZSBnZW5lcmF0aW9uLiBgTWF0aC5yYW5kb20oKWAgaXMgYSBnb29kIHZhbHVlIHRvIHVzZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2VlZCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNlZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2VlZCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE5vaXNlRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE5vaXNlRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm9pc2VGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKlxuICogQmFzaWMgRlhBQSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbSB3aXRoIHRoZVxuICogbW9kaWZpY2F0aW9uIHRoYXQgdGhlIHRleHR1cmUyRExvZCBzdHVmZiB3YXMgcmVtb3ZlZCBzaW5jZSBpdCdzXG4gKiB1bnN1cHBvcnRlZCBieSBXZWJHTC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICpcbiAqL1xudmFyIEZYQUFGaWx0ZXIgPSBmdW5jdGlvbiAoX2NvcmUkRmlsdGVyKSB7XG4gICAgX2luaGVyaXRzKEZYQUFGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZYQUFGaWx0ZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGWEFBRmlsdGVyKTtcblxuICAgICAgICAvLyBUT0RPIC0gbmVlZHMgd29ya1xuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAnXFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG51bmlmb3JtIHZlYzQgZmlsdGVyQXJlYTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52ZWMyIG1hcENvb3JkKCB2ZWMyIGNvb3JkIClcXG57XFxuICAgIGNvb3JkICo9IGZpbHRlckFyZWEueHk7XFxuICAgIGNvb3JkICs9IGZpbHRlckFyZWEuenc7XFxuXFxuICAgIHJldHVybiBjb29yZDtcXG59XFxuXFxudmVjMiB1bm1hcENvb3JkKCB2ZWMyIGNvb3JkIClcXG57XFxuICAgIGNvb3JkIC09IGZpbHRlckFyZWEuenc7XFxuICAgIGNvb3JkIC89IGZpbHRlckFyZWEueHk7XFxuXFxuICAgIHJldHVybiBjb29yZDtcXG59XFxuXFxudm9pZCB0ZXhjb29yZHModmVjMiBmcmFnQ29vcmQsIHZlYzIgcmVzb2x1dGlvbixcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk5XLCBvdXQgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiU1csIG91dCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZlYzIgaW52ZXJzZVZQID0gMS4wIC8gcmVzb2x1dGlvbi54eTtcXG4gICAgdl9yZ2JOVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JORSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNXID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU0UgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk0gPSB2ZWMyKGZyYWdDb29yZCAqIGludmVyc2VWUCk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFxuICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuXFxuICAgdmVjMiBmcmFnQ29vcmQgPSB2VGV4dHVyZUNvb3JkICogZmlsdGVyQXJlYS54eTtcXG5cXG4gICB0ZXhjb29yZHMoZnJhZ0Nvb3JkLCBmaWx0ZXJBcmVhLnh5LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IGZpbHRlckFyZWE7XFxuXFxuLyoqXFxuIEJhc2ljIEZYQUEgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gdGhlIGNvZGUgb24gZ2Vla3MzZC5jb20gd2l0aCB0aGVcXG4gbW9kaWZpY2F0aW9uIHRoYXQgdGhlIHRleHR1cmUyRExvZCBzdHVmZiB3YXMgcmVtb3ZlZCBzaW5jZSBpdFxcJ3NcXG4gdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXFxuIFxcbiAtLVxcbiBcXG4gRnJvbTpcXG4gaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcXG4gXFxuIENvcHlyaWdodCAoYykgMjAxMSBieSBBcm1pbiBSb25hY2hlci5cXG4gXFxuIFNvbWUgcmlnaHRzIHJlc2VydmVkLlxcbiBcXG4gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XFxuIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcXG4gbWV0OlxcbiBcXG4gKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxcbiBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXFxuIFxcbiAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcXG4gY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcXG4gZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXFxuIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cXG4gXFxuICogVGhlIG5hbWVzIG9mIHRoZSBjb250cmlidXRvcnMgbWF5IG5vdCBiZSB1c2VkIHRvIGVuZG9yc2Ugb3JcXG4gcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljXFxuIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cXG4gXFxuIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcXG4gXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxcbiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcXG4gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcXG4gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXFxuIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXFxuIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxcbiBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXFxuIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxcbiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxcbiAqL1xcblxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTUlOXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NSU4gICAoMS4wLyAxMjguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01VTFxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTVVMICAgKDEuMCAvIDguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfU1BBTl9NQVhcXG4jZGVmaW5lIEZYQUFfU1BBTl9NQVggICAgIDguMFxcbiNlbmRpZlxcblxcbi8vb3B0aW1pemVkIHZlcnNpb24gZm9yIG1vYmlsZSwgd2hlcmUgZGVwZW5kZW50XFxuLy90ZXh0dXJlIHJlYWRzIGNhbiBiZSBhIGJvdHRsZW5lY2tcXG52ZWM0IGZ4YWEoc2FtcGxlcjJEIHRleCwgdmVjMiBmcmFnQ29vcmQsIHZlYzIgcmVzb2x1dGlvbixcXG4gICAgICAgICAgdmVjMiB2X3JnYk5XLCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JTVywgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTSkge1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICBtZWRpdW1wIHZlYzIgaW52ZXJzZVZQID0gdmVjMigxLjAgLyByZXNvbHV0aW9uLngsIDEuMCAvIHJlc29sdXRpb24ueSk7XFxuICAgIHZlYzMgcmdiTlcgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5XKS54eXo7XFxuICAgIHZlYzMgcmdiTkUgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5FKS54eXo7XFxuICAgIHZlYzMgcmdiU1cgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNXKS54eXo7XFxuICAgIHZlYzMgcmdiU0UgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNFKS54eXo7XFxuICAgIHZlYzQgdGV4Q29sb3IgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk0pO1xcbiAgICB2ZWMzIHJnYk0gID0gdGV4Q29sb3IueHl6O1xcbiAgICB2ZWMzIGx1bWEgPSB2ZWMzKDAuMjk5LCAwLjU4NywgMC4xMTQpO1xcbiAgICBmbG9hdCBsdW1hTlcgPSBkb3QocmdiTlcsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTkUgPSBkb3QocmdiTkUsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU1cgPSBkb3QocmdiU1csIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU0UgPSBkb3QocmdiU0UsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTSAgPSBkb3QocmdiTSwgIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTWluID0gbWluKGx1bWFNLCBtaW4obWluKGx1bWFOVywgbHVtYU5FKSwgbWluKGx1bWFTVywgbHVtYVNFKSkpO1xcbiAgICBmbG9hdCBsdW1hTWF4ID0gbWF4KGx1bWFNLCBtYXgobWF4KGx1bWFOVywgbHVtYU5FKSwgbWF4KGx1bWFTVywgbHVtYVNFKSkpO1xcbiAgICBcXG4gICAgbWVkaXVtcCB2ZWMyIGRpcjtcXG4gICAgZGlyLnggPSAtKChsdW1hTlcgKyBsdW1hTkUpIC0gKGx1bWFTVyArIGx1bWFTRSkpO1xcbiAgICBkaXIueSA9ICAoKGx1bWFOVyArIGx1bWFTVykgLSAobHVtYU5FICsgbHVtYVNFKSk7XFxuICAgIFxcbiAgICBmbG9hdCBkaXJSZWR1Y2UgPSBtYXgoKGx1bWFOVyArIGx1bWFORSArIGx1bWFTVyArIGx1bWFTRSkgKlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKDAuMjUgKiBGWEFBX1JFRFVDRV9NVUwpLCBGWEFBX1JFRFVDRV9NSU4pO1xcbiAgICBcXG4gICAgZmxvYXQgcmNwRGlyTWluID0gMS4wIC8gKG1pbihhYnMoZGlyLngpLCBhYnMoZGlyLnkpKSArIGRpclJlZHVjZSk7XFxuICAgIGRpciA9IG1pbih2ZWMyKEZYQUFfU1BBTl9NQVgsIEZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgbWF4KHZlYzIoLUZYQUFfU1BBTl9NQVgsIC1GWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgICAgICBkaXIgKiByY3BEaXJNaW4pKSAqIGludmVyc2VWUDtcXG4gICAgXFxuICAgIHZlYzMgcmdiQSA9IDAuNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgxLjAgLyAzLjAgLSAwLjUpKS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDIuMCAvIDMuMCAtIDAuNSkpLnh5eik7XFxuICAgIHZlYzMgcmdiQiA9IHJnYkEgKiAwLjUgKyAwLjI1ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAtMC41KS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAwLjUpLnh5eik7XFxuICAgIFxcbiAgICBmbG9hdCBsdW1hQiA9IGRvdChyZ2JCLCBsdW1hKTtcXG4gICAgaWYgKChsdW1hQiA8IGx1bWFNaW4pIHx8IChsdW1hQiA+IGx1bWFNYXgpKVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkEsIHRleENvbG9yLmEpO1xcbiAgICBlbHNlXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQiwgdGV4Q29sb3IuYSk7XFxuICAgIHJldHVybiBjb2xvcjtcXG59XFxuXFxudm9pZCBtYWluKCkge1xcblxcbiAgICAgIHZlYzIgZnJhZ0Nvb3JkID0gdlRleHR1cmVDb29yZCAqIGZpbHRlckFyZWEueHk7XFxuXFxuICAgICAgdmVjNCBjb2xvcjtcXG5cXG4gICAgY29sb3IgPSBmeGFhKHVTYW1wbGVyLCBmcmFnQ29vcmQsIGZpbHRlckFyZWEueHksIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxuXFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcbicpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gRlhBQUZpbHRlcjtcbn0oY29yZS5GaWx0ZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBGWEFBRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RlhBQUZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfRlhBQUZpbHRlciA9IHJlcXVpcmUoJy4vZnhhYS9GWEFBRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRlhBQUZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZYQUFGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX05vaXNlRmlsdGVyID0gcmVxdWlyZSgnLi9ub2lzZS9Ob2lzZUZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ05vaXNlRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTm9pc2VGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Rpc3BsYWNlbWVudEZpbHRlciA9IHJlcXVpcmUoJy4vZGlzcGxhY2VtZW50L0Rpc3BsYWNlbWVudEZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Rpc3BsYWNlbWVudEZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc3BsYWNlbWVudEZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmx1ckZpbHRlciA9IHJlcXVpcmUoJy4vYmx1ci9CbHVyRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmx1ckZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0JsdXJYRmlsdGVyID0gcmVxdWlyZSgnLi9ibHVyL0JsdXJYRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmx1clhGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CbHVyWEZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmx1cllGaWx0ZXIgPSByZXF1aXJlKCcuL2JsdXIvQmx1cllGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCbHVyWUZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJZRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Db2xvck1hdHJpeEZpbHRlciA9IHJlcXVpcmUoJy4vY29sb3JtYXRyaXgvQ29sb3JNYXRyaXhGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDb2xvck1hdHJpeEZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbG9yTWF0cml4RmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9BbHBoYUZpbHRlciA9IHJlcXVpcmUoJy4vYWxwaGEvQWxwaGFGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdBbHBoYUZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FscGhhRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBnbG9iYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QuIERvZXMgbm90IGRlcGVuZCBvbiBvYmplY3Qgc2NhbGUsIHJvdGF0aW9uIGFuZCBwaXZvdC5cbiAqXG4gKiBAbWV0aG9kIGdldEdsb2JhbFBvc2l0aW9uXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gd3JpdGUgdGhlIGdsb2JhbCB2YWx1ZSB0by4gSWYgbnVsbCBhIG5ldyBwb2ludCB3aWxsIGJlIHJldHVybmVkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNraXBVcGRhdGUgLSBzZXR0aW5nIHRvIHRydWUgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0XG4gKiBAcmV0dXJuIHtQb2ludH0gVGhlIHVwZGF0ZWQgcG9pbnRcbiAqL1xuY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRHbG9iYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldEdsb2JhbFBvc2l0aW9uKCkge1xuICAgIHZhciBwb2ludCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbmV3IGNvcmUuUG9pbnQoKTtcbiAgICB2YXIgc2tpcFVwZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQudG9HbG9iYWwodGhpcy5wb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBvaW50LnggPSB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIHBvaW50LnkgPSB0aGlzLnBvc2l0aW9uLnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEdsb2JhbFBvc2l0aW9uLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXG4gKiBUaGUgaW5zdGFuY2UgbmFtZSBvZiB0aGUgb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IG5hbWVcbiAqL1xuY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5uYW1lID0gbnVsbDtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaXNwbGF5IG9iamVjdCBpbiB0aGUgY29udGFpbmVyXG4gKlxuICogQG1ldGhvZCBnZXRDaGlsZEJ5TmFtZVxuICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBpbnN0YW5jZSBuYW1lXG4gKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAqL1xuY29yZS5Db250YWluZXIucHJvdG90eXBlLmdldENoaWxkQnlOYW1lID0gZnVuY3Rpb24gZ2V0Q2hpbGRCeU5hbWUobmFtZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldENoaWxkQnlOYW1lLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vY29yZS90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKTtcblxudmFyIF9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4uL2NvcmUvdGV4dHVyZXMvQmFzZVRleHR1cmUnKTtcblxudmFyIF9CYXNlVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlVGV4dHVyZSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi9jb3JlL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBEaXNwbGF5T2JqZWN0ID0gY29yZS5EaXNwbGF5T2JqZWN0O1xudmFyIF90ZW1wTWF0cml4ID0gbmV3IGNvcmUuTWF0cml4KCk7XG5cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwID0gZmFsc2U7XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVEYXRhID0gZmFsc2U7XG5cbi8vIGZpZ3VyZWQgdGhlcmVzIG5vIHBvaW50IGFkZGluZyBBTEwgdGhlIGV4dHJhIHZhcmlhYmxlcyB0byBwcm90b3R5cGUuXG4vLyB0aGlzIG1vZGVsIGNhbiBob2xkIHRoZSBpbmZvcm1hdGlvbiBuZWVkZWQuIFRoaXMgY2FuIGFsc28gYmUgZ2VuZXJhdGVkIG9uIGRlbWFuZCBhc1xuLy8gbW9zdCBvYmplY3RzIGFyZSBub3QgY2FjaGVkIGFzIGJpdG1hcHMuXG4vKipcbiAqIEBjbGFzc1xuICogQGlnbm9yZVxuICovXG5cbnZhciBDYWNoZURhdGEgPVxuLyoqXG4gKlxuICovXG5mdW5jdGlvbiBDYWNoZURhdGEoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhY2hlRGF0YSk7XG5cbiAgICB0aGlzLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcblxuICAgIHRoaXMub3JpZ2luYWxSZW5kZXJXZWJHTCA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gbnVsbDtcblxuICAgIHRoaXMub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxIaXRUZXN0ID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsRGVzdHJveSA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbE1hc2sgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxGaWx0ZXJBcmVhID0gbnVsbDtcbiAgICB0aGlzLnNwcml0ZSA9IG51bGw7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwge1xuICAgIC8qKlxuICAgICAqIFNldCB0aGlzIHRvIHRydWUgaWYgeW91IHdhbnQgdGhpcyBkaXNwbGF5IG9iamVjdCB0byBiZSBjYWNoZWQgYXMgYSBiaXRtYXAuXG4gICAgICogVGhpcyBiYXNpY2FsbHkgdGFrZXMgYSBzbmFwIHNob3Qgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IGFzIGl0IGlzIGF0IHRoYXQgbW9tZW50LiBJdCBjYW5cbiAgICAgKiBwcm92aWRlIGEgcGVyZm9ybWFuY2UgYmVuZWZpdCBmb3IgY29tcGxleCBzdGF0aWMgZGlzcGxheU9iamVjdHMuXG4gICAgICogVG8gcmVtb3ZlIHNpbXBseSBzZXQgdGhpcyBwcm9wZXJ0eSB0byAnZmFsc2UnXG4gICAgICpcbiAgICAgKiBJTVBPUlRBTlQgR09UQ0hBIC0gbWFrZSBzdXJlIHRoYXQgYWxsIHlvdXIgdGV4dHVyZXMgYXJlIHByZWxvYWRlZCBCRUZPUkUgc2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIHRydWVcbiAgICAgKiBhcyBpdCB3aWxsIHRha2UgYSBzbmFwc2hvdCBvZiB3aGF0IGlzIGN1cnJlbnRseSB0aGVyZS4gSWYgdGhlIHRleHR1cmVzIGhhdmUgbm90IGxvYWRlZCB0aGVuIHRoZXkgd2lsbCBub3QgYXBwZWFyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGNhY2hlQXNCaXRtYXA6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVBc0JpdG1hcDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZUFzQml0bWFwID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcCA9IHZhbHVlO1xuXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHZvaWQgMDtcblxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYWNoZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVEYXRhID0gbmV3IENhY2hlRGF0YSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyV2ViR0wgPSB0aGlzLnJlbmRlcldlYkdMO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXMgPSB0aGlzLnJlbmRlckNhbnZhcztcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSB0aGlzLnVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHM7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRGVzdHJveSA9IHRoaXMuZGVzdHJveTtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50ID0gdGhpcy5jb250YWluc1BvaW50O1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbE1hc2sgPSB0aGlzLl9tYXNrO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhID0gdGhpcy5maWx0ZXJBcmVhO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJXZWJHTCA9IHRoaXMuX3JlbmRlckNhY2hlZFdlYkdMO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gdGhpcy5fY2FjaGVBc0JpdG1hcERlc3Ryb3k7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zcHJpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcldlYkdMID0gZGF0YS5vcmlnaW5hbFJlbmRlcldlYkdMO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVCb3VuZHMgPSBkYXRhLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBkYXRhLm9yaWdpbmFsRGVzdHJveTtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gZGF0YS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX21hc2sgPSBkYXRhLm9yaWdpbmFsTWFzaztcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggV2ViR0xcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkV2ViR0wocmVuZGVyZXIpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcik7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXJXZWJHTChyZW5kZXJlcik7XG59O1xuXG4vKipcbiAqIFByZXBhcmVzIHRoZSBXZWJHTCByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKSB7XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBtYWtlIHN1cmUgYWxwaGEgaXMgc2V0IHRvIDEgb3RoZXJ3aXNlIGl0IHdpbGwgZ2V0IHJlbmRlcmVkIGFzIGludmlzaWJsZSFcbiAgICB2YXIgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG5cbiAgICB0aGlzLmFscGhhID0gMTtcblxuICAgIC8vIGZpcnN0IHdlIGZsdXNoIGFueXRoaW5nIGxlZnQgaW4gdGhlIHJlbmRlcmVyIChvdGhlcndpc2UgaXQgd291bGQgZ2V0IHJlbmRlcmVkIHRvIHRoZSBjYWNoZWQgdGV4dHVyZSlcbiAgICByZW5kZXJlci5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtcbiAgICAvLyB0aGlzLmZpbHRlcnM9IFtdO1xuXG4gICAgLy8gbmV4dCB3ZSBmaW5kIHRoZSBkaW1lbnNpb25zIG9mIHRoZSB1bnRyYW5zZm9ybWVkIG9iamVjdFxuICAgIC8vIHRoaXMgZnVuY3Rpb24gYWxzbyBjYWxscyB1cGRhdGV0cmFuc2Zvcm0gb24gYWxsIGl0cyBjaGlsZHJlbiBhcyBwYXJ0IG9mIHRoZSBtZWFzdXJpbmcuXG4gICAgLy8gVGhpcyBtZWFucyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgdHJhbnNmb3JtIGFnYWluIGluIHRoaXMgZnVuY3Rpb25cbiAgICAvLyBUT0RPIHBhc3MgYW4gb2JqZWN0IHRvIGNsb25lIHRvbz8gc2F2ZXMgaGF2aW5nIHRvIGNyZWF0ZSBhIG5ldyBvbmUgZWFjaCB0aW1lIVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKCkuY2xvbmUoKTtcblxuICAgIC8vIGFkZCBzb21lIHBhZGRpbmchXG4gICAgaWYgKHRoaXMuX2ZpbHRlcnMpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLl9maWx0ZXJzWzBdLnBhZGRpbmc7XG5cbiAgICAgICAgYm91bmRzLnBhZChwYWRkaW5nKTtcbiAgICB9XG5cbiAgICAvLyBmb3Igbm93IHdlIGNhY2hlIHRoZSBjdXJyZW50IHJlbmRlclRhcmdldCB0aGF0IHRoZSB3ZWJHTCByZW5kZXJlciBpcyBjdXJyZW50bHkgdXNpbmcuXG4gICAgLy8gdGhpcyBjb3VsZCBiZSBtb3JlIGVsZWdlbnQuLlxuICAgIHZhciBjYWNoZWRSZW5kZXJUYXJnZXQgPSByZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0O1xuICAgIC8vIFdlIGFsc28gc3RvcmUgdGhlIGZpbHRlciBzdGFjayAtIEkgd2lsbCBkZWZpbml0ZWx5IGxvb2sgdG8gY2hhbmdlIGhvdyB0aGlzIHdvcmtzIGEgbGl0dGxlIGxhdGVyIGRvd24gdGhlIGxpbmUuXG4gICAgdmFyIHN0YWNrID0gcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjaztcblxuICAgIC8vIHRoaXMgcmVuZGVyVGV4dHVyZSB3aWxsIGJlIHVzZWQgdG8gc3RvcmUgdGhlIGNhY2hlZCBEaXNwbGF5T2JqZWN0XG5cbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IGNvcmUuUmVuZGVyVGV4dHVyZS5jcmVhdGUoYm91bmRzLndpZHRoIHwgMCwgYm91bmRzLmhlaWdodCB8IDApO1xuXG4gICAgdmFyIHRleHR1cmVDYWNoZUlkID0gJ2NhY2hlQXNCaXRtYXBfJyArICgwLCBfdXRpbHMudWlkKSgpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG5cbiAgICBfQmFzZVRleHR1cmUyLmRlZmF1bHQuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgX1RleHR1cmUyLmRlZmF1bHQuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIHZhciBtID0gX3RlbXBNYXRyaXg7XG5cbiAgICBtLnR4ID0gLWJvdW5kcy54O1xuICAgIG0udHkgPSAtYm91bmRzLnk7XG5cbiAgICAvLyByZXNldFxuICAgIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLmlkZW50aXR5KCk7XG5cbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlcldlYkdMID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyV2ViR0w7XG5cbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgdHJ1ZSk7XG4gICAgLy8gbm93IHJlc3RvcmUgdGhlIHN0YXRlIGJlIHNldHRpbmcgdGhlIG5ldyBwcm9wZXJ0aWVzXG5cbiAgICByZW5kZXJlci5iaW5kUmVuZGVyVGFyZ2V0KGNhY2hlZFJlbmRlclRhcmdldCk7XG5cbiAgICByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrID0gc3RhY2s7XG5cbiAgICB0aGlzLnJlbmRlcldlYkdMID0gdGhpcy5fcmVuZGVyQ2FjaGVkV2ViR0w7XG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm07XG5cbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgdmFyIGNhY2hlZFNwcml0ZSA9IG5ldyBjb3JlLlNwcml0ZShyZW5kZXJUZXh0dXJlKTtcblxuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcblxuICAgIC8vIGVhc3kgYm91bmRzLi5cbiAgICB0aGlzLl9jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG4gICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IHRoaXMuX2dldENhY2hlZExvY2FsQm91bmRzO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IGNhY2hlZFNwcml0ZTtcblxuICAgIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIC8vIHJlc3RvcmUgdGhlIHRyYW5zZm9ybSBvZiB0aGUgY2FjaGVkIHNwcml0ZSB0byBhdm9pZCB0aGUgbmFzdHkgZmxpY2tlci4uXG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuXG4gICAgLy8gbWFwIHRoZSBoaXQgdGVzdC4uXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcblxuLyoqXG4gKiBSZW5kZXJzIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIHNwcml0ZSB3aXRoIGNhbnZhc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWRDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xufTtcblxuLy8gVE9ETyB0aGlzIGNhbiBiZSB0aGUgc2FtZSBhcyB0aGUgd2ViR0wgdmVyaXNvbi4uIHdpbGwgbmVlZCB0byBkbyBhIGxpdHRsZSB0d2Vha2luZyBmaXJzdCB0aG91Z2guLlxuLyoqXG4gKiBQcmVwYXJlcyB0aGUgQ2FudmFzIHJlbmRlcmVyIHRvIGNhY2hlIHRoZSBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5fY2FjaGVEYXRhICYmIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGdldCBib3VuZHMgYWN0dWFsbHkgdHJhbnNmb3JtcyB0aGUgb2JqZWN0IGZvciB1cyBhbHJlYWR5IVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKCk7XG5cbiAgICB2YXIgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG5cbiAgICB0aGlzLmFscGhhID0gMTtcblxuICAgIHZhciBjYWNoZWRSZW5kZXJUYXJnZXQgPSByZW5kZXJlci5jb250ZXh0O1xuXG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBjb3JlLlJlbmRlclRleHR1cmUuY3JlYXRlKGJvdW5kcy53aWR0aCB8IDAsIGJvdW5kcy5oZWlnaHQgfCAwKTtcblxuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9ICdjYWNoZUFzQml0bWFwXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuXG4gICAgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIF9UZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IF90ZW1wTWF0cml4O1xuXG4gICAgdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weShtKTtcbiAgICBtLmludmVydCgpO1xuXG4gICAgbS50eCAtPSBib3VuZHMueDtcbiAgICBtLnR5IC09IGJvdW5kcy55O1xuXG4gICAgLy8gbS5hcHBlbmQodGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uKVxuICAgIC8vIHNldCBhbGwgcHJvcGVydGllcyB0byB0aGVyZSBvcmlnaW5hbCBzbyB3ZSBjYW4gcmVuZGVyIHRvIGEgdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuXG4gICAgLy8gcmVuZGVyVGV4dHVyZS5yZW5kZXIodGhpcywgbSwgdHJ1ZSk7XG4gICAgcmVuZGVyZXIucmVuZGVyKHRoaXMsIHJlbmRlclRleHR1cmUsIHRydWUsIG0sIGZhbHNlKTtcblxuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLmNvbnRleHQgPSBjYWNoZWRSZW5kZXJUYXJnZXQ7XG5cbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcbiAgICB0aGlzLl9jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG5cbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgdmFyIGNhY2hlZFNwcml0ZSA9IG5ldyBjb3JlLlNwcml0ZShyZW5kZXJUZXh0dXJlKTtcblxuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcblxuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSByZW5kZXJlci5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IGNhY2hlZFNwcml0ZTtcblxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVDYWNoZWRCb3VuZHMoKSB7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fY2FsY3VsYXRlQm91bmRzKCk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7UmVjdGFuZ2xlfSBUaGUgbG9jYWwgYm91bmRzLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuZ2V0TG9jYWxCb3VuZHMoKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCkge1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gbnVsbDtcblxuICAgIF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcbiAgICBfVGV4dHVyZTIuZGVmYXVsdC5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICogIFVzZWQgd2hlbiBkZXN0cm95aW5nIGNvbnRhaW5lcnMsIHNlZSB0aGUgQ29udGFpbmVyLmRlc3Ryb3kgbWV0aG9kLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcERlc3Ryb3kgPSBmdW5jdGlvbiBfY2FjaGVBc0JpdG1hcERlc3Ryb3kob3B0aW9ucykge1xuICAgIHRoaXMuY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuICAgIHRoaXMuZGVzdHJveShvcHRpb25zKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWNoZUFzQml0bWFwLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9PYnNlcnZhYmxlUG9pbnQgPSByZXF1aXJlKCcuLi9jb3JlL21hdGgvT2JzZXJ2YWJsZVBvaW50Jyk7XG5cbnZhciBfT2JzZXJ2YWJsZVBvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09ic2VydmFibGVQb2ludCk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi9jb3JlL3V0aWxzJyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9jb3JlL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSBCaXRtYXBUZXh0IG9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dCB1c2luZyBiaXRtYXAgZm9udC4gVG9cbiAqIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJywgJ1xccicgb3IgJ1xcclxcbicgaW4geW91ciBzdHJpbmcuIFlvdSBjYW4gZ2VuZXJhdGUgdGhlIGZudCBmaWxlcyB1c2luZzpcbiAqXG4gKiBBIEJpdG1hcFRleHQgY2FuIG9ubHkgYmUgY3JlYXRlZCB3aGVuIHRoZSBmb250IGlzIGxvYWRlZFxuICpcbiAqIGBgYGpzXG4gKiAvLyBpbiB0aGlzIGNhc2UgdGhlIGZvbnQgaXMgaW4gYSBmaWxlIGNhbGxlZCAnZGVzeXJlbC5mbnQnXG4gKiBsZXQgYml0bWFwVGV4dCA9IG5ldyBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0KFwidGV4dCB1c2luZyBhIGZhbmN5IGZvbnQhXCIsIHtmb250OiBcIjM1cHggRGVzeXJlbFwiLCBhbGlnbjogXCJyaWdodFwifSk7XG4gKiBgYGBcbiAqXG4gKiBodHRwOi8vd3d3LmFuZ2VsY29kZS5jb20vcHJvZHVjdHMvYm1mb250LyBmb3Igd2luZG93cyBvclxuICogaHR0cDovL3d3dy5ibWdseXBoLmNvbS8gZm9yIG1hYy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAqL1xudmFyIEJpdG1hcFRleHQgPSBmdW5jdGlvbiAoX2NvcmUkQ29udGFpbmVyKSB7XG4gICAgX2luaGVyaXRzKEJpdG1hcFRleHQsIF9jb3JlJENvbnRhaW5lcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSBjb3B5IHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIHRleHQgdG8gZGlzcGxheVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBzdHlsZS5mb250IC0gVGhlIGZvbnQgZGVzY3JpcHRvciBmb3IgdGhlIG9iamVjdCwgY2FuIGJlIHBhc3NlZCBhcyBhIHN0cmluZyBvZiBmb3JtXG4gICAgICogICAgICBcIjI0cHggRm9udE5hbWVcIiBvciBcIkZvbnROYW1lXCIgb3IgYXMgYW4gb2JqZWN0IHdpdGggZXhwbGljaXQgbmFtZS9zaXplIHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250Lm5hbWVdIC0gVGhlIGJpdG1hcCBmb250IGlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5mb250LnNpemVdIC0gVGhlIHNpemUgb2YgdGhlIGZvbnQgaW4gcGl4ZWxzLCBlLmcuIDI0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5hbGlnbj0nbGVmdCddIC0gQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0XG4gICAgICogICAgICBzaW5nbGUgbGluZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS50aW50PTB4RkZGRkZGXSAtIFRoZSB0aW50IGNvbG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gQml0bWFwVGV4dCh0ZXh0KSB7XG4gICAgICAgIHZhciBzdHlsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJpdG1hcFRleHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJENvbnRhaW5lci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5fdGV4dFdpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHRIZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBsZXR0ZXIgc3ByaXRlIHBvb2wuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZ2x5cGhzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mb250ID0ge1xuICAgICAgICAgICAgdGludDogc3R5bGUudGludCAhPT0gdW5kZWZpbmVkID8gc3R5bGUudGludCA6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxpZ246IHN0eWxlLmFsaWduIHx8ICdsZWZ0JyxcbiAgICAgICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgICAgICBzaXplOiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZm9udCA9IHN0eWxlLmZvbnQ7IC8vIHJ1biBmb250IHNldHRlclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0ID0gdGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHZhbHVlIHRvIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heFdpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGllOiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4TGluZUhlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExldHRlciBzcGFjaW5nLiBUaGlzIGlzIHVzZWZ1bCBmb3Igc2V0dGluZyB0aGUgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGV0dGVyU3BhY2luZyA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHQgYW5jaG9yLiByZWFkLW9ubHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYW5jaG9yID0gbmV3IF9PYnNlcnZhYmxlUG9pbnQyLmRlZmF1bHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LCBfdGhpcywgMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkaXJ0eSBzdGF0ZSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgX3RoaXMudXBkYXRlVGV4dCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGFuZCB1cGRhdGVzIGl0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0ID0gZnVuY3Rpb24gdXBkYXRlVGV4dCgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBCaXRtYXBUZXh0LmZvbnRzW3RoaXMuX2ZvbnQubmFtZV07XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2ZvbnQuc2l6ZSAvIGRhdGEuc2l6ZTtcbiAgICAgICAgdmFyIHBvcyA9IG5ldyBjb3JlLlBvaW50KCk7XG4gICAgICAgIHZhciBjaGFycyA9IFtdO1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IFtdO1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMudGV4dC5yZXBsYWNlKC8oPzpcXHJcXG58XFxyKS9nLCAnXFxuJyk7XG4gICAgICAgIHZhciB0ZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIHZhciBtYXhXaWR0aCA9IHRoaXMuX21heFdpZHRoICogZGF0YS5zaXplIC8gdGhpcy5fZm9udC5zaXplO1xuXG4gICAgICAgIHZhciBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdExpbmVXaWR0aCA9IDA7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbGluZSA9IDA7XG4gICAgICAgIHZhciBsYXN0QnJlYWtQb3MgPSAtMTtcbiAgICAgICAgdmFyIGxhc3RCcmVha1dpZHRoID0gMDtcbiAgICAgICAgdmFyIHNwYWNlc1JlbW92ZWQgPSAwO1xuICAgICAgICB2YXIgbWF4TGluZUhlaWdodCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dC5jaGFyQXQoaSk7XG5cbiAgICAgICAgICAgIGlmICgvKD86XFxzKS8udGVzdChjaGFyKSkge1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IGk7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrV2lkdGggPSBsYXN0TGluZVdpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2hhciA9PT0gJ1xccicgfHwgY2hhciA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICArK2xpbmU7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuXG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY2hhckRhdGEgPSBkYXRhLmNoYXJzW2NoYXJDb2RlXTtcblxuICAgICAgICAgICAgaWYgKCFjaGFyRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJldkNoYXJDb2RlICYmIGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXSkge1xuICAgICAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hhcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdGV4dHVyZTogY2hhckRhdGEudGV4dHVyZSxcbiAgICAgICAgICAgICAgICBsaW5lOiBsaW5lLFxuICAgICAgICAgICAgICAgIGNoYXJDb2RlOiBjaGFyQ29kZSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGNvcmUuUG9pbnQocG9zLnggKyBjaGFyRGF0YS54T2Zmc2V0ICsgdGhpcy5fbGV0dGVyU3BhY2luZyAvIDIsIHBvcy55ICsgY2hhckRhdGEueU9mZnNldClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEueEFkdmFuY2UgKyB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IHBvcy54O1xuICAgICAgICAgICAgbWF4TGluZUhlaWdodCA9IE1hdGgubWF4KG1heExpbmVIZWlnaHQsIGNoYXJEYXRhLnlPZmZzZXQgKyBjaGFyRGF0YS50ZXh0dXJlLmhlaWdodCk7XG4gICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBjaGFyQ29kZTtcblxuICAgICAgICAgICAgaWYgKGxhc3RCcmVha1BvcyAhPT0gLTEgJiYgbWF4V2lkdGggPiAwICYmIHBvcy54ID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG4gICAgICAgICAgICAgICAgY29yZS51dGlscy5yZW1vdmVJdGVtcyhjaGFycywgMSArIGxhc3RCcmVha1BvcyAtIHNwYWNlc1JlbW92ZWQsIDEgKyBpIC0gbGFzdEJyZWFrUG9zKTtcbiAgICAgICAgICAgICAgICBpID0gbGFzdEJyZWFrUG9zO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IC0xO1xuXG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGFzdENoYXIgPSB0ZXh0LmNoYXJBdCh0ZXh0Lmxlbmd0aCAtIDEpO1xuXG4gICAgICAgIGlmIChsYXN0Q2hhciAhPT0gJ1xccicgJiYgbGFzdENoYXIgIT09ICdcXG4nKSB7XG4gICAgICAgICAgICBpZiAoLyg/OlxccykvLnRlc3QobGFzdENoYXIpKSB7XG4gICAgICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IGxhc3RCcmVha1dpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxpbmVBbGlnbk9mZnNldHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDw9IGxpbmU7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBhbGlnbk9mZnNldCA9IDA7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250LmFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW19pXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fZm9udC5hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW19pXSkgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lQWxpZ25PZmZzZXRzLnB1c2goYWxpZ25PZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxlbkNoYXJzID0gY2hhcnMubGVuZ3RoO1xuICAgICAgICB2YXIgdGludCA9IHRoaXMudGludDtcblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBsZW5DaGFyczsgX2kyKyspIHtcbiAgICAgICAgICAgIHZhciBjID0gdGhpcy5fZ2x5cGhzW19pMl07IC8vIGdldCB0aGUgbmV4dCBnbHlwaCBzcHJpdGVcblxuICAgICAgICAgICAgaWYgKGMpIHtcbiAgICAgICAgICAgICAgICBjLnRleHR1cmUgPSBjaGFyc1tfaTJdLnRleHR1cmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGMgPSBuZXcgY29yZS5TcHJpdGUoY2hhcnNbX2kyXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHMucHVzaChjKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYy5wb3NpdGlvbi54ID0gKGNoYXJzW19pMl0ucG9zaXRpb24ueCArIGxpbmVBbGlnbk9mZnNldHNbY2hhcnNbX2kyXS5saW5lXSkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMucG9zaXRpb24ueSA9IGNoYXJzW19pMl0ucG9zaXRpb24ueSAqIHNjYWxlO1xuICAgICAgICAgICAgYy5zY2FsZS54ID0gYy5zY2FsZS55ID0gc2NhbGU7XG4gICAgICAgICAgICBjLnRpbnQgPSB0aW50O1xuXG4gICAgICAgICAgICBpZiAoIWMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSB1bm5lY2Vzc2FyeSBjaGlsZHJlbi5cbiAgICAgICAgZm9yICh2YXIgX2kzID0gbGVuQ2hhcnM7IF9pMyA8IHRoaXMuX2dseXBocy5sZW5ndGg7ICsrX2kzKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuX2dseXBoc1tfaTNdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IG1heExpbmVXaWR0aCAqIHNjYWxlO1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuXG4gICAgICAgIC8vIGFwcGx5IGFuY2hvclxuICAgICAgICBpZiAodGhpcy5hbmNob3IueCAhPT0gMCB8fCB0aGlzLmFuY2hvci55ICE9PSAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCBsZW5DaGFyczsgX2k0KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHNbX2k0XS54IC09IHRoaXMuX3RleHRXaWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzW19pNF0ueSAtPSB0aGlzLl90ZXh0SGVpZ2h0ICogdGhpcy5hbmNob3IueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gbWF4TGluZUhlaWdodCAqIHNjYWxlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGV4dCBiZWZvcmUgY2FsbGluZyBwYXJlbnQncyBnZXRMb2NhbEJvdW5kc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG5cblxuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gX2NvcmUkQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHQgd2hlbiBuZWVkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3RcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBiaXRtYXAgZm9udCB3aXRoIGRhdGEgYW5kIGEgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSB4bWwgLSBUaGUgWE1MIGRvY3VtZW50IGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgUElYSS5UZXh0dXJlPnxQSVhJLlRleHR1cmV8UElYSS5UZXh0dXJlW119IHRleHR1cmVzIC0gTGlzdCBvZiB0ZXh0dXJlcyBmb3IgZWFjaCBwYWdlLlxuICAgICAqICBJZiBwcm92aWRpbmcgYW4gb2JqZWN0LCB0aGUga2V5IGlzIHRoZSBgPHBhZ2U+YCBlbGVtZW50J3MgYGZpbGVgIGF0dHJpYnV0ZSBpbiB0aGUgRk5UIGZpbGUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBSZXN1bHQgZm9udCBvYmplY3Qgd2l0aCBmb250LCBzaXplLCBsaW5lSGVpZ2h0IGFuZCBjaGFyIGZpZWxkcy5cbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnJlZ2lzdGVyRm9udCA9IGZ1bmN0aW9uIHJlZ2lzdGVyRm9udCh4bWwsIHRleHR1cmVzKSB7XG4gICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgIHZhciBpbmZvID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF07XG4gICAgICAgIHZhciBjb21tb24gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NvbW1vbicpWzBdO1xuICAgICAgICB2YXIgcGFnZXMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKTtcbiAgICAgICAgdmFyIHJlcyA9ICgwLCBfdXRpbHMuZ2V0UmVzb2x1dGlvbk9mVXJsKShwYWdlc1swXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKSwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT04pO1xuICAgICAgICB2YXIgcGFnZXNUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIGRhdGEuZm9udCA9IGluZm8uZ2V0QXR0cmlidXRlKCdmYWNlJyk7XG4gICAgICAgIGRhdGEuc2l6ZSA9IHBhcnNlSW50KGluZm8uZ2V0QXR0cmlidXRlKCdzaXplJyksIDEwKTtcbiAgICAgICAgZGF0YS5saW5lSGVpZ2h0ID0gcGFyc2VJbnQoY29tbW9uLmdldEF0dHJpYnV0ZSgnbGluZUhlaWdodCcpLCAxMCkgLyByZXM7XG4gICAgICAgIGRhdGEuY2hhcnMgPSB7fTtcblxuICAgICAgICAvLyBTaW5nbGUgdGV4dHVyZSwgY29udmVydCB0byBsaXN0XG4gICAgICAgIGlmICh0ZXh0dXJlcyBpbnN0YW5jZW9mIGNvcmUuVGV4dHVyZSkge1xuICAgICAgICAgICAgdGV4dHVyZXMgPSBbdGV4dHVyZXNdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29udmVydCB0aGUgaW5wdXQgVGV4dHVyZSwgVGV4dHVyZXMgb3Igb2JqZWN0XG4gICAgICAgIC8vIGludG8gYSBwYWdlIFRleHR1cmUgbG9va3VwIGJ5IFwiaWRcIlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICAgICAgICB2YXIgZmlsZSA9IHBhZ2VzW2ldLmdldEF0dHJpYnV0ZSgnZmlsZScpO1xuXG4gICAgICAgICAgICBwYWdlc1RleHR1cmVzW2lkXSA9IHRleHR1cmVzIGluc3RhbmNlb2YgQXJyYXkgPyB0ZXh0dXJlc1tpXSA6IHRleHR1cmVzW2ZpbGVdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFyc2UgbGV0dGVyc1xuICAgICAgICB2YXIgbGV0dGVycyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2hhcicpO1xuXG4gICAgICAgIGZvciAodmFyIF9pNSA9IDA7IF9pNSA8IGxldHRlcnMubGVuZ3RoOyBfaTUrKykge1xuICAgICAgICAgICAgdmFyIGxldHRlciA9IGxldHRlcnNbX2k1XTtcbiAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2lkJyksIDEwKTtcbiAgICAgICAgICAgIHZhciBwYWdlID0gbGV0dGVyLmdldEF0dHJpYnV0ZSgncGFnZScpIHx8IDA7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVJlY3QgPSBuZXcgY29yZS5SZWN0YW5nbGUocGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCkgLyByZXMgKyBwYWdlc1RleHR1cmVzW3BhZ2VdLmZyYW1lLnggLyByZXMsIHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3knKSwgMTApIC8gcmVzICsgcGFnZXNUZXh0dXJlc1twYWdlXS5mcmFtZS55IC8gcmVzLCBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLCAxMCkgLyByZXMsIHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLCAxMCkgLyByZXMpO1xuXG4gICAgICAgICAgICBkYXRhLmNoYXJzW2NoYXJDb2RlXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB4QWR2YW5jZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneGFkdmFuY2UnKSwgMTApIC8gcmVzLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBjb3JlLlRleHR1cmUocGFnZXNUZXh0dXJlc1twYWdlXS5iYXNlVGV4dHVyZSwgdGV4dHVyZVJlY3QpLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYXJzZSBrZXJuaW5nc1xuICAgICAgICB2YXIga2VybmluZ3MgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2tlcm5pbmcnKTtcblxuICAgICAgICBmb3IgKHZhciBfaTYgPSAwOyBfaTYgPCBrZXJuaW5ncy5sZW5ndGg7IF9pNisrKSB7XG4gICAgICAgICAgICB2YXIga2VybmluZyA9IGtlcm5pbmdzW19pNl07XG4gICAgICAgICAgICB2YXIgZmlyc3QgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnZmlyc3QnKSwgMTApIC8gcmVzO1xuICAgICAgICAgICAgdmFyIHNlY29uZCA9IHBhcnNlSW50KGtlcm5pbmcuZ2V0QXR0cmlidXRlKCdzZWNvbmQnKSwgMTApIC8gcmVzO1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9IHBhcnNlSW50KGtlcm5pbmcuZ2V0QXR0cmlidXRlKCdhbW91bnQnKSwgMTApIC8gcmVzO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5jaGFyc1tzZWNvbmRdKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSSdtIGxlYXZpbmcgdGhpcyBhcyBhIHRlbXBvcmFyeSBmaXggc28gd2UgY2FuIHRlc3QgdGhlIGJpdG1hcCBmb250cyBpbiB2M1xuICAgICAgICAvLyBidXQgaXQncyB2ZXJ5IGxpa2VseSB0byBjaGFuZ2VcbiAgICAgICAgQml0bWFwVGV4dC5mb250c1tkYXRhLmZvbnRdID0gZGF0YTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKEJpdG1hcFRleHQsIFt7XG4gICAgICAgIGtleTogJ3RpbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250LnRpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZm9udC50aW50ID0gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSA+PSAwID8gdmFsdWUgOiAweEZGRkZGRjtcblxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFsaWdubWVudCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2FsaWduJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udC5hbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250LmFsaWduID0gdmFsdWUgfHwgJ2xlZnQnO1xuXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC5cbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgMCwwIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0XG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byAwLjUsMC41IG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIGNlbnRlcmVkXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byAxLDEgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnQgfCBudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhbmNob3InLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHkodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IGRlc2NyaXB0b3Igb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xvYmplY3R9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb250JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3BsaXQoJyAnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnQubmFtZSA9IHZhbHVlLmxlbmd0aCA9PT0gMSA/IHZhbHVlWzBdIDogdmFsdWUuc2xpY2UoMSkuam9pbignICcpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnQuc2l6ZSA9IHZhbHVlLmxlbmd0aCA+PSAyID8gcGFyc2VJbnQodmFsdWVbMF0sIDEwKSA6IEJpdG1hcFRleHQuZm9udHNbdGhpcy5fZm9udC5uYW1lXS5zaXplO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250Lm5hbWUgPSB2YWx1ZS5uYW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnQuc2l6ZSA9IHR5cGVvZiB2YWx1ZS5zaXplID09PSAnbnVtYmVyJyA/IHZhbHVlLnNpemUgOiBwYXJzZUludCh2YWx1ZS5zaXplLCAxMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCkgfHwgJyAnO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHZhbHVlIHRvIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbWF4V2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWF4V2lkdGggPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWF4V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpZTogd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21heExpbmVIZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heExpbmVIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHRXaWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZGl0aW9uYWwgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsZXR0ZXJTcGFjaW5nJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0SGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0SGVpZ2h0O1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJpdG1hcFRleHQ7XG59KGNvcmUuQ29udGFpbmVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQml0bWFwVGV4dDtcblxuXG5CaXRtYXBUZXh0LmZvbnRzID0ge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaXRtYXBUZXh0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvY29uc3QnKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wTWF0ID0gbmV3IGNvcmUuTWF0cml4KCk7XG5cbi8qKlxuICogV2ViR0wgcmVuZGVyZXIgcGx1Z2luIGZvciB0aWxpbmcgc3ByaXRlc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cblxudmFyIFRpbGluZ1Nwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKF9jb3JlJE9iamVjdFJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKFRpbGluZ1Nwcml0ZVJlbmRlcmVyLCBfY29yZSRPYmplY3RSZW5kZXJlcik7XG5cbiAgICAvKipcbiAgICAgKiBjb25zdHJ1Y3RvciBmb3IgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgVGhlIHJlbmRlcmVyIHRoaXMgdGlsaW5nIGF3ZXNvbWVuZXNzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxpbmdTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlsaW5nU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5zaW1wbGVTaGFkZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5xdWFkID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IG5ldyBjb3JlLlNoYWRlcihnbCwgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcbicsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcbnVuaWZvcm0gbWF0MyB1TWFwQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDbGFtcEZyYW1lO1xcbnVuaWZvcm0gdmVjMiB1Q2xhbXBPZmZzZXQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWMyIGNvb3JkID0gbW9kKHZUZXh0dXJlQ29vcmQgLSB1Q2xhbXBPZmZzZXQsIHZlYzIoMS4wLCAxLjApKSArIHVDbGFtcE9mZnNldDtcXG4gICAgY29vcmQgPSAodU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XFxuICAgIGNvb3JkID0gY2xhbXAoY29vcmQsIHVDbGFtcEZyYW1lLnh5LCB1Q2xhbXBGcmFtZS56dyk7XFxuXFxuICAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHNhbXBsZSAqIHVDb2xvcjtcXG59XFxuJyk7XG4gICAgICAgIHRoaXMuc2ltcGxlU2hhZGVyID0gbmV3IGNvcmUuU2hhZGVyKGdsLCAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuJywgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHNhbXBsZSAqIHVDb2xvcjtcXG59XFxuJyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kVmFvKG51bGwpO1xuICAgICAgICB0aGlzLnF1YWQgPSBuZXcgY29yZS5RdWFkKGdsLCB0aGlzLnJlbmRlcmVyLnN0YXRlLmF0dHJpYlN0YXRlKTtcbiAgICAgICAgdGhpcy5xdWFkLmluaXRWYW8odGhpcy5zaGFkZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSB0cyB0aWxpbmdTcHJpdGUgdG8gYmUgcmVuZGVyZWRcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcih0cykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgcXVhZCA9IHRoaXMucXVhZDtcblxuICAgICAgICByZW5kZXJlci5iaW5kVmFvKHF1YWQudmFvKTtcblxuICAgICAgICB2YXIgdmVydGljZXMgPSBxdWFkLnZlcnRpY2VzO1xuXG4gICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSB0cy5fd2lkdGggKiAtdHMuYW5jaG9yLng7XG4gICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSB0cy5faGVpZ2h0ICogLXRzLmFuY2hvci55O1xuXG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSB0cy5fd2lkdGggKiAoMS4wIC0gdHMuYW5jaG9yLngpO1xuICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gdHMuX2hlaWdodCAqICgxLjAgLSB0cy5hbmNob3IueSk7XG5cbiAgICAgICAgaWYgKHRzLnV2UmVzcGVjdEFuY2hvcikge1xuICAgICAgICAgICAgdmVydGljZXMgPSBxdWFkLnV2cztcblxuICAgICAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9IC10cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSAtdHMuYW5jaG9yLnk7XG5cbiAgICAgICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSAxLjAgLSB0cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSAxLjAgLSB0cy5hbmNob3IueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHF1YWQudXBsb2FkKCk7XG5cbiAgICAgICAgdmFyIHRleCA9IHRzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgYmFzZVRleCA9IHRleC5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGx0ID0gdHMudGlsZVRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHV2ID0gdHMudXZUcmFuc2Zvcm07XG4gICAgICAgIHZhciBpc1NpbXBsZSA9IGJhc2VUZXguaXNQb3dlck9mVHdvICYmIHRleC5mcmFtZS53aWR0aCA9PT0gYmFzZVRleC53aWR0aCAmJiB0ZXguZnJhbWUuaGVpZ2h0ID09PSBiYXNlVGV4LmhlaWdodDtcblxuICAgICAgICAvLyBhdXRvLCBmb3JjZSByZXBlYXQgd3JhcE1vZGUgZm9yIGJpZyB0aWxpbmcgdGV4dHVyZXNcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICBpZiAoIWJhc2VUZXguX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2VUZXgud3JhcE1vZGUgPT09IF9jb25zdC5XUkFQX01PREVTLkNMQU1QKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXgud3JhcE1vZGUgPSBfY29uc3QuV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1NpbXBsZSA9IGJhc2VUZXgud3JhcE1vZGUgIT09IF9jb25zdC5XUkFQX01PREVTLkNMQU1QO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNoYWRlciA9IGlzU2ltcGxlID8gdGhpcy5zaW1wbGVTaGFkZXIgOiB0aGlzLnNoYWRlcjtcblxuICAgICAgICByZW5kZXJlci5iaW5kU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgdmFyIHcgPSB0ZXgud2lkdGg7XG4gICAgICAgIHZhciBoID0gdGV4LmhlaWdodDtcbiAgICAgICAgdmFyIFcgPSB0cy5fd2lkdGg7XG4gICAgICAgIHZhciBIID0gdHMuX2hlaWdodDtcblxuICAgICAgICB0ZW1wTWF0LnNldChsdC5hICogdyAvIFcsIGx0LmIgKiB3IC8gSCwgbHQuYyAqIGggLyBXLCBsdC5kICogaCAvIEgsIGx0LnR4IC8gVywgbHQudHkgLyBIKTtcblxuICAgICAgICAvLyB0aGF0IHBhcnQgaXMgdGhlIHNhbWUgYXMgYWJvdmU6XG4gICAgICAgIC8vIHRlbXBNYXQuaWRlbnRpdHkoKTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSh0ZXgud2lkdGgsIHRleC5oZWlnaHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnByZXBlbmQobHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKDEuMCAvIHRzLl93aWR0aCwgMS4wIC8gdHMuX2hlaWdodCk7XG5cbiAgICAgICAgdGVtcE1hdC5pbnZlcnQoKTtcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICB0ZW1wTWF0LnByZXBlbmQodXYubWFwQ29vcmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVNYXBDb29yZCA9IHV2Lm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wRnJhbWUgPSB1di51Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB1di51Q2xhbXBPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IHRlbXBNYXQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IGNvcmUudXRpbHMucHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRzLnRpbnQsIHRzLndvcmxkQWxwaGEsIHNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXgucHJlbXVsdGlwbGllZEFscGhhKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdHMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG5cbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gcmVuZGVyZXIuYmluZFRleHR1cmUodGV4KTtcblxuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUoY29yZS51dGlscy5jb3JyZWN0QmxlbmRNb2RlKHRzLmJsZW5kTW9kZSwgYmFzZVRleC5wcmVtdWx0aXBsaWVkQWxwaGEpKTtcblxuICAgICAgICBxdWFkLnZhby5kcmF3KHRoaXMucmVuZGVyZXIuZ2wuVFJJQU5HTEVTLCA2LCAwKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZVJlbmRlcmVyO1xufShjb3JlLk9iamVjdFJlbmRlcmVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCd0aWxpbmdTcHJpdGUnLCBUaWxpbmdTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxpbmdTcHJpdGVSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfQ2FudmFzVGludGVyID0gcmVxdWlyZSgnLi4vY29yZS9zcHJpdGVzL2NhbnZhcy9DYW52YXNUaW50ZXInKTtcblxudmFyIF9DYW52YXNUaW50ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzVGludGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgdGVtcFBvaW50ID0gbmV3IGNvcmUuUG9pbnQoKTtcblxuLyoqXG4gKiBBIHRpbGluZyBzcHJpdGUgaXMgYSBmYXN0IHdheSBvZiByZW5kZXJpbmcgYSB0aWxpbmcgaW1hZ2VcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAqL1xuXG52YXIgVGlsaW5nU3ByaXRlID0gZnVuY3Rpb24gKF9jb3JlJFNwcml0ZSkge1xuICAgIF9pbmhlcml0cyhUaWxpbmdTcHJpdGUsIF9jb3JlJFNwcml0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0xMDBdIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MTAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxpbmdTcHJpdGUodGV4dHVyZSkge1xuICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTAwO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaWxpbmdTcHJpdGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWxlIHRyYW5zZm9ybVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybVN0YXRpY31cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJFNwcml0ZS5jYWxsKHRoaXMsIHRleHR1cmUpKTtcblxuICAgICAgICBfdGhpcy50aWxlVHJhbnNmb3JtID0gbmV3IGNvcmUuVHJhbnNmb3JtU3RhdGljKCk7XG5cbiAgICAgICAgLy8gLy8vIHByaXZhdGVcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FudmFzIHBhdHRlcm5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0NhbnZhc1BhdHRlcm59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY2FudmFzUGF0dGVybiA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRyYW5zZm9ybSB0aGF0IGlzIGFwcGxpZWQgdG8gVVYgdG8gZ2V0IHRoZSB0ZXh0dXJlIGNvb3Jkc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dlRyYW5zZm9ybSA9IHRleHR1cmUudHJhbnNmb3JtIHx8IG5ldyBjb3JlLlRleHR1cmVNYXRyaXgodGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXJXZWJHTCcgbWV0aG9kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICd0aWxpbmdTcHJpdGUnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ3RpbGluZ1Nwcml0ZSc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IGFuY2hvciBhZmZlY3RzIHV2c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZSZXNwZWN0QW5jaG9yID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZyBpbiBjb3JyZXNwb25kaW5nIHRleHR1cmVUcmFuc2Zvcm0sIHNob3J0Y3V0XG4gICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gX29uVGV4dHVyZVVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudXZUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMudXZUcmFuc2Zvcm0udGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIHR3ZWFrIG91ciB0ZXh0dXJlIHRlbXBvcmFyaWx5Li5cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSB8fCAhdGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudXZUcmFuc2Zvcm0udXBkYXRlKCk7XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIGEgcmVmZXJlbmNlIHRvIHRoZSBjYW52YXMgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmVSZXNvbHV0aW9uID0gYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1vZFggPSB0aGlzLnRpbGVQb3NpdGlvbi54IC8gdGhpcy50aWxlU2NhbGUueCAlIHRleHR1cmUuX2ZyYW1lLndpZHRoICogYmFzZVRleHR1cmVSZXNvbHV0aW9uO1xuICAgICAgICB2YXIgbW9kWSA9IHRoaXMudGlsZVBvc2l0aW9uLnkgLyB0aGlzLnRpbGVTY2FsZS55ICUgdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBhIG5pY2Ugc2hpbnkgcGF0dGVybiFcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmVJRCAhPT0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQgfHwgdGhpcy5jYWNoZWRUaW50ICE9PSB0aGlzLnRpbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuICAgICAgICAgICAgLy8gY3V0IGFuIG9iamVjdCBmcm9tIGEgc3ByaXRlc2hlZXQuLlxuICAgICAgICAgICAgdmFyIHRlbXBDYW52YXMgPSBuZXcgY29yZS5DYW52YXNSZW5kZXJUYXJnZXQodGV4dHVyZS5fZnJhbWUud2lkdGgsIHRleHR1cmUuX2ZyYW1lLmhlaWdodCwgYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgLy8gVGludCB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAgICAgICAgaWYgKHRoaXMudGludCAhPT0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbnRlZFRleHR1cmUgPSBfQ2FudmFzVGludGVyMi5kZWZhdWx0LmdldFRpbnRlZFRleHR1cmUodGhpcywgdGhpcy50aW50KTtcbiAgICAgICAgICAgICAgICB0ZW1wQ2FudmFzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMudGludGVkVGV4dHVyZSwgMCwgMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlbXBDYW52YXMuY29udGV4dC5kcmF3SW1hZ2UoYmFzZVRleHR1cmUuc291cmNlLCAtdGV4dHVyZS5fZnJhbWUueCAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbiwgLXRleHR1cmUuX2ZyYW1lLnkgKiBiYXNlVGV4dHVyZVJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gdGhpcy50aW50O1xuICAgICAgICAgICAgdGhpcy5fY2FudmFzUGF0dGVybiA9IHRlbXBDYW52YXMuY29udGV4dC5jcmVhdGVQYXR0ZXJuKHRlbXBDYW52YXMuY2FudmFzLCAncmVwZWF0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgY29udGV4dCBzdGF0ZS4uXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmIgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uYyAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5kICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLnR4ICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLnR5ICogcmVzb2x1dGlvbik7XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0QmxlbmRNb2RlKHRoaXMuYmxlbmRNb2RlKTtcblxuICAgICAgICAvLyBmaWxsIHRoZSBwYXR0ZXJuIVxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX2NhbnZhc1BhdHRlcm47XG5cbiAgICAgICAgLy8gVE9ETyAtIHRoaXMgc2hvdWxkIGJlIHJvbGxlZCBpbnRvIHRoZSBzZXRUcmFuc2Zvcm0gYWJvdmUuLlxuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMudGlsZVNjYWxlLnggLyBiYXNlVGV4dHVyZVJlc29sdXRpb24sIHRoaXMudGlsZVNjYWxlLnkgLyBiYXNlVGV4dHVyZVJlc29sdXRpb24pO1xuXG4gICAgICAgIHZhciBhbmNob3JYID0gdGhpcy5hbmNob3IueCAqIC10aGlzLl93aWR0aDtcbiAgICAgICAgdmFyIGFuY2hvclkgPSB0aGlzLmFuY2hvci55ICogLXRoaXMuX2hlaWdodDtcblxuICAgICAgICBpZiAodGhpcy51dlJlc3BlY3RBbmNob3IpIHtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKG1vZFgsIG1vZFkpO1xuXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KC1tb2RYICsgYW5jaG9yWCwgLW1vZFkgKyBhbmNob3JZLCB0aGlzLl93aWR0aCAvIHRoaXMudGlsZVNjYWxlLnggKiBiYXNlVGV4dHVyZVJlc29sdXRpb24sIHRoaXMuX2hlaWdodCAvIHRoaXMudGlsZVNjYWxlLnkgKiBiYXNlVGV4dHVyZVJlc29sdXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUobW9kWCArIGFuY2hvclgsIG1vZFkgKyBhbmNob3JZKTtcblxuICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgtbW9kWCwgLW1vZFksIHRoaXMuX3dpZHRoIC8gdGhpcy50aWxlU2NhbGUueCAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbiwgdGhpcy5faGVpZ2h0IC8gdGhpcy50aWxlU2NhbGUueSAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSB0aWxpbmcgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcygpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLl93aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMocmVjdCkge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IGNvcmUuUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX2NvcmUkU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyB0aWxpbmcgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBzcHJpdGUgY29udGFpbnMgdGhlIHBvaW50LlxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3dpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICB2YXIgeDEgPSAtd2lkdGggKiB0aGlzLmFuY2hvci5feDtcblxuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKSB7XG4gICAgICAgICAgICB2YXIgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IuX3k7XG5cbiAgICAgICAgICAgIGlmICh0ZW1wUG9pbnQueSA+PSB5MSAmJiB0ZW1wUG9pbnQueSA8IHkxICsgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICBfY29yZSRTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLnV2VHJhbnNmb3JtID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyB0aWxpbmcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8UElYSS5CYXNlVGV4dHVyZXxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5mcm9tID0gZnVuY3Rpb24gZnJvbShzb3VyY2UsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUoY29yZS5UZXh0dXJlLmZyb20oc291cmNlKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSB0aWxpbmcgc3ByaXRlIHRoYXQgd2lsbCB1c2UgYSB0ZXh0dXJlIGZyb20gdGhlIFRleHR1cmVDYWNoZSBiYXNlZCBvbiB0aGUgZnJhbWVJZFxuICAgICAqIFRoZSBmcmFtZSBpZHMgYXJlIGNyZWF0ZWQgd2hlbiBhIFRleHR1cmUgcGFja2VyIGZpbGUgaGFzIGJlZW4gbG9hZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZyYW1lSWQgLSBUaGUgZnJhbWUgSWQgb2YgdGhlIHRleHR1cmUgaW4gdGhlIGNhY2hlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IEEgbmV3IFRpbGluZ1Nwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgZnJhbWVJZFxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUuZnJvbUZyYW1lID0gZnVuY3Rpb24gZnJvbUZyYW1lKGZyYW1lSWQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBjb3JlLnV0aWxzLlRleHR1cmVDYWNoZVtmcmFtZUlkXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZyYW1lSWQgXCInICsgZnJhbWVJZCArICdcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSAnICsgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHNwcml0ZSB0aGF0IHdpbGwgY29udGFpbiBhIHRleHR1cmUgYmFzZWQgb24gYW4gaW1hZ2UgdXJsXG4gICAgICogSWYgdGhlIGltYWdlIGlzIG5vdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSBpdCB3aWxsIGJlIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZUlkIC0gVGhlIGltYWdlIHVybCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3Jvc3NvcmlnaW5dIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgY3Jvc3Mtb3JpZ2luIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSBzY2FsZSBtb2RlLFxuICAgICAqICBzZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IEEgbmV3IFRpbGluZ1Nwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgaW1hZ2UgaWRcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShpbWFnZUlkLCB3aWR0aCwgaGVpZ2h0LCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKGNvcmUuVGV4dHVyZS5mcm9tSW1hZ2UoaW1hZ2VJZCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRpbGluZ1Nwcml0ZSwgW3tcbiAgICAgICAga2V5OiAnY2xhbXBNYXJnaW4nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnV2VHJhbnNmb3JtLmNsYW1wTWFyZ2luO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXZUcmFuc2Zvcm0uY2xhbXBNYXJnaW4gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXZUcmFuc2Zvcm0udXBkYXRlKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsaW5nIG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGlsZVNjYWxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZS5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2Zmc2V0IG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGlsZVBvc2l0aW9uJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRpbGluZ1Nwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZTtcbn0oY29yZS5TcHJpdGUpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUaWxpbmdTcHJpdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxpbmdTcHJpdGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQHR5cGVkZWYgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGV+RnJhbWVPYmplY3RcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfSBvZiB0aGUgZnJhbWVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lIC0gdGhlIGR1cmF0aW9uIG9mIHRoZSBmcmFtZSBpbiBtc1xuICovXG5cbi8qKlxuICogQW4gQW5pbWF0ZWRTcHJpdGUgaXMgYSBzaW1wbGUgd2F5IHRvIGRpc3BsYXkgYW4gYW5pbWF0aW9uIGRlcGljdGVkIGJ5IGEgbGlzdCBvZiB0ZXh0dXJlcy5cbiAqXG4gKiBgYGBqc1xuICogbGV0IGFsaWVuSW1hZ2VzID0gW1wiaW1hZ2Vfc2VxdWVuY2VfMDEucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMi5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAzLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDQucG5nXCJdO1xuICogbGV0IHRleHR1cmVBcnJheSA9IFtdO1xuICpcbiAqIGZvciAobGV0IGk9MDsgaSA8IDQ7IGkrKylcbiAqIHtcbiAqICAgICAgbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbUltYWdlKGFsaWVuSW1hZ2VzW2ldKTtcbiAqICAgICAgdGV4dHVyZUFycmF5LnB1c2godGV4dHVyZSk7XG4gKiB9O1xuICpcbiAqIGxldCBtYyA9IG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHRleHR1cmVBcnJheSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAqL1xudmFyIEFuaW1hdGVkU3ByaXRlID0gZnVuY3Rpb24gKF9jb3JlJFNwcml0ZSkge1xuICAgIF9pbmhlcml0cyhBbmltYXRlZFNwcml0ZSwgX2NvcmUkU3ByaXRlKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlW118UElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGV+RnJhbWVPYmplY3RbXX0gdGV4dHVyZXMgLSBhbiBhcnJheSBvZiB7QGxpbmsgUElYSS5UZXh0dXJlfSBvciBmcmFtZVxuICAgICAqICBvYmplY3RzIHRoYXQgbWFrZSB1cCB0aGUgYW5pbWF0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1VwZGF0ZT10cnVlXSAtIFdoZXRoZXIgdG8gdXNlIFBJWEkudGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcywgYXV0b1VwZGF0ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQW5pbWF0ZWRTcHJpdGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkU3ByaXRlLmNhbGwodGhpcywgdGV4dHVyZXNbMF0gaW5zdGFuY2VvZiBjb3JlLlRleHR1cmUgPyB0ZXh0dXJlc1swXSA6IHRleHR1cmVzWzBdLnRleHR1cmUpKTtcblxuICAgICAgICBfdGhpcy5fdGV4dHVyZXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIHVzZXMgUElYSS50aWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2F1dG9VcGRhdGUgPSBhdXRvVXBkYXRlICE9PSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNwZWVkIHRoYXQgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgcGxheSBhdC4gSGlnaGVyIGlzIGZhc3RlciwgbG93ZXIgaXMgc2xvd2VyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5pbWF0aW9uU3BlZWQgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgYW5pbWF0ZSBzcHJpdGUgcmVwZWF0cyBhZnRlciBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sb29wID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgQW5pbWF0ZWRTcHJpdGUgZmluaXNoZXMgcGxheWluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gYSBBbmltYXRlZFNwcml0ZSBjaGFuZ2VzIHdoaWNoIHRleHR1cmUgaXMgYmVpbmcgcmVuZGVyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkZyYW1lQ2hhbmdlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gJ2xvb3AnIGlzIHRydWUsIGFuZCBhbiBBbmltYXRlZFNwcml0ZSBpcyBwbGF5ZWQgYW5kIGxvb3BzIGFyb3VuZCB0byBzdGFydCBhZ2FpblxuICAgICAgICAqXG4gICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICovXG4gICAgICAgIF90aGlzLm9uTG9vcCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVsYXBzZWQgdGltZSBzaW5jZSBhbmltYXRpb24gaGFzIGJlZW4gc3RhcnRlZCwgdXNlZCBpbnRlcm5hbGx5IHRvIGRpc3BsYXkgY3VycmVudCB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9jdXJyZW50VGltZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgQW5pbWF0ZWRTcHJpdGUgaXMgY3VycmVudGx5IHBsYXlpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGVcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIGlmICghdGhpcy5wbGF5aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIGNvcmUudGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBsYXlzIHRoZSBBbmltYXRlZFNwcml0ZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIGNvcmUudGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIGNvcmUuVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZ29lcyB0byBhIHNwZWNpZmljIGZyYW1lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBmcmFtZSBpbmRleCB0byBzdG9wIGF0XG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5nb3RvQW5kU3RvcCA9IGZ1bmN0aW9uIGdvdG9BbmRTdG9wKGZyYW1lTnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcblxuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZSBhbmQgYmVnaW5zIHBsYXlpbmcgdGhlIEFuaW1hdGVkU3ByaXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBmcmFtZSBpbmRleCB0byBzdGFydCBhdFxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZ290b0FuZFBsYXkgPSBmdW5jdGlvbiBnb3RvQW5kUGxheShmcmFtZU51bWJlcikge1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShkZWx0YVRpbWUpIHtcbiAgICAgICAgdmFyIGVsYXBzZWQgPSB0aGlzLmFuaW1hdGlvblNwZWVkICogZGVsdGFUaW1lO1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgICAgIGlmICh0aGlzLl9kdXJhdGlvbnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBsYWcgPSB0aGlzLl9jdXJyZW50VGltZSAlIDEgKiB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuXG4gICAgICAgICAgICBsYWcgKz0gZWxhcHNlZCAvIDYwICogMTAwMDtcblxuICAgICAgICAgICAgd2hpbGUgKGxhZyA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZS0tO1xuICAgICAgICAgICAgICAgIGxhZyArPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc2lnbiA9IE1hdGguc2lnbih0aGlzLmFuaW1hdGlvblNwZWVkICogZGVsdGFUaW1lKTtcblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKTtcblxuICAgICAgICAgICAgd2hpbGUgKGxhZyA+PSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdKSB7XG4gICAgICAgICAgICAgICAgbGFnIC09IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0gKiBzaWduO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IHNpZ247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGxhZyAvIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBlbGFwc2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRUaW1lIDwgMCAmJiAhdGhpcy5sb29wKSB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fY3VycmVudFRpbWUgPj0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoICYmICF0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AodGhpcy5fdGV4dHVyZXMubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMubG9vcCAmJiB0aGlzLm9uTG9vcCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkID4gMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA8IHByZXZpb3VzRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvb3AoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPCAwICYmIHRoaXMuY3VycmVudEZyYW1lID4gcHJldmlvdXNGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZGlzcGxheWVkIHRleHR1cmUgdG8gbWF0Y2ggdGhlIGN1cnJlbnQgZnJhbWUgaW5kZXhcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRoaXMuX3RleHR1cmVzW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIGlmICh0aGlzLm9uRnJhbWVDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSh0aGlzLmN1cnJlbnRGcmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBkZXN0cm95cyBpdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBfY29yZSRTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIG1vdmllY2xpcCBmcm9tIGFuIGFycmF5IG9mIGZyYW1lIGlkc1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGZyYW1lcyAtIFRoZSBhcnJheSBvZiBmcmFtZXMgaWRzIHRoZSBtb3ZpZWNsaXAgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzXG4gICAgICogQHJldHVybiB7QW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZWQgc3ByaXRlIHdpdGggdGhlIHNwZWNpZmllZCBmcmFtZXMuXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLmZyb21GcmFtZXMgPSBmdW5jdGlvbiBmcm9tRnJhbWVzKGZyYW1lcykge1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChjb3JlLlRleHR1cmUuZnJvbUZyYW1lKGZyYW1lc1tpXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYSBtb3ZpZWNsaXAgZnJvbSBhbiBhcnJheSBvZiBpbWFnZSBpZHNcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBpbWFnZXMgLSB0aGUgYXJyYXkgb2YgaW1hZ2UgdXJscyB0aGUgbW92aWVjbGlwIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lc1xuICAgICAqIEByZXR1cm4ge0FuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGUgc3ByaXRlIHdpdGggdGhlIHNwZWNpZmllZCBpbWFnZXMgYXMgZnJhbWVzLlxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5mcm9tSW1hZ2VzID0gZnVuY3Rpb24gZnJvbUltYWdlcyhpbWFnZXMpIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goY29yZS5UZXh0dXJlLmZyb21JbWFnZShpbWFnZXNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiB0b3RhbEZyYW1lcyBpcyB0aGUgdG90YWwgbnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgQW5pbWF0ZWRTcHJpdGUuIFRoaXMgaXMgdGhlIHNhbWUgYXMgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgICogYXNzaWduZWQgdG8gdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEFuaW1hdGVkU3ByaXRlLCBbe1xuICAgICAgICBrZXk6ICd0b3RhbEZyYW1lcycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgdGV4dHVyZXMgdXNlZCBmb3IgdGhpcyBBbmltYXRlZFNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVbXX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHR1cmVzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZhbHVlWzBdIGluc3RhbmNlb2YgY29yZS5UZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcy5wdXNoKHZhbHVlW2ldLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMucHVzaCh2YWx1ZVtpXS50aW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBUaGUgQW5pbWF0ZWRTcHJpdGVzIGN1cnJlbnQgZnJhbWUgaW5kZXhcbiAgICAgICAgKlxuICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY3VycmVudEZyYW1lJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEZyYW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSkgJSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50RnJhbWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEZyYW1lICs9IHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRGcmFtZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBbmltYXRlZFNwcml0ZTtcbn0oY29yZS5TcHJpdGUpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBbmltYXRlZFNwcml0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFuaW1hdGVkU3ByaXRlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFRFTVBfUkVDVCA9IG5ldyBjb3JlLlJlY3RhbmdsZSgpO1xuXG4vKipcbiAqIFRoZSBleHRyYWN0IG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byBleHBvcnQgY29udGVudCBmcm9tIHRoZSByZW5kZXJlcnMuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLmV4dHJhY3RcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhY3RcbiAqL1xuXG52YXIgQ2FudmFzRXh0cmFjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNFeHRyYWN0KHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNFeHRyYWN0KTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIGV4dHJhY3RpbmcgZGF0YSAoaW1hZ2UsIHBpeGVscywgZXRjLikgZnJvbSBhIGRpc3BsYXkgb2JqZWN0IG9yIHJlbmRlciB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuZXh0cmFjdC5DYW52YXNFeHRyYWN0fSBleHRyYWN0XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkNhbnZhc1JlbmRlcmVyI1xuICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFjdC5DYW52YXNFeHRyYWN0XG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXJlci5leHRyYWN0ID0gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqL1xuXG5cbiAgICBDYW52YXNFeHRyYWN0LnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uIGltYWdlKHRhcmdldCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLmJhc2U2NCh0YXJnZXQpO1xuXG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICAgICAqICBgQ2FudmFzRXh0cmFjdC5nZXRDYW52YXNgIGFuZCB0aGVuIHJ1bm5pbmcgdG9EYXRhVVJMIG9uIHRoYXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBBIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzRXh0cmFjdC5wcm90b3R5cGUuYmFzZTY0ID0gZnVuY3Rpb24gYmFzZTY0KHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXModGFyZ2V0KS50b0RhdGFVUkwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50LCByZW5kZXJzIHRoaXMgdGFyZ2V0IHRvIGl0IGFuZCB0aGVuIHJldHVybnMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvbi5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzRXh0cmFjdC5wcm90b3R5cGUuY2FudmFzID0gZnVuY3Rpb24gY2FudmFzKHRhcmdldCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgY29udGV4dCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBmcmFtZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIGNvcmUuUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSByZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNvbnRleHQ7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gcmVuZGVyZXIucm9vdENvbnRleHQ7XG5cbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2lkdGggPSBmcmFtZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgIHZhciBjYW52YXNCdWZmZXIgPSBuZXcgY29yZS5DYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHZhciBjYW52YXNEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoZnJhbWUueCAqIHJlc29sdXRpb24sIGZyYW1lLnkgKiByZXNvbHV0aW9uLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5wdXRJbWFnZURhdGEoY2FudmFzRGF0YSwgMCwgMCk7XG5cbiAgICAgICAgLy8gc2VuZCB0aGUgY2FudmFzIGJhY2suLlxuICAgICAgICByZXR1cm4gY2FudmFzQnVmZmVyLmNhbnZhcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQVxuICAgICAqIG9yZGVyLCB3aXRoIGludGVnZXIgdmFsdWVzIGJldHdlZW4gMCBhbmQgMjU1IChpbmNsdWRlZCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7VWludDhDbGFtcGVkQXJyYXl9IE9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBDYW52YXNFeHRyYWN0LnByb3RvdHlwZS5waXhlbHMgPSBmdW5jdGlvbiBwaXhlbHModGFyZ2V0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdm9pZCAwO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGZyYW1lID0gdm9pZCAwO1xuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IHZvaWQgMDtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgY29yZS5SZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQuY29udGV4dDtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSByZW5kZXJlci5yb290Q29udGV4dDtcblxuICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICBmcmFtZS53aWR0aCA9IHJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gcmVuZGVyZXIuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGZyYW1lLndpZHRoICogcmVzb2x1dGlvbiwgZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbikuZGF0YTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGV4dHJhY3RcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNFeHRyYWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5leHRyYWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNFeHRyYWN0O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNFeHRyYWN0O1xuXG5cbmNvcmUuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2V4dHJhY3QnLCBDYW52YXNFeHRyYWN0KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc0V4dHJhY3QuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgVEVNUF9SRUNUID0gbmV3IGNvcmUuUmVjdGFuZ2xlKCk7XG52YXIgQllURVNfUEVSX1BJWEVMID0gNDtcblxuLyoqXG4gKiBUaGUgZXh0cmFjdCBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gZXhwb3J0IGNvbnRlbnQgZnJvbSB0aGUgcmVuZGVyZXJzLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5leHRyYWN0XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYWN0XG4gKi9cblxudmFyIFdlYkdMRXh0cmFjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdlYkdMRXh0cmFjdChyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xFeHRyYWN0KTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIGV4dHJhY3RpbmcgZGF0YSAoaW1hZ2UsIHBpeGVscywgZXRjLikgZnJvbSBhIGRpc3BsYXkgb2JqZWN0IG9yIHJlbmRlciB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3R9IGV4dHJhY3RcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuV2ViR0xSZW5kZXJlciNcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0XG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXJlci5leHRyYWN0ID0gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqL1xuXG5cbiAgICBXZWJHTEV4dHJhY3QucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24gaW1hZ2UodGFyZ2V0KSB7XG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgIGltYWdlLnNyYyA9IHRoaXMuYmFzZTY0KHRhcmdldCk7XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoaXMgdGFyZ2V0LiBJdCB3b3JrcyBieSBjYWxsaW5nXG4gICAgICogIGBXZWJHTEV4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIFdlYkdMRXh0cmFjdC5wcm90b3R5cGUuYmFzZTY0ID0gZnVuY3Rpb24gYmFzZTY0KHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXModGFyZ2V0KS50b0RhdGFVUkwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50LCByZW5kZXJzIHRoaXMgdGFyZ2V0IHRvIGl0IGFuZCB0aGVuIHJldHVybnMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvbi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xFeHRyYWN0LnByb3RvdHlwZS5jYW52YXMgPSBmdW5jdGlvbiBjYW52YXModGFyZ2V0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0ZXh0dXJlQnVmZmVyID0gdm9pZCAwO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGZyYW1lID0gdm9pZCAwO1xuICAgICAgICB2YXIgZmxpcFkgPSBmYWxzZTtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB2b2lkIDA7XG4gICAgICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgY29yZS5SZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRleHR1cmVCdWZmZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgICAgIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyID0gdGhpcy5yZW5kZXJlci5yb290UmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRleHR1cmVCdWZmZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZsaXBZID0gdHJ1ZTtcblxuICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICBmcmFtZS53aWR0aCA9IHRleHR1cmVCdWZmZXIuc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHRleHR1cmVCdWZmZXIuc2l6ZS5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2lkdGggPSBmcmFtZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgIHZhciBjYW52YXNCdWZmZXIgPSBuZXcgY29yZS5DYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgaWYgKHRleHR1cmVCdWZmZXIpIHtcbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFJlbmRlclRhcmdldCh0ZXh0dXJlQnVmZmVyKTtcblxuICAgICAgICAgICAgLy8gc2V0IHVwIGFuIGFycmF5IG9mIHBpeGVsc1xuICAgICAgICAgICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgICAgICAgICAvLyByZWFkIHBpeGVscyB0byB0aGUgYXJyYXlcbiAgICAgICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgICAgICBnbC5yZWFkUGl4ZWxzKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuXG4gICAgICAgICAgICAvLyBhZGQgdGhlIHBpeGVscyB0byB0aGUgY2FudmFzXG4gICAgICAgICAgICB2YXIgY2FudmFzRGF0YSA9IGNhbnZhc0J1ZmZlci5jb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgY2FudmFzRGF0YS5kYXRhLnNldCh3ZWJnbFBpeGVscyk7XG5cbiAgICAgICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnB1dEltYWdlRGF0YShjYW52YXNEYXRhLCAwLCAwKTtcblxuICAgICAgICAgICAgLy8gcHVsbGluZyBwaXhlbHNcbiAgICAgICAgICAgIGlmIChmbGlwWSkge1xuICAgICAgICAgICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnNjYWxlKDEsIC0xKTtcbiAgICAgICAgICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzQnVmZmVyLmNhbnZhcywgMCwgLWhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2VuZXJhdGVkKSB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2VuZCB0aGUgY2FudmFzIGJhY2suLlxuXG4gICAgICAgIHJldHVybiBjYW52YXNCdWZmZXIuY2FudmFzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAgICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtVaW50OENsYW1wZWRBcnJheX0gT25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFdlYkdMRXh0cmFjdC5wcm90b3R5cGUucGl4ZWxzID0gZnVuY3Rpb24gcGl4ZWxzKHRhcmdldCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgdGV4dHVyZUJ1ZmZlciA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBmcmFtZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB2b2lkIDA7XG4gICAgICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgY29yZS5SZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRleHR1cmVCdWZmZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIgPSB0aGlzLnJlbmRlcmVyLnJvb3RSZW5kZXJUYXJnZXQ7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGV4dHVyZUJ1ZmZlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gdGV4dHVyZUJ1ZmZlci5zaXplLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGV4dHVyZUJ1ZmZlci5zaXplLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3aWR0aCA9IGZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGhlaWdodCA9IGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG5cbiAgICAgICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlQnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQodGV4dHVyZUJ1ZmZlcik7XG4gICAgICAgICAgICAvLyByZWFkIHBpeGVscyB0byB0aGUgYXJyYXlcbiAgICAgICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgICAgICBnbC5yZWFkUGl4ZWxzKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdlYmdsUGl4ZWxzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgZXh0cmFjdFxuICAgICAqXG4gICAgICovXG5cblxuICAgIFdlYkdMRXh0cmFjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZXh0cmFjdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gV2ViR0xFeHRyYWN0O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTEV4dHJhY3Q7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdleHRyYWN0JywgV2ViR0xFeHRyYWN0KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkdMRXh0cmFjdC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xFeHRyYWN0ID0gcmVxdWlyZSgnLi93ZWJnbC9XZWJHTEV4dHJhY3QnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd3ZWJnbCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMRXh0cmFjdCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzRXh0cmFjdCA9IHJlcXVpcmUoJy4vY2FudmFzL0NhbnZhc0V4dHJhY3QnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjYW52YXMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNFeHRyYWN0KS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9pc21vYmlsZWpzID0gcmVxdWlyZSgnaXNtb2JpbGVqcycpO1xuXG52YXIgX2lzbW9iaWxlanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNtb2JpbGVqcyk7XG5cbnZhciBfYWNjZXNzaWJsZVRhcmdldCA9IHJlcXVpcmUoJy4vYWNjZXNzaWJsZVRhcmdldCcpO1xuXG52YXIgX2FjY2Vzc2libGVUYXJnZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWNjZXNzaWJsZVRhcmdldCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8vIGFkZCBzb21lIGV4dHJhIHZhcmlhYmxlcyB0byB0aGUgY29udGFpbmVyLi5cbmNvcmUudXRpbHMubWl4aW5zLmRlbGF5TWl4aW4oY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgX2FjY2Vzc2libGVUYXJnZXQyLmRlZmF1bHQpO1xuXG52YXIgS0VZX0NPREVfVEFCID0gOTtcblxudmFyIERJVl9UT1VDSF9TSVpFID0gMTAwO1xudmFyIERJVl9UT1VDSF9QT1NfWCA9IDA7XG52YXIgRElWX1RPVUNIX1BPU19ZID0gMDtcbnZhciBESVZfVE9VQ0hfWklOREVYID0gMjtcblxudmFyIERJVl9IT09LX1NJWkUgPSAxO1xudmFyIERJVl9IT09LX1BPU19YID0gLTEwMDA7XG52YXIgRElWX0hPT0tfUE9TX1kgPSAtMTAwMDtcbnZhciBESVZfSE9PS19aSU5ERVggPSAyO1xuXG4vKipcbiAqIFRoZSBBY2Nlc3NpYmlsaXR5IG1hbmFnZXIgcmVjcmVhdGVzIHRoZSBhYmlsaXR5IHRvIHRhYiBhbmQgaGF2ZSBjb250ZW50IHJlYWQgYnkgc2NyZWVuXG4gKiByZWFkZXJzLiBUaGlzIGlzIHZlcnkgaW1wb3J0YW50IGFzIGl0IGNhbiBwb3NzaWJseSBoZWxwIHBlb3BsZSB3aXRoIGRpc2FiaWxpdGllcyBhY2Nlc3MgcGl4aVxuICogY29udGVudC5cbiAqXG4gKiBNdWNoIGxpa2UgaW50ZXJhY3Rpb24gYW55IERpc3BsYXlPYmplY3QgY2FuIGJlIG1hZGUgYWNjZXNzaWJsZS4gVGhpcyBtYW5hZ2VyIHdpbGwgbWFwIHRoZVxuICogZXZlbnRzIGFzIGlmIHRoZSBtb3VzZSB3YXMgYmVpbmcgdXNlZCwgbWluaW1pemluZyB0aGUgZWZmb3J0IHJlcXVpcmVkIHRvIGltcGxlbWVudC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMuYWNjZXNzaWJpbGl0eVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuYWNjZXNzaWJpbGl0eVxuICovXG5cbnZhciBBY2Nlc3NpYmlsaXR5TWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWNjZXNzaWJpbGl0eU1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcblxuICAgICAgICBpZiAoKF9pc21vYmlsZWpzMi5kZWZhdWx0LnRhYmxldCB8fCBfaXNtb2JpbGVqczIuZGVmYXVsdC5waG9uZSkgJiYgIW5hdmlnYXRvci5pc0NvY29vbkpTKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRvdWNoSG9vaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlyc3Qgd2UgY3JlYXRlIGEgZGl2IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gRElWX1RPVUNIX1NJWkUgKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gRElWX1RPVUNIX1NJWkUgKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gRElWX1RPVUNIX1BPU19YICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBESVZfVE9VQ0hfUE9TX1kgKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgZG9tIGVsZW1lbnQgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGl2ID0gZGl2O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNpbXBsZSBwb29sIGZvciBzdG9yaW5nIGRpdnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgYSB0aWNrIHVzZWQgdG8gY2hlY2sgaWYgYW4gb2JqZWN0IGlzIG5vIGxvbmdlciBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVySWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR0aW5nIHRoaXMgdG8gdHJ1ZSB3aWxsIHZpc3VhbGx5IHNob3cgdGhlIGRpdnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBhY2Nlc3NpYmlsaXR5IG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN5c3RlbVJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgY3VycmVudGx5IGFjdGl2ZSBhY2Nlc3NpYmxlIGl0ZW1zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogcHJlLWJpbmQgdGhlIGZ1bmN0aW9uc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fb25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogc3RvcmVzIHRoZSBzdGF0ZSBvZiB0aGUgbWFuYWdlci4gSWYgdGhlcmUgYXJlIG5vIGFjY2Vzc2libGUgb2JqZWN0cyBvciB0aGUgbW91c2UgaXMgbW92aW5nLCB0aGlzIHdpbGwgYmUgZmFsc2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzTW9iaWxlQWNjZXNzYWJpbGxpdHkgPSBmYWxzZTtcblxuICAgICAgICAvLyBsZXQgbGlzdGVuIGZvciB0YWIuLiBvbmNlIHByZXNzZWQgd2UgY2FuIGZpcmUgdXAgYW5kIHNob3cgdGhlIGFjY2Vzc2liaWxpdHkgbGF5ZXJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSB0b3VjaCBob29rcy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY3JlYXRlVG91Y2hIb29rID0gZnVuY3Rpb24gY3JlYXRlVG91Y2hIb29rKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHZhciBob29rRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICAgICAgaG9va0Rpdi5zdHlsZS53aWR0aCA9IERJVl9IT09LX1NJWkUgKyAncHgnO1xuICAgICAgICBob29rRGl2LnN0eWxlLmhlaWdodCA9IERJVl9IT09LX1NJWkUgKyAncHgnO1xuICAgICAgICBob29rRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS50b3AgPSBESVZfSE9PS19QT1NfWCArICdweCc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUubGVmdCA9IERJVl9IT09LX1BPU19ZICsgJ3B4JztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS56SW5kZXggPSBESVZfSE9PS19aSU5ERVg7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNGRjAwMDAnO1xuICAgICAgICBob29rRGl2LnRpdGxlID0gJ0hPT0sgRElWJztcblxuICAgICAgICBob29rRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuaXNNb2JpbGVBY2Nlc3NhYmlsbGl0eSA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChob29rRGl2KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob29rRGl2KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIHNob3duLiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlclxuICAgICAqIHByZXNlcyB0aGUgdGFiIGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUsIHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlYWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIGhpZGRlbi4gVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgbW92ZXNcbiAgICAgKiB0aGUgbW91c2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIGRlYWN0aXZhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSB8fCB0aGlzLmlzTW9iaWxlQWNjZXNzYWJpbGxpdHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIub2ZmKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUpO1xuXG4gICAgICAgIGlmICh0aGlzLmRpdi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHJlY3Vyc2l2ZSBmdW5jdGlvbiB3aWxsIHJ1biB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgYWRkIGFueSBuZXcgYWNjZXNzaWJsZSBvYmplY3RzIHRvIHRoZSBET00gbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0byBjaGVjay5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzID0gZnVuY3Rpb24gdXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoZGlzcGxheU9iamVjdCkge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZSAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGRpc3BsYXlPYmplY3QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcklkID0gdGhpcy5yZW5kZXJJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhjaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmVmb3JlIGVhY2ggcmVuZGVyIHRoaXMgZnVuY3Rpb24gd2lsbCBlbnN1cmUgdGhhdCBhbGwgZGl2cyBhcmUgbWFwcGVkIGNvcnJlY3RseSB0byB0aGVpciBEaXNwbGF5T2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIGNoaWxkcmVuLi4uXG4gICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHModGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkKTtcblxuICAgICAgICB2YXIgcmVjdCA9IHRoaXMucmVuZGVyZXIudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIHN4ID0gcmVjdC53aWR0aCAvIHRoaXMucmVuZGVyZXIud2lkdGg7XG4gICAgICAgIHZhciBzeSA9IHJlY3QuaGVpZ2h0IC8gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIGRpdiA9IHRoaXMuZGl2O1xuXG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gcmVjdC5sZWZ0ICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IHJlY3QudG9wICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aCArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCArICdweCc7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQucmVuZGVySWQgIT09IHRoaXMucmVuZGVySWQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZUFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgY29yZS51dGlscy5yZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpdi5yZW1vdmVDaGlsZChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLnB1c2goY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGktLTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG1hcCBkaXYgdG8gZGlzcGxheS4uXG4gICAgICAgICAgICAgICAgZGl2ID0gY2hpbGQuX2FjY2Vzc2libGVEaXY7XG4gICAgICAgICAgICAgICAgdmFyIGhpdEFyZWEgPSBjaGlsZC5oaXRBcmVhO1xuICAgICAgICAgICAgICAgIHZhciB3dCA9IGNoaWxkLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmhpdEFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSAod3QudHggKyBoaXRBcmVhLnggKiB3dC5hKSAqIHN4ICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9ICh3dC50eSArIGhpdEFyZWEueSAqIHd0LmQpICogc3kgKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGhpdEFyZWEud2lkdGggKiB3dC5hICogc3ggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gaGl0QXJlYS5oZWlnaHQgKiB3dC5kICogc3kgKyAncHgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdEFyZWEgPSBjaGlsZC5nZXRCb3VuZHMoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcEhpdEFyZWEoaGl0QXJlYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBoaXRBcmVhLnggKiBzeCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBoaXRBcmVhLnkgKiBzeSArICdweCc7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gaGl0QXJlYS53aWR0aCAqIHN4ICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGhpdEFyZWEuaGVpZ2h0ICogc3kgKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBidXR0b24gdGl0bGVzIGFuZCBoaW50cyBpZiB0aGV5IGV4aXN0IGFuZCB0aGV5J3ZlIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpdi50aXRsZSAhPT0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlICYmIGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXYuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykgIT09IGNoaWxkLmFjY2Vzc2libGVIaW50ICYmIGNoaWxkLmFjY2Vzc2libGVIaW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgY2hpbGQuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW5jcmVtZW50IHRoZSByZW5kZXIgaWQuLlxuICAgICAgICB0aGlzLnJlbmRlcklkKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRPRE86IGRvY3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gaGl0QXJlYSAtIFRPRE8gZG9jc1xuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY2FwSGl0QXJlYSA9IGZ1bmN0aW9uIGNhcEhpdEFyZWEoaGl0QXJlYSkge1xuICAgICAgICBpZiAoaGl0QXJlYS54IDwgMCkge1xuICAgICAgICAgICAgaGl0QXJlYS53aWR0aCArPSBoaXRBcmVhLng7XG4gICAgICAgICAgICBoaXRBcmVhLnggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpdEFyZWEueSA8IDApIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ICs9IGhpdEFyZWEueTtcbiAgICAgICAgICAgIGhpdEFyZWEueSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGl0QXJlYS54ICsgaGl0QXJlYS53aWR0aCA+IHRoaXMucmVuZGVyZXIud2lkdGgpIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoIC0gaGl0QXJlYS54O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpdEFyZWEueSArIGhpdEFyZWEuaGVpZ2h0ID4gdGhpcy5yZW5kZXJlci5oZWlnaHQpIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgLSBoaXRBcmVhLnk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIERpc3BsYXlPYmplY3QgdG8gdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Rpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgY2hpbGQgdG8gbWFrZSBhY2Nlc3NpYmxlLlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiBhZGRDaGlsZChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIC8vICAgIHRoaXMuYWN0aXZhdGUoKTtcblxuICAgICAgICB2YXIgZGl2ID0gdGhpcy5wb29sLnBvcCgpO1xuXG4gICAgICAgIGlmICghZGl2KSB7XG4gICAgICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gRElWX1RPVUNIX1NJWkUgKyAncHgnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgJ3B4JztcbiAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRlYnVnID8gJ3JnYmEoMjU1LDAsMCwwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVg7XG4gICAgICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgIC8vIEFSSUEgYXR0cmlidXRlcyBlbnN1cmUgdGhhdCBidXR0b24gdGl0bGUgYW5kIGhpbnQgdXBkYXRlcyBhcmUgYW5ub3VuY2VkIHByb3Blcmx5XG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBDaHJvbWUgZG9lc24ndCBuZWVkIGFyaWEtbGl2ZSB0byB3b3JrIGFzIGludGVuZGVkOyBpbiBmYWN0IGl0IGp1c3QgZ2V0cyBtb3JlIGNvbmZ1c2VkLlxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvcnY6LipHZWNrb1xcLy8pKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZUZveCBuZWVkcyB0aGlzIHRvIGFubm91bmNlIG9ubHkgdGhlIG5ldyBidXR0b24gbmFtZVxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAnYWRkaXRpb25zJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJlcXVpcmVkIGJ5IElFLCBvdGhlciBicm93c2VycyBkb24ndCBtdWNoIGNhcmVcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLXJlbGV2YW50JywgJ3RleHQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX29uRm9jdXMuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0aGlzLl9vbkZvY3VzT3V0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZTtcbiAgICAgICAgfSBlbHNlIGlmICghZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCB8fCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSAnZGlzcGxheU9iamVjdCAnICsgZGlzcGxheU9iamVjdC50YWJJbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vXG5cbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYgPSBkaXY7XG4gICAgICAgIGRpdi5kaXNwbGF5T2JqZWN0ID0gZGlzcGxheU9iamVjdDtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goZGlzcGxheU9iamVjdCk7XG4gICAgICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2LnRhYkluZGV4ID0gZGlzcGxheU9iamVjdC50YWJJbmRleDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGJ1dHRvbiBwcmVzcyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChjbGljaylcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIGNsaWNrIGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uQ2xpY2sgPSBmdW5jdGlvbiBfb25DbGljayhlKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ2NsaWNrJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdmVyKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXMgZXZlbnQuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Gb2N1cyA9IGZ1bmN0aW9uIF9vbkZvY3VzKGUpIHtcbiAgICAgICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKSkge1xuICAgICAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdXQpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1c291dCBldmVudC5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzT3V0ID0gZnVuY3Rpb24gX29uRm9jdXNPdXQoZSkge1xuICAgICAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiBhIGtleSBpcyBwcmVzc2VkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIFRoZSBrZXlkb3duIGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uS2V5RG93biA9IGZ1bmN0aW9uIF9vbktleURvd24oZSkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlICE9PSBLRVlfQ09ERV9UQUIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIG1vdXNlIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgbW91c2UgZXZlbnQuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiBfb25Nb3VzZU1vdmUoZSkge1xuICAgICAgICBpZiAoZS5tb3ZlbWVudFggPT09IDAgJiYgZS5tb3ZlbWVudFkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmRpdiA9IG51bGw7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmRpdiA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bik7XG5cbiAgICAgICAgdGhpcy5wb29sID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQWNjZXNzaWJpbGl0eU1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFjY2Vzc2liaWxpdHlNYW5hZ2VyO1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbignYWNjZXNzaWJpbGl0eScsIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcbmNvcmUuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2FjY2Vzc2liaWxpdHknLCBBY2Nlc3NpYmlsaXR5TWFuYWdlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BY2Nlc3NpYmlsaXR5TWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfYWNjZXNzaWJsZVRhcmdldCA9IHJlcXVpcmUoJy4vYWNjZXNzaWJsZVRhcmdldCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2FjY2Vzc2libGVUYXJnZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hY2Nlc3NpYmxlVGFyZ2V0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9BY2Nlc3NpYmlsaXR5TWFuYWdlciA9IHJlcXVpcmUoJy4vQWNjZXNzaWJpbGl0eU1hbmFnZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdBY2Nlc3NpYmlsaXR5TWFuYWdlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FjY2Vzc2liaWxpdHlNYW5hZ2VyKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlcHJlY2F0aW9uO1xuLy8gcHJvdmlkZSBtZXRob2QgdG8gZ2l2ZSBhIHN0YWNrIHRyYWNrIGZvciB3YXJuaW5nc1xuLy8gdXNlZnVsIGZvciB0cmFja2luZy1kb3duIHdoZXJlIGRlcHJlY2F0ZWQgbWV0aG9kcy9wcm9wZXJ0aWVzL2NsYXNzZXNcbi8vIGFyZSBiZWluZyB1c2VkIHdpdGhpbiB0aGUgY29kZVxuXG4vLyBBIG1hcCBvZiB3YXJuaW5nIG1lc3NhZ2VzIGFscmVhZHkgZmlyZWRcbnZhciB3YXJuaW5ncyA9IHt9O1xuXG4vLyBwcm92aWRlIG1ldGhvZCB0byBnaXZlIGEgc3RhY2sgdHJhY2sgZm9yIHdhcm5pbmdzXG4vLyB1c2VmdWwgZm9yIHRyYWNraW5nLWRvd24gd2hlcmUgZGVwcmVjYXRlZCBtZXRob2RzL3Byb3BlcnRpZXMvY2xhc3Nlc1xuLy8gYXJlIGJlaW5nIHVzZWQgd2l0aGluIHRoZSBjb2RlXG5mdW5jdGlvbiB3YXJuKG1zZykge1xuICAgIC8vIElnbm9yZSBkdXBsaWNhdFxuICAgIGlmICh3YXJuaW5nc1ttc2ddKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgdmFyIHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG5cbiAgICAvLyBIYW5kbGUgSUUgPCAxMCBhbmQgU2FmYXJpIDwgNlxuICAgIGlmICh0eXBlb2Ygc3RhY2sgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gV2FybmluZzogJywgbXNnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjaG9wIG9mZiB0aGUgc3RhY2sgdHJhY2Ugd2hpY2ggaW5jbHVkZXMgcGl4aS5qcyBpbnRlcm5hbCBjYWxsc1xuICAgICAgICBzdGFjayA9IHN0YWNrLnNwbGl0KCdcXG4nKS5zcGxpY2UoMykuam9pbignXFxuJyk7XG5cbiAgICAgICAgaWYgKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoJyVjRGVwcmVjYXRpb24gV2FybmluZzogJWMlcycsICdjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsICdmb250LXdlaWdodDpub3JtYWw7Y29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLCBtc2cpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gV2FybmluZzogJywgbXNnKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cbiAgICB3YXJuaW5nc1ttc2ddID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZGVwcmVjYXRpb24oY29yZSkge1xuICAgIHZhciBtZXNoID0gY29yZS5tZXNoLFxuICAgICAgICBwYXJ0aWNsZXMgPSBjb3JlLnBhcnRpY2xlcyxcbiAgICAgICAgZXh0cmFzID0gY29yZS5leHRyYXMsXG4gICAgICAgIGZpbHRlcnMgPSBjb3JlLmZpbHRlcnMsXG4gICAgICAgIHByZXBhcmUgPSBjb3JlLnByZXBhcmUsXG4gICAgICAgIGxvYWRlcnMgPSBjb3JlLmxvYWRlcnMsXG4gICAgICAgIGludGVyYWN0aW9uID0gY29yZS5pbnRlcmFjdGlvbjtcblxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29yZSwge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgU3ByaXRlQmF0Y2hcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqIEB0aHJvd3Mge1JlZmVyZW5jZUVycm9yfSBTcHJpdGVCYXRjaCBkb2VzIG5vdCBleGlzdCBhbnkgbW9yZSwgcGxlYXNlIHVzZSB0aGUgbmV3IFBhcnRpY2xlQ29udGFpbmVyIGluc3RlYWQuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFNwcml0ZUJhdGNoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ1Nwcml0ZUJhdGNoIGRvZXMgbm90IGV4aXN0IGFueSBtb3JlLCAnICsgJ3BsZWFzZSB1c2UgdGhlIG5ldyBQYXJ0aWNsZUNvbnRhaW5lciBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgQXNzZXRMb2FkZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLmxvYWRlcnMuTG9hZGVyXG4gICAgICAgICAqIEB0aHJvd3Mge1JlZmVyZW5jZUVycm9yfSBUaGUgbG9hZGVyIHN5c3RlbSB3YXMgb3ZlcmhhdWxlZCBpbiBQaXhpSlMgdjMsXG4gICAgICAgICAqIHBsZWFzZSBzZWUgdGhlIG5ldyBQSVhJLmxvYWRlcnMuTG9hZGVyIGNsYXNzLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBBc3NldExvYWRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCdUaGUgbG9hZGVyIHN5c3RlbSB3YXMgb3ZlcmhhdWxlZCBpbiBQaXhpSlMgdjMsICcgKyAncGxlYXNlIHNlZSB0aGUgbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIgY2xhc3MuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBTdGFnZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFN0YWdlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdZb3UgZG8gbm90IG5lZWQgdG8gdXNlIGEgUElYSSBTdGFnZSBhbnkgbW9yZSwgeW91IGNhbiBzaW1wbHkgcmVuZGVyIGFueSBjb250YWluZXIuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5Db250YWluZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBEaXNwbGF5T2JqZWN0Q29udGFpbmVyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5Db250YWluZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgRGlzcGxheU9iamVjdENvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignRGlzcGxheU9iamVjdENvbnRhaW5lciBoYXMgYmVlbiBzaG9ydGVuZWQgdG8gQ29udGFpbmVyLCBwbGVhc2UgdXNlIENvbnRhaW5lciBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLkNvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFN0cmlwXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5tZXNoLk1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgU3RyaXA6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBTdHJpcCBjbGFzcyBoYXMgYmVlbiByZW5hbWVkIHRvIE1lc2ggYW5kIG1vdmVkIHRvIG1lc2guTWVzaCwgcGxlYXNlIHVzZSBtZXNoLk1lc2ggZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzaC5NZXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUm9wZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkubWVzaC5Sb3BlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJvcGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBSb3BlIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIG1lc2guUm9wZSwgcGxlYXNlIHVzZSBtZXNoLlJvcGUgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzaC5Sb3BlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZUNvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIHBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciwgJyArICdwbGVhc2UgdXNlIHBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBNb3ZpZUNsaXBcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhcy5Nb3ZpZUNsaXBcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTW92aWVDbGlwOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgTW92aWVDbGlwIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIGV4dHJhcy5BbmltYXRlZFNwcml0ZSwgcGxlYXNlIHVzZSBleHRyYXMuQW5pbWF0ZWRTcHJpdGUuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmFzLkFuaW1hdGVkU3ByaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRpbGluZ1Nwcml0ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFRpbGluZ1Nwcml0ZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byBleHRyYXMuVGlsaW5nU3ByaXRlLCAnICsgJ3BsZWFzZSB1c2UgZXh0cmFzLlRpbGluZ1Nwcml0ZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBleHRyYXMuVGlsaW5nU3ByaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgQml0bWFwVGV4dFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFzLkJpdG1hcFRleHRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQml0bWFwVGV4dDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIEJpdG1hcFRleHQgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gZXh0cmFzLkJpdG1hcFRleHQsICcgKyAncGxlYXNlIHVzZSBleHRyYXMuQml0bWFwVGV4dCBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBleHRyYXMuQml0bWFwVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIGJsZW5kTW9kZXNcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGJsZW5kTW9kZXM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBibGVuZE1vZGVzIGhhcyBiZWVuIG1vdmVkIHRvIEJMRU5EX01PREVTLCBwbGVhc2UgdXNlIEJMRU5EX01PREVTIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuQkxFTkRfTU9ERVM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBzY2FsZU1vZGVzXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5TQ0FMRV9NT0RFU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBzY2FsZU1vZGVzOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgc2NhbGVNb2RlcyBoYXMgYmVlbiBtb3ZlZCB0byBTQ0FMRV9NT0RFUywgcGxlYXNlIHVzZSBTQ0FMRV9NT0RFUyBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlNDQUxFX01PREVTO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgQmFzZVRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkudXRpbHMuQmFzZVRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgQmFzZVRleHR1cmVDYWNoZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byB1dGlscy5CYXNlVGV4dHVyZUNhY2hlLCAnICsgJ3BsZWFzZSB1c2UgdXRpbHMuQmFzZVRleHR1cmVDYWNoZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnV0aWxzLkJhc2VUZXh0dXJlQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBUZXh0dXJlQ2FjaGVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLnV0aWxzLlRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUZXh0dXJlQ2FjaGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBUZXh0dXJlQ2FjaGUgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gdXRpbHMuVGV4dHVyZUNhY2hlLCAnICsgJ3BsZWFzZSB1c2UgdXRpbHMuVGV4dHVyZUNhY2hlIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUudXRpbHMuVGV4dHVyZUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZXNwYWNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIG1hdGhcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjZcbiAgICAgICAgICovXG4gICAgICAgIG1hdGg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBtYXRoIG5hbWVzcGFjZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgYWNjZXNzIG1lbWJlcnMgYWxyZWFkeSBhY2Nlc3NpYmxlIG9uIFBJWEkuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQWJzdHJhY3RGaWx0ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkZpbHRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC42XG4gICAgICAgICAqL1xuICAgICAgICBBYnN0cmFjdEZpbHRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignQXN0cmFjdEZpbHRlciBoYXMgYmVlbiByZW5hbWVkIHRvIEZpbHRlciwgcGxlYXNlIHVzZSBQSVhJLkZpbHRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuRmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5UcmFuc2Zvcm1NYW51YWxcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybUJhc2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtTWFudWFsOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUcmFuc2Zvcm1NYW51YWwgaGFzIGJlZW4gcmVuYW1lZCB0byBUcmFuc2Zvcm1CYXNlLCBwbGVhc2UgdXBkYXRlIHlvdXIgcGl4aS1zcGluZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuVHJhbnNmb3JtQmFzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5UQVJHRVRfRlBNU1xuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgVEFSR0VUX0ZQTVM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuVEFSR0VUX0ZQTVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuVEFSR0VUX0ZQTVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlRBUkdFVF9GUE1TID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuRklMVEVSX1JFU09MVVRJT05cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIEZJTFRFUl9SRVNPTFVUSU9OOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkZJTFRFUl9SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT047XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkZJTFRFUl9SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTicpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTiA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJFU09MVVRJT05cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlJFU09MVVRJT05cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgUkVTT0xVVElPTjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlJFU09MVVRJT04gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5NSVBNQVBfVEVYVFVSRVNcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBNSVBNQVBfVEVYVFVSRVM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuTUlQTUFQX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVMnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFUztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuTUlQTUFQX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVMnKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuU1BSSVRFX0JBVENIX1NJWkVcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIFNQUklURV9CQVRDSF9TSVpFOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlNQUklURV9CQVRDSF9TSVpFIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlNQUklURV9CQVRDSF9TSVpFIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRScpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLlNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgU1BSSVRFX01BWF9URVhUVVJFUzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5TUFJJVEVfTUFYX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5TUFJJVEVfTUFYX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5SRVRJTkFfUFJFRklYXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIFJFVElOQV9QUkVGSVg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuUkVUSU5BX1BSRUZJWCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuUkVUSU5BX1BSRUZJWCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCcpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuREVGQVVMVF9SRU5ERVJfT1BUSU9OU1xuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuUkVOREVSX09QVElPTlNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgREVGQVVMVF9SRU5ERVJfT1BUSU9OUzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5ERUZBVUxUX1JFTkRFUl9PUFRJT05TIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5ERUZBVUxUX1JFTkRFUl9PUFRJT05TJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5SRU5ERVJfT1BUSU9OUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTW92ZSB0aGUgZGVmYXVsdCBwcm9wZXJ0aWVzIHRvIHNldHRpbmdzXG4gICAgdmFyIGRlZmF1bHRzID0gW3sgcGFyZW50OiAnVFJBTlNGT1JNX01PREUnLCB0YXJnZXQ6ICdUUkFOU0ZPUk1fTU9ERScgfSwgeyBwYXJlbnQ6ICdHQ19NT0RFUycsIHRhcmdldDogJ0dDX01PREUnIH0sIHsgcGFyZW50OiAnV1JBUF9NT0RFUycsIHRhcmdldDogJ1dSQVBfTU9ERScgfSwgeyBwYXJlbnQ6ICdTQ0FMRV9NT0RFUycsIHRhcmdldDogJ1NDQUxFX01PREUnIH0sIHsgcGFyZW50OiAnUFJFQ0lTSU9OJywgdGFyZ2V0OiAnUFJFQ0lTSU9OX0ZSQUdNRU5UJyB9XTtcblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHtcbiAgICAgICAgdmFyIGRlcHJlY2F0aW9uID0gZGVmYXVsdHNbaV07XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvcmVbZGVwcmVjYXRpb24ucGFyZW50XSwgJ0RFRkFVTFQnLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLicgKyBkZXByZWNhdGlvbi5wYXJlbnQgKyAnLkRFRkFVTFQgaGFzIGJlZW4gZGVwcmVjYXRlZCwgJyArICgncGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLicgKyBkZXByZWNhdGlvbi50YXJnZXQpKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzW2RlcHJlY2F0aW9uLnRhcmdldF07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLicgKyBkZXByZWNhdGlvbi5wYXJlbnQgKyAnLkRFRkFVTFQgaGFzIGJlZW4gZGVwcmVjYXRlZCwgJyArICgncGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLicgKyBkZXByZWNhdGlvbi50YXJnZXQpKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3NbZGVwcmVjYXRpb24udGFyZ2V0XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWZhdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBfbG9vcChpKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb3JlLnNldHRpbmdzLCB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQG5hbWUgUFJFQ0lTSU9OXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICAgICAqIEBzZWUgUElYSS5QUkVDSVNJT05cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjQuMFxuICAgICAgICAgKi9cbiAgICAgICAgUFJFQ0lTSU9OOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLnNldHRpbmdzLlBSRUNJU0lPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5UJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLnNldHRpbmdzLlBSRUNJU0lPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5UJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVCA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoZXh0cmFzLkFuaW1hdGVkU3ByaXRlKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGV4dHJhcywge1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgICAgICogQG5hbWUgTW92aWVDbGlwXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAgICAgICAgICAgICAqIEBzZWUgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgTW92aWVDbGlwOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBNb3ZpZUNsaXAgY2xhc3MgaGFzIGJlZW4gcmVuYW1lZCB0byBBbmltYXRlZFNwcml0ZSwgcGxlYXNlIHVzZSBBbmltYXRlZFNwcml0ZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmFzLkFuaW1hdGVkU3ByaXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGV4dHJhcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhleHRyYXMsIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAgICAgKiBAbmFtZSBUZXh0dXJlVHJhbnNmb3JtXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAgICAgICAgICAgICAqIEBzZWUgUElYSS5UZXh0dXJlTWF0cml4XG4gICAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNi4wXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIFRleHR1cmVUcmFuc2Zvcm06IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIFRleHR1cmVUcmFuc2Zvcm0gY2xhc3MgaGFzIGJlZW4gcmVuYW1lZCB0byBUZXh0dXJlTWF0cml4LCAnICsgJ3BsZWFzZSB1c2UgUElYSS5UZXh0dXJlTWF0cml4IGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlRleHR1cmVNYXRyaXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlVGV4dHVyZShyZW5kZXJlciwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHdhcm4oJ2dlbmVyYXRlVGV4dHVyZSBoYXMgbW92ZWQgdG8gdGhlIHJlbmRlcmVyLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZShkaXNwbGF5T2JqZWN0KScpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGhpcywgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcbiAgICB9O1xuXG4gICAgY29yZS5HcmFwaGljcy5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVUZXh0dXJlKHNjYWxlTW9kZSwgcmVzb2x1dGlvbikge1xuICAgICAgICB3YXJuKCdncmFwaGljcyBnZW5lcmF0ZSB0ZXh0dXJlIGhhcyBtb3ZlZCB0byB0aGUgcmVuZGVyZXIuICcgKyAnT3IgdG8gcmVuZGVyIGEgZ3JhcGhpY3MgdG8gYSB0ZXh0dXJlIHVzaW5nIGNhbnZhcyBwbGVhc2UgdXNlIGdlbmVyYXRlQ2FudmFzVGV4dHVyZScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlQ2FudmFzVGV4dHVyZShzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5Hcm91cEQ4LmlzU3dhcFdpZHRoSGVpZ2h0XG4gICAgICogQHNlZSBQSVhJLkdyb3VwRDguaXNWZXJ0aWNhbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBkaXJlY3Rpb24gaXMgdmVydGljYWxcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNi4wXG4gICAgICovXG4gICAgY29yZS5Hcm91cEQ4LmlzU3dhcFdpZHRoSGVpZ2h0ID0gZnVuY3Rpb24gaXNTd2FwV2lkdGhIZWlnaHQocm90YXRpb24pIHtcbiAgICAgICAgd2FybignR3JvdXBEOC5pc1N3YXBXaWR0aEhlaWdodCB3YXMgcmVuYW1lZCB0byBHcm91cEQ4LmlzVmVydGljYWwnKTtcblxuICAgICAgICByZXR1cm4gY29yZS5Hcm91cEQ4LmlzVmVydGljYWwocm90YXRpb24pO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihkaXNwbGF5T2JqZWN0LCBtYXRyaXgsIGNsZWFyLCB1cGRhdGVUcmFuc2Zvcm0pIHtcbiAgICAgICAgdGhpcy5sZWdhY3lSZW5kZXJlci5yZW5kZXIoZGlzcGxheU9iamVjdCwgdGhpcywgY2xlYXIsIG1hdHJpeCwgIXVwZGF0ZVRyYW5zZm9ybSk7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUucmVuZGVyIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlKScpO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gZ2V0SW1hZ2UodGFyZ2V0KSB7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUuZ2V0SW1hZ2UgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5pbWFnZSh0YXJnZXQpJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGVnYWN5UmVuZGVyZXIuZXh0cmFjdC5pbWFnZSh0YXJnZXQpO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldEJhc2U2NCA9IGZ1bmN0aW9uIGdldEJhc2U2NCh0YXJnZXQpIHtcbiAgICAgICAgd2FybignUmVuZGVyVGV4dHVyZS5nZXRCYXNlNjQgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5iYXNlNjQodGFyZ2V0KScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmxlZ2FjeVJlbmRlcmVyLmV4dHJhY3QuYmFzZTY0KHRhcmdldCk7XG4gICAgfTtcblxuICAgIGNvcmUuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0Q2FudmFzID0gZnVuY3Rpb24gZ2V0Q2FudmFzKHRhcmdldCkge1xuICAgICAgICB3YXJuKCdSZW5kZXJUZXh0dXJlLmdldENhbnZhcyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSByZW5kZXJlci5leHRyYWN0LmNhbnZhcyh0YXJnZXQpJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGVnYWN5UmVuZGVyZXIuZXh0cmFjdC5jYW52YXModGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgY29yZS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5nZXRQaXhlbHMgPSBmdW5jdGlvbiBnZXRQaXhlbHModGFyZ2V0KSB7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUuZ2V0UGl4ZWxzIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmV4dHJhY3QucGl4ZWxzKHRhcmdldCknKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5sZWdhY3lSZW5kZXJlci5waXhlbHModGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgUElYSS5TcHJpdGUjc2V0VGV4dHVyZVxuICAgICAqIEBzZWUgUElYSS5TcHJpdGUjdGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBjb3JlLlNwcml0ZS5wcm90b3R5cGUuc2V0VGV4dHVyZSA9IGZ1bmN0aW9uIHNldFRleHR1cmUodGV4dHVyZSkge1xuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICB3YXJuKCdzZXRUZXh0dXJlIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSB0ZXh0dXJlIHByb3BlcnR5LCBlLmcgOiBzcHJpdGUudGV4dHVyZSA9IHRleHR1cmU7Jyk7XG4gICAgfTtcblxuICAgIGlmIChleHRyYXMuQml0bWFwVGV4dCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0I3NldFRleHRcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0I3RleHRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIHNldCB0by5cbiAgICAgICAgICovXG4gICAgICAgIGV4dHJhcy5CaXRtYXBUZXh0LnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gc2V0VGV4dCh0ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgd2Fybignc2V0VGV4dCBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgdGV4dCBwcm9wZXJ0eSwgZS5nIDogbXlCaXRtYXBUZXh0LnRleHQgPSBcXCdteSB0ZXh0XFwnOycpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLlRleHQjc2V0VGV4dFxuICAgICAqIEBzZWUgUElYSS5UZXh0I3RleHRcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBzZXQgdG8uXG4gICAgICovXG4gICAgY29yZS5UZXh0LnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gc2V0VGV4dCh0ZXh0KSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHdhcm4oJ3NldFRleHQgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIHRleHQgcHJvcGVydHksIGUuZyA6IG15VGV4dC50ZXh0ID0gXFwnbXkgdGV4dFxcJzsnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnRTdHlsZVxuICAgICAqXG4gICAgICogQG5hbWUgUElYSS5UZXh0LmNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzXG4gICAgICogQHNlZSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjUuMFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEZvbnQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKi9cbiAgICBjb3JlLlRleHQuY2FsY3VsYXRlRm9udFByb3BlcnRpZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVGb250UHJvcGVydGllcyhmb250KSB7XG4gICAgICAgIHdhcm4oJ1RleHQuY2FsY3VsYXRlRm9udFByb3BlcnRpZXMgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIFRleHRNZXRyaWNzLm1lYXN1cmVGb250Jyk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvcmUuVGV4dCwge1xuICAgICAgICBmb250UHJvcGVydGllc0NhY2hlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUZXh0LmZvbnRQcm9wZXJ0aWVzQ2FjaGUgaXMgZGVwcmVjYXRlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MuX2ZvbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmb250UHJvcGVydGllc0NhbnZhczoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGV4dC5mb250UHJvcGVydGllc0NhbnZhcyBpcyBkZXByZWNhdGVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5UZXh0TWV0cmljcy5fY2FudmFzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmb250UHJvcGVydGllc0NvbnRleHQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RleHQuZm9udFByb3BlcnRpZXNDb250ZXh0IGlzIGRlcHJlY2F0ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlRleHRNZXRyaWNzLl9jb250ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5UZXh0I3NldFN0eWxlXG4gICAgICogQHNlZSBQSVhJLlRleHQjc3R5bGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICogQHBhcmFtIHsqfSBzdHlsZSAtIFRoZSBzdHlsZSB0byBzZXQgdG8uXG4gICAgICovXG4gICAgY29yZS5UZXh0LnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlKSB7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgd2Fybignc2V0U3R5bGUgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIHN0eWxlIHByb3BlcnR5LCBlLmcgOiBteVRleHQuc3R5bGUgPSBzdHlsZTsnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkuVGV4dCNkZXRlcm1pbmVGb250UHJvcGVydGllc1xuICAgICAqIEBzZWUgUElYSS5UZXh0I21lYXN1cmVGb250UHJvcGVydGllc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3R5bGUgLSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzdHlsZSBvZiB0aGUgZm9udFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuICAgIGNvcmUuVGV4dC5wcm90b3R5cGUuZGV0ZXJtaW5lRm9udFByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZXRlcm1pbmVGb250UHJvcGVydGllcyhmb250U3R5bGUpIHtcbiAgICAgICAgd2FybignZGV0ZXJtaW5lRm9udFByb3BlcnRpZXMgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgbWV0aG9kJyk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udFN0eWxlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkuVGV4dC5nZXRGb250U3R5bGVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dE1ldHJpY3MuZ2V0Rm9udFN0eWxlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjUuMFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gVGhlIHN0eWxlIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEZvbnQgc3RyaW5nXG4gICAgICovXG4gICAgY29yZS5UZXh0LmdldEZvbnRTdHlsZSA9IGZ1bmN0aW9uIGdldEZvbnRTdHlsZShzdHlsZSkge1xuICAgICAgICB3YXJuKCdnZXRGb250U3R5bGUgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dFN0eWxlLnRvRm9udFN0cmluZygpIGluc3RlYWQnKTtcblxuICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHN0eWxlIGluc3RhbmNlb2YgY29yZS5UZXh0U3R5bGUpKSB7XG4gICAgICAgICAgICBzdHlsZSA9IG5ldyBjb3JlLlRleHRTdHlsZShzdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvcmUuVGV4dFN0eWxlLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGFsbCBwcm9wZXJ0aWVzIG9mIGEgZm9udCBhcyBhIHNpbmdsZSBzdHJpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgUElYSS5UZXh0U3R5bGUjZm9udFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBmb250OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCd0ZXh0IHN0eWxlIHByb3BlcnR5IFxcJ2ZvbnRcXCcgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlICcgKyAnXFwnZm9udEZhbWlseVxcJywgXFwnZm9udFNpemVcXCcsIFxcJ2ZvbnRTdHlsZVxcJywgXFwnZm9udFZhcmlhbnRcXCcgYW5kIFxcJ2ZvbnRXZWlnaHRcXCcgcHJvcGVydGllcyBmcm9tIG5vdyBvbicpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZvbnRTaXplU3RyaW5nID0gdHlwZW9mIHRoaXMuX2ZvbnRTaXplID09PSAnbnVtYmVyJyA/IHRoaXMuX2ZvbnRTaXplICsgJ3B4JyA6IHRoaXMuX2ZvbnRTaXplO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZSArICcgJyArIHRoaXMuX2ZvbnRWYXJpYW50ICsgJyAnICsgdGhpcy5fZm9udFdlaWdodCArICcgJyArIGZvbnRTaXplU3RyaW5nICsgJyAnICsgdGhpcy5fZm9udEZhbWlseTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250KSB7XG4gICAgICAgICAgICAgICAgd2FybigndGV4dCBzdHlsZSBwcm9wZXJ0eSBcXCdmb250XFwnIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSAnICsgJ1xcJ2ZvbnRGYW1pbHlcXCcsXFwnZm9udFNpemVcXCcsZm9udFN0eWxlXFwnLFxcJ2ZvbnRWYXJpYW50XFwnIGFuZCBcXCdmb250V2VpZ2h0XFwnIHByb3BlcnRpZXMgZnJvbSBub3cgb24nKTtcblxuICAgICAgICAgICAgICAgIC8vIGNhbiB3b3JrIG91dCBmb250U3R5bGUgZnJvbSBzZWFyY2ggb2Ygd2hvbGUgc3RyaW5nXG4gICAgICAgICAgICAgICAgaWYgKGZvbnQuaW5kZXhPZignaXRhbGljJykgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTdHlsZSA9ICdpdGFsaWMnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9udC5pbmRleE9mKCdvYmxpcXVlJykgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSAnb2JsaXF1ZSc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFN0eWxlID0gJ25vcm1hbCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2FuIHdvcmsgb3V0IGZvbnRWYXJpYW50IGZyb20gc2VhcmNoIG9mIHdob2xlIHN0cmluZ1xuICAgICAgICAgICAgICAgIGlmIChmb250LmluZGV4T2YoJ3NtYWxsLWNhcHMnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gJ3NtYWxsLWNhcHMnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gJ25vcm1hbCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gZm9udFdlaWdodCBhbmQgZm9udEZhbWlseSBhcmUgdHJpY2tlciB0byBmaW5kLCBidXQgaXQncyBlYXNpZXIgdG8gZmluZCB0aGUgZm9udFNpemUgZHVlIHRvIGl0J3MgdW5pdHNcbiAgICAgICAgICAgICAgICB2YXIgc3BsaXRzID0gZm9udC5zcGxpdCgnICcpO1xuICAgICAgICAgICAgICAgIHZhciBmb250U2l6ZUluZGV4ID0gLTE7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IDI2O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BsaXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdHNbaV0ubWF0Y2goLyhweHxwdHxlbXwlKS8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZUluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gc3BsaXRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gbm93IHNlYXJjaCBmb3IgZm9udFdlaWdodCBhcyB3ZSBrbm93IGl0IG11c3Qgb2NjdXIgYmVmb3JlIHRoZSBmb250U2l6ZVxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSAnbm9ybWFsJztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZm9udFNpemVJbmRleDsgKytfaSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXRzW19pXS5tYXRjaCgvKGJvbGR8Ym9sZGVyfGxpZ2h0ZXJ8MTAwfDIwMHwzMDB8NDAwfDUwMHw2MDB8NzAwfDgwMHw5MDApLykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSBzcGxpdHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBhbmQgZmluYWxseSBqb2luIGV2ZXJ5dGhpbmcgdG9nZXRoZXIgYWZ0ZXIgdGhlIGZvbnRTaXplIGluIGNhc2UgdGhlIGZvbnQgZmFtaWx5IGhhcyBtdWx0aXBsZSB3b3Jkc1xuICAgICAgICAgICAgICAgIGlmIChmb250U2l6ZUluZGV4ID4gLTEgJiYgZm9udFNpemVJbmRleCA8IHNwbGl0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gZm9udFNpemVJbmRleCArIDE7IF9pMiA8IHNwbGl0cy5sZW5ndGg7ICsrX2kyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ICs9IHNwbGl0c1tfaTJdICsgJyAnO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9IHRoaXMuX2ZvbnRGYW1pbHkuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSAnQXJpYWwnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5UZXh0dXJlI3NldEZyYW1lXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUjc2V0RnJhbWVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZnJhbWUgLSBUaGUgZnJhbWUgdG8gc2V0LlxuICAgICAqL1xuICAgIGNvcmUuVGV4dHVyZS5wcm90b3R5cGUuc2V0RnJhbWUgPSBmdW5jdGlvbiBzZXRGcmFtZShmcmFtZSkge1xuICAgICAgICB0aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIHdhcm4oJ3NldEZyYW1lIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSBmcmFtZSBwcm9wZXJ0eSwgZS5nOiBteVRleHR1cmUuZnJhbWUgPSBmcmFtZTsnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBuYW1lIFBJWEkuVGV4dHVyZS5hZGRUZXh0dXJlVG9DYWNoZVxuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmFkZFRvQ2FjaGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjUuMFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgdGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIGNvcmUuVGV4dHVyZS5hZGRUZXh0dXJlVG9DYWNoZSA9IGZ1bmN0aW9uIGFkZFRleHR1cmVUb0NhY2hlKHRleHR1cmUsIGlkKSB7XG4gICAgICAgIGNvcmUuVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGlkKTtcbiAgICAgICAgd2FybignVGV4dHVyZS5hZGRUZXh0dXJlVG9DYWNoZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFRleHR1cmUuYWRkVG9DYWNoZSBmcm9tIG5vdyBvbi4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBuYW1lIFBJWEkuVGV4dHVyZS5yZW1vdmVUZXh0dXJlRnJvbUNhY2hlXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUucmVtb3ZlRnJvbUNhY2hlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC41LjBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIHRleHR1cmUgdG8gYmUgcmVtb3ZlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgdGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgY29yZS5UZXh0dXJlLnJlbW92ZVRleHR1cmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiByZW1vdmVUZXh0dXJlRnJvbUNhY2hlKGlkKSB7XG4gICAgICAgIHdhcm4oJ1RleHR1cmUucmVtb3ZlVGV4dHVyZUZyb21DYWNoZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlIGZyb20gbm93IG9uLiAnICsgJ0JlIGF3YXJlIHRoYXQgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgZG9lcyBub3QgYXV0b21hdGljYWxseSBpdHMgQmFzZVRleHR1cmUgZnJvbSB0aGUgQmFzZVRleHR1cmVDYWNoZS4gJyArICdGb3IgdGhhdCwgdXNlIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZScpO1xuXG4gICAgICAgIGNvcmUuQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKGlkKTtcblxuICAgICAgICByZXR1cm4gY29yZS5UZXh0dXJlLnJlbW92ZUZyb21DYWNoZShpZCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGZpbHRlcnMsIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuZmlsdGVycy5BYnN0cmFjdEZpbHRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RGaWx0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuNlxuICAgICAgICAgKi9cbiAgICAgICAgQWJzdHJhY3RGaWx0ZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ0FzdHJhY3RGaWx0ZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBGaWx0ZXIsIHBsZWFzZSB1c2UgUElYSS5GaWx0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLkFic3RyYWN0RmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5maWx0ZXJzLlNwcml0ZU1hc2tGaWx0ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZU1hc2tGaWx0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuNlxuICAgICAgICAgKi9cbiAgICAgICAgU3ByaXRlTWFza0ZpbHRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignZmlsdGVycy5TcHJpdGVNYXNrRmlsdGVyIGlzIGFuIHVuZG9jdW1lbnRlZCBhbGlhcywgcGxlYXNlIHVzZSBTcHJpdGVNYXNrRmlsdGVyIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuU3ByaXRlTWFza0ZpbHRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuZmlsdGVycy5Wb2lkRmlsdGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5maWx0ZXJzLkFscGhhRmlsdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC41LjdcbiAgICAgICAgICovXG4gICAgICAgIFZvaWRGaWx0ZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1ZvaWRGaWx0ZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBBbHBoYUZpbHRlciwgcGxlYXNlIHVzZSBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzLkFscGhhRmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS51dGlscy51dWlkXG4gICAgICogQHNlZSBQSVhJLnV0aWxzLnVpZFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjZcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB1aWRcbiAgICAgKi9cbiAgICBjb3JlLnV0aWxzLnV1aWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdhcm4oJ3V0aWxzLnV1aWQoKSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHV0aWxzLnVpZCgpIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLnV0aWxzLnVpZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS51dGlscy5jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzXG4gICAgICogQHNlZSBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIHVzZSBibGVuZCBtb2Rlcy5cbiAgICAgKi9cbiAgICBjb3JlLnV0aWxzLmNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdhcm4oJ3V0aWxzLmNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMoKSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIENhbnZhc1RpbnRlci5jYW5Vc2VNdWx0aXBseSBmcm9tIG5vdyBvbicpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLkNhbnZhc1RpbnRlci5jYW5Vc2VNdWx0aXBseTtcbiAgICB9O1xuXG4gICAgdmFyIHNhaWRIZWxsbyA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBQSVhJLnV0aWxzLl9zYWlkSGVsbG9cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAc2VlIFBJWEkudXRpbHMuc2tpcEhlbGxvXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC4xLjBcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29yZS51dGlscywgJ19zYWlkSGVsbG8nLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGJvb2wpIHtcbiAgICAgICAgICAgIGlmIChib29sKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS51dGlscy5fc2FpZEhlbGxvIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS51dGlscy5za2lwSGVsbG8oKScpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpcEhlbGxvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYWlkSGVsbG8gPSBib29sO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzYWlkSGVsbG87XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChwcmVwYXJlLkJhc2VQcmVwYXJlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBuYW1lIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZSNyZWdpc3RlclxuICAgICAgICAgKiBAc2VlIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZSNyZWdpc3RlckZpbmRIb29rXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC40LjJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2FkZEhvb2tdIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgaXRlbToqLCBxdWV1ZTpBcnJheWBcbiAgICAgICAgICogICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBhZGQgaXRlbSB0byB0aGUgcXVldWUuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFt1cGxvYWRIb29rXSAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYHByZXBhcmU6Q2FudmFzUHJlcGFyZSwgaXRlbToqYCBhbmRcbiAgICAgICAgICogICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBoYW5kbGUgdXBsb2FkIG9mIGl0ZW0uXG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICAgICAqL1xuICAgICAgICBwcmVwYXJlLkJhc2VQcmVwYXJlLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyKGFkZEhvb2ssIHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgIHdhcm4oJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5yZWdpc3RlciBpcyBub3cgZGVwcmVjYXRlZCwgJyArICdwbGVhc2UgdXNlIHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5yZWdpc3RlckZpbmRIb29rICYgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnJlZ2lzdGVyVXBsb2FkSG9vaycpO1xuXG4gICAgICAgICAgICBpZiAoYWRkSG9vaykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhhZGRIb29rKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRIb29rKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHByZXBhcmUuY2FudmFzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGdyYXBoaWNzIG9yIHRleHR1cmVzIHRvIHVwbG9hZCB0byB0aGUgR1BVLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnByZXBhcmUuY2FudmFzLlVQTE9BRFNfUEVSX0ZSQU1FXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmUubGltaXRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByZXBhcmUuY2FudmFzLCAnVVBMT0FEU19QRVJfRlJBTUUnLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkNhbnZhc1ByZXBhcmUuVVBMT0FEU19QRVJfRlJBTUUgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHNldCAnICsgJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyLm1heEl0ZW1zUGVyRnJhbWUgb24geW91ciByZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIsIHdlIGNhbid0IGFjdHVhbGx5IHNldFxuICAgICAgICAgICAgICAgIC8vIHRoZSB1cGxvYWRzIHBlciBmcmFtZSwgc28gd2UnbGwgaGF2ZSB0byBzdGljayB3aXRoIHRoZSB3YXJuaW5nLlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuQ2FudmFzUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgdXNlICcgKyAncmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLmxpbWl0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChwcmVwYXJlLndlYmdsKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGdyYXBoaWNzIG9yIHRleHR1cmVzIHRvIHVwbG9hZCB0byB0aGUgR1BVLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnByZXBhcmUud2ViZ2wuVVBMT0FEU19QRVJfRlJBTUVcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZS5saW1pdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJlcGFyZS53ZWJnbCwgJ1VQTE9BRFNfUEVSX0ZSQU1FJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5XZWJHTFByZXBhcmUuVVBMT0FEU19QRVJfRlJBTUUgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHNldCAnICsgJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyLm1heEl0ZW1zUGVyRnJhbWUgb24geW91ciByZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIsIHdlIGNhbid0IGFjdHVhbGx5IHNldFxuICAgICAgICAgICAgICAgIC8vIHRoZSB1cGxvYWRzIHBlciBmcmFtZSwgc28gd2UnbGwgaGF2ZSB0byBzdGljayB3aXRoIHRoZSB3YXJuaW5nLlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuV2ViR0xQcmVwYXJlLlVQTE9BRFNfUEVSX0ZSQU1FIGhhcyBiZWVuIHJlbW92ZWQuIFBsZWFzZSB1c2UgJyArICdyZW5kZXJlci5wbHVnaW5zLnByZXBhcmUubGltaXRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGxvYWRlcnMuTG9hZGVyKSB7XG4gICAgICAgIHZhciBSZXNvdXJjZSA9IGxvYWRlcnMuUmVzb3VyY2U7XG4gICAgICAgIHZhciBMb2FkZXIgPSBsb2FkZXJzLkxvYWRlcjtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhSZXNvdXJjZS5wcm90b3R5cGUsIHtcbiAgICAgICAgICAgIGlzSnNvbjoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNKc29uIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSlNPTmAuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5KU09OO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1htbDoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNYbWwgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5YTUxgLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFJlc291cmNlLlRZUEUuWE1MO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0ltYWdlOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBpc0ltYWdlIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0VgLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzQXVkaW86IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGlzQXVkaW8gcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5BVURJT2AuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5BVURJTztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNWaWRlbzoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNWaWRlbyBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLlZJREVPYC4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBSZXNvdXJjZS5UWVBFLlZJREVPO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTG9hZGVyLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgYmVmb3JlOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBiZWZvcmUoKSBtZXRob2QgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBwcmUoKS4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFmdGVyOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBhZnRlcigpIG1ldGhvZCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHVzZSgpLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldCNkZWZhdWx0Q3Vyc29yXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0I2N1cnNvclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjMuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0LCAnZGVmYXVsdEN1cnNvcicsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgZGVmYXVsdEN1cnNvciBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFxcJ2N1cnNvclxcJy4gJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQcm9wZXJ0eSBkZWZhdWx0Q3Vyc29yIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXFwnY3Vyc29yXFwnLiAnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnNvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZGVmYXVsdEN1cnNvclN0eWxlXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQHNlZSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNjdXJzb3JTdHlsZXNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC4zLjBcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIsICdkZWZhdWx0Q3Vyc29yU3R5bGUnLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1Byb3BlcnR5IGRlZmF1bHRDdXJzb3JTdHlsZSBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFxcJ2N1cnNvclN0eWxlcy5kZWZhdWx0XFwnLiAnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvclN0eWxlcy5kZWZhdWx0ID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgZGVmYXVsdEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXFwnY3Vyc29yU3R5bGVzLmRlZmF1bHRcXCcuICcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yU3R5bGVzLmRlZmF1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNjdXJyZW50Q3Vyc29yU3R5bGVcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAc2VlIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2N1cnNvclN0eWxlc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjMuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciwgJ2N1cnJlbnRDdXJzb3JTdHlsZScsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgY3VycmVudEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlbW92ZWQuJyArICdTZWUgdGhlIGN1cnJlbnRDdXJzb3JNb2RlIHByb3BlcnR5LCB3aGljaCB3b3JrcyBkaWZmZXJlbnRseS4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgY3VycmVudEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlbW92ZWQuJyArICdTZWUgdGhlIGN1cnJlbnRDdXJzb3JNb2RlIHByb3BlcnR5LCB3aGljaCB3b3JrcyBkaWZmZXJlbnRseS4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXByZWNhdGlvbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfID0gcmVxdWlyZSgnLi4vJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFV0aWxpdHkgY2xhc3MgZm9yIG1haW50YWluaW5nIHJlZmVyZW5jZSB0byBhIGNvbGxlY3Rpb25cbiAqIG9mIFRleHR1cmVzIG9uIGEgc2luZ2xlIFNwcml0ZXNoZWV0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZXNoZWV0ID0gZnVuY3Rpb24gKCkge1xuICAgIF9jcmVhdGVDbGFzcyhTcHJpdGVzaGVldCwgbnVsbCwgW3tcbiAgICAgICAga2V5OiAnQkFUQ0hfU0laRScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBUZXh0dXJlcyB0byBidWlsZCBwZXIgcHJvY2Vzcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTAwMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIFJlZmVyZW5jZSB0byB0aGUgc291cmNlIEJhc2VUZXh0dXJlIG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBTcHJpdGVzaGVldCBpbWFnZSBkYXRhLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc29sdXRpb25GaWxlbmFtZV0gLSBUaGUgZmlsZW5hbWUgdG8gY29uc2lkZXIgd2hlbiBkZXRlcm1pbmluZ1xuICAgICAgICAgKiAgICAgICAgdGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LiBJZiBub3QgcHJvdmlkZWQsIHRoZSBpbWFnZVVybCB3aWxsXG4gICAgICAgICAqICAgICAgICBiZSB1c2VkIG9uIHRoZSBCYXNlVGV4dHVyZS5cbiAgICAgICAgICovXG5cbiAgICB9XSk7XG5cbiAgICBmdW5jdGlvbiBTcHJpdGVzaGVldChiYXNlVGV4dHVyZSwgZGF0YSkge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbkZpbGVuYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcHJpdGVzaGVldCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aHMgc291cmNlIHRleHR1cmVcbiAgICAgICAgICogQHR5cGUge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcCBvZiBzcHJpdGVzaGVldCB0ZXh0dXJlcy5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBKU09OIGRhdGEuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSB0aGlzLl91cGRhdGVSZXNvbHV0aW9uKHJlc29sdXRpb25GaWxlbmFtZSB8fCB0aGlzLmJhc2VUZXh0dXJlLmltYWdlVXJsKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIG9mIHNwcml0ZXNoZWV0IGZyYW1lcy5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IHRoaXMuZGF0YS5mcmFtZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgZnJhbWUgbmFtZXMuXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmdbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX2ZyYW1lcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgYmF0Y2ggaW5kZXggYmVpbmcgcHJvY2Vzc2VkLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHdoZW4gcGFyc2UgaXMgY29tcGxldGVkLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgdGhlIHJlc29sdXRpb24gZnJvbSB0aGUgZmlsZW5hbWUgb3IgZmFsbGJhY2tcbiAgICAgKiB0byB0aGUgbWV0YS5zY2FsZSBmaWVsZCBvZiB0aGUgSlNPTiBkYXRhLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVzb2x1dGlvbkZpbGVuYW1lIC0gVGhlIGZpbGVuYW1lIHRvIHVzZSBmb3IgcmVzb2x2aW5nXG4gICAgICogICAgICAgIHRoZSBkZWZhdWx0IHJlc29sdXRpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uIHRvIHVzZSBmb3Igc3ByaXRlc2hlZXQuXG4gICAgICovXG5cblxuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fdXBkYXRlUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIF91cGRhdGVSZXNvbHV0aW9uKHJlc29sdXRpb25GaWxlbmFtZSkge1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmRhdGEubWV0YS5zY2FsZTtcblxuICAgICAgICAvLyBVc2UgYSBkZWZhdWx0VmFsdWUgb2YgYG51bGxgIHRvIGNoZWNrIGlmIGEgdXJsLWJhc2VkIHJlc29sdXRpb24gaXMgc2V0XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gKDAsIF91dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwpKHJlc29sdXRpb25GaWxlbmFtZSwgbnVsbCk7XG5cbiAgICAgICAgLy8gTm8gcmVzb2x1dGlvbiBmb3VuZCB2aWEgVVJMXG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHNjYWxlIHZhbHVlIG9yIGRlZmF1bHQgdG8gMVxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHNjYWxlICE9PSB1bmRlZmluZWQgPyBwYXJzZUZsb2F0KHNjYWxlKSA6IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3Igbm9uLTEgcmVzb2x1dGlvbnMsIHVwZGF0ZSBiYXNlVGV4dHVyZVxuICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFyc2VyIHNwcml0ZXNoZWV0IGZyb20gbG9hZGVkIGRhdGEuIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseVxuICAgICAqIHRvIHByZXZlbnQgY3JlYXRpbmcgdG9vIG1hbnkgVGV4dHVyZSB3aXRoaW4gYSBzaW5nbGUgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZSByZXR1cm5zXG4gICAgICogICAgICAgIGEgbWFwIG9mIHRoZSBUZXh0dXJlcyBmb3IgdGhpcyBzcHJpdGVzaGVldC5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGggPD0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSkge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcygwKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBiYXRjaCBvZiBmcmFtZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxGcmFtZUluZGV4IC0gVGhlIGluZGV4IG9mIGZyYW1lIHRvIHN0YXJ0LlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3Byb2Nlc3NGcmFtZXMgPSBmdW5jdGlvbiBfcHJvY2Vzc0ZyYW1lcyhpbml0aWFsRnJhbWVJbmRleCkge1xuICAgICAgICB2YXIgZnJhbWVJbmRleCA9IGluaXRpYWxGcmFtZUluZGV4O1xuICAgICAgICB2YXIgbWF4RnJhbWVzID0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRTtcbiAgICAgICAgdmFyIHNvdXJjZVNjYWxlID0gdGhpcy5iYXNlVGV4dHVyZS5zb3VyY2VTY2FsZTtcblxuICAgICAgICB3aGlsZSAoZnJhbWVJbmRleCAtIGluaXRpYWxGcmFtZUluZGV4IDwgbWF4RnJhbWVzICYmIGZyYW1lSW5kZXggPCB0aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMuX2ZyYW1lS2V5c1tmcmFtZUluZGV4XTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZnJhbWVzW2ldO1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICBpZiAocmVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHRyaW0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VTaXplID0gZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNvdXJjZVNpemUgPyBkYXRhLnNvdXJjZVNpemUgOiBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICAgICAgdmFyIG9yaWcgPSBuZXcgXy5SZWN0YW5nbGUoMCwgMCwgTWF0aC5mbG9vcihzb3VyY2VTaXplLncgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3Ioc291cmNlU2l6ZS5oICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJvdGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgXy5SZWN0YW5nbGUoTWF0aC5mbG9vcihyZWN0LnggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC55ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IF8uUmVjdGFuZ2xlKE1hdGguZmxvb3IocmVjdC54ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QueSAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyAgQ2hlY2sgdG8gc2VlIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZFxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc3ByaXRlU291cmNlU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cmltID0gbmV3IF8uUmVjdGFuZ2xlKE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLnggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLnkgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXSA9IG5ldyBfLlRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIGRhdGEucm90YXRlZCA/IDIgOiAwKTtcblxuICAgICAgICAgICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yIGZyb21GcmFtZSBhbmQgZnJvbUltYWdlIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAgIF8uVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMudGV4dHVyZXNbaV0sIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBhcnNlIGhhcyBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3BhcnNlQ29tcGxldGUgPSBmdW5jdGlvbiBfcGFyc2VDb21wbGV0ZSgpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLnRleHR1cmVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmVnaW4gdGhlIG5leHQgYmF0Y2ggb2YgdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX25leHRCYXRjaCA9IGZ1bmN0aW9uIF9uZXh0QmF0Y2goKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcyh0aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSk7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXgrKztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFIDwgX3RoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IFNwcml0ZXNoZWV0IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIGRlc3Ryb3lCYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZyYW1lS2V5cyA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSBudWxsO1xuICAgICAgICBpZiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlc2hlZXQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZXNoZWV0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ByaXRlc2hlZXQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5XG4gKiBub3cgc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgQ2FudmFzR3JhcGhpY3NSZW5kZXJlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvMS4wLjAvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2dsdXRpbHMvU2hhcGVSZW5kZXJlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gZHJhd2luZyBhbmQgYmF0Y2hpbmcgZ3JhcGhpY3Mgb2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ2FudmFzR3JhcGhpY3NSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGN1cnJlbnQgUElYSSByZW5kZXJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNHcmFwaGljc1JlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNHcmFwaGljc1JlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIEdyYXBoaWNzIG9iamVjdCB0byBhIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSB0aGUgYWN0dWFsIGdyYXBoaWNzIG9iamVjdCB0byByZW5kZXJcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKGdyYXBoaWNzKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBjb250ZXh0ID0gcmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdmFyIHdvcmxkQWxwaGEgPSBncmFwaGljcy53b3JsZEFscGhhO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gZ3JhcGhpY3MudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgLy8gaWYgdGhlIHRpbnQgaGFzIGNoYW5nZWQsIHNldCB0aGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIGRpcnR5LlxuICAgICAgICBpZiAodGhpcy5fcHJldlRpbnQgIT09IHRoaXMudGludCkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5iICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmMgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uZCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIGlmIChncmFwaGljcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVHcmFwaGljc1RpbnQoZ3JhcGhpY3MpO1xuICAgICAgICAgICAgZ3JhcGhpY3MuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZShncmFwaGljcy5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IGRhdGEuc2hhcGU7XG5cbiAgICAgICAgICAgIHZhciBmaWxsQ29sb3IgPSBkYXRhLl9maWxsVGludDtcbiAgICAgICAgICAgIHZhciBsaW5lQ29sb3IgPSBkYXRhLl9saW5lVGludDtcblxuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBkYXRhLmxpbmVXaWR0aDtcblxuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5QT0xZKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUG9seWdvbihzaGFwZS5wb2ludHMsIHNoYXBlLmNsb3NlZCwgY29udGV4dCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEuaG9sZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQb2x5Z29uKGRhdGEuaG9sZXNbal0ucG9pbnRzLCB0cnVlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmZpbGxBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoZmlsbENvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUkVDVCkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGxDb2xvciB8fCBkYXRhLmZpbGxDb2xvciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5maWxsQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGZpbGxDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdChzaGFwZS54LCBzaGFwZS55LCBzaGFwZS53aWR0aCwgc2hhcGUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlUmVjdChzaGFwZS54LCBzaGFwZS55LCBzaGFwZS53aWR0aCwgc2hhcGUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5DSVJDKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyAtIG5lZWQgdG8gYmUgVW5kZWZpbmVkIVxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEuZmlsbEFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChmaWxsQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEubGluZUFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGxpbmVDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5FTElQKSB7XG4gICAgICAgICAgICAgICAgLy8gZWxsaXBzZSBjb2RlIHRha2VuIGZyb206IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjE3Mjc5OC9ob3ctdG8tZHJhdy1hbi1vdmFsLWluLWh0bWw1LWNhbnZhc1xuXG4gICAgICAgICAgICAgICAgdmFyIHcgPSBzaGFwZS53aWR0aCAqIDI7XG4gICAgICAgICAgICAgICAgdmFyIGggPSBzaGFwZS5oZWlnaHQgKiAyO1xuXG4gICAgICAgICAgICAgICAgdmFyIHggPSBzaGFwZS54IC0gdyAvIDI7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBzaGFwZS55IC0gaCAvIDI7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGthcHBhID0gMC41NTIyODQ4O1xuICAgICAgICAgICAgICAgIHZhciBveCA9IHcgLyAyICoga2FwcGE7IC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IGhvcml6b250YWxcbiAgICAgICAgICAgICAgICB2YXIgb3kgPSBoIC8gMiAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCB2ZXJ0aWNhbFxuICAgICAgICAgICAgICAgIHZhciB4ZSA9IHggKyB3OyAvLyB4LWVuZFxuICAgICAgICAgICAgICAgIHZhciB5ZSA9IHkgKyBoOyAvLyB5LWVuZFxuICAgICAgICAgICAgICAgIHZhciB4bSA9IHggKyB3IC8gMjsgLy8geC1taWRkbGVcbiAgICAgICAgICAgICAgICB2YXIgeW0gPSB5ICsgaCAvIDI7IC8vIHktbWlkZGxlXG5cbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4LCB5bSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHgsIHltIC0gb3ksIHhtIC0gb3gsIHksIHhtLCB5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeG0gKyBveCwgeSwgeGUsIHltIC0gb3ksIHhlLCB5bSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhlLCB5bSArIG95LCB4bSArIG94LCB5ZSwgeG0sIHllKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeG0gLSBveCwgeWUsIHgsIHltICsgb3ksIHgsIHltKTtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmZpbGxBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoZmlsbENvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUlJFQykge1xuICAgICAgICAgICAgICAgIHZhciByeCA9IHNoYXBlLng7XG4gICAgICAgICAgICAgICAgdmFyIHJ5ID0gc2hhcGUueTtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBzaGFwZS53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gc2hhcGUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZhciByYWRpdXMgPSBzaGFwZS5yYWRpdXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWF4UmFkaXVzID0gTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyAyIHwgMDtcblxuICAgICAgICAgICAgICAgIHJhZGl1cyA9IHJhZGl1cyA+IG1heFJhZGl1cyA/IG1heFJhZGl1cyA6IHJhZGl1cztcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocngsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCwgcnkgKyBoZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCwgcnkgKyBoZWlnaHQsIHJ4ICsgcmFkaXVzLCByeSArIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyB3aWR0aCAtIHJhZGl1cywgcnkgKyBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCArIHdpZHRoLCByeSArIGhlaWdodCwgcnggKyB3aWR0aCwgcnkgKyBoZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgd2lkdGgsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocnggKyB3aWR0aCwgcnksIHJ4ICsgd2lkdGggLSByYWRpdXMsIHJ5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHJhZGl1cywgcnkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCwgcnksIHJ4LCByeSArIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGxDb2xvciB8fCBkYXRhLmZpbGxDb2xvciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5maWxsQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGZpbGxDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRpbnQgb2YgYSBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIHRoZSBncmFwaGljcyB0aGF0IHdpbGwgaGF2ZSBpdHMgdGludCB1cGRhdGVkXG4gICAgICovXG5cblxuICAgIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZUdyYXBoaWNzVGludCA9IGZ1bmN0aW9uIHVwZGF0ZUdyYXBoaWNzVGludChncmFwaGljcykge1xuICAgICAgICBncmFwaGljcy5fcHJldlRpbnQgPSBncmFwaGljcy50aW50O1xuXG4gICAgICAgIHZhciB0aW50UiA9IChncmFwaGljcy50aW50ID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciB0aW50RyA9IChncmFwaGljcy50aW50ID4+IDggJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIHRpbnRCID0gKGdyYXBoaWNzLnRpbnQgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoaWNzLmdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljcy5ncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgIHZhciBmaWxsQ29sb3IgPSBkYXRhLmZpbGxDb2xvciB8IDA7XG4gICAgICAgICAgICB2YXIgbGluZUNvbG9yID0gZGF0YS5saW5lQ29sb3IgfCAwO1xuXG4gICAgICAgICAgICAvLyBzdXBlciBpbmxpbmUsIGNvcyBvcHRpbWl6YXRpb24gOilcbiAgICAgICAgICAgIGRhdGEuX2ZpbGxUaW50ID0gKChmaWxsQ29sb3IgPj4gMTYgJiAweEZGKSAvIDI1NSAqIHRpbnRSICogMjU1IDw8IDE2KSArICgoZmlsbENvbG9yID4+IDggJiAweEZGKSAvIDI1NSAqIHRpbnRHICogMjU1IDw8IDgpICsgKGZpbGxDb2xvciAmIDB4RkYpIC8gMjU1ICogdGludEIgKiAyNTU7XG5cbiAgICAgICAgICAgIGRhdGEuX2xpbmVUaW50ID0gKChsaW5lQ29sb3IgPj4gMTYgJiAweEZGKSAvIDI1NSAqIHRpbnRSICogMjU1IDw8IDE2KSArICgobGluZUNvbG9yID4+IDggJiAweEZGKSAvIDI1NSAqIHRpbnRHICogMjU1IDw8IDgpICsgKGxpbmVDb2xvciAmIDB4RkYpIC8gMjU1ICogdGludEIgKiAyNTU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIHBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXX0gcG9pbnRzIC0gVGhlIHBvaW50cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NlIC0gU2hvdWxkIHRoZSBwb2x5Z29uIGJlIGNsb3NlZFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IC0gVGhlIHJlbmRlcmluZyBjb250ZXh0IHRvIHVzZVxuICAgICAqL1xuXG5cbiAgICBDYW52YXNHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJQb2x5Z29uID0gZnVuY3Rpb24gcmVuZGVyUG9seWdvbihwb2ludHMsIGNsb3NlLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMTsgaiA8IHBvaW50cy5sZW5ndGggLyAyOyArK2opIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvaW50c1tqICogMl0sIHBvaW50c1tqICogMiArIDFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbG9zZSkge1xuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IGdyYXBoaWNzIG9iamVjdFxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhbnZhc0dyYXBoaWNzUmVuZGVyZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc0dyYXBoaWNzUmVuZGVyZXI7XG5cblxuX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdncmFwaGljcycsIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzR3JhcGhpY3NSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBidWlsZENpcmNsZTtcblxudmFyIF9idWlsZExpbmUgPSByZXF1aXJlKCcuL2J1aWxkTGluZScpO1xuXG52YXIgX2J1aWxkTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZExpbmUpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQnVpbGRzIGEgY2lyY2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIGRyYXdcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZENpcmNsZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpIHtcbiAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICB2YXIgY2lyY2xlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgeCA9IGNpcmNsZURhdGEueDtcbiAgICB2YXIgeSA9IGNpcmNsZURhdGEueTtcbiAgICB2YXIgd2lkdGggPSB2b2lkIDA7XG4gICAgdmFyIGhlaWdodCA9IHZvaWQgMDtcblxuICAgIC8vIFRPRE8gLSBiaXQgaGFja3k/P1xuICAgIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5DSVJDKSB7XG4gICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgIGhlaWdodCA9IGNpcmNsZURhdGEucmFkaXVzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS53aWR0aDtcbiAgICAgICAgaGVpZ2h0ID0gY2lyY2xlRGF0YS5oZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRvdGFsU2VncyA9IE1hdGguZmxvb3IoMzAgKiBNYXRoLnNxcnQoY2lyY2xlRGF0YS5yYWRpdXMpKSB8fCBNYXRoLmZsb29yKDE1ICogTWF0aC5zcXJ0KGNpcmNsZURhdGEud2lkdGggKyBjaXJjbGVEYXRhLmhlaWdodCkpO1xuXG4gICAgdmFyIHNlZyA9IE1hdGguUEkgKiAyIC8gdG90YWxTZWdzO1xuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5maWxsKSB7XG4gICAgICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmZpbGxDb2xvcik7XG4gICAgICAgIHZhciBhbHBoYSA9IGdyYXBoaWNzRGF0YS5maWxsQWxwaGE7XG5cbiAgICAgICAgdmFyIHIgPSBjb2xvclswXSAqIGFscGhhO1xuICAgICAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgICAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciB2ZWNQb3MgPSB2ZXJ0cy5sZW5ndGggLyA2O1xuXG4gICAgICAgIGluZGljZXMucHVzaCh2ZWNQb3MpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxTZWdzICsgMTsgaSsrKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgsIHksIHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaCh4ICsgTWF0aC5zaW4oc2VnICogaSkgKiB3aWR0aCwgeSArIE1hdGguY29zKHNlZyAqIGkpICogaGVpZ2h0LCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2ZWNQb3MrKywgdmVjUG9zKyspO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kaWNlcy5wdXNoKHZlY1BvcyAtIDEpO1xuICAgIH1cblxuICAgIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoKSB7XG4gICAgICAgIHZhciB0ZW1wUG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRvdGFsU2VncyArIDE7IF9pKyspIHtcbiAgICAgICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMucHVzaCh4ICsgTWF0aC5zaW4oc2VnICogLV9pKSAqIHdpZHRoLCB5ICsgTWF0aC5jb3Moc2VnICogLV9pKSAqIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICAoMCwgX2J1aWxkTGluZTIuZGVmYXVsdCkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gdGVtcFBvaW50cztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZENpcmNsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBidWlsZFJvdW5kZWRSZWN0YW5nbGU7XG5cbnZhciBfZWFyY3V0ID0gcmVxdWlyZSgnZWFyY3V0Jyk7XG5cbnZhciBfZWFyY3V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VhcmN1dCk7XG5cbnZhciBfYnVpbGRMaW5lID0gcmVxdWlyZSgnLi9idWlsZExpbmUnKTtcblxudmFyIF9idWlsZExpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRMaW5lKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQnVpbGRzIGEgcm91bmRlZCByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGRSb3VuZGVkUmVjdGFuZ2xlKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcykge1xuICAgIHZhciBycmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHggPSBycmVjdERhdGEueDtcbiAgICB2YXIgeSA9IHJyZWN0RGF0YS55O1xuICAgIHZhciB3aWR0aCA9IHJyZWN0RGF0YS53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gcnJlY3REYXRhLmhlaWdodDtcblxuICAgIHZhciByYWRpdXMgPSBycmVjdERhdGEucmFkaXVzO1xuXG4gICAgdmFyIHJlY1BvaW50cyA9IFtdO1xuXG4gICAgcmVjUG9pbnRzLnB1c2goeCwgeSArIHJhZGl1cyk7XG4gICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCwgeSArIGhlaWdodCAtIHJhZGl1cywgeCwgeSArIGhlaWdodCwgeCArIHJhZGl1cywgeSArIGhlaWdodCwgcmVjUG9pbnRzKTtcbiAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGggLSByYWRpdXMsIHkgKyBoZWlnaHQsIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gcmFkaXVzLCByZWNQb2ludHMpO1xuICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCwgeSArIHJhZGl1cywgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGggLSByYWRpdXMsIHksIHJlY1BvaW50cyk7XG4gICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHJhZGl1cywgeSwgeCwgeSwgeCwgeSArIHJhZGl1cyArIDAuMDAwMDAwMDAwMSwgcmVjUG9pbnRzKTtcblxuICAgIC8vIHRoaXMgdGlueSBudW1iZXIgZGVhbHMgd2l0aCB0aGUgaXNzdWUgdGhhdCBvY2N1cnMgd2hlbiBwb2ludHMgb3ZlcmxhcCBhbmQgZWFyY3V0IGZhaWxzIHRvIHRyaWFuZ3VsYXRlIHRoZSBpdGVtLlxuICAgIC8vIFRPRE8gLSBmaXggdGhpcyBwcm9wZXJseSwgdGhpcyBpcyBub3QgdmVyeSBlbGVnYW50Li4gYnV0IGl0IHdvcmtzIGZvciBub3cuXG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmZpbGwpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEuZmlsbENvbG9yKTtcbiAgICAgICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmZpbGxBbHBoYTtcblxuICAgICAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG5cbiAgICAgICAgdmFyIHZlY1BvcyA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAgICAgdmFyIHRyaWFuZ2xlcyA9ICgwLCBfZWFyY3V0Mi5kZWZhdWx0KShyZWNQb2ludHMsIG51bGwsIDIpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdHJpYW5nbGVzLmxlbmd0aDsgaSA8IGo7IGkgKz0gMykge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDFdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2ogPSByZWNQb2ludHMubGVuZ3RoOyBfaSA8IF9qOyBfaSsrKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHJlY1BvaW50c1tfaV0sIHJlY1BvaW50c1srK19pXSwgciwgZywgYiwgYWxwaGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgdmFyIHRlbXBQb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSByZWNQb2ludHM7XG5cbiAgICAgICAgKDAsIF9idWlsZExpbmUyLmRlZmF1bHQpKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG5cbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IHRlbXBQb2ludHM7XG4gICAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBhIHNpbmdsZSBwb2ludCBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLlxuICogVXRpbGl0eSBmdW5jdGlvbiB1c2VkIGJ5IHF1YWRyYXRpY0JlemllckN1cnZlLlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuMSAtIGZpcnN0IG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IG4yIC0gc2Vjb25kIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHBlcmMgLSBwZXJjZW50YWdlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSByZXN1bHRcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldFB0KG4xLCBuMiwgcGVyYykge1xuICAgIHZhciBkaWZmID0gbjIgLSBuMTtcblxuICAgIHJldHVybiBuMSArIGRpZmYgKiBwZXJjO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuIChoZWxwZXIgZnVuY3Rpb24uLilcbiAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtvdXQ9W11dIC0gVGhlIG91dHB1dCBhcnJheSB0byBhZGQgcG9pbnRzIGludG8uIElmIG5vdCBwYXNzZWQsIGEgbmV3IGFycmF5IGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gYW4gYXJyYXkgb2YgcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHF1YWRyYXRpY0JlemllckN1cnZlKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSB7XG4gICAgdmFyIG91dCA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogW107XG5cbiAgICB2YXIgbiA9IDIwO1xuICAgIHZhciBwb2ludHMgPSBvdXQ7XG5cbiAgICB2YXIgeGEgPSAwO1xuICAgIHZhciB5YSA9IDA7XG4gICAgdmFyIHhiID0gMDtcbiAgICB2YXIgeWIgPSAwO1xuICAgIHZhciB4ID0gMDtcbiAgICB2YXIgeSA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgIGogPSBpIC8gbjtcblxuICAgICAgICAvLyBUaGUgR3JlZW4gTGluZVxuICAgICAgICB4YSA9IGdldFB0KGZyb21YLCBjcFgsIGopO1xuICAgICAgICB5YSA9IGdldFB0KGZyb21ZLCBjcFksIGopO1xuICAgICAgICB4YiA9IGdldFB0KGNwWCwgdG9YLCBqKTtcbiAgICAgICAgeWIgPSBnZXRQdChjcFksIHRvWSwgaik7XG5cbiAgICAgICAgLy8gVGhlIEJsYWNrIERvdFxuICAgICAgICB4ID0gZ2V0UHQoeGEsIHhiLCBqKTtcbiAgICAgICAgeSA9IGdldFB0KHlhLCB5Yiwgaik7XG5cbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50cztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkUm91bmRlZFJlY3RhbmdsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBidWlsZFJlY3RhbmdsZTtcblxudmFyIF9idWlsZExpbmUgPSByZXF1aXJlKCcuL2J1aWxkTGluZScpO1xuXG52YXIgX2J1aWxkTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZExpbmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBCdWlsZHMgYSByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGRSZWN0YW5nbGUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKSB7XG4gICAgLy8gLS0tIC8vXG4gICAgLy8gbmVlZCB0byBjb252ZXJ0IHBvaW50cyB0byBhIG5pY2UgcmVndWxhciBkYXRhXG4gICAgLy9cbiAgICB2YXIgcmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHggPSByZWN0RGF0YS54O1xuICAgIHZhciB5ID0gcmVjdERhdGEueTtcbiAgICB2YXIgd2lkdGggPSByZWN0RGF0YS53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gcmVjdERhdGEuaGVpZ2h0O1xuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5maWxsKSB7XG4gICAgICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmZpbGxDb2xvcik7XG4gICAgICAgIHZhciBhbHBoYSA9IGdyYXBoaWNzRGF0YS5maWxsQWxwaGE7XG5cbiAgICAgICAgdmFyIHIgPSBjb2xvclswXSAqIGFscGhhO1xuICAgICAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgICAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gNjtcblxuICAgICAgICAvLyBzdGFydFxuICAgICAgICB2ZXJ0cy5wdXNoKHgsIHkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHggKyB3aWR0aCwgeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2goeCwgeSArIGhlaWdodCk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2goeCArIHdpZHRoLCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgLy8gaW5zZXJ0IDIgZGVhZCB0cmlhbmdsZXMuLlxuICAgICAgICBpbmRpY2VzLnB1c2godmVydFBvcywgdmVydFBvcywgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLCB2ZXJ0UG9zICsgMywgdmVydFBvcyArIDMpO1xuICAgIH1cblxuICAgIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoKSB7XG4gICAgICAgIHZhciB0ZW1wUG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gW3gsIHksIHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4LCB5ICsgaGVpZ2h0LCB4LCB5XTtcblxuICAgICAgICAoMCwgX2J1aWxkTGluZTIuZGVmYXVsdCkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gdGVtcFBvaW50cztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFJlY3RhbmdsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBidWlsZFBvbHk7XG5cbnZhciBfYnVpbGRMaW5lID0gcmVxdWlyZSgnLi9idWlsZExpbmUnKTtcblxudmFyIF9idWlsZExpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRMaW5lKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfZWFyY3V0ID0gcmVxdWlyZSgnZWFyY3V0Jyk7XG5cbnZhciBfZWFyY3V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VhcmN1dCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQnVpbGRzIGEgcG9seWdvbiB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZFBvbHkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKSB7XG4gICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IGdyYXBoaWNzRGF0YS5zaGFwZS5wb2ludHMuc2xpY2UoKTtcblxuICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5maWxsICYmIHBvaW50cy5sZW5ndGggPj0gNikge1xuICAgICAgICB2YXIgaG9sZUFycmF5ID0gW107XG4gICAgICAgIC8vIFByb2Nlc3MgaG9sZXMuLlxuICAgICAgICB2YXIgaG9sZXMgPSBncmFwaGljc0RhdGEuaG9sZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGhvbGUgPSBob2xlc1tpXTtcblxuICAgICAgICAgICAgaG9sZUFycmF5LnB1c2gocG9pbnRzLmxlbmd0aCAvIDIpO1xuXG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KGhvbGUucG9pbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBmaXJzdCBhbmQgbGFzdCBwb2ludC4uIGZpZ3VyZSBvdXQgdGhlIG1pZGRsZSFcbiAgICAgICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSB3ZWJHTERhdGEuaW5kaWNlcztcblxuICAgICAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgLy8gc29ydCBjb2xvclxuICAgICAgICB2YXIgY29sb3IgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGdyYXBoaWNzRGF0YS5maWxsQ29sb3IpO1xuICAgICAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEuZmlsbEFscGhhO1xuICAgICAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgICAgIHZhciB0cmlhbmdsZXMgPSAoMCwgX2VhcmN1dDIuZGVmYXVsdCkocG9pbnRzLCBob2xlQXJyYXksIDIpO1xuXG4gICAgICAgIGlmICghdHJpYW5nbGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IF9pICs9IDMpIHtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbX2ldICsgdmVydFBvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW19pXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tfaSArIDFdICsgdmVydFBvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW19pICsgMl0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbX2kgKyAyXSArIHZlcnRQb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgICAgdmVydHMucHVzaChwb2ludHNbX2kyICogMl0sIHBvaW50c1tfaTIgKiAyICsgMV0sIHIsIGcsIGIsIGFscGhhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoID4gMCkge1xuICAgICAgICAoMCwgX2J1aWxkTGluZTIuZGVmYXVsdCkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFBvbHkuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1NoYWRlcjIgPSByZXF1aXJlKCcuLi8uLi8uLi9TaGFkZXInKTtcblxudmFyIF9TaGFkZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hhZGVyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGlzIHNoYWRlciBpcyB1c2VkIHRvIGRyYXcgc2ltcGxlIHByaW1pdGl2ZSBzaGFwZXMgZm9yIHtAbGluayBQSVhJLkdyYXBoaWNzfS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG52YXIgUHJpbWl0aXZlU2hhZGVyID0gZnVuY3Rpb24gKF9TaGFkZXIpIHtcbiAgICBfaW5oZXJpdHMoUHJpbWl0aXZlU2hhZGVyLCBfU2hhZGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSB3ZWJnbCBzaGFkZXIgbWFuYWdlciB0aGlzIHNoYWRlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlU2hhZGVyKGdsKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcmltaXRpdmVTaGFkZXIpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfU2hhZGVyLmNhbGwodGhpcywgZ2wsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgWydhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247JywgJ2F0dHJpYnV0ZSB2ZWM0IGFDb2xvcjsnLCAndW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4OycsICd1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDsnLCAndW5pZm9ybSBmbG9hdCBhbHBoYTsnLCAndW5pZm9ybSB2ZWMzIHRpbnQ7JywgJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTsnLCAnICAgdkNvbG9yID0gYUNvbG9yICogdmVjNCh0aW50ICogYWxwaGEsIGFscGhhKTsnLCAnfSddLmpvaW4oJ1xcbicpLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgWyd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsICd2b2lkIG1haW4odm9pZCl7JywgJyAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjsnLCAnfSddLmpvaW4oJ1xcbicpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByaW1pdGl2ZVNoYWRlcjtcbn0oX1NoYWRlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFByaW1pdGl2ZVNoYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByaW1pdGl2ZVNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgV2ViR0wgc3BlY2lmaWMgcHJvcGVydGllcyB0byBiZSB1c2VkIGJ5IHRoZSBXZWJHTCByZW5kZXJlclxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBXZWJHTEdyYXBoaWNzRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSBUaGUgc2hhZGVyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBhdHRyaWJzU3RhdGUgLSBUaGUgc3RhdGUgZm9yIHRoZSBWQU9cbiAgICovXG4gIGZ1bmN0aW9uIFdlYkdMR3JhcGhpY3NEYXRhKGdsLCBzaGFkZXIsIGF0dHJpYnNTdGF0ZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJHTEdyYXBoaWNzRGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgKi9cbiAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAvLyBUT0RPIGRvZXMgdGhpcyBuZWVkIHRvIGJlIHNwbGl0IGJlZm9yZSB1cGxvYWRpbmc/P1xuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGNvbG9yIGNvbXBvbmVudHMgKHIsZyxiKVxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqL1xuICAgIHRoaXMuY29sb3IgPSBbMCwgMCwgMF07IC8vIGNvbG9yIHNwbGl0IVxuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRvIGRyYXdcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50W119XG4gICAgICovXG4gICAgdGhpcy5wb2ludHMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqL1xuICAgIHRoaXMuaW5kaWNlcyA9IFtdO1xuICAgIC8qKlxuICAgICAqIFRoZSBtYWluIGJ1ZmZlclxuICAgICAqIEBtZW1iZXIge1dlYkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuYnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBidWZmZXJcbiAgICAgKiBAbWVtYmVyIHtXZWJHTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLmluZGV4QnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIoZ2wpO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIGdyYXBoaWNzIGlzIGRpcnR5IG9yIG5vdFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgZ3JhcGhpY3MgaXMgbmF0aXZlTGluZXMgb3Igbm90XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm5hdGl2ZUxpbmVzID0gZmFsc2U7XG5cbiAgICB0aGlzLmdsUG9pbnRzID0gbnVsbDtcbiAgICB0aGlzLmdsSW5kaWNlcyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAqL1xuICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuXG4gICAgdGhpcy52YW8gPSBuZXcgX3BpeGlHbENvcmUyLmRlZmF1bHQuVmVydGV4QXJyYXlPYmplY3QoZ2wsIGF0dHJpYnNTdGF0ZSkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcikuYWRkQXR0cmlidXRlKHRoaXMuYnVmZmVyLCBzaGFkZXIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sIGdsLkZMT0FULCBmYWxzZSwgNCAqIDYsIDApLmFkZEF0dHJpYnV0ZSh0aGlzLmJ1ZmZlciwgc2hhZGVyLmF0dHJpYnV0ZXMuYUNvbG9yLCBnbC5GTE9BVCwgZmFsc2UsIDQgKiA2LCAyICogNCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSB2ZXJ0aWNlcyBhbmQgdGhlIGluZGljZXNcbiAgICovXG5cblxuICBXZWJHTEdyYXBoaWNzRGF0YS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyB0aGUgYnVmZmVycyBhbmQgdXBsb2FkcyB0aGUgZGF0YVxuICAgKi9cblxuXG4gIFdlYkdMR3JhcGhpY3NEYXRhLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQoKSB7XG4gICAgdGhpcy5nbFBvaW50cyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5wb2ludHMpO1xuICAgIHRoaXMuYnVmZmVyLnVwbG9hZCh0aGlzLmdsUG9pbnRzKTtcblxuICAgIHRoaXMuZ2xJbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KHRoaXMuaW5kaWNlcyk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci51cGxvYWQodGhpcy5nbEluZGljZXMpO1xuXG4gICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFbXB0aWVzIGFsbCB0aGUgZGF0YVxuICAgKi9cblxuXG4gIFdlYkdMR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLmNvbG9yID0gbnVsbDtcbiAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblxuICAgIHRoaXMudmFvLmRlc3Ryb3koKTtcbiAgICB0aGlzLmJ1ZmZlci5kZXN0cm95KCk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG5cbiAgICB0aGlzLmdsID0gbnVsbDtcblxuICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgIHRoaXMuZ2xQb2ludHMgPSBudWxsO1xuICAgIHRoaXMuZ2xJbmRpY2VzID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gV2ViR0xHcmFwaGljc0RhdGE7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMR3JhcGhpY3NEYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViR0xHcmFwaGljc0RhdGEuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL09iamVjdFJlbmRlcmVyJyk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JqZWN0UmVuZGVyZXIyKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXInKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUmVuZGVyZXIpO1xuXG52YXIgX1dlYkdMR3JhcGhpY3NEYXRhID0gcmVxdWlyZSgnLi9XZWJHTEdyYXBoaWNzRGF0YScpO1xuXG52YXIgX1dlYkdMR3JhcGhpY3NEYXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMR3JhcGhpY3NEYXRhKTtcblxudmFyIF9QcmltaXRpdmVTaGFkZXIgPSByZXF1aXJlKCcuL3NoYWRlcnMvUHJpbWl0aXZlU2hhZGVyJyk7XG5cbnZhciBfUHJpbWl0aXZlU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ByaW1pdGl2ZVNoYWRlcik7XG5cbnZhciBfYnVpbGRQb2x5ID0gcmVxdWlyZSgnLi91dGlscy9idWlsZFBvbHknKTtcblxudmFyIF9idWlsZFBvbHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRQb2x5KTtcblxudmFyIF9idWlsZFJlY3RhbmdsZSA9IHJlcXVpcmUoJy4vdXRpbHMvYnVpbGRSZWN0YW5nbGUnKTtcblxudmFyIF9idWlsZFJlY3RhbmdsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZFJlY3RhbmdsZSk7XG5cbnZhciBfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi91dGlscy9idWlsZFJvdW5kZWRSZWN0YW5nbGUnKTtcblxudmFyIF9idWlsZFJvdW5kZWRSZWN0YW5nbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlKTtcblxudmFyIF9idWlsZENpcmNsZSA9IHJlcXVpcmUoJy4vdXRpbHMvYnVpbGRDaXJjbGUnKTtcblxudmFyIF9idWlsZENpcmNsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZENpcmNsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBSZW5kZXJzIHRoZSBncmFwaGljcyBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG52YXIgR3JhcGhpY3NSZW5kZXJlciA9IGZ1bmN0aW9uIChfT2JqZWN0UmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoR3JhcGhpY3NSZW5kZXJlciwgX09iamVjdFJlbmRlcmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG9iamVjdCByZW5kZXJlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JhcGhpY3NSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JhcGhpY3NSZW5kZXJlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX09iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5ncmFwaGljc0RhdGFQb29sID0gW107XG5cbiAgICAgICAgX3RoaXMucHJpbWl0aXZlU2hhZGVyID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5nbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIC8vIGVhc3kgYWNjZXNzIVxuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGVyZSBpcyBhIFdlYkdMIGNvbnRleHQgY2hhbmdlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICB0aGlzLnByaW1pdGl2ZVNoYWRlciA9IG5ldyBfUHJpbWl0aXZlU2hhZGVyMi5kZWZhdWx0KHRoaXMuZ2wpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBfT2JqZWN0UmVuZGVyZXIzLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhUG9vbC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFQb29sW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhUG9vbCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBncmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gVGhlIGdyYXBoaWNzIG9iamVjdCB0byByZW5kZXIuXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihncmFwaGljcykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICB2YXIgd2ViR0xEYXRhID0gdm9pZCAwO1xuICAgICAgICB2YXIgd2ViR0wgPSBncmFwaGljcy5fd2ViR0xbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCF3ZWJHTCB8fCBncmFwaGljcy5kaXJ0eSAhPT0gd2ViR0wuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlR3JhcGhpY3MoZ3JhcGhpY3MpO1xuXG4gICAgICAgICAgICB3ZWJHTCA9IGdyYXBoaWNzLl93ZWJHTFt0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgIGNvdWxkIGJlIHNwZWVkZWQgdXAgZm9yIHN1cmUhXG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnByaW1pdGl2ZVNoYWRlcjtcblxuICAgICAgICByZW5kZXJlci5iaW5kU2hhZGVyKHNoYWRlcik7XG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShncmFwaGljcy5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gd2ViR0wuZGF0YS5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHdlYkdMRGF0YSA9IHdlYkdMLmRhdGFbaV07XG4gICAgICAgICAgICB2YXIgc2hhZGVyVGVtcCA9IHdlYkdMRGF0YS5zaGFkZXI7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRTaGFkZXIoc2hhZGVyVGVtcCk7XG4gICAgICAgICAgICBzaGFkZXJUZW1wLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gZ3JhcGhpY3MudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXJUZW1wLnVuaWZvcm1zLnRpbnQgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGdyYXBoaWNzLnRpbnQpO1xuICAgICAgICAgICAgc2hhZGVyVGVtcC51bmlmb3Jtcy5hbHBoYSA9IGdyYXBoaWNzLndvcmxkQWxwaGE7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRWYW8od2ViR0xEYXRhLnZhbyk7XG5cbiAgICAgICAgICAgIGlmICh3ZWJHTERhdGEubmF0aXZlTGluZXMpIHtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTLCAwLCB3ZWJHTERhdGEucG9pbnRzLmxlbmd0aCAvIDYpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3ZWJHTERhdGEudmFvLmRyYXcoZ2wuVFJJQU5HTEVfU1RSSVAsIHdlYkdMRGF0YS5pbmRpY2VzLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIHVwZGF0ZVxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVHcmFwaGljcyA9IGZ1bmN0aW9uIHVwZGF0ZUdyYXBoaWNzKGdyYXBoaWNzKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgLy8gZ2V0IHRoZSBjb250ZXh0cyBncmFwaGljcyBvYmplY3RcbiAgICAgICAgdmFyIHdlYkdMID0gZ3JhcGhpY3MuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIC8vIGlmIHRoZSBncmFwaGljcyBvYmplY3QgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHdlYkdMIGNvbnRleHQgdGltZSB0byBjcmVhdGUgaXQhXG4gICAgICAgIGlmICghd2ViR0wpIHtcbiAgICAgICAgICAgIHdlYkdMID0gZ3JhcGhpY3MuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdID0geyBsYXN0SW5kZXg6IDAsIGRhdGE6IFtdLCBnbDogZ2wsIGNsZWFyRGlydHk6IC0xLCBkaXJ0eTogLTEgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZsYWcgdGhlIGdyYXBoaWNzIGFzIG5vdCBkaXJ0eSBhcyB3ZSBhcmUgYWJvdXQgdG8gdXBkYXRlIGl0Li4uXG4gICAgICAgIHdlYkdMLmRpcnR5ID0gZ3JhcGhpY3MuZGlydHk7XG5cbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgY2xlYXJlZCB0aGUgZ3JhcGhpY3Mgb2JqZWN0IHdlIHdpbGwgbmVlZCB0byBjbGVhciBldmVyeSBvYmplY3RcbiAgICAgICAgaWYgKGdyYXBoaWNzLmNsZWFyRGlydHkgIT09IHdlYkdMLmNsZWFyRGlydHkpIHtcbiAgICAgICAgICAgIHdlYkdMLmNsZWFyRGlydHkgPSBncmFwaGljcy5jbGVhckRpcnR5O1xuXG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggYW5kIHJldHVybiBhbGwgdGhlIHdlYkdMRGF0YXMgdG8gdGhlIG9iamVjdCBwb29sIHNvIHRoYW4gY2FuIGJlIHJldXNlZCBsYXRlciBvblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3ZWJHTC5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFQb29sLnB1c2god2ViR0wuZGF0YVtpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNsZWFyIHRoZSBhcnJheSBhbmQgcmVzZXQgdGhlIGluZGV4Li5cbiAgICAgICAgICAgIHdlYkdMLmRhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHdlYkdMLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2ViR0xEYXRhID0gdm9pZCAwO1xuICAgICAgICB2YXIgd2ViR0xEYXRhTmF0aXZlTGluZXMgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBncmFwaGljcyBkYXRhcyBhbmQgY29uc3RydWN0IGVhY2ggb25lLi5cbiAgICAgICAgLy8gaWYgdGhlIG9iamVjdCBpcyBhIGNvbXBsZXggZmlsbCB0aGVuIHRoZSBuZXcgc3RlbmNpbCBidWZmZXIgdGVjaG5pcXVlIHdpbGwgYmUgdXNlZFxuICAgICAgICAvLyBvdGhlciB3aXNlIGdyYXBoaWNzIG9iamVjdHMgd2lsbCBiZSBwdXNoZWQgaW50byBhIGJhdGNoLi5cbiAgICAgICAgZm9yICh2YXIgX2kgPSB3ZWJHTC5sYXN0SW5kZXg7IF9pIDwgZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljcy5ncmFwaGljc0RhdGFbX2ldO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gdGhpcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgICAgICAgICAgd2ViR0xEYXRhID0gdGhpcy5nZXRXZWJHTERhdGEod2ViR0wsIDApO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5uYXRpdmVMaW5lcyAmJiBkYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgIHdlYkdMRGF0YU5hdGl2ZUxpbmVzID0gdGhpcy5nZXRXZWJHTERhdGEod2ViR0wsIDAsIHRydWUpO1xuICAgICAgICAgICAgICAgIHdlYkdMLmxhc3RJbmRleCsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlBPTFkpIHtcbiAgICAgICAgICAgICAgICAoMCwgX2J1aWxkUG9seTIuZGVmYXVsdCkoZGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QpIHtcbiAgICAgICAgICAgICAgICAoMCwgX2J1aWxkUmVjdGFuZ2xlMi5kZWZhdWx0KShkYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMgfHwgZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICAoMCwgX2J1aWxkQ2lyY2xlMi5kZWZhdWx0KShkYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICAoMCwgX2J1aWxkUm91bmRlZFJlY3RhbmdsZTIuZGVmYXVsdCkoZGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdlYkdMLmxhc3RJbmRleCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kVmFvKG51bGwpO1xuXG4gICAgICAgIC8vIHVwbG9hZCBhbGwgdGhlIGRpcnR5IGRhdGEuLi5cbiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgd2ViR0wuZGF0YS5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgICB3ZWJHTERhdGEgPSB3ZWJHTC5kYXRhW19pMl07XG5cbiAgICAgICAgICAgIGlmICh3ZWJHTERhdGEuZGlydHkpIHtcbiAgICAgICAgICAgICAgICB3ZWJHTERhdGEudXBsb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIHRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlIC0gVE9ETyBAQWx2aW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbmF0aXZlTGluZXMgLSBpbmRpY2F0ZSB3aGV0aGVyIHRoZSB3ZWJHTERhdGEgdXNlIGZvciBuYXRpdmVMaW5lcy5cbiAgICAgKiBAcmV0dXJuIHsqfSBUT0RPXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLmdldFdlYkdMRGF0YSA9IGZ1bmN0aW9uIGdldFdlYkdMRGF0YShnbCwgdHlwZSwgbmF0aXZlTGluZXMpIHtcbiAgICAgICAgdmFyIHdlYkdMRGF0YSA9IGdsLmRhdGFbZ2wuZGF0YS5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAoIXdlYkdMRGF0YSB8fCB3ZWJHTERhdGEubmF0aXZlTGluZXMgIT09IG5hdGl2ZUxpbmVzIHx8IHdlYkdMRGF0YS5wb2ludHMubGVuZ3RoID4gMzIwMDAwKSB7XG4gICAgICAgICAgICB3ZWJHTERhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVBvb2wucG9wKCkgfHwgbmV3IF9XZWJHTEdyYXBoaWNzRGF0YTIuZGVmYXVsdCh0aGlzLnJlbmRlcmVyLmdsLCB0aGlzLnByaW1pdGl2ZVNoYWRlciwgdGhpcy5yZW5kZXJlci5zdGF0ZS5hdHRyaWJzU3RhdGUpO1xuICAgICAgICAgICAgd2ViR0xEYXRhLm5hdGl2ZUxpbmVzID0gbmF0aXZlTGluZXM7XG4gICAgICAgICAgICB3ZWJHTERhdGEucmVzZXQodHlwZSk7XG4gICAgICAgICAgICBnbC5kYXRhLnB1c2god2ViR0xEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdlYkdMRGF0YS5kaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHdlYkdMRGF0YTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEdyYXBoaWNzUmVuZGVyZXI7XG59KF9PYmplY3RSZW5kZXJlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdyYXBoaWNzUmVuZGVyZXI7XG5cblxuX1dlYkdMUmVuZGVyZXIyLmRlZmF1bHQucmVnaXN0ZXJQbHVnaW4oJ2dyYXBoaWNzJywgR3JhcGhpY3NSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmFwaGljc1JlbmRlcmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gYmV6aWVyQ3VydmVUbztcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIFN0YXJ0aW5nIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIFN0YXJ0aW5nIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIC0gTnVtYmVyIG9mIHNlZ21lbnRzIGFwcHJveGltYXRpbmcgdGhlIGJlemllciBjdXJ2ZVxuICogQHBhcmFtIHtudW1iZXJbXX0gW3BhdGg9W11dIC0gUGF0aCBhcnJheSB0byBwdXNoIHBvaW50cyBpbnRvXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gQXJyYXkgb2YgcG9pbnRzIG9mIHRoZSBjdXJ2ZVxuICovXG5mdW5jdGlvbiBiZXppZXJDdXJ2ZVRvKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCBuKSB7XG4gICAgdmFyIHBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gOSAmJiBhcmd1bWVudHNbOV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s5XSA6IFtdO1xuXG4gICAgdmFyIGR0ID0gMDtcbiAgICB2YXIgZHQyID0gMDtcbiAgICB2YXIgZHQzID0gMDtcbiAgICB2YXIgdDIgPSAwO1xuICAgIHZhciB0MyA9IDA7XG5cbiAgICBwYXRoLnB1c2goZnJvbVgsIGZyb21ZKTtcblxuICAgIGZvciAodmFyIGkgPSAxLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuXG4gICAgICAgIGR0ID0gMSAtIGo7XG4gICAgICAgIGR0MiA9IGR0ICogZHQ7XG4gICAgICAgIGR0MyA9IGR0MiAqIGR0O1xuXG4gICAgICAgIHQyID0gaiAqIGo7XG4gICAgICAgIHQzID0gdDIgKiBqO1xuXG4gICAgICAgIHBhdGgucHVzaChkdDMgKiBmcm9tWCArIDMgKiBkdDIgKiBqICogY3BYICsgMyAqIGR0ICogdDIgKiBjcFgyICsgdDMgKiB0b1gsIGR0MyAqIGZyb21ZICsgMyAqIGR0MiAqIGogKiBjcFkgKyAzICogZHQgKiB0MiAqIGNwWTIgKyB0MyAqIHRvWSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhdGg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iZXppZXJDdXJ2ZVRvLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9Db250YWluZXIyID0gcmVxdWlyZSgnLi4vZGlzcGxheS9Db250YWluZXInKTtcblxudmFyIF9Db250YWluZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGFpbmVyMik7XG5cbnZhciBfUmVuZGVyVGV4dHVyZSA9IHJlcXVpcmUoJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnKTtcblxudmFyIF9SZW5kZXJUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRleHR1cmUpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKTtcblxudmFyIF9HcmFwaGljc0RhdGEgPSByZXF1aXJlKCcuL0dyYXBoaWNzRGF0YScpO1xuXG52YXIgX0dyYXBoaWNzRGF0YTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmFwaGljc0RhdGEpO1xuXG52YXIgX1Nwcml0ZSA9IHJlcXVpcmUoJy4uL3Nwcml0ZXMvU3ByaXRlJyk7XG5cbnZhciBfU3ByaXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZSk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX0JvdW5kcyA9IHJlcXVpcmUoJy4uL2Rpc3BsYXkvQm91bmRzJyk7XG5cbnZhciBfQm91bmRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JvdW5kcyk7XG5cbnZhciBfYmV6aWVyQ3VydmVUbzIgPSByZXF1aXJlKCcuL3V0aWxzL2JlemllckN1cnZlVG8nKTtcblxudmFyIF9iZXppZXJDdXJ2ZVRvMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JlemllckN1cnZlVG8yKTtcblxudmFyIF9DYW52YXNSZW5kZXJlciA9IHJlcXVpcmUoJy4uL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXInKTtcblxudmFyIF9DYW52YXNSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIGNhbnZhc1JlbmRlcmVyID0gdm9pZCAwO1xudmFyIHRlbXBNYXRyaXggPSBuZXcgX21hdGguTWF0cml4KCk7XG52YXIgdGVtcFBvaW50ID0gbmV3IF9tYXRoLlBvaW50KCk7XG52YXIgdGVtcENvbG9yMSA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG52YXIgdGVtcENvbG9yMiA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5cbi8qKlxuICogVGhlIEdyYXBoaWNzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdXNlZCB0byBkcmF3IHByaW1pdGl2ZSBzaGFwZXMgc3VjaCBhcyBsaW5lcywgY2lyY2xlcyBhbmRcbiAqIHJlY3RhbmdsZXMgdG8gdGhlIGRpc3BsYXksIGFuZCB0byBjb2xvciBhbmQgZmlsbCB0aGVtLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIEdyYXBoaWNzID0gZnVuY3Rpb24gKF9Db250YWluZXIpIHtcbiAgICBfaW5oZXJpdHMoR3JhcGhpY3MsIF9Db250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtuYXRpdmVMaW5lcz1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzKCkge1xuICAgICAgICB2YXIgbmF0aXZlTGluZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHcmFwaGljcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbHBoYSB2YWx1ZSB1c2VkIHdoZW4gZmlsbGluZyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db250YWluZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuZmlsbEFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoICh0aGlja25lc3MpIG9mIGFueSBsaW5lcyBkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saW5lV2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubmF0aXZlTGluZXMgPSBuYXRpdmVMaW5lcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbG9yIG9mIGFueSBsaW5lcyBkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saW5lQ29sb3IgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIGFueSBsaW5lcyBkcmF3biAoMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyLCAwID0gaW5uZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxpbmVBbGlnbm1lbnQgPSAwLjU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdyYXBoaWNzIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGFbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdyYXBoaWNzRGF0YSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBcHBseSBhIHZhbHVlIG9mIDB4RkZGRkZGIHRvXG4gICAgICAgICAqIHJlc2V0IHRoZSB0aW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcmV2aW91cyB0aW50IGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIFVzZWQgdG8gY29tcGFyZSB0byB0aGUgY3VycmVudCB0aW50IGFuZFxuICAgICAgICAgKiBjaGVjayBpZiB0aGVyZXMgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcHJldlRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAgICAgKiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IF9jb25zdC5CTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgcGF0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQXJyYXkgY29udGFpbmluZyBzb21lIFdlYkdMLXJlbGF0ZWQgcHJvcGVydGllcyB1c2VkIGJ5IHRoZSBXZWJHTCByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgb2JqZWN0Pn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIC8vIFRPRE8gLSBfd2ViZ2wgc2hvdWxkIHVzZSBhIHByb3RvdHlwZSBvYmplY3QsIG5vdCBhIHJhbmRvbSB1bmRvY3VtZW50ZWQgb2JqZWN0Li4uXG4gICAgICAgIF90aGlzLl93ZWJHTCA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoaXMgc2hhcGUgaXMgYmVpbmcgdXNlZCBhcyBhIG1hc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc01hc2sgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJvdW5kcycgcGFkZGluZyB1c2VkIGZvciBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kc1BhZGRpbmcgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhY2hlIG9mIHRoZSBsb2NhbCBib3VuZHMgdG8gcHJldmVudCByZWNhbGN1bGF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2NhbEJvdW5kcyA9IG5ldyBfQm91bmRzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHRoZSBncmFwaGljcyBvYmplY3QgaGFzIGNoYW5nZWQuIElmIHRoaXMgaXMgc2V0IHRvIHRydWUgdGhlbiB0aGUgZ3JhcGhpY3NcbiAgICAgICAgICogb2JqZWN0IHdpbGwgYmUgcmVjYWxjdWxhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB3ZSBuZWVkIHRvIGRvIGEgZmFzdCByZWN0IGNoZWNrIHVzaW5nIHRoZSBpZCBjb21wYXJlIG1ldGhvZFxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmFzdFJlY3REaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB3ZSBjbGVhciB0aGUgZ3JhcGhpY3Mgd2ViR0wgZGF0YVxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xlYXJEaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIHdlIG5lZWQgdG8gcmVjYWxjdWxhdGUgbG9jYWwgYm91bmRzXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB0aGUgY2FjaGVkIHNwcml0ZSBvYmplY3QgbmVlZHMgdG8gYmUgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlZFNwcml0ZURpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgX3RoaXMuX3Nwcml0ZVJlY3QgPSBudWxsO1xuICAgICAgICBfdGhpcy5fZmFzdFJlY3QgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBjYWNoZUFzQml0bWFwIGlzIHNldCB0byB0cnVlIHRoZSBncmFwaGljcyBvYmplY3Qgd2lsbCBiZSByZW5kZXJlZCBhcyBpZiBpdCB3YXMgYSBzcHJpdGUuXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdXIgZ3JhcGhpY3MgZWxlbWVudCBkb2VzIG5vdCBjaGFuZ2Ugb2Z0ZW4sIGFzIGl0IHdpbGwgc3BlZWQgdXAgdGhlIHJlbmRlcmluZ1xuICAgICAgICAgKiBvZiB0aGUgb2JqZWN0IGluIGV4Y2hhbmdlIGZvciB0YWtpbmcgdXAgdGV4dHVyZSBtZW1vcnkuIEl0IGlzIGFsc28gdXNlZnVsIGlmIHlvdSBuZWVkIHRoZSBncmFwaGljc1xuICAgICAgICAgKiBvYmplY3QgdG8gYmUgYW50aS1hbGlhc2VkLCBiZWNhdXNlIGl0IHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgY2FudmFzLiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZCBpZlxuICAgICAgICAgKiB5b3UgYXJlIGNvbnN0YW50bHkgcmVkcmF3aW5nIHRoZSBncmFwaGljcyBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBjYWNoZUFzQml0bWFwXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyYXBoaWNzI1xuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3Mgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb25seSB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IGFyZSBjbG9uZWQsIG5vdCBpdHMgdHJhbnNmb3JtIChwb3NpdGlvbixzY2FsZSxldGMpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBBIGNsb25lIG9mIHRoZSBncmFwaGljcyBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IG5ldyBHcmFwaGljcygpO1xuXG4gICAgICAgIGNsb25lLnJlbmRlcmFibGUgPSB0aGlzLnJlbmRlcmFibGU7XG4gICAgICAgIGNsb25lLmZpbGxBbHBoYSA9IHRoaXMuZmlsbEFscGhhO1xuICAgICAgICBjbG9uZS5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICAgICAgY2xvbmUubGluZUNvbG9yID0gdGhpcy5saW5lQ29sb3I7XG4gICAgICAgIGNsb25lLmxpbmVBbGlnbm1lbnQgPSB0aGlzLmxpbmVBbGlnbm1lbnQ7XG4gICAgICAgIGNsb25lLnRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgIGNsb25lLmJsZW5kTW9kZSA9IHRoaXMuYmxlbmRNb2RlO1xuICAgICAgICBjbG9uZS5pc01hc2sgPSB0aGlzLmlzTWFzaztcbiAgICAgICAgY2xvbmUuYm91bmRzUGFkZGluZyA9IHRoaXMuYm91bmRzUGFkZGluZztcbiAgICAgICAgY2xvbmUuZGlydHkgPSAwO1xuICAgICAgICBjbG9uZS5jYWNoZWRTcHJpdGVEaXJ0eSA9IHRoaXMuY2FjaGVkU3ByaXRlRGlydHk7XG5cbiAgICAgICAgLy8gY29weSBncmFwaGljcyBkYXRhXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNsb25lLmdyYXBoaWNzRGF0YS5wdXNoKHRoaXMuZ3JhcGhpY3NEYXRhW2ldLmNsb25lKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvbmUuY3VycmVudFBhdGggPSBjbG9uZS5ncmFwaGljc0RhdGFbY2xvbmUuZ3JhcGhpY3NEYXRhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGNsb25lLnVwZGF0ZUxvY2FsQm91bmRzKCk7XG5cbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbGVuZ3RoIG9mIHF1YWRyYXRpYyBjdXJ2ZVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHA6Ly93d3cubWFsY3phay5saW51eHBsLmNvbS9ibG9nL3F1YWRyYXRpYy1iZXppZXItY3VydmUtbGVuZ3RoL31cbiAgICAgKiBmb3IgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9mIG1hdGggYmVoaW5kIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBzdGFydCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBzdGFydCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSB5LWNvb3JkaW5hdGUgb2YgY3VydmUgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgZW5kIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBlbmQgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IExlbmd0aCBvZiBxdWFkcmF0aWMgY3VydmVcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9xdWFkcmF0aWNDdXJ2ZUxlbmd0aCA9IGZ1bmN0aW9uIF9xdWFkcmF0aWNDdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSkge1xuICAgICAgICB2YXIgYXggPSBmcm9tWCAtICgyLjAgKiBjcFggKyB0b1gpO1xuICAgICAgICB2YXIgYXkgPSBmcm9tWSAtICgyLjAgKiBjcFkgKyB0b1kpO1xuICAgICAgICB2YXIgYnggPSAyLjAgKiAoKGNwWCAtIDIuMCkgKiBmcm9tWCk7XG4gICAgICAgIHZhciBieSA9IDIuMCAqICgoY3BZIC0gMi4wKSAqIGZyb21ZKTtcbiAgICAgICAgdmFyIGEgPSA0LjAgKiAoYXggKiBheCArIGF5ICogYXkpO1xuICAgICAgICB2YXIgYiA9IDQuMCAqIChheCAqIGJ4ICsgYXkgKiBieSk7XG4gICAgICAgIHZhciBjID0gYnggKiBieCArIGJ5ICogYnk7XG5cbiAgICAgICAgdmFyIHMgPSAyLjAgKiBNYXRoLnNxcnQoYSArIGIgKyBjKTtcbiAgICAgICAgdmFyIGEyID0gTWF0aC5zcXJ0KGEpO1xuICAgICAgICB2YXIgYTMyID0gMi4wICogYSAqIGEyO1xuICAgICAgICB2YXIgYzIgPSAyLjAgKiBNYXRoLnNxcnQoYyk7XG4gICAgICAgIHZhciBiYSA9IGIgLyBhMjtcblxuICAgICAgICByZXR1cm4gKGEzMiAqIHMgKyBhMiAqIGIgKiAocyAtIGMyKSArICg0LjAgKiBjICogYSAtIGIgKiBiKSAqIE1hdGgubG9nKCgyLjAgKiBhMiArIGJhICsgcykgLyAoYmEgKyBjMikpKSAvICg0LjAgKiBhMzIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbGVuZ3RoIG9mIGJlemllciBjdXJ2ZS5cbiAgICAgKiBBbmFseXRpY2FsIHNvbHV0aW9uIGlzIGltcG9zc2libGUsIHNpbmNlIGl0IGludm9sdmVzIGFuIGludGVncmFsIHRoYXQgZG9lcyBub3QgaW50ZWdyYXRlIGluIGdlbmVyYWwuXG4gICAgICogVGhlcmVmb3JlIG51bWVyaWNhbCBzb2x1dGlvbiBpcyB1c2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBTdGFydGluZyBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gU3RhcnRpbmcgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIG9mIGJlemllciBjdXJ2ZVxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX2JlemllckN1cnZlTGVuZ3RoID0gZnVuY3Rpb24gX2JlemllckN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XG4gICAgICAgIHZhciBuID0gMTA7XG4gICAgICAgIHZhciByZXN1bHQgPSAwLjA7XG4gICAgICAgIHZhciB0ID0gMC4wO1xuICAgICAgICB2YXIgdDIgPSAwLjA7XG4gICAgICAgIHZhciB0MyA9IDAuMDtcbiAgICAgICAgdmFyIG50ID0gMC4wO1xuICAgICAgICB2YXIgbnQyID0gMC4wO1xuICAgICAgICB2YXIgbnQzID0gMC4wO1xuICAgICAgICB2YXIgeCA9IDAuMDtcbiAgICAgICAgdmFyIHkgPSAwLjA7XG4gICAgICAgIHZhciBkeCA9IDAuMDtcbiAgICAgICAgdmFyIGR5ID0gMC4wO1xuICAgICAgICB2YXIgcHJldlggPSBmcm9tWDtcbiAgICAgICAgdmFyIHByZXZZID0gZnJvbVk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgICAgICB0ID0gaSAvIG47XG4gICAgICAgICAgICB0MiA9IHQgKiB0O1xuICAgICAgICAgICAgdDMgPSB0MiAqIHQ7XG4gICAgICAgICAgICBudCA9IDEuMCAtIHQ7XG4gICAgICAgICAgICBudDIgPSBudCAqIG50O1xuICAgICAgICAgICAgbnQzID0gbnQyICogbnQ7XG5cbiAgICAgICAgICAgIHggPSBudDMgKiBmcm9tWCArIDMuMCAqIG50MiAqIHQgKiBjcFggKyAzLjAgKiBudCAqIHQyICogY3BYMiArIHQzICogdG9YO1xuICAgICAgICAgICAgeSA9IG50MyAqIGZyb21ZICsgMy4wICogbnQyICogdCAqIGNwWSArIDMgKiBudCAqIHQyICogY3BZMiArIHQzICogdG9ZO1xuICAgICAgICAgICAgZHggPSBwcmV2WCAtIHg7XG4gICAgICAgICAgICBkeSA9IHByZXZZIC0geTtcbiAgICAgICAgICAgIHByZXZYID0geDtcbiAgICAgICAgICAgIHByZXZZID0geTtcblxuICAgICAgICAgICAgcmVzdWx0ICs9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbnVtYmVyIG9mIHNlZ21lbnRzIGZvciB0aGUgY3VydmUgYmFzZWQgb24gaXRzIGxlbmd0aCB0byBlbnN1cmUgaXRzIHNtb290aG5lc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggLSBsZW5ndGggb2YgY3VydmVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBvZiBzZWdtZW50c1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3NlZ21lbnRzQ291bnQgPSBmdW5jdGlvbiBfc2VnbWVudHNDb3VudChsZW5ndGgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IE1hdGguY2VpbChsZW5ndGggLyBHcmFwaGljcy5DVVJWRVMubWF4TGVuZ3RoKTtcblxuICAgICAgICBpZiAocmVzdWx0IDwgR3JhcGhpY3MuQ1VSVkVTLm1pblNlZ21lbnRzKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBHcmFwaGljcy5DVVJWRVMubWluU2VnbWVudHM7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzdWx0ID4gR3JhcGhpY3MuQ1VSVkVTLm1heFNlZ21lbnRzKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBHcmFwaGljcy5DVVJWRVMubWF4U2VnbWVudHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGxpbmUgc3R5bGUgdXNlZCBmb3Igc3Vic2VxdWVudCBjYWxscyB0byBHcmFwaGljcyBtZXRob2RzIHN1Y2ggYXMgdGhlIGxpbmVUbygpXG4gICAgICogbWV0aG9kIG9yIHRoZSBkcmF3Q2lyY2xlKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW5lV2lkdGg9MF0gLSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTBdIC0gY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxpZ25tZW50PTFdIC0gYWxpZ25tZW50IG9mIHRoZSBsaW5lIHRvIGRyYXcsICgwID0gaW5uZXIsIDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlcilcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lU3R5bGUgPSBmdW5jdGlvbiBsaW5lU3R5bGUoKSB7XG4gICAgICAgIHZhciBsaW5lV2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciBjb2xvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIGFscGhhID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuICAgICAgICB2YXIgYWxpZ25tZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwLjU7XG5cbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgICAgIHRoaXMubGluZUNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMubGluZUFscGhhID0gYWxwaGE7XG4gICAgICAgIHRoaXMubGluZUFsaWdubWVudCA9IGFsaWdubWVudDtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIGhhbGZ3YXkgdGhyb3VnaCBhIGxpbmU/IHN0YXJ0IGEgbmV3IG9uZSFcbiAgICAgICAgICAgICAgICB2YXIgc2hhcGUgPSBuZXcgX21hdGguUG9seWdvbih0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5zbGljZSgtMikpO1xuXG4gICAgICAgICAgICAgICAgc2hhcGUuY2xvc2VkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBpdHMgZW1wdHkgc28gbGV0cyBqdXN0IHNldCB0aGUgbGluZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmxpbmVDb2xvciA9IHRoaXMubGluZUNvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgubGluZUFscGhhID0gdGhpcy5saW5lQWxwaGE7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5saW5lQWxpZ25tZW50ID0gdGhpcy5saW5lQWxpZ25tZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8geCwgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5tb3ZlVG8gPSBmdW5jdGlvbiBtb3ZlVG8oeCwgeSkge1xuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgX21hdGguUG9seWdvbihbeCwgeV0pO1xuXG4gICAgICAgIHNoYXBlLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgbGluZSB1c2luZyB0aGUgY3VycmVudCBsaW5lIHN0eWxlIGZyb20gdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byAoeCwgeSk7XG4gICAgICogVGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiBpcyB0aGVuIHNldCB0byAoeCwgeSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRvID0gZnVuY3Rpb24gbGluZVRvKHgsIHkpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMucHVzaCh4LCB5KTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG8gPSBmdW5jdGlvbiBxdWFkcmF0aWNDdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzID0gWzAsIDBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7XG4gICAgICAgIHZhciB4YSA9IDA7XG4gICAgICAgIHZhciB5YSA9IDA7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIG4gPSBHcmFwaGljcy5DVVJWRVMuYWRhcHRpdmUgPyB0aGlzLl9zZWdtZW50c0NvdW50KHRoaXMuX3F1YWRyYXRpY0N1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSkgOiAyMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBqID0gaSAvIG47XG5cbiAgICAgICAgICAgIHhhID0gZnJvbVggKyAoY3BYIC0gZnJvbVgpICogajtcbiAgICAgICAgICAgIHlhID0gZnJvbVkgKyAoY3BZIC0gZnJvbVkpICogajtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2goeGEgKyAoY3BYICsgKHRvWCAtIGNwWCkgKiBqIC0geGEpICogaiwgeWEgKyAoY3BZICsgKHRvWSAtIGNwWSkgKiBqIC0geWEpICogaik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlemllckN1cnZlVG8gPSBmdW5jdGlvbiBiZXppZXJDdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzID0gWzAsIDBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7XG5cbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICBwb2ludHMubGVuZ3RoIC09IDI7XG5cbiAgICAgICAgdmFyIG4gPSBHcmFwaGljcy5DVVJWRVMuYWRhcHRpdmUgPyB0aGlzLl9zZWdtZW50c0NvdW50KHRoaXMuX2JlemllckN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSkgOiAyMDtcblxuICAgICAgICAoMCwgX2JlemllckN1cnZlVG8zLmRlZmF1bHQpKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCBuLCBwb2ludHMpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFyY1RvKCkgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlIGJldHdlZW4gdHdvIHRhbmdlbnRzIG9uIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBcImJvcnJvd2VkXCIgZnJvbSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Z4Y2FudmFzLyAtIHRoYW5rcyBnb29nbGUhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmNUbyA9IGZ1bmN0aW9uIGFyY1RvKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5wdXNoKHgxLCB5MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyh4MSwgeTEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzO1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgYTEgPSBmcm9tWSAtIHkxO1xuICAgICAgICB2YXIgYjEgPSBmcm9tWCAtIHgxO1xuICAgICAgICB2YXIgYTIgPSB5MiAtIHkxO1xuICAgICAgICB2YXIgYjIgPSB4MiAtIHgxO1xuICAgICAgICB2YXIgbW0gPSBNYXRoLmFicyhhMSAqIGIyIC0gYjEgKiBhMik7XG5cbiAgICAgICAgaWYgKG1tIDwgMS4wZS04IHx8IHJhZGl1cyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHgxIHx8IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gIT09IHkxKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goeDEsIHkxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkZCA9IGExICogYTEgKyBiMSAqIGIxO1xuICAgICAgICAgICAgdmFyIGNjID0gYTIgKiBhMiArIGIyICogYjI7XG4gICAgICAgICAgICB2YXIgdHQgPSBhMSAqIGEyICsgYjEgKiBiMjtcbiAgICAgICAgICAgIHZhciBrMSA9IHJhZGl1cyAqIE1hdGguc3FydChkZCkgLyBtbTtcbiAgICAgICAgICAgIHZhciBrMiA9IHJhZGl1cyAqIE1hdGguc3FydChjYykgLyBtbTtcbiAgICAgICAgICAgIHZhciBqMSA9IGsxICogdHQgLyBkZDtcbiAgICAgICAgICAgIHZhciBqMiA9IGsyICogdHQgLyBjYztcbiAgICAgICAgICAgIHZhciBjeCA9IGsxICogYjIgKyBrMiAqIGIxO1xuICAgICAgICAgICAgdmFyIGN5ID0gazEgKiBhMiArIGsyICogYTE7XG4gICAgICAgICAgICB2YXIgcHggPSBiMSAqIChrMiArIGoxKTtcbiAgICAgICAgICAgIHZhciBweSA9IGExICogKGsyICsgajEpO1xuICAgICAgICAgICAgdmFyIHF4ID0gYjIgKiAoazEgKyBqMik7XG4gICAgICAgICAgICB2YXIgcXkgPSBhMiAqIChrMSArIGoyKTtcbiAgICAgICAgICAgIHZhciBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMihweSAtIGN5LCBweCAtIGN4KTtcbiAgICAgICAgICAgIHZhciBlbmRBbmdsZSA9IE1hdGguYXRhbjIocXkgLSBjeSwgcXggLSBjeCk7XG5cbiAgICAgICAgICAgIHRoaXMuYXJjKGN4ICsgeDEsIGN5ICsgeTEsIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGIxICogYTIgPiBiMiAqIGExKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFyYyBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN4IC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3kgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRBbmdsZSAtIFRoZSBzdGFydGluZyBhbmdsZSwgaW4gcmFkaWFucyAoMCBpcyBhdCB0aGUgMyBvJ2Nsb2NrIHBvc2l0aW9uXG4gICAgICogIG9mIHRoZSBhcmMncyBjaXJjbGUpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEFuZ2xlIC0gVGhlIGVuZGluZyBhbmdsZSwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FudGljbG9ja3dpc2U9ZmFsc2VdIC0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGRyYXdpbmcgc2hvdWxkIGJlXG4gICAgICogIGNvdW50ZXItY2xvY2t3aXNlIG9yIGNsb2Nrd2lzZS4gRmFsc2UgaXMgZGVmYXVsdCwgYW5kIGluZGljYXRlcyBjbG9ja3dpc2UsIHdoaWxlIHRydWVcbiAgICAgKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyYyA9IGZ1bmN0aW9uIGFyYyhjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUpIHtcbiAgICAgICAgdmFyIGFudGljbG9ja3dpc2UgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IGZhbHNlO1xuXG4gICAgICAgIGlmIChzdGFydEFuZ2xlID09PSBlbmRBbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFudGljbG9ja3dpc2UgJiYgZW5kQW5nbGUgPD0gc3RhcnRBbmdsZSkge1xuICAgICAgICAgICAgZW5kQW5nbGUgKz0gX2NvbnN0LlBJXzI7XG4gICAgICAgIH0gZWxzZSBpZiAoYW50aWNsb2Nrd2lzZSAmJiBzdGFydEFuZ2xlIDw9IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlICs9IF9jb25zdC5QSV8yO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgICAgICB2YXIgc2VncyA9IEdyYXBoaWNzLkNVUlZFUy5hZGFwdGl2ZSA/IHRoaXMuX3NlZ21lbnRzQ291bnQoTWF0aC5hYnMoc3dlZXApICogcmFkaXVzKSA6IE1hdGguY2VpbChNYXRoLmFicyhzd2VlcCkgLyBfY29uc3QuUElfMikgKiA0MDtcblxuICAgICAgICBpZiAoc3dlZXAgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXJ0WCA9IGN4ICsgTWF0aC5jb3Moc3RhcnRBbmdsZSkgKiByYWRpdXM7XG4gICAgICAgIHZhciBzdGFydFkgPSBjeSArIE1hdGguc2luKHN0YXJ0QW5nbGUpICogcmFkaXVzO1xuXG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50UGF0aCBleGlzdHMsIHRha2UgaXRzIHBvaW50cy4gT3RoZXJ3aXNlIGNhbGwgYG1vdmVUb2AgdG8gc3RhcnQgYSBwYXRoLlxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aCA/IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzIDogbnVsbDtcblxuICAgICAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAhPT0gc3RhcnRYIHx8IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gIT09IHN0YXJ0WSkge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRoZXRhID0gc3dlZXAgLyAoc2VncyAqIDIpO1xuICAgICAgICB2YXIgdGhldGEyID0gdGhldGEgKiAyO1xuXG4gICAgICAgIHZhciBjVGhldGEgPSBNYXRoLmNvcyh0aGV0YSk7XG4gICAgICAgIHZhciBzVGhldGEgPSBNYXRoLnNpbih0aGV0YSk7XG5cbiAgICAgICAgdmFyIHNlZ01pbnVzID0gc2VncyAtIDE7XG5cbiAgICAgICAgdmFyIHJlbWFpbmRlciA9IHNlZ01pbnVzICUgMSAvIHNlZ01pbnVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHNlZ01pbnVzOyArK2kpIHtcbiAgICAgICAgICAgIHZhciByZWFsID0gaSArIHJlbWFpbmRlciAqIGk7XG5cbiAgICAgICAgICAgIHZhciBhbmdsZSA9IHRoZXRhICsgc3RhcnRBbmdsZSArIHRoZXRhMiAqIHJlYWw7XG5cbiAgICAgICAgICAgIHZhciBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICAgICAgdmFyIHMgPSAtTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaCgoY1RoZXRhICogYyArIHNUaGV0YSAqIHMpICogcmFkaXVzICsgY3gsIChjVGhldGEgKiAtcyArIHNUaGV0YSAqIGMpICogcmFkaXVzICsgY3kpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgYSBzaW1wbGUgb25lLWNvbG9yIGZpbGwgdGhhdCBzdWJzZXF1ZW50IGNhbGxzIHRvIG90aGVyIEdyYXBoaWNzIG1ldGhvZHNcbiAgICAgKiAoc3VjaCBhcyBsaW5lVG8oKSBvciBkcmF3Q2lyY2xlKCkpIHVzZSB3aGVuIGRyYXdpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTBdIC0gdGhlIGNvbG9yIG9mIHRoZSBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIHRoZSBhbHBoYSBvZiB0aGUgZmlsbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luRmlsbCA9IGZ1bmN0aW9uIGJlZ2luRmlsbCgpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgYWxwaGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG5cbiAgICAgICAgdGhpcy5maWxsaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5maWxsQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5maWxsQWxwaGEgPSBhbHBoYTtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA8PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5maWxsID0gdGhpcy5maWxsaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguZmlsbENvbG9yID0gdGhpcy5maWxsQ29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5maWxsQWxwaGEgPSB0aGlzLmZpbGxBbHBoYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgZmlsbCB0byB0aGUgbGluZXMgYW5kIHNoYXBlcyB0aGF0IHdlcmUgYWRkZWQgc2luY2UgdGhlIGxhc3QgY2FsbCB0byB0aGUgYmVnaW5GaWxsKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZW5kRmlsbCA9IGZ1bmN0aW9uIGVuZEZpbGwoKSB7XG4gICAgICAgIHRoaXMuZmlsbGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpbGxDb2xvciA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsbEFscGhhID0gMTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSZWN0ID0gZnVuY3Rpb24gZHJhd1JlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShuZXcgX21hdGguUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBSYWRpdXMgb2YgdGhlIHJlY3RhbmdsZSBjb3JuZXJzXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1JvdW5kZWRSZWN0ID0gZnVuY3Rpb24gZHJhd1JvdW5kZWRSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykge1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShuZXcgX21hdGguUm91bmRlZFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBjaXJjbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gZHJhd0NpcmNsZSh4LCB5LCByYWRpdXMpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IF9tYXRoLkNpcmNsZSh4LCB5LCByYWRpdXMpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYW4gZWxsaXBzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3RWxsaXBzZSA9IGZ1bmN0aW9uIGRyYXdFbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IF9tYXRoLkVsbGlwc2UoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHBvbHlnb24gdXNpbmcgdGhlIGdpdmVuIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfFBJWEkuUG9pbnRbXXxQSVhJLlBvbHlnb259IHBhdGggLSBUaGUgcGF0aCBkYXRhIHVzZWQgdG8gY29uc3RydWN0IHRoZSBwb2x5Z29uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdQb2x5Z29uID0gZnVuY3Rpb24gZHJhd1BvbHlnb24ocGF0aCkge1xuICAgICAgICAvLyBwcmV2ZW50cyBhbiBhcmd1bWVudCBhc3NpZ25tZW50IGRlb3B0XG4gICAgICAgIC8vIHNlZSBzZWN0aW9uIDMuMTogaHR0cHM6Ly9naXRodWIuY29tL3BldGthYW50b25vdi9ibHVlYmlyZC93aWtpL09wdGltaXphdGlvbi1raWxsZXJzIzMtbWFuYWdpbmctYXJndW1lbnRzXG4gICAgICAgIHZhciBwb2ludHMgPSBwYXRoO1xuXG4gICAgICAgIHZhciBjbG9zZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChwb2ludHMgaW5zdGFuY2VvZiBfbWF0aC5Qb2x5Z29uKSB7XG4gICAgICAgICAgICBjbG9zZWQgPSBwb2ludHMuY2xvc2VkO1xuICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRzLnBvaW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwb2ludHMpKSB7XG4gICAgICAgICAgICAvLyBwcmV2ZW50cyBhbiBhcmd1bWVudCBsZWFrIGRlb3B0XG4gICAgICAgICAgICAvLyBzZWUgc2VjdGlvbiAzLjI6IGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvd2lraS9PcHRpbWl6YXRpb24ta2lsbGVycyMzLW1hbmFnaW5nLWFyZ3VtZW50c1xuICAgICAgICAgICAgcG9pbnRzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHBvaW50c1tpXSA9IGFyZ3VtZW50c1tpXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaGFwZSA9IG5ldyBfbWF0aC5Qb2x5Z29uKHBvaW50cyk7XG5cbiAgICAgICAgc2hhcGUuY2xvc2VkID0gY2xvc2VkO1xuXG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhdyBhIHN0YXIgc2hhcGUgd2l0aCBhbiBhYml0cmFyeSBudW1iZXIgb2YgcG9pbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBDZW50ZXIgWCBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSBvdXRlciByYWRpdXMgb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTdGFyID0gZnVuY3Rpb24gZHJhd1N0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzKSB7XG4gICAgICAgIHZhciByb3RhdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcblxuICAgICAgICBpbm5lclJhZGl1cyA9IGlubmVyUmFkaXVzIHx8IHJhZGl1cyAvIDI7XG5cbiAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSAtMSAqIE1hdGguUEkgLyAyICsgcm90YXRpb247XG4gICAgICAgIHZhciBsZW4gPSBwb2ludHMgKiAyO1xuICAgICAgICB2YXIgZGVsdGEgPSBfY29uc3QuUElfMiAvIGxlbjtcbiAgICAgICAgdmFyIHBvbHlnb24gPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgciA9IGkgJSAyID8gaW5uZXJSYWRpdXMgOiByYWRpdXM7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSBpICogZGVsdGEgKyBzdGFydEFuZ2xlO1xuXG4gICAgICAgICAgICBwb2x5Z29uLnB1c2goeCArIHIgKiBNYXRoLmNvcyhhbmdsZSksIHkgKyByICogTWF0aC5zaW4oYW5nbGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdQb2x5Z29uKHBvbHlnb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgaWYgKHRoaXMubGluZVdpZHRoIHx8IHRoaXMuZmlsbGluZyB8fCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVXaWR0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLmxpbmVBbGlnbm1lbnQgPSAwLjU7XG5cbiAgICAgICAgICAgIHRoaXMuZmlsbGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRGlydHkrKztcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3ByaXRlUmVjdCA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgZ3JhcGhpY3MgY29uc2lzdHMgb2Ygb25lIHJlY3RhbmdsZSwgYW5kIHRodXMsIGNhbiBiZSBkcmF3biBsaWtlIGEgU3ByaXRlIGFuZFxuICAgICAqIG1hc2tlZCB3aXRoIGdsLnNjaXNzb3IuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IDEgcmVjdC5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmlzRmFzdFJlY3QgPSBmdW5jdGlvbiBpc0Zhc3RSZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID09PSAxICYmIHRoaXMuZ3JhcGhpY3NEYXRhWzBdLnNoYXBlLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUkVDVCAmJiAhdGhpcy5ncmFwaGljc0RhdGFbMF0ubGluZVdpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgbm90IHZpc2libGUgb3IgdGhlIGFscGhhIGlzIDAgdGhlbiBubyBuZWVkIHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgaWYgKHRoaXMuZGlydHkgIT09IHRoaXMuZmFzdFJlY3REaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5mYXN0UmVjdERpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgICAgIHRoaXMuX2Zhc3RSZWN0ID0gdGhpcy5pc0Zhc3RSZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIHRoaXMgY2hlY2sgY2FuIGJlIG1vdmVkIHRvIGRpcnR5P1xuICAgICAgICBpZiAodGhpcy5fZmFzdFJlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclNwcml0ZVJlY3QocmVuZGVyZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcyk7XG4gICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgc3ByaXRlIHJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyU3ByaXRlUmVjdCA9IGZ1bmN0aW9uIF9yZW5kZXJTcHJpdGVSZWN0KHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5ncmFwaGljc0RhdGFbMF0uc2hhcGU7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9zcHJpdGVSZWN0KSB7XG4gICAgICAgICAgICB0aGlzLl9zcHJpdGVSZWN0ID0gbmV3IF9TcHJpdGUyLmRlZmF1bHQobmV3IF9UZXh0dXJlMi5kZWZhdWx0KF9UZXh0dXJlMi5kZWZhdWx0LldISVRFKSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3ByaXRlID0gdGhpcy5fc3ByaXRlUmVjdDtcblxuICAgICAgICBpZiAodGhpcy50aW50ID09PSAweGZmZmZmZikge1xuICAgICAgICAgICAgc3ByaXRlLnRpbnQgPSB0aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQ29sb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdDEgPSB0ZW1wQ29sb3IxO1xuICAgICAgICAgICAgdmFyIHQyID0gdGVtcENvbG9yMjtcblxuICAgICAgICAgICAgKDAsIF91dGlscy5oZXgycmdiKSh0aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQ29sb3IsIHQxKTtcbiAgICAgICAgICAgICgwLCBfdXRpbHMuaGV4MnJnYikodGhpcy50aW50LCB0Mik7XG5cbiAgICAgICAgICAgIHQxWzBdICo9IHQyWzBdO1xuICAgICAgICAgICAgdDFbMV0gKj0gdDJbMV07XG4gICAgICAgICAgICB0MVsyXSAqPSB0MlsyXTtcblxuICAgICAgICAgICAgc3ByaXRlLnRpbnQgPSAoMCwgX3V0aWxzLnJnYjJoZXgpKHQxKTtcbiAgICAgICAgfVxuICAgICAgICBzcHJpdGUuYWxwaGEgPSB0aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQWxwaGE7XG4gICAgICAgIHNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhICogc3ByaXRlLmFscGhhO1xuICAgICAgICBzcHJpdGUuYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG5cbiAgICAgICAgc3ByaXRlLl90ZXh0dXJlLl9mcmFtZS53aWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgICAgIHNwcml0ZS5fdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG5cbiAgICAgICAgc3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgIHNwcml0ZS5hbmNob3Iuc2V0KC1yZWN0LnggLyByZWN0LndpZHRoLCAtcmVjdC55IC8gcmVjdC5oZWlnaHQpO1xuICAgICAgICBzcHJpdGUuX29uQW5jaG9yVXBkYXRlKCk7XG5cbiAgICAgICAgc3ByaXRlLl9yZW5kZXJXZWJHTChyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTWFzayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBncmFwaGljIHNoYXBlIGFzIGEgcmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgICAgICBpZiAodGhpcy5ib3VuZHNEaXJ0eSAhPT0gdGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxvY2FsQm91bmRzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGVkU3ByaXRlRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxiID0gdGhpcy5fbG9jYWxCb3VuZHM7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBsYi5taW5YLCBsYi5taW5ZLCBsYi5tYXhYLCBsYi5tYXhZKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciBncmFwaGljc0RhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgIGlmICghZGF0YS5maWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgZGVhbCB3aXRoIGZpbGxzLi5cbiAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUuY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob2xlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGRhdGEuaG9sZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvbGUgPSBkYXRhLmhvbGVzW19pXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob2xlLmNvbnRhaW5zKHRlbXBQb2ludC54LCB0ZW1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS51cGRhdGVMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsQm91bmRzKCkge1xuICAgICAgICB2YXIgbWluWCA9IEluZmluaXR5O1xuICAgICAgICB2YXIgbWF4WCA9IC1JbmZpbml0eTtcblxuICAgICAgICB2YXIgbWluWSA9IEluZmluaXR5O1xuICAgICAgICB2YXIgbWF4WSA9IC1JbmZpbml0eTtcblxuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSAwO1xuICAgICAgICAgICAgdmFyIHggPSAwO1xuICAgICAgICAgICAgdmFyIHkgPSAwO1xuICAgICAgICAgICAgdmFyIHcgPSAwO1xuICAgICAgICAgICAgdmFyIGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZVdpZHRoID0gZGF0YS5saW5lV2lkdGg7XG5cbiAgICAgICAgICAgICAgICBzaGFwZSA9IGRhdGEuc2hhcGU7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SRUNUIHx8IHR5cGUgPT09IF9jb25zdC5TSEFQRVMuUlJFQykge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueCAtIGxpbmVXaWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55IC0gbGluZVdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHNoYXBlLndpZHRoICsgbGluZVdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBoID0gc2hhcGUuaGVpZ2h0ICsgbGluZVdpZHRoO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICBtYXhYID0geCArIHcgPiBtYXhYID8geCArIHcgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIGggPiBtYXhZID8geSArIGggOiBtYXhZO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5DSVJDKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgICAgICB5ID0gc2hhcGUueTtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHNoYXBlLnJhZGl1cyArIGxpbmVXaWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5yYWRpdXMgKyBsaW5lV2lkdGggLyAyO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblggPSB4IC0gdyA8IG1pblggPyB4IC0gdyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgLSBoIDwgbWluWSA/IHkgLSBoIDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBoID4gbWF4WSA/IHkgKyBoIDogbWF4WTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IF9jb25zdC5TSEFQRVMuRUxJUCkge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgICAgIHcgPSBzaGFwZS53aWR0aCArIGxpbmVXaWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5oZWlnaHQgKyBsaW5lV2lkdGggLyAyO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblggPSB4IC0gdyA8IG1pblggPyB4IC0gdyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgLSBoIDwgbWluWSA/IHkgLSBoIDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBoID4gbWF4WSA/IHkgKyBoIDogbWF4WTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBQT0xZXG4gICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBzaGFwZS5wb2ludHM7XG4gICAgICAgICAgICAgICAgICAgIHZhciB4MiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5MiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkeSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBydyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciByaCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjeSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogKyAyIDwgcG9pbnRzLmxlbmd0aDsgaiArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gcG9pbnRzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHBvaW50c1tqICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB4MiA9IHBvaW50c1tqICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB5MiA9IHBvaW50c1tqICsgM107XG4gICAgICAgICAgICAgICAgICAgICAgICBkeCA9IE1hdGguYWJzKHgyIC0geCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkeSA9IE1hdGguYWJzKHkyIC0geSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gbGluZVdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdyA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3IDwgMWUtOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBydyA9IChoIC8gdyAqIGR5ICsgZHgpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJoID0gKGggLyB3ICogZHggKyBkeSkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ggPSAoeDIgKyB4KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeSA9ICh5MiArIHkpIC8gMjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWluWCA9IGN4IC0gcncgPCBtaW5YID8gY3ggLSBydyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhYID0gY3ggKyBydyA+IG1heFggPyBjeCArIHJ3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWluWSA9IGN5IC0gcmggPCBtaW5ZID8gY3kgLSByaCA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhZID0gY3kgKyByaCA+IG1heFkgPyBjeSArIHJoIDogbWF4WTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1pblggPSAwO1xuICAgICAgICAgICAgbWF4WCA9IDA7XG4gICAgICAgICAgICBtaW5ZID0gMDtcbiAgICAgICAgICAgIG1heFkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLmJvdW5kc1BhZGRpbmc7XG5cbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWluWCA9IG1pblggLSBwYWRkaW5nO1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcy5tYXhYID0gbWF4WCArIHBhZGRpbmc7XG5cbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWluWSA9IG1pblkgLSBwYWRkaW5nO1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcy5tYXhZID0gbWF4WSArIHBhZGRpbmc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IFRoZSBnZW5lcmF0ZWQgR3JhcGhpY3NEYXRhIG9iamVjdC5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uIGRyYXdTaGFwZShzaGFwZSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgY3VycmVudCBwYXRoIVxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA8PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcblxuICAgICAgICB2YXIgZGF0YSA9IG5ldyBfR3JhcGhpY3NEYXRhMi5kZWZhdWx0KHRoaXMubGluZVdpZHRoLCB0aGlzLmxpbmVDb2xvciwgdGhpcy5saW5lQWxwaGEsIHRoaXMuZmlsbENvbG9yLCB0aGlzLmZpbGxBbHBoYSwgdGhpcy5maWxsaW5nLCB0aGlzLm5hdGl2ZUxpbmVzLCBzaGFwZSwgdGhpcy5saW5lQWxpZ25tZW50KTtcblxuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKGRhdGEpO1xuXG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUE9MWSkge1xuICAgICAgICAgICAgZGF0YS5zaGFwZS5jbG9zZWQgPSBkYXRhLnNoYXBlLmNsb3NlZCB8fCB0aGlzLmZpbGxpbmc7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgY2FudmFzIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVNb2RlIC0gVGhlIHNjYWxlIG1vZGUgb2YgdGhlIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXcgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlQ2FudmFzVGV4dHVyZShzY2FsZU1vZGUpIHtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG5cbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKTtcblxuICAgICAgICB2YXIgY2FudmFzQnVmZmVyID0gX1JlbmRlclRleHR1cmUyLmRlZmF1bHQuY3JlYXRlKGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcblxuICAgICAgICBpZiAoIWNhbnZhc1JlbmRlcmVyKSB7XG4gICAgICAgICAgICBjYW52YXNSZW5kZXJlciA9IG5ldyBfQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHkodGVtcE1hdHJpeCk7XG5cbiAgICAgICAgdGVtcE1hdHJpeC5pbnZlcnQoKTtcblxuICAgICAgICB0ZW1wTWF0cml4LnR4IC09IGJvdW5kcy54O1xuICAgICAgICB0ZW1wTWF0cml4LnR5IC09IGJvdW5kcy55O1xuXG4gICAgICAgIGNhbnZhc1JlbmRlcmVyLnJlbmRlcih0aGlzLCBjYW52YXNCdWZmZXIsIHRydWUsIHRlbXBNYXRyaXgpO1xuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gX1RleHR1cmUyLmRlZmF1bHQuZnJvbUNhbnZhcyhjYW52YXNCdWZmZXIuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jYW52YXMsIHNjYWxlTW9kZSwgJ2dyYXBoaWNzJyk7XG5cbiAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS51cGRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb3NlUGF0aCA9IGZ1bmN0aW9uIGNsb3NlUGF0aCgpIHtcbiAgICAgICAgLy8gb2sgc28gY2xvc2UgcGF0aCBhc3N1bWVzIG5leHQgb25lIGlzIGEgaG9sZSFcbiAgICAgICAgdmFyIGN1cnJlbnRQYXRoID0gdGhpcy5jdXJyZW50UGF0aDtcblxuICAgICAgICBpZiAoY3VycmVudFBhdGggJiYgY3VycmVudFBhdGguc2hhcGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoLnNoYXBlLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGhvbGUgaW4gdGhlIGN1cnJlbnQgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYWRkSG9sZSA9IGZ1bmN0aW9uIGFkZEhvbGUoKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgYSBob2xlIVxuICAgICAgICB2YXIgaG9sZSA9IHRoaXMuZ3JhcGhpY3NEYXRhLnBvcCgpO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSB0aGlzLmdyYXBoaWNzRGF0YVt0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggLSAxXTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmFkZEhvbGUoaG9sZS5zaGFwZSk7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX0NvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIGRlc3Ryb3kgZWFjaCBvZiB0aGUgR3JhcGhpY3NEYXRhIG9iamVjdHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZm9yIGVhY2ggd2ViZ2wgZGF0YSBlbnRyeSwgZGVzdHJveSB0aGUgV2ViR0xHcmFwaGljc0RhdGFcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5fd2ViR0wpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5fd2ViR0xbaWRdLmRhdGEubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWJHTFtpZF0uZGF0YVtqXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc3ByaXRlUmVjdCkge1xuICAgICAgICAgICAgdGhpcy5fc3ByaXRlUmVjdC5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3dlYkdMID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gR3JhcGhpY3M7XG59KF9Db250YWluZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBHcmFwaGljcztcblxuXG5HcmFwaGljcy5fU1BSSVRFX1RFWFRVUkUgPSBudWxsO1xuXG4vKipcbiAqIEdyYXBoaWNzIGN1cnZlcyByZXNvbHV0aW9uIHNldHRpbmdzLiBJZiBgYWRhcHRpdmVgIGZsYWcgaXMgc2V0IHRvIGB0cnVlYCxcbiAqIHRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGN1cnZlJ3MgbGVuZ3RoIHRvIGVuc3VyZSBiZXR0ZXIgdmlzdWFsIHF1YWxpdHkuXG4gKiBBZGFwdGl2ZSBkcmF3IHdvcmtzIHdpdGggYGJlemllckN1cnZlVG9gIGFuZCBgcXVhZHJhdGljQ3VydmVUb2AuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSS5HcmFwaGljc1xuICogQG5hbWUgQ1VSVkVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtib29sZWFufSBhZGFwdGl2ZT1mYWxzZSAtIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgcmVzb2x1dGlvbiBzaG91bGQgYmUgYWRhcHRpdmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhMZW5ndGg9MTAgLSBtYXhpbWFsIGxlbmd0aCBvZiBhIHNpbmdsZSBzZWdtZW50IG9mIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5TZWdtZW50cz04IC0gbWluaW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFNlZ21lbnRzPTIwNDggLSBtYXhpbWFsIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKi9cbkdyYXBoaWNzLkNVUlZFUyA9IHtcbiAgICBhZGFwdGl2ZTogZmFsc2UsXG4gICAgbWF4TGVuZ3RoOiAxMCxcbiAgICBtaW5TZWdtZW50czogOCxcbiAgICBtYXhTZWdtZW50czogMjA0OFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyYXBoaWNzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHRyaW1DYW52YXM7XG4vKipcbiAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVycyBmcm9tIGEgY2FudmFzXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiB0cmltQ2FudmFzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGNhbnZhcyB0byB0cmltXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUcmltIGRhdGFcbiAqL1xuZnVuY3Rpb24gdHJpbUNhbnZhcyhjYW52YXMpIHtcbiAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9yZW15Lzc4NDUwOFxuXG4gICAgdmFyIHdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgdmFyIHBpeGVscyA9IGltYWdlRGF0YS5kYXRhO1xuICAgIHZhciBsZW4gPSBwaXhlbHMubGVuZ3RoO1xuXG4gICAgdmFyIGJvdW5kID0ge1xuICAgICAgICB0b3A6IG51bGwsXG4gICAgICAgIGxlZnQ6IG51bGwsXG4gICAgICAgIHJpZ2h0OiBudWxsLFxuICAgICAgICBib3R0b206IG51bGxcbiAgICB9O1xuICAgIHZhciBpID0gdm9pZCAwO1xuICAgIHZhciB4ID0gdm9pZCAwO1xuICAgIHZhciB5ID0gdm9pZCAwO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIGlmIChwaXhlbHNbaSArIDNdICE9PSAwKSB7XG4gICAgICAgICAgICB4ID0gaSAvIDQgJSB3aWR0aDtcbiAgICAgICAgICAgIHkgPSB+fihpIC8gNCAvIHdpZHRoKTtcblxuICAgICAgICAgICAgaWYgKGJvdW5kLnRvcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnRvcCA9IHk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5sZWZ0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHggPCBib3VuZC5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5yaWdodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvdW5kLnJpZ2h0IDwgeCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5ib3R0b20gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5ib3R0b20gPSB5O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChib3VuZC5ib3R0b20gPCB5KSB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdpZHRoID0gYm91bmQucmlnaHQgLSBib3VuZC5sZWZ0O1xuICAgIGhlaWdodCA9IGJvdW5kLmJvdHRvbSAtIGJvdW5kLnRvcCArIDE7XG5cbiAgICB2YXIgZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGJvdW5kLmxlZnQsIGJvdW5kLnRvcCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBkYXRhOiBkYXRhXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyaW1DYW52YXMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX1Nwcml0ZTIgPSByZXF1aXJlKCcuLi9zcHJpdGVzL1Nwcml0ZScpO1xuXG52YXIgX1Nwcml0ZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGUyKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfVGV4dFN0eWxlID0gcmVxdWlyZSgnLi9UZXh0U3R5bGUnKTtcblxudmFyIF9UZXh0U3R5bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dFN0eWxlKTtcblxudmFyIF9UZXh0TWV0cmljcyA9IHJlcXVpcmUoJy4vVGV4dE1ldHJpY3MnKTtcblxudmFyIF9UZXh0TWV0cmljczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0TWV0cmljcyk7XG5cbnZhciBfdHJpbUNhbnZhcyA9IHJlcXVpcmUoJy4uL3V0aWxzL3RyaW1DYW52YXMnKTtcblxudmFyIF90cmltQ2FudmFzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyaW1DYW52YXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qIGVzbGludCBtYXgtZGVwdGg6IFsyLCA4XSAqL1xuXG5cbnZhciBkZWZhdWx0RGVzdHJveU9wdGlvbnMgPSB7XG4gICAgdGV4dHVyZTogdHJ1ZSxcbiAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgYmFzZVRleHR1cmU6IHRydWVcbn07XG5cbi8qKlxuICogQSBUZXh0IE9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nIGluIHlvdXIgdGV4dCBzdHJpbmcsXG4gKiBvciBhZGQgYSB3b3JkV3JhcCBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZSBhbmQgYW5kIHdvcmRXcmFwV2lkdGggcHJvcGVydHkgd2l0aCBhIHZhbHVlIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gKlxuICogQSBUZXh0IGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYSBzdHJpbmcgYW5kIGEgc3R5bGUgb2JqZWN0XG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0ID0gbmV3IFBJWEkuVGV4dCgnVGhpcyBpcyBhIFBpeGlKUyB0ZXh0Jyx7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBUZXh0ID0gZnVuY3Rpb24gKF9TcHJpdGUpIHtcbiAgICBfaW5oZXJpdHMoVGV4dCwgX1Nwcml0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSBzdHJpbmcgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgdGV4dCB0byBkaXNwbGF5XG4gICAgICogQHBhcmFtIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9IFtzdHlsZV0gLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gVGhlIGNhbnZhcyBlbGVtZW50IGZvciBkcmF3aW5nIHRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0KHRleHQsIHN0eWxlLCBjYW52YXMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHQpO1xuXG4gICAgICAgIGNhbnZhcyA9IGNhbnZhcyB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICBjYW52YXMud2lkdGggPSAzO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMztcblxuICAgICAgICB2YXIgdGV4dHVyZSA9IF9UZXh0dXJlMi5kZWZhdWx0LmZyb21DYW52YXMoY2FudmFzLCBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERSwgJ3RleHQnKTtcblxuICAgICAgICB0ZXh0dXJlLm9yaWcgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRleHR1cmUudHJpbSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcblxuICAgICAgICAvLyBiYXNlIHRleHR1cmUgaXMgYWxyZWFkeSBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIHRoZSBjYWNoZSwgbm93IGFkZGluZyB0aGUgYWN0dWFsIHRleHR1cmVcbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1Nwcml0ZS5jYWxsKHRoaXMsIHRleHR1cmUpKTtcblxuICAgICAgICBfVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKF90aGlzLl90ZXh0dXJlLCBfdGhpcy5fdGV4dHVyZS5iYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbMF0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzID0gY2FudmFzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIDJkIGNvbnRleHQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHdpdGhcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dCA9IF90aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLiBUaGlzIGlzIHNldCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSByZW5kZXJlci5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSBsaXN0ZW5lciB0byB0cmFjayBzdHlsZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zdHlsZUxpc3RlbmVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udCA9ICcnO1xuXG4gICAgICAgIF90aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICBfdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIF90aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGFuZCB1cGRhdGVzIGl0IHdoZW4gbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3BlY3REaXJ0eSAtIFdoZXRoZXIgdG8gYWJvcnQgdXBkYXRpbmcgdGhlIHRleHQgaWYgdGhlIFRleHQgaXNuJ3QgZGlydHkgYW5kIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQgPSBmdW5jdGlvbiB1cGRhdGVUZXh0KHJlc3BlY3REaXJ0eSkge1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcblxuICAgICAgICAvLyBjaGVjayBpZiBzdHlsZSBoYXMgY2hhbmdlZC4uXG4gICAgICAgIGlmICh0aGlzLmxvY2FsU3R5bGVJRCAhPT0gc3R5bGUuc3R5bGVJRCkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IHN0eWxlLnN0eWxlSUQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuZGlydHkgJiYgcmVzcGVjdERpcnR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mb250ID0gdGhpcy5fc3R5bGUudG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciBtZWFzdXJlZCA9IF9UZXh0TWV0cmljczIuZGVmYXVsdC5tZWFzdXJlVGV4dCh0aGlzLl90ZXh0LCB0aGlzLl9zdHlsZSwgdGhpcy5fc3R5bGUud29yZFdyYXAsIHRoaXMuY2FudmFzKTtcbiAgICAgICAgdmFyIHdpZHRoID0gbWVhc3VyZWQud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBtZWFzdXJlZC5oZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lcyA9IG1lYXN1cmVkLmxpbmVzO1xuICAgICAgICB2YXIgbGluZUhlaWdodCA9IG1lYXN1cmVkLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbWVhc3VyZWQubGluZVdpZHRocztcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IG1lYXN1cmVkLm1heExpbmVXaWR0aDtcbiAgICAgICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gbWVhc3VyZWQuZm9udFByb3BlcnRpZXM7XG5cbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmNlaWwoKE1hdGgubWF4KDEsIHdpZHRoKSArIHN0eWxlLnBhZGRpbmcgKiAyKSAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgaGVpZ2h0KSArIHN0eWxlLnBhZGRpbmcgKiAyKSAqIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLnJlc29sdXRpb24sIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5fZm9udDtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG5cbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblggPSB2b2lkIDA7XG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25ZID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBzdHlsZS5kcm9wU2hhZG93QWxwaGE7XG4gICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1cjtcblxuICAgICAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3dCbHVyID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB4U2hhZG93T2Zmc2V0ID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgIHZhciB5U2hhZG93T2Zmc2V0ID0gTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyICsgaSAqIGxpbmVIZWlnaHQgKyBmb250UHJvcGVydGllcy5hc2NlbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3R5bGUuYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV0pIC8gMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2ldLCBsaW5lUG9zaXRpb25YICsgeFNoYWRvd09mZnNldCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyB5U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2ldLCBsaW5lUG9zaXRpb25YICsgeFNoYWRvd09mZnNldCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyB5U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgdGhlIHNoYWRvdyBibHVyIGFuZCBhbHBoYSB0aGF0IHdhcyBzZXQgYnkgdGhlIGRyb3Agc2hhZG93LCBmb3IgdGhlIHJlZ3VsYXIgdGV4dFxuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gMTtcblxuICAgICAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzKTtcblxuICAgICAgICAvLyBkcmF3IGxpbmVzIGxpbmUgYnkgbGluZVxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGluZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBsaW5lUG9zaXRpb25YID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyICsgX2kgKiBsaW5lSGVpZ2h0ICsgZm9udFByb3BlcnRpZXMuYXNjZW50O1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbX2ldO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW19pXSkgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbX2ldLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbX2ldLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgdGV4dCB3aXRoIGxldHRlci1zcGFjaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gSG9yaXpvbnRhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBWZXJ0aWNhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJva2U9ZmFsc2VdIC0gSXMgdGhpcyBkcmF3aW5nIGZvciB0aGUgb3V0c2lkZSBzdHJva2Ugb2YgdGhlXG4gICAgICogIHRleHQ/IElmIG5vdCwgaXQncyBmb3IgdGhlIGluc2lkZSBmaWxsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuZHJhd0xldHRlclNwYWNpbmcgPSBmdW5jdGlvbiBkcmF3TGV0dGVyU3BhY2luZyh0ZXh0LCB4LCB5KSB7XG4gICAgICAgIHZhciBpc1N0cm9rZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG5cbiAgICAgICAgLy8gbGV0dGVyU3BhY2luZyBvZiAwIG1lYW5zIG5vcm1hbFxuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgaWYgKGxldHRlclNwYWNpbmcgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGFyYWN0ZXJzID0gU3RyaW5nLnByb3RvdHlwZS5zcGxpdC5jYWxsKHRleHQsICcnKTtcbiAgICAgICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IHg7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50ID0gJyc7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjaGFyYWN0ZXJzW2luZGV4KytdO1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQoY3VycmVudCwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGN1cnJlbnQsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gKz0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KGN1cnJlbnQpLndpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHR1cmUgc2l6ZSBiYXNlZCBvbiBjYW52YXMgc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIHVwZGF0ZVRleHR1cmUoKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcztcblxuICAgICAgICBpZiAodGhpcy5fc3R5bGUudHJpbSkge1xuICAgICAgICAgICAgdmFyIHRyaW1tZWQgPSAoMCwgX3RyaW1DYW52YXMyLmRlZmF1bHQpKGNhbnZhcyk7XG5cbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRyaW1tZWQud2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdHJpbW1lZC5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRyaW1tZWQuZGF0YSwgMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnRyaW0gPyAwIDogc3R5bGUucGFkZGluZztcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBiYXNlVGV4dHVyZS5oYXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLnJlYWxXaWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICAgICAgYmFzZVRleHR1cmUucmVhbEhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIGJhc2VUZXh0dXJlLndpZHRoID0gY2FudmFzLndpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRleHR1cmUudHJpbS53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoID0gY2FudmFzLndpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGV4dHVyZS50cmltLnggPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS50cmltLnkgPSAtcGFkZGluZztcblxuICAgICAgICB0ZXh0dXJlLm9yaWcud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAtIHBhZGRpbmcgKiAyO1xuICAgICAgICB0ZXh0dXJlLm9yaWcuaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0IC0gcGFkZGluZyAqIDI7XG5cbiAgICAgICAgLy8gY2FsbCBzcHJpdGUgb25UZXh0dXJlVXBkYXRlIHRvIHVwZGF0ZSBzY2FsZSBpZiBfd2lkdGggb3IgX2hlaWdodCB3ZXJlIHNldFxuICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS5lbWl0KCd1cGRhdGUnLCBiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgX1Nwcml0ZS5wcm90b3R5cGUucmVuZGVyV2ViR0wuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIF9TcHJpdGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXMuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgdGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gX1Nwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBUZXh0IGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IGRvbmUgdGhpcyBvbiBUSElTIGZyYW1lLlxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gYmUgY2FsbGVkIHVwb24gYSBUZXh0U3R5bGUgY2hhbmdlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLl9vblN0eWxlQ2hhbmdlID0gZnVuY3Rpb24gX29uU3R5bGVDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIGZpbGwgc3R5bGUuIENhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgZ3JhZGllbnQgYmFzZWQgb24gdGhlIGZpbGwgc3R5bGUgYmVpbmcgYW4gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX2dlbmVyYXRlRmlsbFN0eWxlID0gZnVuY3Rpb24gX2dlbmVyYXRlRmlsbFN0eWxlKHN0eWxlLCBsaW5lcykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGUuZmlsbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZS5maWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29jb29uIG9uIGNhbnZhcysgY2Fubm90IGdlbmVyYXRlIHRleHR1cmVzLCBzbyB1c2UgdGhlIGZpcnN0IGNvbG91ciBpbnN0ZWFkXG4gICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmZpbGxbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIHZhciBncmFkaWVudCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHRvdGFsSXRlcmF0aW9ucyA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGN1cnJlbnRJdGVyYXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBzdG9wID0gdm9pZCAwO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBzdHlsZSBzZXR0aW5ncywgc28gd2UgY2FuIG1hbmlwdWxhdGUgdGhlbSBsYXRlclxuICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmZpbGwuc2xpY2UoKTtcbiAgICAgICAgdmFyIGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcblxuICAgICAgICAvLyB3YW50aW5nIHRvIGV2ZW5seSBkaXN0cmlidXRlIHRoZSBmaWxscy4gU28gYW4gYXJyYXkgb2YgNCBjb2xvdXJzIHNob3VsZCBnaXZlIGZpbGxzIG9mIDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICBpZiAoIWZpbGxHcmFkaWVudFN0b3BzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGxlbmd0aFBsdXMxID0gZmlsbC5sZW5ndGggKyAxO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9wIHRoZSBibGVlZGluZyBvZiB0aGUgbGFzdCBncmFkaWVudCBvbiB0aGUgbGluZSBhYm92ZSB0byB0aGUgdG9wIGdyYWRpZW50IG9mIHRoZSB0aGlzIGxpbmVcbiAgICAgICAgLy8gYnkgaGFyZCBkZWZpbmluZyB0aGUgZmlyc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDAsIGFuZCBsYXN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAxXG4gICAgICAgIGZpbGwudW5zaGlmdChzdHlsZS5maWxsWzBdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcblxuICAgICAgICBmaWxsLnB1c2goc3R5bGUuZmlsbFtzdHlsZS5maWxsLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcblxuICAgICAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gX2NvbnN0LlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIHRvcCBjZW50ZXIgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgYm90dG9tIG1pZGRsZSBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCh3aWR0aCAvIDIsIDAsIHdpZHRoIC8gMiwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byByZXBlYXQgdGhlIGdyYWRpZW50IHNvIHRoYXQgZWFjaCBpbmRpdmlkdWFsIGxpbmUgb2YgdGV4dCBoYXMgdGhlIHNhbWUgdmVydGljYWwgZ3JhZGllbnQgZWZmZWN0XG4gICAgICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gb3ZlciAyIGxpbmVzIHdvdWxkIGNyZWF0ZSBzdG9wcyBhdCAwLjEyNSwgMC4yNSwgMC4zNzUsIDAuNjI1LCAwLjc1LCAwLjg3NVxuICAgICAgICAgICAgdG90YWxJdGVyYXRpb25zID0gKGZpbGwubGVuZ3RoICsgMSkgKiBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGxpbmVzLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uICs9IDE7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbal0gLyBsaW5lcy5sZW5ndGggKyBfaTIgLyBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIGNlbnRlciBsZWZ0IG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGNlbnRlciByaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCBoZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgICAgIC8vIHRvIGFuIGV2ZW4gbGVmdCB0byByaWdodCBncmFkaWVudFxuICAgICAgICAgICAgdG90YWxJdGVyYXRpb25zID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGZpbGwubGVuZ3RoOyBfaTMrKykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbX2kzXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW19pM107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW19pM10pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0IG9iamVjdC5cbiAgICAgKiBOb3RlKiBVbmxpa2UgYSBTcHJpdGUsIGEgVGV4dCBvYmplY3Qgd2lsbCBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgaXRzIGJhc2VUZXh0dXJlIGFuZCB0ZXh0dXJlIGFzXG4gICAgICogdGhlIG1ham9yaXR5IG9mIHRoZSB0aW1lIHRoZSB0ZXh0dXJlIHdpbGwgbm90IGJlIHNoYXJlZCB3aXRoIGFueSBvdGhlciBTcHJpdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdERlc3Ryb3lPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBfU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIHJlc2V0IHRoZSB0aGUgY29udGV4dCBhbmQgY2FudmFzLi4gZG9udCB3YW50IHRoaXMgaGFuZ2luZyBhcm91bmQgaW4gbWVtb3J5IVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0LCBbe1xuICAgICAgICBrZXk6ICd3aWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHZhciBzID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLngpIHx8IDE7XG5cbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHZhciBzID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLnkpIHx8IDE7XG5cbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIHN0eWxlIG9mIHRoZSB0ZXh0LiBTZXQgdXAgYW4gZXZlbnQgbGlzdGVuZXIgdG8gbGlzdGVuIGZvciBjaGFuZ2VzIG9uIHRoZSBzdHlsZVxuICAgICAgICAgKiBvYmplY3QgYW5kIG1hcmsgdGhlIHRleHQgYXMgZGlydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdHxQSVhJLlRleHRTdHlsZX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N0eWxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHN0eWxlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlIGluc3RhbmNlb2YgX1RleHRTdHlsZTIuZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gbmV3IF9UZXh0U3R5bGUyLmRlZmF1bHQoc3R5bGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBjb3B5IGZvciB0aGUgdGV4dCBvYmplY3QuIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRleHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09ICcnIHx8IHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJyAnIDogdGV4dCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUZXh0O1xufShfU3ByaXRlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYnVmZmVyIGluIGJ5dGVzLlxuICAgKi9cbiAgZnVuY3Rpb24gQnVmZmVyKHNpemUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQnVmZmVyKTtcblxuICAgIHRoaXMudmVydGljZXMgPSBuZXcgQXJyYXlCdWZmZXIoc2l6ZSk7XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSB2ZXJ0aWNlcyBhcyBhIEZsb2F0MzJBcnJheSBmb3IgcG9zaXRpb25zXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5mbG9hdDMyVmlldyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy52ZXJ0aWNlcyk7XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSB2ZXJ0aWNlcyBhcyBhIFVpbnQzMkFycmF5IGZvciB1dnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnVpbnQzMlZpZXcgPSBuZXcgVWludDMyQXJyYXkodGhpcy52ZXJ0aWNlcyk7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIGJ1ZmZlci5cbiAgICpcbiAgICovXG5cblxuICBCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMudmVydGljZXMgPSBudWxsO1xuICAgIHRoaXMucG9zaXRpb25zID0gbnVsbDtcbiAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgdGhpcy5jb2xvcnMgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBCdWZmZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJ1ZmZlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoQnVmZmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcjtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGZyYWdUZW1wbGF0ZSA9IFsncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnZmxvYXQgdGVzdCA9IDAuMTsnLCAnJWZvcmxvb3AlJywgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLCAnfSddLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBjaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIobWF4SWZzLCBnbCkge1xuICAgIHZhciBjcmVhdGVUZW1wQ29udGV4dCA9ICFnbDtcblxuICAgIC8vIEBpZiBERUJVR1xuICAgIGlmIChtYXhJZnMgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIG9mIGAwYCBwYXNzZWQgdG8gYGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXJgJyk7XG4gICAgfVxuICAgIC8vIEBlbmRpZlxuXG4gICAgaWYgKGNyZWF0ZVRlbXBDb250ZXh0KSB7XG4gICAgICAgIHZhciB0aW55Q2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgdGlueUNhbnZhcy53aWR0aCA9IDE7XG4gICAgICAgIHRpbnlDYW52YXMuaGVpZ2h0ID0gMTtcblxuICAgICAgICBnbCA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LmNyZWF0ZUNvbnRleHQodGlueUNhbnZhcyk7XG4gICAgfVxuXG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuXG4gICAgd2hpbGUgKHRydWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAge1xuICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSBmcmFnVGVtcGxhdGUucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpKTtcblxuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgbWF4SWZzID0gbWF4SWZzIC8gMiB8IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB2YWxpZCFcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNyZWF0ZVRlbXBDb250ZXh0KSB7XG4gICAgICAgIC8vIGdldCByaWQgb2YgY29udGV4dFxuICAgICAgICBpZiAoZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSkge1xuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKS5sb3NlQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heElmcztcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSB7XG4gICAgdmFyIHNyYyA9ICcnO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhJZnM7ICsraSkge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPCBtYXhJZnMgLSAxKSB7XG4gICAgICAgICAgICBzcmMgKz0gJ2lmKHRlc3QgPT0gJyArIGkgKyAnLjApe30nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBnZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcjtcblxudmFyIF9TaGFkZXIgPSByZXF1aXJlKCcuLi8uLi9TaGFkZXInKTtcblxudmFyIF9TaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hhZGVyKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZnJhZ1RlbXBsYXRlID0gWyd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkOycsICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcnNbJWNvdW50JV07JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAndmVjNCBjb2xvcjsnLCAnZmxvYXQgdGV4dHVyZUlkID0gZmxvb3IodlRleHR1cmVJZCswLjUpOycsICclZm9ybG9vcCUnLCAnZ2xfRnJhZ0NvbG9yID0gY29sb3IgKiB2Q29sb3I7JywgJ30nXS5qb2luKCdcXG4nKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIoZ2wsIG1heFRleHR1cmVzKSB7XG4gICAgdmFyIHZlcnRleFNyYyA9ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzQgYUNvbG9yO1xcbmF0dHJpYnV0ZSBmbG9hdCBhVGV4dHVyZUlkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2VGV4dHVyZUlkID0gYVRleHR1cmVJZDtcXG4gICAgdkNvbG9yID0gYUNvbG9yO1xcbn1cXG4nO1xuICAgIHZhciBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZTtcblxuICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWNvdW50JS9naSwgbWF4VGV4dHVyZXMpO1xuICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCBnZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcykpO1xuXG4gICAgdmFyIHNoYWRlciA9IG5ldyBfU2hhZGVyMi5kZWZhdWx0KGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcblxuICAgIHZhciBzYW1wbGVWYWx1ZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgIH1cblxuICAgIHNoYWRlci5iaW5kKCk7XG4gICAgc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVycyA9IHNhbXBsZVZhbHVlcztcblxuICAgIHJldHVybiBzaGFkZXI7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSB7XG4gICAgdmFyIHNyYyA9ICcnO1xuXG4gICAgc3JjICs9ICdcXG4nO1xuICAgIHNyYyArPSAnXFxuJztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPCBtYXhUZXh0dXJlcyAtIDEpIHtcbiAgICAgICAgICAgIHNyYyArPSAnaWYodGV4dHVyZUlkID09ICcgKyBpICsgJy4wKSc7XG4gICAgICAgIH1cblxuICAgICAgICBzcmMgKz0gJ1xcbnsnO1xuICAgICAgICBzcmMgKz0gJ1xcblxcdGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyc1snICsgaSArICddLCB2VGV4dHVyZUNvb3JkKTsnO1xuICAgICAgICBzcmMgKz0gJ1xcbn0nO1xuICAgIH1cblxuICAgIHNyYyArPSAnXFxuJztcbiAgICBzcmMgKz0gJ1xcbic7XG5cbiAgICByZXR1cm4gc3JjO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdmFsaWRhdGVDb250ZXh0O1xuZnVuY3Rpb24gdmFsaWRhdGVDb250ZXh0KGdsKSB7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpO1xuXG4gICAgLy8gdGhpcyBpcyBnb2luZyB0byBiZSBmYWlybHkgc2ltcGxlIGZvciBub3cuLiBidXQgYXQgbGVhc3Qgd2UgaGF2ZSByb29tIHRvIGdyb3chXG4gICAgaWYgKCFhdHRyaWJ1dGVzLnN0ZW5jaWwpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHknKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdGVDb250ZXh0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IG1hcFdlYkdMRHJhd01vZGVzVG9QaXhpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxuLyoqXG4gKiBHZW5lcmljIE1hc2sgU3RhY2sgZGF0YSBzdHJ1Y3R1cmUuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBXZWJHTERyYXdNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICogQHBhcmFtIHtvYmplY3R9IFtvYmplY3Q9e31dIC0gVGhlIG9iamVjdCB0byBtYXAgaW50b1xuICogQHJldHVybiB7b2JqZWN0fSBUaGUgbWFwcGVkIGRyYXcgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFdlYkdMRHJhd01vZGVzVG9QaXhpKGdsKSB7XG4gIHZhciBvYmplY3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5QT0lOVFNdID0gZ2wuUE9JTlRTO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuTElORVNdID0gZ2wuTElORVM7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5MSU5FX0xPT1BdID0gZ2wuTElORV9MT09QO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuTElORV9TVFJJUF0gPSBnbC5MSU5FX1NUUklQO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuVFJJQU5HTEVTXSA9IGdsLlRSSUFOR0xFUztcbiAgb2JqZWN0W19jb25zdC5EUkFXX01PREVTLlRSSUFOR0xFX1NUUklQXSA9IGdsLlRSSUFOR0xFX1NUUklQO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuVFJJQU5HTEVfRkFOXSA9IGdsLlRSSUFOR0xFX0ZBTjtcblxuICByZXR1cm4gb2JqZWN0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxuLyoqXG4gKiBNYXBzIGdsIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBXZWJHTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAqIEBwYXJhbSB7c3RyaW5nW119IFthcnJheT1bXV0gLSBUaGUgYXJyYXkgdG8gb3V0cHV0IGludG8uXG4gKiBAcmV0dXJuIHtzdHJpbmdbXX0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wpIHtcbiAgICB2YXIgYXJyYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdO1xuXG4gICAgLy8gVE9ETyAtIHByZW11bHRpcGx5IGFscGhhIHdvdWxkIGJlIGRpZmZlcmVudC5cbiAgICAvLyBhZGQgYSBib29sZWFuIGZvciB0aGF0IVxuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkFERF0gPSBbZ2wuT05FLCBnbC5EU1RfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5NVUxUSVBMWV0gPSBbZ2wuRFNUX0NPTE9SLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1JdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5PVkVSTEFZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5EQVJLRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkxJR0hURU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SX0RPREdFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9CVVJOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TT0ZUX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5ESUZGRVJFTkNFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5FWENMVVNJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkhVRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0FUVVJBVElPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkxVTUlOT1NJVFldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG5cbiAgICAvLyBub3QtcHJlbXVsdGlwbGllZCBibGVuZCBtb2Rlc1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkFERF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuRFNUX0FMUEhBLCBnbC5PTkUsIGdsLkRTVF9BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUiwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SXTtcblxuICAgIHJldHVybiBhcnJheTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpID0gcmVxdWlyZSgnLi91dGlscy9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGknKTtcblxudmFyIF9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEJMRU5EID0gMDtcbnZhciBERVBUSF9URVNUID0gMTtcbnZhciBGUk9OVF9GQUNFID0gMjtcbnZhciBDVUxMX0ZBQ0UgPSAzO1xudmFyIEJMRU5EX0ZVTkMgPSA0O1xuXG4vKipcbiAqIEEgV2ViR0wgc3RhdGUgbWFjaGluZXNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGNsYXNzXG4gKi9cblxudmFyIFdlYkdMU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTFN0YXRlKGdsKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJHTFN0YXRlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgYWN0aXZlIHN0YXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQ4QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzdGF0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50OEFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUgPSBuZXcgVWludDhBcnJheSgxNik7XG5cbiAgICAgICAgLy8gZGVmYXVsdCBibGVuZCBtb2RlLi5cbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGVbMF0gPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBzdGF0ZSBpbmRleCBpbiB0aGUgc3RhY2tcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFja0luZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YWNrIGhvbGRpbmcgYWxsIHRoZSBkaWZmZXJlbnQgc3RhdGVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFjayA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAgICAgdGhpcy5tYXhBdHRyaWJzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WRVJURVhfQVRUUklCUyk7XG5cbiAgICAgICAgdGhpcy5hdHRyaWJTdGF0ZSA9IHtcbiAgICAgICAgICAgIHRlbXBBdHRyaWJTdGF0ZTogbmV3IEFycmF5KHRoaXMubWF4QXR0cmlicyksXG4gICAgICAgICAgICBhdHRyaWJTdGF0ZTogbmV3IEFycmF5KHRoaXMubWF4QXR0cmlicylcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSAoMCwgX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aTIuZGVmYXVsdCkoZ2wpO1xuXG4gICAgICAgIC8vIGNoZWNrIHdlIGhhdmUgdmFvLi5cbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24gPSBnbC5nZXRFeHRlbnNpb24oJ09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JykgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSB8fCBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIG5ldyBhY3RpdmUgc3RhdGVcbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2goKSB7XG4gICAgICAgIC8vIG5leHQgc3RhdGUuLlxuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YWNrW3RoaXMuc3RhY2tJbmRleF07XG5cbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnN0YWNrW3RoaXMuc3RhY2tJbmRleF0gPSBuZXcgVWludDhBcnJheSgxNik7XG4gICAgICAgIH1cblxuICAgICAgICArK3RoaXMuc3RhY2tJbmRleDtcblxuICAgICAgICAvLyBjb3B5IHN0YXRlLi5cbiAgICAgICAgLy8gc2V0IGFjdGl2ZSBzdGF0ZSBzbyB3ZSBjYW4gZm9yY2Ugb3ZlcnJpZGVzIG9mIGdsIHN0YXRlXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hY3RpdmVTdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3RhdGVbaV0gPSB0aGlzLmFjdGl2ZVN0YXRlW2ldO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvcHMgYSBzdGF0ZSBvdXRcbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gcG9wKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YWNrWy0tdGhpcy5zdGFja0luZGV4XTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBzZXQuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5zZXRCbGVuZChzdGF0ZVtCTEVORF0pO1xuICAgICAgICB0aGlzLnNldERlcHRoVGVzdChzdGF0ZVtERVBUSF9URVNUXSk7XG4gICAgICAgIHRoaXMuc2V0RnJvbnRGYWNlKHN0YXRlW0ZST05UX0ZBQ0VdKTtcbiAgICAgICAgdGhpcy5zZXRDdWxsRmFjZShzdGF0ZVtDVUxMX0ZBQ0VdKTtcbiAgICAgICAgdGhpcy5zZXRCbGVuZE1vZGUoc3RhdGVbQkxFTkRfRlVOQ10pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIG9yIGRpc2FibGVkIGJsZW5kaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGJsZW5kaW5nLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5zZXRCbGVuZCA9IGZ1bmN0aW9uIHNldEJsZW5kKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPyAxIDogMDtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTdGF0ZVtCTEVORF0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQkxFTkQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIGJsZW5kIG1vZGUgdG8gc2V0IHRvLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5zZXRCbGVuZE1vZGUgPSBmdW5jdGlvbiBzZXRCbGVuZE1vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EX0ZVTkNdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EX0ZVTkNdID0gdmFsdWU7XG5cbiAgICAgICAgdmFyIG1vZGUgPSB0aGlzLmJsZW5kTW9kZXNbdmFsdWVdO1xuXG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgdGhpcy5nbC5ibGVuZEZ1bmMobW9kZVswXSwgbW9kZVsxXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmdsLmJsZW5kRnVuY1NlcGFyYXRlKG1vZGVbMF0sIG1vZGVbMV0sIG1vZGVbMl0sIG1vZGVbM10pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBkZXB0aCB0ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGRlcHRoIHRlc3RpbmcuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldERlcHRoVGVzdCA9IGZ1bmN0aW9uIHNldERlcHRoVGVzdCh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gMSA6IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3RhdGVbREVQVEhfVEVTVF0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0RFUFRIX1RFU1RdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5ERVBUSF9URVNUKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGN1bGwgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBjdWxsIGZhY2UuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldEN1bGxGYWNlID0gZnVuY3Rpb24gc2V0Q3VsbEZhY2UodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IDEgOiAwO1xuXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0YXRlW0NVTExfRkFDRV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0NVTExfRkFDRV0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkNVTExfRkFDRSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdsIGZyb250IGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdHJ1ZSBpcyBjbG9ja3dpc2UgYW5kIGZhbHNlIGlzIGNvdW50ZXItY2xvY2t3aXNlXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldEZyb250RmFjZSA9IGZ1bmN0aW9uIHNldEZyb250RmFjZSh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gMSA6IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3RhdGVbRlJPTlRfRkFDRV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0ZST05UX0ZBQ0VdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2xbdmFsdWUgPyAnQ1cnIDogJ0NDVyddKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYWxsIHRoZSB2YW9zIGluIHVzZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnJlc2V0QXR0cmlidXRlcyA9IGZ1bmN0aW9uIHJlc2V0QXR0cmlidXRlcygpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmF0dHJpYlN0YXRlLnRlbXBBdHRyaWJTdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJTdGF0ZS50ZW1wQXR0cmliU3RhdGVbaV0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMuYXR0cmliU3RhdGUuYXR0cmliU3RhdGUubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYlN0YXRlLmF0dHJpYlN0YXRlW19pXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbSBnb2luZyB0byBhc3N1bWUgb25lIGlzIGFsd2F5cyBhY3RpdmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDE7IF9pMiA8IHRoaXMubWF4QXR0cmliczsgX2kyKyspIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KF9pMik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gdXNlZFxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgdGhlIGxvZ2ljIGFuZCBkaXNhYmxlcyB0aGUgdmFvc1xuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5yZXNldFRvRGVmYXVsdCA9IGZ1bmN0aW9uIHJlc2V0VG9EZWZhdWx0KCkge1xuICAgICAgICAvLyB1bmJpbmQgYW55IFZBTyBpZiB0aGV5IGV4aXN0Li5cbiAgICAgICAgaWYgKHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVMobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCBhbGwgYXR0cmlidXRlcy4uXG4gICAgICAgIHRoaXMucmVzZXRBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgLy8gc2V0IGFjdGl2ZSBzdGF0ZSBzbyB3ZSBjYW4gZm9yY2Ugb3ZlcnJpZGVzIG9mIGdsIHN0YXRlXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hY3RpdmVTdGF0ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZVtpXSA9IDMyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbC5waXhlbFN0b3JlaSh0aGlzLmdsLlVOUEFDS19GTElQX1lfV0VCR0wsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHRoaXMuZGVmYXVsdFN0YXRlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFdlYkdMU3RhdGU7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMU3RhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTFN0YXRlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci4gVGhpcyBjbGFzcyBtYW5hZ2VzIHRoZSBHUFUgYW5kIGVuc3VyZXMgdGhhdCBpdCBkb2VzIG5vdCBnZXQgY2xvZ2dlZFxuICogdXAgd2l0aCB0ZXh0dXJlcyB0aGF0IGFyZSBubyBsb25nZXIgYmVpbmcgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlR2FyYmFnZUNvbGxlY3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlR2FyYmFnZUNvbGxlY3RvcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5tYXhJZGxlID0gX3NldHRpbmdzMi5kZWZhdWx0LkdDX01BWF9JRExFO1xuICAgICAgICB0aGlzLmNoZWNrQ291bnRNYXggPSBfc2V0dGluZ3MyLmRlZmF1bHQuR0NfTUFYX0NIRUNLX0NPVU5UO1xuICAgICAgICB0aGlzLm1vZGUgPSBfc2V0dGluZ3MyLmRlZmF1bHQuR0NfTU9ERTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmNvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gX2NvbnN0LkdDX01PREVTLk1BTlVBTCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGVja0NvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDb3VudCA+IHRoaXMuY2hlY2tDb3VudE1heCkge1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcblxuICAgICAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gcnVuKCkge1xuICAgICAgICB2YXIgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyO1xuICAgICAgICB2YXIgbWFuYWdlZFRleHR1cmVzID0gdG0uX21hbmFnZWRUZXh0dXJlcztcbiAgICAgICAgdmFyIHdhc1JlbW92ZWQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG5cbiAgICAgICAgICAgIC8vIG9ubHkgc3VwcG9ydHMgbm9uIGdlbmVyYXRlZCB0ZXh0dXJlcyBhdCB0aGUgbW9tZW50IVxuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlLl9nbFJlbmRlclRhcmdldHMgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUudG91Y2hlZCA+IHRoaXMubWF4SWRsZSkge1xuICAgICAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2FzUmVtb3ZlZCkge1xuICAgICAgICAgICAgdmFyIGogPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGlmIChtYW5hZ2VkVGV4dHVyZXNbX2ldICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tqKytdID0gbWFuYWdlZFRleHR1cmVzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlcy5sZW5ndGggPSBqO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSB0ZXh0dXJlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGFuZCBpdHMgY2hpbGRyZW4gZnJvbSB0aGUgR1BVXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0IHRvIHJlbW92ZSB0aGUgdGV4dHVyZXMgZnJvbS5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IucHJvdG90eXBlLnVubG9hZCA9IGZ1bmN0aW9uIHVubG9hZChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZU1hbmFnZXI7XG5cbiAgICAgICAgLy8gb25seSBkZXN0cm95IG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXNcbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuX3RleHR1cmUgJiYgZGlzcGxheU9iamVjdC5fdGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzKSB7XG4gICAgICAgICAgICB0bS5kZXN0cm95VGV4dHVyZShkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnVubG9hZChkaXNwbGF5T2JqZWN0LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3I7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi91dGlscy9SZW5kZXJUYXJnZXQnKTtcblxudmFyIF9SZW5kZXJUYXJnZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGFyZ2V0KTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHdlYkdMIFRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlTWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlTWFuYWdlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuV2ViR0xSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFjayB0ZXh0dXJlcyBpbiB0aGUgcmVuZGVyZXIgc28gd2UgY2FuIG5vIGxvbmdlciBsaXN0ZW4gdG8gdGhlbSBvbiBkZXN0cnVjdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmJpbmRUZXh0dXJlID0gZnVuY3Rpb24gYmluZFRleHR1cmUoKSB7fVxuICAgIC8vIGVtcHR5XG5cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICovXG4gICAgO1xuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmdldFRleHR1cmUgPSBmdW5jdGlvbiBnZXRUZXh0dXJlKCkge31cbiAgICAvLyBlbXB0eVxuXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGFuZC9vciBDcmVhdGVzIGEgV2ViR0wgdGV4dHVyZSBmb3IgdGhlIHJlbmRlcmVyJ3MgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG9jYXRpb24gLSB0aGUgbG9jYXRpb24gdGhlIHRleHR1cmUgd2lsbCBiZSBib3VuZCB0by5cbiAgICAgKiBAcmV0dXJuIHtHTFRleHR1cmV9IFRoZSBnbCB0ZXh0dXJlLlxuICAgICAqL1xuICAgIDtcblxuICAgIFRleHR1cmVNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSh0ZXh0dXJlLCBsb2NhdGlvbikge1xuICAgICAgICAvLyBhc3N1bWUgaXQgZ29vZCFcbiAgICAgICAgLy8gdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIHZhciBpc1JlbmRlclRleHR1cmUgPSAhIXRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cztcblxuICAgICAgICBpZiAoIXRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzO1xuXG4gICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiBpcyB1bmRlZmluZWQgdGhlbiB0aGlzIG1heSBoYXZlIGJlZW4gY2FsbGVkIGJ5IG4gZXZlbnQuXG4gICAgICAgIC8vIHRoaXMgYmVpbmcgdGhlIGNhc2UgdGhlIHRleHR1cmUgbWF5IGFscmVhZHkgYmUgYm91bmQgdG8gYSBzbG90LiBBcyBhIHRleHR1cmUgY2FuIG9ubHkgYmUgYm91bmQgb25jZVxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGZpbmQgaXRzIGN1cnJlbnQgbG9jYXRpb24gaWYgaXQgZXhpc3RzLlxuICAgICAgICBpZiAobG9jYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9jYXRpb24gPSAwO1xuXG4gICAgICAgICAgICAvLyBUT0RPIG1heWJlIHdlIGNhbiB1c2UgdGV4dHVyZSBib3VuZCBpZHMgbGF0ZXIgb24uLi5cbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRleHR1cmUgaXMgYWxyZWFkeSBib3VuZC4uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcblxuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuXG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghZ2xUZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAoaXNSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KHRoaXMuZ2wsIHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0LCB0ZXh0dXJlLnNjYWxlTW9kZSwgdGV4dHVyZS5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgICAgIHJlbmRlclRhcmdldC5yZXNpemUodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUgPSByZW5kZXJUYXJnZXQudGV4dHVyZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlID0gbmV3IF9waXhpR2xDb3JlLkdMVGV4dHVyZSh0aGlzLmdsLCBudWxsLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuYmluZChsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS51cGxvYWQodGV4dHVyZS5zb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xUZXh0dXJlO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLm9uKCd1cGRhdGUnLCB0aGlzLnVwZGF0ZVRleHR1cmUsIHRoaXMpO1xuICAgICAgICAgICAgdGV4dHVyZS5vbignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmUuaXNQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHR1cmUubWlwbWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVNaXBtYXAoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZS53cmFwTW9kZSA9PT0gX2NvbnN0LldSQVBfTU9ERVMuQ0xBTVApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBDbGFtcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dHVyZS53cmFwTW9kZSA9PT0gX2NvbnN0LldSQVBfTU9ERVMuUkVQRUFUKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVXcmFwUmVwZWF0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBNaXJyb3JSZXBlYXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVXcmFwQ2xhbXAoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRleHR1cmUuc2NhbGVNb2RlID09PSBfY29uc3QuU0NBTEVfTU9ERVMuTkVBUkVTVCkge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVOZWFyZXN0U2NhbGluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuZW5hYmxlTGluZWFyU2NhbGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSB0ZXh0dXJlIGFscmVhZHkgZXhpc3RzIHNvIHdlIG9ubHkgbmVlZCB0byB1cGRhdGUgaXQuLlxuICAgICAgICBlbHNlIGlmIChpc1JlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLl9nbFJlbmRlclRhcmdldHNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0ucmVzaXplKHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnVwbG9hZCh0ZXh0dXJlLnNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdsVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gZGVzdHJveVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBSZW1vdmU9ZmFsc2VdIC0gV2hldGhlciB0byBza2lwIHJlbW92aW5nIHRoZSB0ZXh0dXJlIGZyb20gdGhlIFRleHR1cmVNYW5hZ2VyLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveVRleHR1cmUgPSBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCBza2lwUmVtb3ZlKSB7XG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlIHx8IHRleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVpZCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHZhciBnbFRleHR1cmVzID0gdGV4dHVyZS5fZ2xUZXh0dXJlcztcbiAgICAgICAgdmFyIGdsUmVuZGVyVGFyZ2V0cyA9IHRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cztcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlc1t1aWRdKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnVuYmluZFRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgICAgIGdsVGV4dHVyZXNbdWlkXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy51cGRhdGVUZXh0dXJlLCB0aGlzKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBnbFRleHR1cmVzW3VpZF07XG5cbiAgICAgICAgICAgIGlmICghc2tpcFJlbW92ZSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdGhpcy5fbWFuYWdlZFRleHR1cmVzLmluZGV4T2YodGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVJdGVtcykodGhpcy5fbWFuYWdlZFRleHR1cmVzLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2xSZW5kZXJUYXJnZXRzICYmIGdsUmVuZGVyVGFyZ2V0c1t1aWRdKSB7XG4gICAgICAgICAgICBnbFJlbmRlclRhcmdldHNbdWlkXS5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgZ2xSZW5kZXJUYXJnZXRzW3VpZF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhbGwgdGhlIHRleHR1cmVzIGZyb20gV2ViR0xcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUFsbCA9IGZ1bmN0aW9uIHJlbW92ZUFsbCgpIHtcbiAgICAgICAgLy8gZW1wdHkgYWxsIHRoZSBvbGQgZ2wgdGV4dHVyZXMgYXMgdGhleSBhcmUgdXNlbGVzcyBub3dcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fbWFuYWdlZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgbWFuYWdlciBhbmQgcmVtb3ZlcyBhbGwgaXRzIHRleHR1cmVzXG4gICAgICovXG5cblxuICAgIFRleHR1cmVNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgLy8gZGVzdHJveSBtYW5hZ2VkIHRleHR1cmVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX21hbmFnZWRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgdGhpcy5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCB0cnVlKTtcblxuICAgICAgICAgICAgdGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMudXBkYXRlVGV4dHVyZSwgdGhpcyk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWFuYWdlZFRleHR1cmVzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRleHR1cmVNYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0dXJlTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHR1cmVNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXggPSBjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeDtcbmV4cG9ydHMuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4ID0gY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4O1xuZXhwb3J0cy5jYWxjdWxhdGVTcHJpdGVNYXRyaXggPSBjYWxjdWxhdGVTcHJpdGVNYXRyaXg7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uL21hdGgnKTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBtYXBwZWQgbWF0cml4XG4gKiBAcGFyYW0gZmlsdGVyQXJlYSB7UmVjdGFuZ2xlfSBUaGUgZmlsdGVyIGFyZWFcbiAqIEBwYXJhbSBzcHJpdGUge1Nwcml0ZX0gdGhlIHRhcmdldCBzcHJpdGVcbiAqIEBwYXJhbSBvdXRwdXRNYXRyaXgge01hdHJpeH0gQGFsdmluXG4gKiBAcHJpdmF0ZVxuICovXG4vLyBUT0RPIHBsYXlpbmcgYXJvdW5kIGhlcmUuLiB0aGlzIGlzIHRlbXBvcmFyeSAtICh3aWxsIGVuZCB1cCBpbiB0aGUgc2hhZGVyKVxuLy8gdGhpcyByZXR1cm5zIGEgbWF0cml4IHRoYXQgd2lsbCBub3JtYWxpc2UgbWFwIGZpbHRlciBjb3JkcyBpbiB0aGUgZmlsdGVyIHRvIHNjcmVlbiBzcGFjZVxuZnVuY3Rpb24gY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4LCBmaWx0ZXJBcmVhLCB0ZXh0dXJlU2l6ZSkge1xuICAgIC8vIGxldCB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5KE1hdHJpeC5URU1QX01BVFJJWCksXG4gICAgLy8gbGV0IHRleHR1cmUgPSB7d2lkdGg6MTEzNiwgaGVpZ2h0OjcwMH07Ly9zcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAvLyBUT0RPIHVud3JhcD9cbiAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG5cbiAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKGZpbHRlckFyZWEueCAvIHRleHR1cmVTaXplLndpZHRoLCBmaWx0ZXJBcmVhLnkgLyB0ZXh0dXJlU2l6ZS5oZWlnaHQpO1xuXG4gICAgbWFwcGVkTWF0cml4LnNjYWxlKHRleHR1cmVTaXplLndpZHRoLCB0ZXh0dXJlU2l6ZS5oZWlnaHQpO1xuXG4gICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeCwgZmlsdGVyQXJlYSwgdGV4dHVyZVNpemUpIHtcbiAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG5cbiAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKGZpbHRlckFyZWEueCAvIHRleHR1cmVTaXplLndpZHRoLCBmaWx0ZXJBcmVhLnkgLyB0ZXh0dXJlU2l6ZS5oZWlnaHQpO1xuXG4gICAgdmFyIHRyYW5zbGF0ZVNjYWxlWCA9IHRleHR1cmVTaXplLndpZHRoIC8gZmlsdGVyQXJlYS53aWR0aDtcbiAgICB2YXIgdHJhbnNsYXRlU2NhbGVZID0gdGV4dHVyZVNpemUuaGVpZ2h0IC8gZmlsdGVyQXJlYS5oZWlnaHQ7XG5cbiAgICBtYXBwZWRNYXRyaXguc2NhbGUodHJhbnNsYXRlU2NhbGVYLCB0cmFuc2xhdGVTY2FsZVkpO1xuXG4gICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbn1cblxuLy8gdGhpcyB3aWxsIG1hcCB0aGUgZmlsdGVyIGNvb3JkIHNvIHRoYXQgYSB0ZXh0dXJlIGNhbiBiZSB1c2VkIGJhc2VkIG9uIHRoZSB0cmFuc2Zvcm0gb2YgYSBzcHJpdGVcbmZ1bmN0aW9uIGNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXgsIGZpbHRlckFyZWEsIHRleHR1cmVTaXplLCBzcHJpdGUpIHtcbiAgICB2YXIgb3JpZyA9IHNwcml0ZS5fdGV4dHVyZS5vcmlnO1xuICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguc2V0KHRleHR1cmVTaXplLndpZHRoLCAwLCAwLCB0ZXh0dXJlU2l6ZS5oZWlnaHQsIGZpbHRlckFyZWEueCwgZmlsdGVyQXJlYS55KTtcbiAgICB2YXIgd29ybGRUcmFuc2Zvcm0gPSBzcHJpdGUud29ybGRUcmFuc2Zvcm0uY29weShfbWF0aC5NYXRyaXguVEVNUF9NQVRSSVgpO1xuXG4gICAgd29ybGRUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgbWFwcGVkTWF0cml4LnByZXBlbmQod29ybGRUcmFuc2Zvcm0pO1xuICAgIG1hcHBlZE1hdHJpeC5zY2FsZSgxLjAgLyBvcmlnLndpZHRoLCAxLjAgLyBvcmlnLmhlaWdodCk7XG4gICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzcHJpdGUuYW5jaG9yLngsIHNwcml0ZS5hbmNob3IueSk7XG5cbiAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyVHJhbnNmb3Jtcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMiA9IHJlcXVpcmUoJy4vV2ViR0xNYW5hZ2VyJyk7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMTWFuYWdlcjIpO1xuXG52YXIgX1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4uL3V0aWxzL1JlbmRlclRhcmdldCcpO1xuXG52YXIgX1JlbmRlclRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUYXJnZXQpO1xuXG52YXIgX1F1YWQgPSByZXF1aXJlKCcuLi91dGlscy9RdWFkJyk7XG5cbnZhciBfUXVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9RdWFkKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vbWF0aCcpO1xuXG52YXIgX1NoYWRlciA9IHJlcXVpcmUoJy4uLy4uLy4uL1NoYWRlcicpO1xuXG52YXIgX1NoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIpO1xuXG52YXIgX2ZpbHRlclRyYW5zZm9ybXMgPSByZXF1aXJlKCcuLi9maWx0ZXJzL2ZpbHRlclRyYW5zZm9ybXMnKTtcblxudmFyIGZpbHRlclRyYW5zZm9ybXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZmlsdGVyVHJhbnNmb3Jtcyk7XG5cbnZhciBfYml0VHdpZGRsZSA9IHJlcXVpcmUoJ2JpdC10d2lkZGxlJyk7XG5cbnZhciBfYml0VHdpZGRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaXRUd2lkZGxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqIEBjbGFzc1xuICovXG52YXIgRmlsdGVyU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGaWx0ZXJTdGF0ZSgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlclN0YXRlKTtcblxuICAgICAgICB0aGlzLnJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gMTtcblxuICAgICAgICAvLyB0aG9zZSB0aHJlZSBvYmplY3RzIGFyZSB1c2VkIG9ubHkgZm9yIHJvb3RcbiAgICAgICAgLy8gcmUtYXNzaWduZWQgZm9yIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNsZWFycyB0aGUgc3RhdGVcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyU3RhdGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJUYXJnZXQgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gRmlsdGVyU3RhdGU7XG59KCk7XG5cbnZhciBzY3JlZW5LZXkgPSAnc2NyZWVuJztcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICovXG5cbnZhciBGaWx0ZXJNYW5hZ2VyID0gZnVuY3Rpb24gKF9XZWJHTE1hbmFnZXIpIHtcbiAgICBfaW5oZXJpdHMoRmlsdGVyTWFuYWdlciwgX1dlYkdMTWFuYWdlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGaWx0ZXJNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWx0ZXJNYW5hZ2VyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfV2ViR0xNYW5hZ2VyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5nbCA9IF90aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICAvLyBrbm93IGFib3V0IHNwcml0ZXMhXG4gICAgICAgIF90aGlzLnF1YWQgPSBuZXcgX1F1YWQyLmRlZmF1bHQoX3RoaXMuZ2wsIHJlbmRlcmVyLnN0YXRlLmF0dHJpYlN0YXRlKTtcblxuICAgICAgICBfdGhpcy5zaGFkZXJDYWNoZSA9IHt9O1xuICAgICAgICAvLyB0b2RvIGFkZCBkZWZhdWx0IVxuICAgICAgICBfdGhpcy5wb29sID0ge307XG5cbiAgICAgICAgX3RoaXMuZmlsdGVyRGF0YSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMubWFuYWdlZEZpbHRlcnMgPSBbXTtcblxuICAgICAgICBfdGhpcy5yZW5kZXJlci5vbigncHJlcmVuZGVyJywgX3RoaXMub25QcmVyZW5kZXIsIF90aGlzKTtcblxuICAgICAgICBfdGhpcy5fc2NyZWVuV2lkdGggPSByZW5kZXJlci52aWV3LndpZHRoO1xuICAgICAgICBfdGhpcy5fc2NyZWVuSGVpZ2h0ID0gcmVuZGVyZXIudmlldy5oZWlnaHQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IGZpbHRlciB0byB0aGUgbWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSBmaWx0ZXIgdG8gcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJbXX0gZmlsdGVycyAtIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5wdXNoRmlsdGVyID0gZnVuY3Rpb24gcHVzaEZpbHRlcih0YXJnZXQsIGZpbHRlcnMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICB2YXIgZmlsdGVyRGF0YSA9IHRoaXMuZmlsdGVyRGF0YTtcblxuICAgICAgICBpZiAoIWZpbHRlckRhdGEpIHtcbiAgICAgICAgICAgIGZpbHRlckRhdGEgPSB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuZmlsdGVyU3RhY2s7XG5cbiAgICAgICAgICAgIC8vIGFkZCBuZXcgc3RhY2tcbiAgICAgICAgICAgIHZhciBmaWx0ZXJTdGF0ZSA9IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuXG4gICAgICAgICAgICBmaWx0ZXJTdGF0ZS5zb3VyY2VGcmFtZSA9IGZpbHRlclN0YXRlLmRlc3RpbmF0aW9uRnJhbWUgPSB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuc2l6ZTtcbiAgICAgICAgICAgIGZpbHRlclN0YXRlLnJlbmRlclRhcmdldCA9IHJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5maWx0ZXJEYXRhID0gZmlsdGVyRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgICAgICBzdGFjazogW2ZpbHRlclN0YXRlXVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5maWx0ZXJEYXRhID0gZmlsdGVyRGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB0aGUgY3VycmVudCBmaWx0ZXIgc3RhdGUuLlxuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gZmlsdGVyRGF0YS5zdGFja1srK2ZpbHRlckRhdGEuaW5kZXhdO1xuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0RnJhbWUgPSBmaWx0ZXJEYXRhLnN0YWNrWzBdLmRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICAgICAgaWYgKCFjdXJyZW50U3RhdGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IGZpbHRlckRhdGEuc3RhY2tbZmlsdGVyRGF0YS5pbmRleF0gPSBuZXcgRmlsdGVyU3RhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmdWxsU2NyZWVuID0gdGFyZ2V0LmZpbHRlckFyZWEgJiYgdGFyZ2V0LmZpbHRlckFyZWEueCA9PT0gMCAmJiB0YXJnZXQuZmlsdGVyQXJlYS55ID09PSAwICYmIHRhcmdldC5maWx0ZXJBcmVhLndpZHRoID09PSByZW5kZXJlci5zY3JlZW4ud2lkdGggJiYgdGFyZ2V0LmZpbHRlckFyZWEuaGVpZ2h0ID09PSByZW5kZXJlci5zY3JlZW4uaGVpZ2h0O1xuXG4gICAgICAgIC8vIGZvciBub3cgd2UgZ28gb2ZmIHRoZSBmaWx0ZXIgb2YgdGhlIGZpcnN0IHJlc29sdXRpb24uLlxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGZpbHRlcnNbMF0ucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBmaWx0ZXJzWzBdLnBhZGRpbmcgfCAwO1xuICAgICAgICB2YXIgdGFyZ2V0Qm91bmRzID0gZnVsbFNjcmVlbiA/IHJlbmRlcmVyLnNjcmVlbiA6IHRhcmdldC5maWx0ZXJBcmVhIHx8IHRhcmdldC5nZXRCb3VuZHModHJ1ZSk7XG4gICAgICAgIHZhciBzb3VyY2VGcmFtZSA9IGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSBjdXJyZW50U3RhdGUuZGVzdGluYXRpb25GcmFtZTtcblxuICAgICAgICBzb3VyY2VGcmFtZS54ID0gKHRhcmdldEJvdW5kcy54ICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgc291cmNlRnJhbWUueSA9ICh0YXJnZXRCb3VuZHMueSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgIHNvdXJjZUZyYW1lLndpZHRoID0gKHRhcmdldEJvdW5kcy53aWR0aCAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgIHNvdXJjZUZyYW1lLmhlaWdodCA9ICh0YXJnZXRCb3VuZHMuaGVpZ2h0ICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAoIWZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJEYXRhLnN0YWNrWzBdLnJlbmRlclRhcmdldC50cmFuc2Zvcm0pIHsvL1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyB3ZSBzaG91bGQgZml0IHRoZSByZWN0IGFyb3VuZCB0aGUgdHJhbnNmb3JtLi5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyc1swXS5hdXRvRml0KSB7XG4gICAgICAgICAgICAgICAgc291cmNlRnJhbWUuZml0KHJlbmRlclRhcmdldEZyYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbGV0cyBhcHBseSB0aGUgcGFkZGluZyBBZnRlciB3ZSBmaXQgdGhlIGVsZW1lbnQgdG8gdGhlIHNjcmVlbi5cbiAgICAgICAgICAgIC8vIHRoaXMgc2hvdWxkIHN0b3AgdGhlIHN0cmFuZ2Ugc2lkZSBlZmZlY3RzIHRoYXQgY2FuIG9jY3VyIHdoZW4gY3JvcHBpbmcgdG8gdGhlIGVkZ2VzXG4gICAgICAgICAgICBzb3VyY2VGcmFtZS5wYWQocGFkZGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc291cmNlRnJhbWUud2lkdGg7XG4gICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc291cmNlRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIC8vIGxldHMgcGxheSB0aGUgcGFkZGluZyBhZnRlciB3ZSBmaXQgdGhlIGVsZW1lbnQgdG8gdGhlIHNjcmVlbi5cbiAgICAgICAgLy8gdGhpcyBzaG91bGQgc3RvcCB0aGUgc3RyYW5nZSBzaWRlIGVmZmVjdHMgdGhhdCBjYW4gb2NjdXIgd2hlbiBjcm9wcGluZyB0byB0aGUgZWRnZXNcblxuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gdGhpcy5nZXRQb3RSZW5kZXJUYXJnZXQocmVuZGVyZXIuZ2wsIHNvdXJjZUZyYW1lLndpZHRoLCBzb3VyY2VGcmFtZS5oZWlnaHQsIHJlc29sdXRpb24pO1xuXG4gICAgICAgIGN1cnJlbnRTdGF0ZS50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIGN1cnJlbnRTdGF0ZS5maWx0ZXJzID0gZmlsdGVycztcbiAgICAgICAgY3VycmVudFN0YXRlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0ID0gcmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIC8vIGJpbmQgdGhlIHJlbmRlciB0YXJnZXQgdG8gZHJhdyB0aGUgc2hhcGUgaW4gdGhlIHRvcCBjb3JuZXIuLlxuXG4gICAgICAgIHJlbmRlclRhcmdldC5zZXRGcmFtZShkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSk7XG5cbiAgICAgICAgLy8gYmluZCB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAgICByZW5kZXJlci5iaW5kUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgICAgIHJlbmRlclRhcmdldC5jbGVhcigpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb3BzIG9mZiB0aGUgZmlsdGVyIGFuZCBhcHBsaWVzIGl0LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLnBvcEZpbHRlciA9IGZ1bmN0aW9uIHBvcEZpbHRlcigpIHtcbiAgICAgICAgdmFyIGZpbHRlckRhdGEgPSB0aGlzLmZpbHRlckRhdGE7XG5cbiAgICAgICAgdmFyIGxhc3RTdGF0ZSA9IGZpbHRlckRhdGEuc3RhY2tbZmlsdGVyRGF0YS5pbmRleCAtIDFdO1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gZmlsdGVyRGF0YS5zdGFja1tmaWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICB0aGlzLnF1YWQubWFwKGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZSwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lKS51cGxvYWQoKTtcblxuICAgICAgICB2YXIgZmlsdGVycyA9IGN1cnJlbnRTdGF0ZS5maWx0ZXJzO1xuXG4gICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyc1swXS5hcHBseSh0aGlzLCBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LCBsYXN0U3RhdGUucmVuZGVyVGFyZ2V0LCBmYWxzZSwgY3VycmVudFN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmbGlwID0gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gdGhpcy5nZXRQb3RSZW5kZXJUYXJnZXQodGhpcy5yZW5kZXJlci5nbCwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLndpZHRoLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0LCBjdXJyZW50U3RhdGUucmVzb2x1dGlvbik7XG5cbiAgICAgICAgICAgIGZsb3Auc2V0RnJhbWUoY3VycmVudFN0YXRlLmRlc3RpbmF0aW9uRnJhbWUsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSk7XG5cbiAgICAgICAgICAgIC8vIGZpbmFsbHkgbGV0cyBjbGVhciB0aGUgcmVuZGVyIHRhcmdldCBiZWZvcmUgZHJhd2luZyB0byBpdC4uXG4gICAgICAgICAgICBmbG9wLmNsZWFyKCk7XG5cbiAgICAgICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBmbG9wLCB0cnVlLCBjdXJyZW50U3RhdGUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHQgPSBmbGlwO1xuXG4gICAgICAgICAgICAgICAgZmxpcCA9IGZsb3A7XG4gICAgICAgICAgICAgICAgZmxvcCA9IHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgbGFzdFN0YXRlLnJlbmRlclRhcmdldCwgZmFsc2UsIGN1cnJlbnRTdGF0ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChmbGlwKTtcbiAgICAgICAgICAgIHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChmbG9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRTdGF0ZS5jbGVhcigpO1xuICAgICAgICBmaWx0ZXJEYXRhLmluZGV4LS07XG5cbiAgICAgICAgaWYgKGZpbHRlckRhdGEuaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyRGF0YSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyfSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmFwcGx5RmlsdGVyID0gZnVuY3Rpb24gYXBwbHlGaWx0ZXIoZmlsdGVyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcikge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICB2YXIgc2hhZGVyID0gZmlsdGVyLmdsU2hhZGVyc1tyZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgLy8gY2FjaGVpbmcuLlxuICAgICAgICBpZiAoIXNoYWRlcikge1xuICAgICAgICAgICAgaWYgKGZpbHRlci5nbFNoYWRlcktleSkge1xuICAgICAgICAgICAgICAgIHNoYWRlciA9IHRoaXMuc2hhZGVyQ2FjaGVbZmlsdGVyLmdsU2hhZGVyS2V5XTtcblxuICAgICAgICAgICAgICAgIGlmICghc2hhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlciA9IG5ldyBfU2hhZGVyMi5kZWZhdWx0KHRoaXMuZ2wsIGZpbHRlci52ZXJ0ZXhTcmMsIGZpbHRlci5mcmFnbWVudFNyYyk7XG5cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmdsU2hhZGVyc1tyZW5kZXJlci5DT05URVhUX1VJRF0gPSB0aGlzLnNoYWRlckNhY2hlW2ZpbHRlci5nbFNoYWRlcktleV0gPSBzaGFkZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlZEZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyID0gZmlsdGVyLmdsU2hhZGVyc1tyZW5kZXJlci5DT05URVhUX1VJRF0gPSBuZXcgX1NoYWRlcjIuZGVmYXVsdCh0aGlzLmdsLCBmaWx0ZXIudmVydGV4U3JjLCBmaWx0ZXIuZnJhZ21lbnRTcmMpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlZEZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUT0RPIC0gdGhpcyBvbmx5IG5lZWRzIHRvIGJlIGRvbmUgb25jZT9cbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRWYW8obnVsbCk7XG5cbiAgICAgICAgICAgIHRoaXMucXVhZC5pbml0VmFvKHNoYWRlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iaW5kVmFvKHRoaXMucXVhZC52YW8pO1xuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQob3V0cHV0KTtcblxuICAgICAgICBpZiAoY2xlYXIpIHtcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmNsZWFyKCk7IC8vIFsxLCAxLCAxLCAxXSk7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGluIGNhc2UgdGhlIHJlbmRlciB0YXJnZXQgaXMgYmVpbmcgbWFza2VkIHVzaW5nIGEgc2Npc3NvciByZWN0XG4gICAgICAgIGlmIChvdXRwdXQgPT09IHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnNjaXNzb3JSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnB1c2hTY2lzc29yTWFzayhudWxsLCByZW5kZXJlci5tYXNrTWFuYWdlci5zY2lzc29yRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iaW5kU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgLy8gZnJlZSB1bml0IDAgZm9yIHVzLCBkb2Vzbid0IG1hdHRlciB3aGF0IHdhcyB0aGVyZVxuICAgICAgICAvLyBkb24ndCB0cnkgdG8gcmVzdG9yZSBpdCwgYmVjYXVzZSBzeW5jVW5pZm9ybXMgY2FuIHVwbG9hZCBpdCB0byBhbm90aGVyIHNsb3RcbiAgICAgICAgLy8gYW5kIGl0J2xsIGJlIGEgcHJvYmxlbVxuICAgICAgICB2YXIgdGV4ID0gdGhpcy5yZW5kZXJlci5lbXB0eVRleHR1cmVzWzBdO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlc1swXSA9IHRleDtcbiAgICAgICAgLy8gdGhpcyBzeW5jcyB0aGUgUGl4aUpTIGZpbHRlcnMgIHVuaWZvcm1zIHdpdGggZ2xzbCB1bmlmb3Jtc1xuICAgICAgICB0aGlzLnN5bmNVbmlmb3JtcyhzaGFkZXIsIGZpbHRlcik7XG5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGZpbHRlci5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBpbnB1dC50ZXh0dXJlLnRleHR1cmUpO1xuXG4gICAgICAgIHRoaXMucXVhZC52YW8uZHJhdyh0aGlzLnJlbmRlcmVyLmdsLlRSSUFOR0xFUywgNiwgMCk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4Ll9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdLnRleHR1cmUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB1bmlmb3JtcyBvZiB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtHTFNoYWRlcn0gc2hhZGVyIC0gVGhlIHVuZGVybHlpbmcgZ2wgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJ9IGZpbHRlciAtIFRoZSBmaWx0ZXIgd2UgYXJlIHN5bmNocm9uaXppbmcuXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLnN5bmNVbmlmb3JtcyA9IGZ1bmN0aW9uIHN5bmNVbmlmb3JtcyhzaGFkZXIsIGZpbHRlcikge1xuICAgICAgICB2YXIgdW5pZm9ybURhdGEgPSBmaWx0ZXIudW5pZm9ybURhdGE7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IGZpbHRlci51bmlmb3JtcztcblxuICAgICAgICAvLyAwIGlzIHJlc2VydmVkIGZvciB0aGUgUGl4aUpTIHRleHR1cmUgc28gd2Ugc3RhcnQgYXQgMSFcbiAgICAgICAgdmFyIHRleHR1cmVDb3VudCA9IDE7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gZmlsdGVyQXJlYSBhbmQgZmlsdGVyQ2xhbXAgdGhhdCBhcmUgaGFuZGxlZCBieSBGaWx0ZXJNYW5hZ2VyIGRpcmVjdGx5XG4gICAgICAgIC8vIHRoZXkgbXVzdCBub3QgYXBwZWFyIGluIHVuaWZvcm1EYXRhXG5cbiAgICAgICAgaWYgKHNoYWRlci51bmlmb3Jtcy5maWx0ZXJBcmVhKSB7XG4gICAgICAgICAgICBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICAgICAgdmFyIGZpbHRlckFyZWEgPSBzaGFkZXIudW5pZm9ybXMuZmlsdGVyQXJlYTtcblxuICAgICAgICAgICAgZmlsdGVyQXJlYVswXSA9IGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMV0gPSBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsyXSA9IGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS54O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVszXSA9IGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS55O1xuXG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMuZmlsdGVyQXJlYSA9IGZpbHRlckFyZWE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1c2UgdGhpcyB0byBjbGFtcCBkaXNwbGFjZWQgdGV4dHVyZSBjb29yZHMgc28gdGhleSBiZWxvbmcgdG8gZmlsdGVyQXJlYVxuICAgICAgICAvLyBzZWUgZGlzcGxhY2VtZW50RmlsdGVyIGZyYWdtZW50IHNoYWRlciBmb3IgYW4gZXhhbXBsZVxuICAgICAgICBpZiAoc2hhZGVyLnVuaWZvcm1zLmZpbHRlckNsYW1wKSB7XG4gICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50U3RhdGUgfHwgdGhpcy5maWx0ZXJEYXRhLnN0YWNrW3RoaXMuZmlsdGVyRGF0YS5pbmRleF07XG5cbiAgICAgICAgICAgIHZhciBmaWx0ZXJDbGFtcCA9IHNoYWRlci51bmlmb3Jtcy5maWx0ZXJDbGFtcDtcblxuICAgICAgICAgICAgZmlsdGVyQ2xhbXBbMF0gPSAwO1xuICAgICAgICAgICAgZmlsdGVyQ2xhbXBbMV0gPSAwO1xuICAgICAgICAgICAgZmlsdGVyQ2xhbXBbMl0gPSAoY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLndpZHRoIC0gMSkgLyBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUud2lkdGg7XG4gICAgICAgICAgICBmaWx0ZXJDbGFtcFszXSA9IChjdXJyZW50U3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0IC0gMSkgLyBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0O1xuXG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMuZmlsdGVyQ2xhbXAgPSBmaWx0ZXJDbGFtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gQ2FjaGVpbmcgbGF5ZXIuLlxuICAgICAgICBmb3IgKHZhciBpIGluIHVuaWZvcm1EYXRhKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHVuaWZvcm1EYXRhW2ldLnR5cGU7XG5cbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnc2FtcGxlcjJkJyAmJiB1bmlmb3Jtc1tpXSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICh1bmlmb3Jtc1tpXS5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB0aGlzLnJlbmRlcmVyLmJpbmRUZXh0dXJlKHVuaWZvcm1zW2ldLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ291bnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHRleHR1cmVDb3VudDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgaGVscGZ1bCBhcyByZW5kZXJUYXJnZXRzIGNhbiBhbHNvIGJlIHNldC5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWx0aG91Z2ggdGhpbmtpbmcgYWJvdXQgaXQsIHdlIGNvdWxkIHByb2JhYmx5XG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgdGhlIGZpbHRlciB0ZXh0dXJlIGNhY2hlIHJldHVybiBhIFJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAgICAgICAgLy8gcmF0aGVyIHRoYW4gYSByZW5kZXJUYXJnZXRcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXNbdGV4dHVyZUNvdW50XSA9IHRoaXMucmVuZGVyZXIuZW1wdHlUZXh0dXJlc1t0ZXh0dXJlQ291bnRdO1xuICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgdGV4dHVyZUNvdW50KTtcblxuICAgICAgICAgICAgICAgICAgICB1bmlmb3Jtc1tpXS50ZXh0dXJlLmJpbmQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21hdDMnKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXRzIFBpeGlKUyBtYXRyaXguLlxuICAgICAgICAgICAgICAgIGlmICh1bmlmb3Jtc1tpXS5hICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdW5pZm9ybXNbaV0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB1bmlmb3Jtc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd2ZWMyJykge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGl0cyBhIHBvaW50Li5cbiAgICAgICAgICAgICAgICBpZiAodW5pZm9ybXNbaV0ueCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBzaGFkZXIudW5pZm9ybXNbaV0gfHwgbmV3IEZsb2F0MzJBcnJheSgyKTtcblxuICAgICAgICAgICAgICAgICAgICB2YWxbMF0gPSB1bmlmb3Jtc1tpXS54O1xuICAgICAgICAgICAgICAgICAgICB2YWxbMV0gPSB1bmlmb3Jtc1tpXS55O1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdW5pZm9ybXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnZmxvYXQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRlci51bmlmb3Jtcy5kYXRhW2ldLnZhbHVlICE9PSB1bmlmb3JtRGF0YVtpXSkge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB1bmlmb3Jtc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHVuaWZvcm1zW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByZW5kZXIgdGFyZ2V0IGZyb20gdGhlIHBvb2wsIG9yIGNyZWF0ZXMgYSBuZXcgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB3ZSBjbGVhciB0aGUgcmVuZGVyIHRleHR1cmUgd2hlbiB3ZSBnZXQgaXQ/XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdGFyZ2V0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGFyZ2V0fSBUaGUgbmV3IHJlbmRlciB0YXJnZXRcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZ2V0UmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gZ2V0UmVuZGVyVGFyZ2V0KGNsZWFyLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IHRoaXMuZ2V0UG90UmVuZGVyVGFyZ2V0KHRoaXMucmVuZGVyZXIuZ2wsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbiB8fCBjdXJyZW50U3RhdGUucmVzb2x1dGlvbik7XG5cbiAgICAgICAgcmVuZGVyVGFyZ2V0LnNldEZyYW1lKGN1cnJlbnRTdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJUYXJnZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZW5kZXIgdGFyZ2V0IHRvIHRoZSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gcmVuZGVyVGFyZ2V0IC0gVGhlIHJlbmRlciB0YXJnZXQgdG8gcmV0dXJuLlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5yZXR1cm5SZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiByZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqXG4gICAgICogVE9ETyBwbGF5aW5nIGFyb3VuZCBoZXJlLi4gdGhpcyBpcyB0ZW1wb3JhcnkgLSAod2lsbCBlbmQgdXAgaW4gdGhlIHNoYWRlcilcbiAgICAgKiB0aGlzIHJldHVybnMgYSBtYXRyaXggdGhhdCB3aWxsIG5vcm1hbGlzZSBtYXAgZmlsdGVyIGNvcmRzIGluIHRoZSBmaWx0ZXIgdG8gc2NyZWVuIHNwYWNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSB0aGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4ID0gZnVuY3Rpb24gY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4KSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVHJhbnNmb3Jtcy5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSwgY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdlRleHR1cmVDb29yZCB0byB0aGlzIG1hdHJpeCB0byBhY2hpZXZlICgwLDAsMSwxKSBmb3IgZmlsdGVyQXJlYVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5jYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXggPSBmdW5jdGlvbiBjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4KSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVHJhbnNmb3Jtcy5jYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4LCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUsIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZSwgY3VycmVudFN0YXRlLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgbWFwIHRoZSBmaWx0ZXIgY29vcmQgc28gdGhhdCBhIHRleHR1cmUgY2FuIGJlIHVzZWQgYmFzZWQgb24gdGhlIHRyYW5zZm9ybSBvZiBhIHNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB0byBtYXAgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5jYWxjdWxhdGVTcHJpdGVNYXRyaXggPSBmdW5jdGlvbiBjYWxjdWxhdGVTcHJpdGVNYXRyaXgob3V0cHV0TWF0cml4LCBzcHJpdGUpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgIHJldHVybiBmaWx0ZXJUcmFuc2Zvcm1zLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSwgY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLCBzcHJpdGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIEZpbHRlciBNYW5hZ2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIGNvbnRleHQgd2FzIGxvc3QsIGRvIG5vdCBmcmVlIHNoYWRlcnNcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIGNvbnRleHRMb3N0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHRoaXMubWFuYWdlZEZpbHRlcnM7XG5cbiAgICAgICAgcmVuZGVyZXIub2ZmKCdwcmVyZW5kZXInLCB0aGlzLm9uUHJlcmVuZGVyLCB0aGlzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW2ldLmdsU2hhZGVyc1tyZW5kZXJlci5DT05URVhUX1VJRF0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIGZpbHRlcnNbaV0uZ2xTaGFkZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hhZGVyQ2FjaGUgPSB7fTtcbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgdGhpcy5lbXB0eVBvb2woKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9vbCA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBUT0RPIG1vdmUgdG8gYSBzZXBlcmF0ZSBjbGFzcyBjb3VsZCBiZSBvbiByZW5kZXJlcj9cbiAgICAgKiBhbHNvIC0gY291bGQgY2F1c2UgaXNzdWUgd2l0aCBtdWx0aXBsZSBjb250ZXh0cz9cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHdlYmdsIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGFyZ2V0fSBUaGUgbmV3IHJlbmRlciB0YXJnZXQuXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmdldFBvdFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGdldFBvdFJlbmRlclRhcmdldChnbCwgbWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICB2YXIga2V5ID0gc2NyZWVuS2V5O1xuXG4gICAgICAgIG1pbldpZHRoICo9IHJlc29sdXRpb247XG4gICAgICAgIG1pbkhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChtaW5XaWR0aCAhPT0gdGhpcy5fc2NyZWVuV2lkdGggfHwgbWluSGVpZ2h0ICE9PSB0aGlzLl9zY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIFRPRE8geW91IGNvdWxkIHJldHVybiBhIGJpZ2dlciB0ZXh0dXJlIGlmIHRoZXJlIGlzIG5vdCBvbmUgaW4gdGhlIHBvb2w/XG4gICAgICAgICAgICBtaW5XaWR0aCA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKG1pbldpZHRoKTtcbiAgICAgICAgICAgIG1pbkhlaWdodCA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKG1pbkhlaWdodCk7XG4gICAgICAgICAgICBrZXkgPSAobWluV2lkdGggJiAweEZGRkYpIDw8IDE2IHwgbWluSGVpZ2h0ICYgMHhGRkZGO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnBvb2xba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5wb29sW2tleV0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSB0aGlzLnBvb2xba2V5XS5wb3AoKTtcblxuICAgICAgICAvLyBjcmVhdGluZyByZW5kZXIgdGFyZ2V0IHdpbGwgY2F1c2UgdGV4dHVyZSB0byBiZSBib3VuZCFcbiAgICAgICAgaWYgKCFyZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIHRlbXBvcmFyeSBieXBhc3MgY2FjaGUuLlxuICAgICAgICAgICAgdmFyIHRleCA9IHRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlc1swXTtcblxuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG5cbiAgICAgICAgICAgIC8vIGludGVybmFsbHkgLSB0aGlzIHdpbGwgY2F1c2UgYSB0ZXh0dXJlIHRvIGJlIGJvdW5kLi5cbiAgICAgICAgICAgIHJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KGdsLCBtaW5XaWR0aCwgbWluSGVpZ2h0LCBudWxsLCAxKTtcblxuICAgICAgICAgICAgLy8gc2V0IHRoZSBjdXJyZW50IG9uZSBiYWNrXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXguX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYW51YWxseSB0d2VhayB0aGUgcmVzb2x1dGlvbi4uLlxuICAgICAgICAvLyB0aGlzIHdpbGwgbm90IG1vZGlmeSB0aGUgc2l6ZSBvZiB0aGUgZnJhbWUgYnVmZmVyLCBqdXN0IGl0cyByZXNvbHV0aW9uLlxuICAgICAgICByZW5kZXJUYXJnZXQucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIHJlbmRlclRhcmdldC5kZWZhdWx0RnJhbWUud2lkdGggPSByZW5kZXJUYXJnZXQuc2l6ZS53aWR0aCA9IG1pbldpZHRoIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmRlZmF1bHRGcmFtZS5oZWlnaHQgPSByZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQgPSBtaW5IZWlnaHQgLyByZXNvbHV0aW9uO1xuICAgICAgICByZW5kZXJUYXJnZXQuZmlsdGVyUG9vbEtleSA9IGtleTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyVGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbXB0aWVzIHRoZSB0ZXh0dXJlIHBvb2wuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZW1wdHlQb29sID0gZnVuY3Rpb24gZW1wdHlQb29sKCkge1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMucG9vbCkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVzID0gdGhpcy5wb29sW2ldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb29sID0ge307XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZyZWVzIGEgcmVuZGVyIHRhcmdldCBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSByZW5kZXJUYXJnZXQgLSBUaGUgcmVuZGVyVGFyZ2V0IHRvIGZyZWVcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZnJlZVBvdFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGZyZWVQb3RSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIHRoaXMucG9vbFtyZW5kZXJUYXJnZXQuZmlsdGVyUG9vbEtleV0ucHVzaChyZW5kZXJUYXJnZXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYmVmb3JlIHRoZSByZW5kZXJlciBzdGFydHMgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLm9uUHJlcmVuZGVyID0gZnVuY3Rpb24gb25QcmVyZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zY3JlZW5XaWR0aCAhPT0gdGhpcy5yZW5kZXJlci52aWV3LndpZHRoIHx8IHRoaXMuX3NjcmVlbkhlaWdodCAhPT0gdGhpcy5yZW5kZXJlci52aWV3LmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fc2NyZWVuV2lkdGggPSB0aGlzLnJlbmRlcmVyLnZpZXcud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9zY3JlZW5IZWlnaHQgPSB0aGlzLnJlbmRlcmVyLnZpZXcuaGVpZ2h0O1xuXG4gICAgICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnBvb2xbc2NyZWVuS2V5XTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXh0dXJlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucG9vbFtzY3JlZW5LZXldID0gW107XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIEZpbHRlck1hbmFnZXI7XG59KF9XZWJHTE1hbmFnZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBGaWx0ZXJNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsdGVyTWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMiA9IHJlcXVpcmUoJy4vV2ViR0xNYW5hZ2VyJyk7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMTWFuYWdlcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFN0ZW5jaWxNYW5hZ2VyID0gZnVuY3Rpb24gKF9XZWJHTE1hbmFnZXIpIHtcbiAgICBfaW5oZXJpdHMoU3RlbmNpbE1hbmFnZXIsIF9XZWJHTE1hbmFnZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RlbmNpbE1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0ZW5jaWxNYW5hZ2VyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfV2ViR0xNYW5hZ2VyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zdGVuY2lsTWFza1N0YWNrID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIG1hc2sgc3RhY2sgdGhhdCBpcyB1c2VkIGJ5IHRoaXMgbWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc1tdfSBzdGVuY2lsTWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cblxuXG4gICAgU3RlbmNpbE1hbmFnZXIucHJvdG90eXBlLnNldE1hc2tTdGFjayA9IGZ1bmN0aW9uIHNldE1hc2tTdGFjayhzdGVuY2lsTWFza1N0YWNrKSB7XG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IHN0ZW5jaWxNYXNrU3RhY2s7XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBpZiAoc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RlbmNpbCBzdGFjay4gQGFsdmluXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gVGhlIG1hc2tcbiAgICAgKi9cblxuXG4gICAgU3RlbmNpbE1hbmFnZXIucHJvdG90eXBlLnB1c2hTdGVuY2lsID0gZnVuY3Rpb24gcHVzaFN0ZW5jaWwoZ3JhcGhpY3MpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcih0aGlzLnJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5hdHRhY2hTdGVuY2lsQnVmZmVyKCk7XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIHByZXZNYXNrQ291bnQgPSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoO1xuXG4gICAgICAgIGlmIChwcmV2TWFza0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjay5wdXNoKGdyYXBoaWNzKTtcblxuICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIHJlZmZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgbmV3IG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb2xkIG9uZXMuXG4gICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCBwcmV2TWFza0NvdW50LCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLklOQ1IpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MucmVuZGVyKGdyYXBoaWNzKTtcblxuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBzdGVuY2lsIHN0YWNrLiBAYWx2aW5cbiAgICAgKi9cblxuXG4gICAgU3RlbmNpbE1hbmFnZXIucHJvdG90eXBlLnBvcFN0ZW5jaWwgPSBmdW5jdGlvbiBwb3BTdGVuY2lsKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHRoaXMucmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcyk7XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGdyYXBoaWNzID0gdGhpcy5zdGVuY2lsTWFza1N0YWNrLnBvcCgpO1xuXG4gICAgICAgIGlmICh0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyB0aGUgc3RhY2sgaXMgZW1wdHkhXG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgICAgICBnbC5jbGVhcihnbC5TVEVOQ0lMX0JVRkZFUl9CSVQpO1xuICAgICAgICAgICAgZ2wuY2xlYXJTdGVuY2lsKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRGVjcmVtZW50IHRoZSByZWZmZXJlbmNlIHN0ZW5jaWwgdmFsdWUgd2hlcmUgdGhlIHBvcHBlZCBtYXNrIG92ZXJsYXBzIHdpdGggdGhlIG90aGVyIG9uZXNcbiAgICAgICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuREVDUik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MucmVuZGVyKGdyYXBoaWNzKTtcblxuICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBzdGVuY2lsIGRhdGEuXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5fdXNlQ3VycmVudCA9IGZ1bmN0aW9uIF91c2VDdXJyZW50KCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbGwgMXMgZXF1YWwgdG8gdGhlIG51bWJlciBvZiBhY2l0dmUgc3RlbmNpbCBtYXNrcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJpdHdpc2UgbWFzay5cbiAgICAgKi9cblxuXG4gICAgU3RlbmNpbE1hbmFnZXIucHJvdG90eXBlLl9nZXRCaXR3aXNlTWFzayA9IGZ1bmN0aW9uIF9nZXRCaXR3aXNlTWFzaygpIHtcbiAgICAgICAgcmV0dXJuICgxIDw8IHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgpIC0gMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIG1hc2sgc3RhY2suXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgU3RlbmNpbE1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBfV2ViR0xNYW5hZ2VyMy5kZWZhdWx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrLnN0ZW5jaWxTdGFjayA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBTdGVuY2lsTWFuYWdlcjtcbn0oX1dlYkdMTWFuYWdlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFN0ZW5jaWxNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RlbmNpbE1hbmFnZXIuanMubWFwIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGV4dHJhY3RVbmlmb3Jtc0Zyb21TcmM7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBkZWZhdWx0VmFsdWUgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5zaGFkZXIuZGVmYXVsdFZhbHVlO1xuXG5mdW5jdGlvbiBleHRyYWN0VW5pZm9ybXNGcm9tU3JjKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG1hc2spIHtcbiAgICB2YXIgdmVydFVuaWZvcm1zID0gZXh0cmFjdFVuaWZvcm1zRnJvbVN0cmluZyh2ZXJ0ZXhTcmMsIG1hc2spO1xuICAgIHZhciBmcmFnVW5pZm9ybXMgPSBleHRyYWN0VW5pZm9ybXNGcm9tU3RyaW5nKGZyYWdtZW50U3JjLCBtYXNrKTtcblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHZlcnRVbmlmb3JtcywgZnJhZ1VuaWZvcm1zKTtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdFVuaWZvcm1zRnJvbVN0cmluZyhzdHJpbmcpIHtcbiAgICB2YXIgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfGZpbHRlckFyZWF8ZmlsdGVyQ2xhbXApJCcpO1xuXG4gICAgdmFyIHVuaWZvcm1zID0ge307XG4gICAgdmFyIG5hbWVTcGxpdCA9IHZvaWQgMDtcblxuICAgIC8vIGNsZWFuIHRoZSBsaW5lcyBhIGxpdHRsZSAtIHJlbW92ZSBleHRyYSBzcGFjZXMgLyB0YWJzIGV0Y1xuICAgIC8vIHRoZW4gc3BsaXQgYWxvbmcgJzsnXG4gICAgdmFyIGxpbmVzID0gc3RyaW5nLnJlcGxhY2UoL1xccysvZywgJyAnKS5zcGxpdCgvXFxzKjtcXHMqLyk7XG5cbiAgICAvLyBsb29wIHRocm91Z2guLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGxpbmUgPSBsaW5lc1tpXS50cmltKCk7XG5cbiAgICAgICAgaWYgKGxpbmUuaW5kZXhPZigndW5pZm9ybScpID4gLTEpIHtcbiAgICAgICAgICAgIHZhciBzcGxpdExpbmUgPSBsaW5lLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHNwbGl0TGluZVsxXTtcblxuICAgICAgICAgICAgdmFyIG5hbWUgPSBzcGxpdExpbmVbMl07XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IDE7XG5cbiAgICAgICAgICAgIGlmIChuYW1lLmluZGV4T2YoJ1snKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gYXJyYXkhXG4gICAgICAgICAgICAgICAgbmFtZVNwbGl0ID0gbmFtZS5zcGxpdCgvXFxbfF0vKTtcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZVNwbGl0WzBdO1xuICAgICAgICAgICAgICAgIHNpemUgKj0gTnVtYmVyKG5hbWVTcGxpdFsxXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbmFtZS5tYXRjaChtYXNrUmVnZXgpKSB7XG4gICAgICAgICAgICAgICAgdW5pZm9ybXNbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUodHlwZSwgc2l6ZSksXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaWZvcm1zO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0cmFjdFVuaWZvcm1zRnJvbVNyYy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMiA9IHJlcXVpcmUoJy4vV2ViR0xNYW5hZ2VyJyk7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMTWFuYWdlcjIpO1xuXG52YXIgX1Nwcml0ZU1hc2tGaWx0ZXIgPSByZXF1aXJlKCcuLi9maWx0ZXJzL3Nwcml0ZU1hc2svU3ByaXRlTWFza0ZpbHRlcicpO1xuXG52YXIgX1Nwcml0ZU1hc2tGaWx0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlTWFza0ZpbHRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuV2ViR0xNYW5hZ2VyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWFza01hbmFnZXIgPSBmdW5jdGlvbiAoX1dlYkdMTWFuYWdlcikge1xuICAgIF9pbmhlcml0cyhNYXNrTWFuYWdlciwgX1dlYkdMTWFuYWdlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXNrTWFuYWdlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFza01hbmFnZXIpO1xuXG4gICAgICAgIC8vIFRPRE8gLSB3ZSBkb24ndCBuZWVkIGJvdGghXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9XZWJHTE1hbmFnZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnNjaXNzb3IgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc2Npc3NvckRhdGEgPSBudWxsO1xuICAgICAgICBfdGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5lbmFibGVTY2lzc29yID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy5hbHBoYU1hc2tQb29sID0gW107XG4gICAgICAgIF90aGlzLmFscGhhTWFza0luZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnB1c2hNYXNrID0gZnVuY3Rpb24gcHVzaE1hc2sodGFyZ2V0LCBtYXNrRGF0YSkge1xuICAgICAgICAvLyBUT0RPIHRoZSByb290IGNoZWNrIG1lYW5zIHNjaXNzb3IgcmVjdCB3aWxsIG5vdFxuICAgICAgICAvLyBiZSB1c2VkIG9uIHJlbmRlciB0ZXh0dXJlcyBtb3JlIGluZm8gaGVyZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3B1bGwvMzU0NVxuXG4gICAgICAgIGlmIChtYXNrRGF0YS50ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2hTcHJpdGVNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZW5hYmxlU2Npc3NvciAmJiAhdGhpcy5zY2lzc29yICYmIHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5yb290ICYmICF0aGlzLnJlbmRlcmVyLnN0ZW5jaWxNYW5hZ2VyLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoICYmIG1hc2tEYXRhLmlzRmFzdFJlY3QoKSkge1xuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IG1hc2tEYXRhLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICB2YXIgcm90ID0gTWF0aC5hdGFuMihtYXRyaXguYiwgbWF0cml4LmEpO1xuXG4gICAgICAgICAgICAvLyB1c2UgdGhlIG5lYXJlc3QgZGVncmVlIVxuICAgICAgICAgICAgcm90ID0gTWF0aC5yb3VuZChyb3QgKiAoMTgwIC8gTWF0aC5QSSkpO1xuXG4gICAgICAgICAgICBpZiAocm90ICUgOTApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hTdGVuY2lsTWFzayhtYXNrRGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFNjaXNzb3JNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBtYXNrIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwb3AgdGhlIG1hc2sgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucG9wTWFzayA9IGZ1bmN0aW9uIHBvcE1hc2sodGFyZ2V0LCBtYXNrRGF0YSkge1xuICAgICAgICBpZiAobWFza0RhdGEudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5wb3BTcHJpdGVNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZW5hYmxlU2Npc3NvciAmJiAhdGhpcy5yZW5kZXJlci5zdGVuY2lsTWFuYWdlci5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wb3BTY2lzc29yTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9wU3RlbmNpbE1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBzcHJpdGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IG1hc2tEYXRhIC0gU3ByaXRlIHRvIGJlIHVzZWQgYXMgdGhlIG1hc2tcbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnB1c2hTcHJpdGVNYXNrID0gZnVuY3Rpb24gcHVzaFNwcml0ZU1hc2sodGFyZ2V0LCBtYXNrRGF0YSkge1xuICAgICAgICB2YXIgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdO1xuXG4gICAgICAgIGlmICghYWxwaGFNYXNrRmlsdGVyKSB7XG4gICAgICAgICAgICBhbHBoYU1hc2tGaWx0ZXIgPSB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF0gPSBbbmV3IF9TcHJpdGVNYXNrRmlsdGVyMi5kZWZhdWx0KG1hc2tEYXRhKV07XG4gICAgICAgIH1cblxuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ucmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLm1hc2tTcHJpdGUgPSBtYXNrRGF0YTtcblxuICAgICAgICAvLyBUT0RPIC0gbWF5IGNhdXNlIGlzc3VlcyFcbiAgICAgICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBtYXNrRGF0YS5nZXRCb3VuZHModHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXJNYW5hZ2VyLnB1c2hGaWx0ZXIodGFyZ2V0LCBhbHBoYU1hc2tGaWx0ZXIpO1xuXG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBmaWx0ZXIgZnJvbSB0aGUgZmlsdGVyIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucG9wU3ByaXRlTWFzayA9IGZ1bmN0aW9uIHBvcFNwcml0ZU1hc2soKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyTWFuYWdlci5wb3BGaWx0ZXIoKTtcbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleC0tO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaFN0ZW5jaWxNYXNrID0gZnVuY3Rpb24gcHVzaFN0ZW5jaWxNYXNrKG1hc2tEYXRhKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuY3VycmVudFJlbmRlcmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsTWFuYWdlci5wdXNoU3RlbmNpbChtYXNrRGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnBvcFN0ZW5jaWxNYXNrID0gZnVuY3Rpb24gcG9wU3RlbmNpbE1hc2soKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuY3VycmVudFJlbmRlcmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsTWFuYWdlci5wb3BTdGVuY2lsKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnB1c2hTY2lzc29yTWFzayA9IGZ1bmN0aW9uIHB1c2hTY2lzc29yTWFzayh0YXJnZXQsIG1hc2tEYXRhKSB7XG4gICAgICAgIG1hc2tEYXRhLnJlbmRlcmFibGUgPSB0cnVlO1xuXG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgdmFyIGJvdW5kcyA9IG1hc2tEYXRhLmdldEJvdW5kcygpO1xuXG4gICAgICAgIGJvdW5kcy5maXQocmVuZGVyVGFyZ2V0LnNpemUpO1xuICAgICAgICBtYXNrRGF0YS5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5lbmFibGUodGhpcy5yZW5kZXJlci5nbC5TQ0lTU09SX1RFU1QpO1xuXG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuc2Npc3Nvcihib3VuZHMueCAqIHJlc29sdXRpb24sIChyZW5kZXJUYXJnZXQucm9vdCA/IHJlbmRlclRhcmdldC5zaXplLmhlaWdodCAtIGJvdW5kcy55IC0gYm91bmRzLmhlaWdodCA6IGJvdW5kcy55KSAqIHJlc29sdXRpb24sIGJvdW5kcy53aWR0aCAqIHJlc29sdXRpb24sIGJvdW5kcy5oZWlnaHQgKiByZXNvbHV0aW9uKTtcblxuICAgICAgICB0aGlzLnNjaXNzb3JSZW5kZXJUYXJnZXQgPSByZW5kZXJUYXJnZXQ7XG4gICAgICAgIHRoaXMuc2Npc3NvckRhdGEgPSBtYXNrRGF0YTtcbiAgICAgICAgdGhpcy5zY2lzc29yID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucG9wU2Npc3Nvck1hc2sgPSBmdW5jdGlvbiBwb3BTY2lzc29yTWFzaygpIHtcbiAgICAgICAgdGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY2lzc29yRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2Npc3NvciA9IGZhbHNlO1xuXG4gICAgICAgIC8vIG11c3QgYmUgc2Npc3NvciFcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgfTtcblxuICAgIHJldHVybiBNYXNrTWFuYWdlcjtcbn0oX1dlYkdMTWFuYWdlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1hc2tNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFza01hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX09iamVjdFJlbmRlcmVyMiA9IHJlcXVpcmUoJy4uLy4uL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlcicpO1xuXG52YXIgX09iamVjdFJlbmRlcmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iamVjdFJlbmRlcmVyMik7XG5cbnZhciBfV2ViR0xSZW5kZXJlciA9IHJlcXVpcmUoJy4uLy4uL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyJyk7XG5cbnZhciBfV2ViR0xSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTFJlbmRlcmVyKTtcblxudmFyIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHMnKTtcblxudmFyIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlSW5kaWNlc0ZvclF1YWRzKTtcblxudmFyIF9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlciA9IHJlcXVpcmUoJy4vZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXInKTtcblxudmFyIF9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcik7XG5cbnZhciBfY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcicpO1xuXG52YXIgX2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIpO1xuXG52YXIgX0JhdGNoQnVmZmVyID0gcmVxdWlyZSgnLi9CYXRjaEJ1ZmZlcicpO1xuXG52YXIgX0JhdGNoQnVmZmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoQnVmZmVyKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMnKTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxudmFyIF9iaXRUd2lkZGxlID0gcmVxdWlyZSgnYml0LXR3aWRkbGUnKTtcblxudmFyIF9iaXRUd2lkZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdFR3aWRkbGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBUSUNLID0gMDtcbnZhciBURVhUVVJFX1RJQ0sgPSAwO1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cblxudmFyIFNwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKF9PYmplY3RSZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhTcHJpdGVSZW5kZXJlciwgX09iamVjdFJlbmRlcmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHNwcml0ZSBiYXRjaCB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwcml0ZVJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIHZhbHVlcyBzZW50IGluIHRoZSB2ZXJ0ZXggYnVmZmVyLlxuICAgICAgICAgKiBhVmVydGV4UG9zaXRpb24oMiksIGFUZXh0dXJlQ29vcmQoMSksIGFDb2xvcigxKSwgYVRleHR1cmVJZCgxKSA9IDVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX09iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy52ZXJ0U2l6ZSA9IDU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaXplIG9mIHRoZSB2ZXJ0ZXggaW5mb3JtYXRpb24gaW4gYnl0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRCeXRlU2l6ZSA9IF90aGlzLnZlcnRTaXplICogNDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBpbWFnZXMgaW4gdGhlIFNwcml0ZVJlbmRlcmVyIGJlZm9yZSBpdCBmbHVzaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaXplID0gX3NldHRpbmdzMi5kZWZhdWx0LlNQUklURV9CQVRDSF9TSVpFOyAvLyAyMDAwIGlzIGEgbmljZSBiYWxhbmNlIGJldHdlZW4gbW9iaWxlIC8gZGVza3RvcFxuXG4gICAgICAgIC8vIHRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgaW4gb3VyIGJhdGNoXG4gICAgICAgIC8vIGxldCBudW1WZXJ0cyA9IHRoaXMuc2l6ZSAqIDQgKiB0aGlzLnZlcnRCeXRlU2l6ZTtcblxuICAgICAgICBfdGhpcy5idWZmZXJzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKF90aGlzLnNpemUpOyBpICo9IDIpIHtcbiAgICAgICAgICAgIF90aGlzLmJ1ZmZlcnMucHVzaChuZXcgX0JhdGNoQnVmZmVyMi5kZWZhdWx0KGkgKiA0ICogX3RoaXMudmVydEJ5dGVTaXplKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGluZGljZXMgb2YgdGhlIGdlb21ldHJ5IChxdWFkcykgdG8gZHJhd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluZGljZXMgPSAoMCwgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIuZGVmYXVsdCkoX3RoaXMuc2l6ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlcnMgdGhhdCBpcyB1c2VkIGlmIGEgc3ByaXRlIGRvZXNuJ3QgaGF2ZSBhIG1vcmUgc3BlY2lmaWMgb25lLlxuICAgICAgICAgKiB0aGVyZSBpcyBhIHNoYWRlciBmb3IgZWFjaCBudW1iZXIgb2YgdGV4dHVyZXMgdGhhdCBjYW4gYmUgcmVuZGVyZXJkLlxuICAgICAgICAgKiBUaGVzZSBzaGFkZXJzIHdpbGwgYWxzbyBiZSBnZW5lcmF0ZWQgb24gdGhlIGZseSBhcyByZXF1aXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICAgICAgX3RoaXMuZ3JvdXBzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBfdGhpcy5zaXplOyBrKyspIHtcbiAgICAgICAgICAgIF90aGlzLmdyb3Vwc1trXSA9IHsgdGV4dHVyZXM6IFtdLCB0ZXh0dXJlQ291bnQ6IDAsIGlkczogW10sIHNpemU6IDAsIHN0YXJ0OiAwLCBibGVuZDogMCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc3ByaXRlcyA9IFtdO1xuXG4gICAgICAgIF90aGlzLnZlcnRleEJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgX3RoaXMudmFvcyA9IFtdO1xuXG4gICAgICAgIF90aGlzLnZhb01heCA9IDI7XG4gICAgICAgIF90aGlzLnZlcnRleENvdW50ID0gMDtcblxuICAgICAgICBfdGhpcy5yZW5kZXJlci5vbigncHJlcmVuZGVyJywgX3RoaXMub25QcmVyZW5kZXIsIF90aGlzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5sZWdhY3kpIHtcbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0ZXAgMTogZmlyc3QgY2hlY2sgbWF4IHRleHR1cmVzIHRoZSBHUFUgY2FuIGhhbmRsZS5cbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gTWF0aC5taW4oZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSwgX3NldHRpbmdzMi5kZWZhdWx0LlNQUklURV9NQVhfVEVYVFVSRVMpO1xuXG4gICAgICAgICAgICAvLyBzdGVwIDI6IGNoZWNrIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpZiBzdGF0ZW1lbnRzIHRoZSBzaGFkZXIgY2FuIGhhdmUgdG9vLi5cbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gKDAsIF9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIyLmRlZmF1bHQpKHRoaXMuTUFYX1RFWFRVUkVTLCBnbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNoYWRlciA9ICgwLCBfZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIyLmRlZmF1bHQpKGdsLCB0aGlzLk1BWF9URVhUVVJFUyk7XG5cbiAgICAgICAgLy8gY3JlYXRlIGEgY291cGxlIG9mIGJ1ZmZlcnNcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCB0aGlzLmluZGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICAvLyB3ZSB1c2UgdGhlIHNlY29uZCBzaGFkZXIgYXMgdGhlIGZpcnN0IG9uZSBkZXBlbmRpbmcgb24geW91ciBicm93c2VyIG1heSBvbWl0IGFUZXh0dXJlSWRcbiAgICAgICAgLy8gYXMgaXQgaXMgbm90IHVzZWQgYnkgdGhlIHNoYWRlciBzbyBpcyBvcHRpbWl6ZWQgb3V0LlxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyhudWxsKTtcblxuICAgICAgICB2YXIgYXR0cnMgPSB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy52YW9NYXg7IGkrKykge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHRoaXMudmVydGV4QnVmZmVyc1tpXSA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgbnVsbCwgZ2wuU1RSRUFNX0RSQVcpO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG5cbiAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSB2YW8gb2JqZWN0IHRoYXQgd2lsbCByZW5kZXIuLlxuICAgICAgICAgICAgdmFyIHZhbyA9IHRoaXMucmVuZGVyZXIuY3JlYXRlVmFvKCkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcikuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVZlcnRleFBvc2l0aW9uLCBnbC5GTE9BVCwgZmFsc2UsIHRoaXMudmVydEJ5dGVTaXplLCAwKS5hZGRBdHRyaWJ1dGUodmVydGV4QnVmZmVyLCBhdHRycy5hVGV4dHVyZUNvb3JkLCBnbC5VTlNJR05FRF9TSE9SVCwgdHJ1ZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDIgKiA0KS5hZGRBdHRyaWJ1dGUodmVydGV4QnVmZmVyLCBhdHRycy5hQ29sb3IsIGdsLlVOU0lHTkVEX0JZVEUsIHRydWUsIHRoaXMudmVydEJ5dGVTaXplLCAzICogNCk7XG5cbiAgICAgICAgICAgIGlmIChhdHRycy5hVGV4dHVyZUlkKSB7XG4gICAgICAgICAgICAgICAgdmFvLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFUZXh0dXJlSWQsIGdsLkZMT0FULCBmYWxzZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDQgKiA0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy52YW9zW2ldID0gdmFvO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YW8gPSB0aGlzLnZhb3NbMF07XG4gICAgICAgIHRoaXMuY3VycmVudEJsZW5kTW9kZSA9IDk5OTk5O1xuXG4gICAgICAgIHRoaXMuYm91bmRUZXh0dXJlcyA9IG5ldyBBcnJheSh0aGlzLk1BWF9URVhUVVJFUyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBiZWZvcmUgdGhlIHJlbmRlcmVyIHN0YXJ0cyByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLm9uUHJlcmVuZGVyID0gZnVuY3Rpb24gb25QcmVyZW5kZXIoKSB7XG4gICAgICAgIHRoaXMudmVydGV4Q291bnQgPSAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gdGhlIHNwcml0ZSB0byByZW5kZXIgd2hlbiB1c2luZyB0aGlzIHNwcml0ZWJhdGNoXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoc3ByaXRlKSB7XG4gICAgICAgIC8vIFRPRE8gc2V0IGJsZW5kIG1vZGVzLi5cbiAgICAgICAgLy8gY2hlY2sgdGV4dHVyZS4uXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA+PSB0aGlzLnNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB0aGUgdXZzIGZvciB0aGUgdGV4dHVyZVxuXG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgaWYgKCFzcHJpdGUuX3RleHR1cmUuX3V2cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcHVzaCBhIHRleHR1cmUuXG4gICAgICAgIC8vIGluY3JlbWVudCB0aGUgYmF0Y2hzaXplXG4gICAgICAgIHRoaXMuc3ByaXRlc1t0aGlzLmN1cnJlbnRJbmRleCsrXSA9IHNwcml0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGVudCBhbmQgZW1wdGllcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgTUFYX1RFWFRVUkVTID0gdGhpcy5NQVhfVEVYVFVSRVM7XG5cbiAgICAgICAgdmFyIG5wMiA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKHRoaXMuY3VycmVudEluZGV4KTtcbiAgICAgICAgdmFyIGxvZzIgPSBfYml0VHdpZGRsZTIuZGVmYXVsdC5sb2cyKG5wMik7XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbbG9nMl07XG5cbiAgICAgICAgdmFyIHNwcml0ZXMgPSB0aGlzLnNwcml0ZXM7XG4gICAgICAgIHZhciBncm91cHMgPSB0aGlzLmdyb3VwcztcblxuICAgICAgICB2YXIgZmxvYXQzMlZpZXcgPSBidWZmZXIuZmxvYXQzMlZpZXc7XG4gICAgICAgIHZhciB1aW50MzJWaWV3ID0gYnVmZmVyLnVpbnQzMlZpZXc7XG5cbiAgICAgICAgdmFyIGJvdW5kVGV4dHVyZXMgPSB0aGlzLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIHZhciByZW5kZXJlckJvdW5kVGV4dHVyZXMgPSB0aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIHZhciB0b3VjaCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuXG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBuZXh0VGV4dHVyZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGN1cnJlbnRUZXh0dXJlID0gdm9pZCAwO1xuICAgICAgICB2YXIgZ3JvdXBDb3VudCA9IDE7XG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICB2YXIgY3VycmVudEdyb3VwID0gZ3JvdXBzWzBdO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHV2cyA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGJsZW5kTW9kZSA9IF91dGlscy5wcmVtdWx0aXBseUJsZW5kTW9kZVtzcHJpdGVzWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSA/IDEgOiAwXVtzcHJpdGVzWzBdLmJsZW5kTW9kZV07XG5cbiAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5ibGVuZCA9IGJsZW5kTW9kZTtcblxuICAgICAgICBUSUNLKys7XG5cbiAgICAgICAgdmFyIGkgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gY29weSB0ZXh0dXJlcy4uXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBNQVhfVEVYVFVSRVM7ICsraSkge1xuICAgICAgICAgICAgdmFyIGJ0ID0gcmVuZGVyZXJCb3VuZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoYnQuX2VuYWJsZWQgPT09IFRJQ0spIHtcbiAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW2ldID0gdGhpcy5yZW5kZXJlci5lbXB0eVRleHR1cmVzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBib3VuZFRleHR1cmVzW2ldID0gYnQ7XG4gICAgICAgICAgICBidC5fdmlydGFsQm91bmRJZCA9IGk7XG4gICAgICAgICAgICBidC5fZW5hYmxlZCA9IFRJQ0s7XG4gICAgICAgIH1cbiAgICAgICAgVElDSysrO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmN1cnJlbnRJbmRleDsgKytpKSB7XG4gICAgICAgICAgICAvLyB1cGxvYWQgdGhlIHNwcml0ZSBlbGVtZXRucy4uLlxuICAgICAgICAgICAgLy8gdGhleSBoYXZlIGFsbCByZWFkeSBiZWVuIGNhbGN1bGF0ZWQgc28gd2UganVzdCBuZWVkIHRvIHB1c2ggdGhlbSBpbnRvIHRoZSBidWZmZXIuXG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gc3ByaXRlc1tpXTtcblxuICAgICAgICAgICAgc3ByaXRlc1tpXSA9IG51bGw7XG5cbiAgICAgICAgICAgIG5leHRUZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICB2YXIgc3ByaXRlQmxlbmRNb2RlID0gX3V0aWxzLnByZW11bHRpcGx5QmxlbmRNb2RlW051bWJlcihuZXh0VGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpXVtzcHJpdGUuYmxlbmRNb2RlXTtcblxuICAgICAgICAgICAgaWYgKGJsZW5kTW9kZSAhPT0gc3ByaXRlQmxlbmRNb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gZmluaXNoIGEgZ3JvdXAuLlxuICAgICAgICAgICAgICAgIGJsZW5kTW9kZSA9IHNwcml0ZUJsZW5kTW9kZTtcblxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbmV4dFRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFRleHR1cmUuX2VuYWJsZWQgIT09IFRJQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHR1cmVDb3VudCA9PT0gTUFYX1RFWFRVUkVTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUSUNLKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gaSAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gZ3JvdXBzW2dyb3VwQ291bnQrK107XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuYmxlbmQgPSBibGVuZE1vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS50b3VjaGVkID0gdG91Y2g7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl92aXJ0YWxCb3VuZElkID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBNQVhfVEVYVFVSRVM7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0SW5kZXggPSAoaiArIFRFWFRVUkVfVElDSykgJSBNQVhfVEVYVFVSRVM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGJvdW5kVGV4dHVyZXNbdEluZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0Ll9lbmFibGVkICE9PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRFWFRVUkVfVElDSysrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuX3ZpcnRhbEJvdW5kSWQgPSAtMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fdmlydGFsQm91bmRJZCA9IHRJbmRleDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW3RJbmRleF0gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2VuYWJsZWQgPSBUSUNLO1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLmlkc1t0ZXh0dXJlQ291bnRdID0gbmV4dFRleHR1cmUuX3ZpcnRhbEJvdW5kSWQ7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlc1t0ZXh0dXJlQ291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZlcnRleERhdGEgPSBzcHJpdGUudmVydGV4RGF0YTtcblxuICAgICAgICAgICAgLy8gVE9ETyB0aGlzIHN1bSBkb2VzIG5vdCBuZWVkIHRvIGJlIHNldCBlYWNoIGZyYW1lLi5cbiAgICAgICAgICAgIHV2cyA9IHNwcml0ZS5fdGV4dHVyZS5fdXZzLnV2c1VpbnQzMjtcblxuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXhdID0gKHZlcnRleERhdGFbMF0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMV0gPSAodmVydGV4RGF0YVsxXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNV0gPSAodmVydGV4RGF0YVsyXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyA2XSA9ICh2ZXJ0ZXhEYXRhWzNdICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMF0gPSAodmVydGV4RGF0YVs0XSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMV0gPSAodmVydGV4RGF0YVs1XSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTVdID0gKHZlcnRleERhdGFbNl0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTZdID0gKHZlcnRleERhdGFbN10gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4XSA9IHZlcnRleERhdGFbMF07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxXSA9IHZlcnRleERhdGFbMV07XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNV0gPSB2ZXJ0ZXhEYXRhWzJdO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNl0gPSB2ZXJ0ZXhEYXRhWzNdO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDEwXSA9IHZlcnRleERhdGFbNF07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMV0gPSB2ZXJ0ZXhEYXRhWzVdO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDE1XSA9IHZlcnRleERhdGFbNl07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxNl0gPSB2ZXJ0ZXhEYXRhWzddO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgMl0gPSB1dnNbMF07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgN10gPSB1dnNbMV07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgMTJdID0gdXZzWzJdO1xuICAgICAgICAgICAgdWludDMyVmlld1tpbmRleCArIDE3XSA9IHV2c1szXTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHZhciBhbHBoYSA9IE1hdGgubWluKHNwcml0ZS53b3JsZEFscGhhLCAxLjApO1xuICAgICAgICAgICAgLy8gd2UgZG9udCBjYWxsIGV4dHJhIGZ1bmN0aW9uIGlmIGFscGhhIGlzIDEuMCwgdGhhdCdzIGZhc3RlclxuICAgICAgICAgICAgdmFyIGFyZ2IgPSBhbHBoYSA8IDEuMCAmJiBuZXh0VGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEgPyAoMCwgX3V0aWxzLnByZW11bHRpcGx5VGludCkoc3ByaXRlLl90aW50UkdCLCBhbHBoYSkgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuXG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgM10gPSB1aW50MzJWaWV3W2luZGV4ICsgOF0gPSB1aW50MzJWaWV3W2luZGV4ICsgMTNdID0gdWludDMyVmlld1tpbmRleCArIDE4XSA9IGFyZ2I7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDRdID0gZmxvYXQzMlZpZXdbaW5kZXggKyA5XSA9IGZsb2F0MzJWaWV3W2luZGV4ICsgMTRdID0gZmxvYXQzMlZpZXdbaW5kZXggKyAxOV0gPSBuZXh0VGV4dHVyZS5fdmlydGFsQm91bmRJZDtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICBpbmRleCArPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gaSAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICBpZiAoIV9zZXR0aW5nczIuZGVmYXVsdC5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHN0aWxsIG5lZWRlZCBmb3IgSU9TIHBlcmZvcm1hbmNlLi5cbiAgICAgICAgICAgIC8vIGl0IHJlYWxseSBkb2VzIG5vdCBsaWtlIHVwbG9hZGluZyB0byB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWUhXG4gICAgICAgICAgICBpZiAodGhpcy52YW9NYXggPD0gdGhpcy52ZXJ0ZXhDb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvTWF4Kys7XG5cbiAgICAgICAgICAgICAgICB2YXIgYXR0cnMgPSB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzO1xuXG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0gPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIG51bGwsIGdsLlNUUkVBTV9EUkFXKTtcbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSB2YW8gb2JqZWN0IHRoYXQgd2lsbCByZW5kZXIuLlxuICAgICAgICAgICAgICAgIHZhciB2YW8gPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVZhbygpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVRleHR1cmVDb29yZCwgZ2wuVU5TSUdORURfU0hPUlQsIHRydWUsIHRoaXMudmVydEJ5dGVTaXplLCAyICogNCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYUNvbG9yLCBnbC5VTlNJR05FRF9CWVRFLCB0cnVlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMyAqIDQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJzLmFUZXh0dXJlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFvLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFUZXh0dXJlSWQsIGdsLkZMT0FULCBmYWxzZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDQgKiA0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0gPSB2YW87XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyh0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0pO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0udXBsb2FkKGJ1ZmZlci52ZXJ0aWNlcywgMCwgZmFsc2UpO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleENvdW50Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBsZXRzIHVzZSB0aGUgZmFzdGVyIG9wdGlvbiwgYWx3YXlzIHVzZSBidWZmZXIgbnVtYmVyIDBcbiAgICAgICAgICAgIHRoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XS51cGxvYWQoYnVmZmVyLnZlcnRpY2VzLCAwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBNQVhfVEVYVFVSRVM7ICsraSkge1xuICAgICAgICAgICAgcmVuZGVyZXJCb3VuZFRleHR1cmVzW2ldLl92aXJ0YWxCb3VuZElkID0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW5kZXIgdGhlIGdyb3Vwcy4uXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBncm91cENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IGdyb3Vwc1tpXTtcbiAgICAgICAgICAgIHZhciBncm91cFRleHR1cmVDb3VudCA9IGdyb3VwLnRleHR1cmVDb3VudDtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IGdyb3VwVGV4dHVyZUNvdW50OyBfaisrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBncm91cC50ZXh0dXJlc1tfal07XG5cbiAgICAgICAgICAgICAgICAvLyByZXNldCB2aXJ0dWFsIGlkcy4uXG4gICAgICAgICAgICAgICAgLy8gbGV0cyBkbyBhIHF1aWNrIGNoZWNrLi5cbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZXJCb3VuZFRleHR1cmVzW2dyb3VwLmlkc1tfal1dICE9PSBjdXJyZW50VGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRUZXh0dXJlKGN1cnJlbnRUZXh0dXJlLCBncm91cC5pZHNbX2pdLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyByZXNldCB0aGUgdmlydHVhbElkLi5cbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZS5fdmlydGFsQm91bmRJZCA9IC0xO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZXQgdGhlIGJsZW5kIG1vZGUuLlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoZ3JvdXAuYmxlbmQpO1xuXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBncm91cC5zaXplICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIGdyb3VwLnN0YXJ0ICogNiAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgZWxlbWVudHMgZm9yIHRoZSBuZXh0IGZsdXNoXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFNoYWRlcih0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgaWYgKF9zZXR0aW5nczIuZGVmYXVsdC5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKSB7XG4gICAgICAgICAgICAvLyBiaW5kIGJ1ZmZlciAjMCwgd2UgZG9uJ3QgbmVlZCBvdGhlcnNcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyh0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0pO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0uYmluZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIGFuZCBmbHVzaGVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgU3ByaXRlUmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmFvTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZlcnRleEJ1ZmZlcnNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFvc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG5cbiAgICAgICAgX09iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnZhb3MgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNwcml0ZXMgPSBudWxsO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnNbX2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlUmVuZGVyZXI7XG59KF9PYmplY3RSZW5kZXJlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZVJlbmRlcmVyO1xuXG5cbl9XZWJHTFJlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdzcHJpdGUnLCBTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxudmFyIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzID0gcmVxdWlyZSgnLi9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzJyk7XG5cbnZhciBfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBNYXBzIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBDYW52YXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge3N0cmluZ1tdfSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkoKSB7XG4gICAgdmFyIGFycmF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcblxuICAgIGlmICgoMCwgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMyLmRlZmF1bHQpKCkpIHtcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9ICdsaWdodGVyJzsgLy8gSVMgVEhJUyBPSz8/P1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTVVMVElQTFldID0gJ211bHRpcGx5JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSAnc2NyZWVuJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk9WRVJMQVldID0gJ292ZXJsYXknO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuREFSS0VOXSA9ICdkYXJrZW4nO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTElHSFRFTl0gPSAnbGlnaHRlbic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSAnY29sb3ItZG9kZ2UnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSAnY29sb3ItYnVybic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9ICdoYXJkLWxpZ2h0JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNPRlRfTElHSFRdID0gJ3NvZnQtbGlnaHQnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSAnZGlmZmVyZW5jZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5FWENMVVNJT05dID0gJ2V4Y2x1c2lvbic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IVUVdID0gJ2h1ZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9ICdzYXR1cmF0ZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl0gPSAnY29sb3InO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSAnbHVtaW5vc2l0eSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIGNvb2wgbmV3IGJsZW5kIG1vZGVzIGluIGNhbnZhcyAnY291Z2gnIGllICdjb3VnaCdcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9ICdsaWdodGVyJzsgLy8gSVMgVEhJUyBPSz8/P1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTVVMVElQTFldID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuT1ZFUkxBWV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuREFSS0VOXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5MSUdIVEVOXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU09GVF9MSUdIVF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IVUVdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNBVFVSQVRJT05dID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5MVU1JTk9TSVRZXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgfVxuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkLCBvbmx5IGZvciB3ZWJnbFxuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5BRERfTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5BRERdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEEgc2V0IG9mIGZ1bmN0aW9ucyB1c2VkIHRvIGhhbmRsZSBtYXNraW5nLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENhbnZhc01hc2tNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc01hc2tNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNNYXNrTWFuYWdlcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RhY2sgb2YgbWFza3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbWFza0RhdGEgLSB0aGUgbWFza0RhdGEgdGhhdCB3aWxsIGJlIHB1c2hlZFxuICAgICAqL1xuXG5cbiAgICBDYW52YXNNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaE1hc2sgPSBmdW5jdGlvbiBwdXNoTWFzayhtYXNrRGF0YSkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2F2ZSgpO1xuXG4gICAgICAgIHZhciBjYWNoZUFscGhhID0gbWFza0RhdGEuYWxwaGE7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBtYXNrRGF0YS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICByZW5kZXJlci5jb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5iICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmMgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uZCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIC8vIFRPRE8gc3Vwb3J0IHNwcml0ZSBhbHBoYSBtYXNrcz8/XG4gICAgICAgIC8vIGxvdHMgb2YgZWZmb3J0IHJlcXVpcmVkLiBJZiBkZW1hbmQgaXMgZ3JlYXQgZW5vdWdoLi5cbiAgICAgICAgaWYgKCFtYXNrRGF0YS5fdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJHcmFwaGljc1NoYXBlKG1hc2tEYXRhKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuY2xpcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFza0RhdGEud29ybGRBbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBQSVhJLkdyYXBoaWNzIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNNYXNrTWFuYWdlci5wcm90b3R5cGUucmVuZGVyR3JhcGhpY3NTaGFwZSA9IGZ1bmN0aW9uIHJlbmRlckdyYXBoaWNzU2hhcGUoZ3JhcGhpY3MpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciBsZW4gPSBncmFwaGljcy5ncmFwaGljc0RhdGEubGVuZ3RoO1xuXG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljcy5ncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSBkYXRhLnNoYXBlO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlBPTFkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gc2hhcGUucG9pbnRzO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBwb2ludHMubGVuZ3RoIC8gMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvaW50c1tqICogMl0sIHBvaW50c1tqICogMiArIDFdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZmlyc3QgYW5kIGxhc3QgcG9pbnQgYXJlIHRoZSBzYW1lIGNsb3NlIHRoZSBwYXRoIC0gbXVjaCBuZWF0ZXIgOilcbiAgICAgICAgICAgICAgICBpZiAocG9pbnRzWzBdID09PSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICYmIHBvaW50c1sxXSA9PT0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlY3Qoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUud2lkdGgsIHNoYXBlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIC0gbmVlZCB0byBiZSBVbmRlZmluZWQhXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICAvLyBlbGxpcHNlIGNvZGUgdGFrZW4gZnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMTcyNzk4L2hvdy10by1kcmF3LWFuLW92YWwtaW4taHRtbDUtY2FudmFzXG5cbiAgICAgICAgICAgICAgICB2YXIgdyA9IHNoYXBlLndpZHRoICogMjtcbiAgICAgICAgICAgICAgICB2YXIgaCA9IHNoYXBlLmhlaWdodCAqIDI7XG5cbiAgICAgICAgICAgICAgICB2YXIgeCA9IHNoYXBlLnggLSB3IC8gMjtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHNoYXBlLnkgLSBoIC8gMjtcblxuICAgICAgICAgICAgICAgIHZhciBrYXBwYSA9IDAuNTUyMjg0ODtcbiAgICAgICAgICAgICAgICB2YXIgb3ggPSB3IC8gMiAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgdmFyIG95ID0gaCAvIDIgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgdmVydGljYWxcbiAgICAgICAgICAgICAgICB2YXIgeGUgPSB4ICsgdzsgLy8geC1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeWUgPSB5ICsgaDsgLy8geS1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeG0gPSB4ICsgdyAvIDI7IC8vIHgtbWlkZGxlXG4gICAgICAgICAgICAgICAgdmFyIHltID0geSArIGggLyAyOyAvLyB5LW1pZGRsZVxuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeCwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4LCB5bSAtIG95LCB4bSAtIG94LCB5LCB4bSwgeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtICsgb3gsIHksIHhlLCB5bSAtIG95LCB4ZSwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4ZSwgeW0gKyBveSwgeG0gKyBveCwgeWUsIHhtLCB5ZSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtIC0gb3gsIHllLCB4LCB5bSArIG95LCB4LCB5bSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcnggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgIHZhciByeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gc2hhcGUud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHNoYXBlLmhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gc2hhcGUucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1heFJhZGl1cyA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMiB8IDA7XG5cbiAgICAgICAgICAgICAgICByYWRpdXMgPSByYWRpdXMgPiBtYXhSYWRpdXMgPyBtYXhSYWRpdXMgOiByYWRpdXM7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhyeCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4LCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSArIGhlaWdodCwgcnggKyByYWRpdXMsIHJ5ICsgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHdpZHRoIC0gcmFkaXVzLCByeSArIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4ICsgd2lkdGgsIHJ5ICsgaGVpZ2h0LCByeCArIHdpZHRoLCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyB3aWR0aCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCArIHdpZHRoLCByeSwgcnggKyB3aWR0aCAtIHJhZGl1cywgcnkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgcmFkaXVzLCByeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSwgcngsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc3RvcmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgY29udGV4dCB0byB0aGUgc3RhdGUgaXQgd2FzIGJlZm9yZSB0aGUgbWFzayB3YXMgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgY29udGV4dCB0byB1c2UuXG4gICAgICovXG5cblxuICAgIENhbnZhc01hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BNYXNrID0gZnVuY3Rpb24gcG9wTWFzayhyZW5kZXJlcikge1xuICAgICAgICByZW5kZXJlci5jb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgcmVuZGVyZXIuaW52YWxpZGF0ZUJsZW5kTW9kZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGNhbnZhcyBtYXNrIG1hbmFnZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzTWFza01hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAvKiBlbXB0eSAqL1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzTWFza01hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc01hc2tNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzTWFza01hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uL21hdGgnKTtcblxudmFyIF9DYW52YXNUaW50ZXIgPSByZXF1aXJlKCcuL0NhbnZhc1RpbnRlcicpO1xuXG52YXIgX0NhbnZhc1RpbnRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNUaW50ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm0gPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5IG5vd1xuICogc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgQ2FudmFzU3ByaXRlUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL0NhbnZhc1Nwcml0ZVJlbmRlcmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIENhbnZhc1Nwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtVGhlIHJlbmRlcmVyIHNwcml0ZSB0aGlzIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gdGhlIHNwcml0ZSB0byByZW5kZXIgd2hlbiB1c2luZyB0aGlzIHNwcml0ZWJhdGNoXG4gICAgICovXG5cblxuICAgIENhbnZhc1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoc3ByaXRlKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIHZhciB3dCA9IHNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBkeCA9IDA7XG4gICAgICAgIHZhciBkeSA9IDA7XG5cbiAgICAgICAgaWYgKHRleHR1cmUub3JpZy53aWR0aCA8PSAwIHx8IHRleHR1cmUub3JpZy5oZWlnaHQgPD0gMCB8fCAhdGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZShzcHJpdGUuYmxlbmRNb2RlKTtcblxuICAgICAgICAvLyAgSWdub3JlIG51bGwgc291cmNlc1xuICAgICAgICBpZiAodGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5nbG9iYWxBbHBoYSA9IHNwcml0ZS53b3JsZEFscGhhO1xuXG4gICAgICAgICAgICAvLyBJZiBzbW9vdGhpbmdFbmFibGVkIGlzIHN1cHBvcnRlZCBhbmQgd2UgbmVlZCB0byBjaGFuZ2UgdGhlIHNtb290aGluZyBwcm9wZXJ0eSBmb3Igc3ByaXRlIHRleHR1cmVcbiAgICAgICAgICAgIHZhciBzbW9vdGhpbmdFbmFibGVkID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGUgPT09IF9jb25zdC5TQ0FMRV9NT0RFUy5MSU5FQVI7XG5cbiAgICAgICAgICAgIGlmIChyZW5kZXJlci5zbW9vdGhQcm9wZXJ0eSAmJiByZW5kZXJlci5jb250ZXh0W3JlbmRlcmVyLnNtb290aFByb3BlcnR5XSAhPT0gc21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHRbcmVuZGVyZXIuc21vb3RoUHJvcGVydHldID0gc21vb3RoaW5nRW5hYmxlZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRleHR1cmUudHJpbSkge1xuICAgICAgICAgICAgICAgIGR4ID0gdGV4dHVyZS50cmltLndpZHRoIC8gMiArIHRleHR1cmUudHJpbS54IC0gc3ByaXRlLmFuY2hvci54ICogdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgICAgIGR5ID0gdGV4dHVyZS50cmltLmhlaWdodCAvIDIgKyB0ZXh0dXJlLnRyaW0ueSAtIHNwcml0ZS5hbmNob3IueSAqIHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGR4ID0gKDAuNSAtIHNwcml0ZS5hbmNob3IueCkgKiB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICAgICAgZHkgPSAoMC41IC0gc3ByaXRlLmFuY2hvci55KSAqIHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHd0LmNvcHkoY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIHd0ID0gY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgX21hdGguR3JvdXBEOC5tYXRyaXhBcHBlbmRSb3RhdGlvbkludih3dCwgdGV4dHVyZS5yb3RhdGUsIGR4LCBkeSk7XG4gICAgICAgICAgICAgICAgLy8gdGhlIGFuY2hvciBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgYWJvdmUsIHNvIGxldHMgc2V0IGl0IHRvIHplcm9cbiAgICAgICAgICAgICAgICBkeCA9IDA7XG4gICAgICAgICAgICAgICAgZHkgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkeCAtPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICBkeSAtPSBoZWlnaHQgLyAyO1xuXG4gICAgICAgICAgICAvLyBBbGxvdyBmb3IgcGl4ZWwgcm91bmRpbmdcbiAgICAgICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKHd0LmEsIHd0LmIsIHd0LmMsIHd0LmQsIHd0LnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDAsIHd0LnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDApO1xuXG4gICAgICAgICAgICAgICAgZHggPSBkeCB8IDA7XG4gICAgICAgICAgICAgICAgZHkgPSBkeSB8IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKHd0LmEsIHd0LmIsIHd0LmMsIHd0LmQsIHd0LnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd3QudHkgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIGlmIChzcHJpdGUudGludCAhPT0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLmNhY2hlZFRpbnQgIT09IHNwcml0ZS50aW50IHx8IHNwcml0ZS50aW50ZWRUZXh0dXJlLnRpbnRJZCAhPT0gc3ByaXRlLl90ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUuY2FjaGVkVGludCA9IHNwcml0ZS50aW50O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gY2xlYW4gdXAgY2FjaGluZyAtIGhvdyB0byBjbGVhbiB1cCB0aGUgY2FjaGVzP1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUudGludGVkVGV4dHVyZSA9IF9DYW52YXNUaW50ZXIyLmRlZmF1bHQuZ2V0VGludGVkVGV4dHVyZShzcHJpdGUsIHNwcml0ZS50aW50KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZW5kZXJlci5jb250ZXh0LmRyYXdJbWFnZShzcHJpdGUudGludGVkVGV4dHVyZSwgMCwgMCwgd2lkdGggKiByZXNvbHV0aW9uLCBoZWlnaHQgKiByZXNvbHV0aW9uLCBkeCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd2lkdGggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBoZWlnaHQgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIHRleHR1cmUuX2ZyYW1lLnggKiByZXNvbHV0aW9uLCB0ZXh0dXJlLl9mcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGggKiByZXNvbHV0aW9uLCBoZWlnaHQgKiByZXNvbHV0aW9uLCBkeCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd2lkdGggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBoZWlnaHQgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNTcHJpdGVSZW5kZXJlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzU3ByaXRlUmVuZGVyZXI7XG5cblxuX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdzcHJpdGUnLCBDYW52YXNTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNTcHJpdGVSZW5kZXJlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgaGFuZGxpbmcgdGhlIHByaW9yaXR5IHNvcnRpbmcgb2YgdGlja2VyIGhhbmRsZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnRpY2tlclxuICovXG52YXIgVGlja2VyTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbnRleHQ9bnVsbF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9MF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb25jZT1mYWxzZV0gLSBJZiB0aGUgaGFuZGxlciBzaG91bGQgZmlyZSBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlja2VyTGlzdGVuZXIoZm4pIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG51bGw7XG4gICAgICAgIHZhciBwcmlvcml0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIG9uY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaWNrZXJMaXN0ZW5lcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGluZyB0byBleGVjdXRlLlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHByaW9yaXR5LlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgc2hvdWxkIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbmNlID0gb25jZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5leHQgaXRlbSBpbiBjaGFpbi5cbiAgICAgICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJldmlvdXMgaXRlbSBpbiBjaGFpbi5cbiAgICAgICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoaXMgbGlzdGVuZXIgaGFzIGJlZW4gZGVzdHJveWVkIGFscmVhZHkuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaW1wbGUgY29tcGFyZSBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IGlmIGEgZnVuY3Rpb24gYW5kIGNvbnRleHQgbWF0Y2guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnRleHQgLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgbGlzdGVuZXIgbWF0Y2ggdGhlIGFyZ3VtZW50c1xuICAgICAqL1xuXG5cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUubWF0Y2ggPSBmdW5jdGlvbiBtYXRjaChmbiwgY29udGV4dCkge1xuICAgICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmZuID09PSBmbiAmJiB0aGlzLmNvbnRleHQgPT09IGNvbnRleHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVtaXQgYnkgY2FsbGluZyB0aGUgY3VycmVudCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gdGltZSBzaW5jZSB0aGUgbGFzdCBlbWl0LlxuICAgICAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBOZXh0IHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZGVsdGFUaW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmZuKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbi5jYWxsKHRoaXMuY29udGV4dCwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbihkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuXG4gICAgICAgIGlmICh0aGlzLm9uY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvZnQtZGVzdHJveWluZyBzaG91bGQgcmVtb3ZlXG4gICAgICAgIC8vIHRoZSBuZXh0IHJlZmVyZW5jZVxuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSBsaXN0LlxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IHByZXZpb3VzIC0gSW5wdXQgbm9kZSwgcHJldmlvdXMgbGlzdGVuZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiBjb25uZWN0KHByZXZpb3VzKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICAgICAgaWYgKHByZXZpb3VzLm5leHQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzLm5leHQucHJldmlvdXMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dCA9IHByZXZpb3VzLm5leHQ7XG4gICAgICAgIHByZXZpb3VzLm5leHQgPSB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoYXJkID0gZmFsc2VdIGB0cnVlYCB0byByZW1vdmUgdGhlIGBuZXh0YCByZWZlcmVuY2UsIHRoaXNcbiAgICAgKiAgICAgICAgaXMgY29uc2lkZXJlZCBhIGhhcmQgZGVzdHJveS4gU29mdCBkZXN0cm95IG1haW50YWlucyB0aGUgbmV4dCByZWZlcmVuY2UuXG4gICAgICogQHJldHVybiB7VGlja2VyTGlzdGVuZXJ9IFRoZSBsaXN0ZW5lciB0byByZWRpcmVjdCB3aGlsZSBlbWl0dGluZyBvciByZW1vdmluZy5cbiAgICAgKi9cblxuXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB2YXIgaGFyZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mbiA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG5cbiAgICAgICAgLy8gRGlzY29ubmVjdCwgaG9vayB1cCBuZXh0IGFuZCBwcmV2aW91c1xuICAgICAgICBpZiAodGhpcy5wcmV2aW91cykge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91cy5uZXh0ID0gdGhpcy5uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0LnByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIHRoZSBuZXh0IGl0ZW1cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuXG4gICAgICAgIC8vIFJlbW92ZSByZWZlcmVuY2VzXG4gICAgICAgIHRoaXMubmV4dCA9IGhhcmQgPyBudWxsIDogcmVkaXJlY3Q7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRpY2tlckxpc3RlbmVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUaWNrZXJMaXN0ZW5lcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpY2tlckxpc3RlbmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9UaWNrZXJMaXN0ZW5lciA9IHJlcXVpcmUoJy4vVGlja2VyTGlzdGVuZXInKTtcblxudmFyIF9UaWNrZXJMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaWNrZXJMaXN0ZW5lcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQSBUaWNrZXIgY2xhc3MgdGhhdCBydW5zIGFuIHVwZGF0ZSBsb29wIHRoYXQgb3RoZXIgb2JqZWN0cyBsaXN0ZW4gdG8uXG4gKiBUaGlzIGNsYXNzIGlzIGNvbXBvc2VkIGFyb3VuZCBsaXN0ZW5lcnNcbiAqIG1lYW50IGZvciBleGVjdXRpb24gb24gdGhlIG5leHQgcmVxdWVzdGVkIGFuaW1hdGlvbiBmcmFtZS5cbiAqIEFuaW1hdGlvbiBmcmFtZXMgYXJlIHJlcXVlc3RlZCBvbmx5IHdoZW4gbmVjZXNzYXJ5LFxuICogZS5nLiBXaGVuIHRoZSB0aWNrZXIgaXMgc3RhcnRlZCBhbmQgdGhlIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnRpY2tlclxuICovXG52YXIgVGlja2VyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlja2VyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaWNrZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZmlyc3QgbGlzdGVuZXIuIEFsbCBuZXcgbGlzdGVuZXJzIGFkZGVkIGFyZSBjaGFpbmVkIG9uIHRoaXMuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlYWQgPSBuZXcgX1RpY2tlckxpc3RlbmVyMi5kZWZhdWx0KG51bGwsIG51bGwsIEluZmluaXR5KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY3VycmVudCBmcmFtZSByZXF1ZXN0IElEXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB2YWx1ZSBtYW5hZ2VkIGJ5IG1pbkZQUyBwcm9wZXJ0eSBzZXR0ZXIgYW5kIGdldHRlci5cbiAgICAgICAgICogVGhpcyBpcyB0aGUgbWF4aW11bSBhbGxvd2VkIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhFbGFwc2VkTVMgPSAxMDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIHNob3VsZCBpbnZva2UgdGhlIG1ldGhvZFxuICAgICAgICAgKiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3N0YXJ0fSBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAqIHdoZW4gYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1N0YXJ0ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxhciB0aW1lIHZhbHVlIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGNhcHBlZCBieSBzZXR0aW5nIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNzcGVlZH0uXG4gICAgICAgICAqICoqTm90ZToqKiBUaGUgY2FwIG1heSBiZSBleGNlZWRlZCBieSBzY2FsaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsdGFUaW1lID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGltZSBlbGFwc2VkIGluIG1pbGxpc2Vjb25kcyBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogT3Bwb3NlZCB0byB3aGF0IHRoZSBzY2FsYXIge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNkZWx0YVRpbWV9XG4gICAgICAgICAqIGlzIGJhc2VkLCB0aGlzIHZhbHVlIGlzIG5laXRoZXIgY2FwcGVkIG5vciBzY2FsZWQuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICogRGVmYXVsdHMgdG8gdGFyZ2V0IGZyYW1lIHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNi42NlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGFwc2VkTVMgPSAxIC8gX3NldHRpbmdzMi5kZWZhdWx0LlRBUkdFVF9GUE1TO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjdXBkYXRlfSB3YXMgaW52b2tlZC5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBhbHNvIHJlc2V0IGludGVybmFsbHkgb3V0c2lkZSBvZiBpbnZva2luZ1xuICAgICAgICAgKiB1cGRhdGUsIGJ1dCBvbmx5IHdoZW4gYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAgICAgICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RUaW1lID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZhY3RvciBvZiBjdXJyZW50IHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU2NhbGVzIHRpY2tlci5kZWx0YVRpbWUgdG8gd2hhdCB3b3VsZCBiZVxuICAgICAgICAgKiAvLyB0aGUgZXF1aXZhbGVudCBvZiBhcHByb3hpbWF0ZWx5IDEyMCBGUFNcbiAgICAgICAgICogdGlja2VyLnNwZWVkID0gMjtcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNwZWVkID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgaGFzIGJlZW4gc3RhcnRlZC5cbiAgICAgICAgICogYHRydWVgIGlmIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjc3RhcnR9IGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICogYGZhbHNlYCBpZiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3N0b3B9IGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICogV2hpbGUgYGZhbHNlYCwgdGhpcyB2YWx1ZSBtYXkgY2hhbmdlIHRvIGB0cnVlYCBpbiB0aGVcbiAgICAgICAgICogZXZlbnQgb2Yge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNhdXRvU3RhcnR9IGJlaW5nIGB0cnVlYFxuICAgICAgICAgKiBhbmQgYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB0aWNrIG1ldGhvZCBib3VuZCB0byB0aWNrZXIgaW5zdGFuY2UuXG4gICAgICAgICAqIFRoaXMgaXMgYmVjYXVzZSBpbiBlYXJseSAyMDE1LCBGdW5jdGlvbi5iaW5kXG4gICAgICAgICAqIGlzIHN0aWxsIDYwJSBzbG93ZXIgaW4gaGlnaCBwZXJmb3JtYW5jZSBzY2VuYXJpb3MuXG4gICAgICAgICAqIEFsc28gc2VwYXJhdGluZyBmcmFtZSByZXF1ZXN0cyBmcm9tIHVwZGF0ZSBtZXRob2RcbiAgICAgICAgICogc28gbGlzdGVuZXJzIG1heSBiZSBjYWxsZWQgYXQgYW55IHRpbWUgYW5kIHdpdGhcbiAgICAgICAgICogYW55IGFuaW1hdGlvbiBBUEksIGp1c3QgaW52b2tlIHRpY2tlci51cGRhdGUodGltZSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIC0gVGltZSBzaW5jZSBsYXN0IHRpY2suXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aWNrID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgICAgIF90aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoX3RoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgbm93XG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlKHRpbWUpO1xuICAgICAgICAgICAgICAgIC8vIExpc3RlbmVyIHNpZGUgZWZmZWN0cyBtYXkgaGF2ZSBtb2RpZmllZCB0aWNrZXIgc3RhdGUuXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXJ0ZWQgJiYgX3RoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiBfdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMuX3RpY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBJZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZCwgYW5kIGlmIHRoZSBpbnRlcm5hbFxuICAgICAqIGVtaXR0ZXIgaGFzIGxpc3RlbmVycywgYSBuZXcgZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5fcmVxdWVzdElmTmVlZGVkID0gZnVuY3Rpb24gX3JlcXVlc3RJZk5lZWRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiB0aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjYWxsYmFja3MgZ2V0IGNvcnJlY3QgZGVsdGFcbiAgICAgICAgICAgIHRoaXMubGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IGNhbmNlbHMgYSBwZW5kaW5nIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuX2NhbmNlbElmTmVlZGVkID0gZnVuY3Rpb24gX2NhbmNlbElmTmVlZGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0SWQpO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBJZiB0aGUgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQgaXQgY2hlY2tzIGlmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5XG4gICAgICogYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWwgZW1pdHRlciBoYXMgbGlzdGVuZXJzLiBJZiB0aGVzZVxuICAgICAqIGNvbmRpdGlvbnMgYXJlIG1ldCwgYSBuZXcgZnJhbWUgaXMgcmVxdWVzdGVkLiBJZiB0aGUgdGlja2VyIGhhcyBub3RcbiAgICAgKiBiZWVuIHN0YXJ0ZWQsIGJ1dCBhdXRvU3RhcnQgaXMgYHRydWVgLCB0aGVuIHRoZSB0aWNrZXIgc3RhcnRzIG5vdyxcbiAgICAgKiBhbmQgY29udGludWVzIHdpdGggdGhlIHByZXZpb3VzIGNvbmRpdGlvbnMgdG8gcmVxdWVzdCBhIG5ldyBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuX3N0YXJ0SWZQb3NzaWJsZSA9IGZ1bmN0aW9uIF9zdGFydElmUG9zc2libGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXV0b1N0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBoYW5kbGVyIGZvciB0aWNrIGV2ZW50cy4gQ2FsbHMgY29udGludW91c2x5IHVubGVzc1xuICAgICAqIGl0IGlzIHJlbW92ZWQgb3IgdGhlIHRpY2tlciBpcyBzdG9wcGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIHVwZGF0ZXNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9UElYSS5VUERBVEVfUFJJT1JJVFkuTk9STUFMXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcmV0dXJucyB7UElYSS50aWNrZXIuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBwcmlvcml0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogX2NvbnN0LlVQREFURV9QUklPUklUWS5OT1JNQUw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBfVGlja2VyTGlzdGVuZXIyLmRlZmF1bHQoZm4sIGNvbnRleHQsIHByaW9yaXR5KSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGhhbmRsZXIgZm9yIHRoZSB0aWNrIGV2ZW50IHdoaWNoIGlzIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9UElYSS5VUERBVEVfUFJJT1JJVFkuTk9STUFMXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcmV0dXJucyB7UElYSS50aWNrZXIuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuYWRkT25jZSA9IGZ1bmN0aW9uIGFkZE9uY2UoZm4sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHByaW9yaXR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBfY29uc3QuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDtcblxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IF9UaWNrZXJMaXN0ZW5lcjIuZGVmYXVsdChmbiwgY29udGV4dCwgcHJpb3JpdHksIHRydWUpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWxseSBhZGRzIHRoZSBldmVudCBoYW5kbGVyIHNvIHRoYXQgaXQgY2FuIGJlIHNvcnRlZCBieSBwcmlvcml0eS5cbiAgICAgKiBQcmlvcml0eSBhbGxvd3MgY2VydGFpbiBoYW5kbGVyICh1c2VyLCBBbmltYXRlZFNwcml0ZSwgSW50ZXJhY3Rpb24pIHRvIGJlIHJ1blxuICAgICAqIGJlZm9yZSB0aGUgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RpY2tlckxpc3RlbmVyfSBsaXN0ZW5lciAtIEN1cnJlbnQgbGlzdGVuZXIgYmVpbmcgYWRkZWQuXG4gICAgICogQHJldHVybnMge1BJWEkudGlja2VyLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLl9hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIF9hZGRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICAvLyBGb3IgYXR0YWNoaW5nIHRvIGhlYWRcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgIHZhciBwcmV2aW91cyA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgICAgLy8gQWRkIHRoZSBmaXJzdCBpdGVtXG4gICAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBHbyBmcm9tIGhpZ2hlc3QgdG8gbG93ZXN0IHByaW9yaXR5XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5wcmlvcml0eSA+IGN1cnJlbnQucHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2aW91cyA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm90IHlldCBjb25uZWN0ZWRcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXIucHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXJ0SWZQb3NzaWJsZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFueSBoYW5kbGVycyBtYXRjaGluZyB0aGUgZnVuY3Rpb24gYW5kIGNvbnRleHQgcGFyYW1ldGVycy5cbiAgICAgKiBJZiBubyBoYW5kbGVycyBhcmUgbGVmdCBhZnRlciByZW1vdmluZywgdGhlbiBpdCBjYW5jZWxzIHRoZSBhbmltYXRpb24gZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHQgdG8gYmUgcmVtb3ZlZFxuICAgICAqIEByZXR1cm5zIHtQSVhJLnRpY2tlci5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoZm4sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuXG4gICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBtYXRjaCwgbGV0cyByZW1vdmUgaXRcbiAgICAgICAgICAgIC8vIG5vIGJyZWFrIHRvIGRlbGV0ZSBhbGwgcG9zc2libGUgbWF0Y2hlc1xuICAgICAgICAgICAgLy8gaW5jYXNlIGEgbGlzdGVuZXIgd2FzIGFkZGVkIDIrIHRpbWVzXG4gICAgICAgICAgICBpZiAobGlzdGVuZXIubWF0Y2goZm4sIGNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyBsaXN0ZW5lcnNcbiAgICAgKiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkIGF0IHRoaXMgcG9pbnQuXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyByZXF1ZXN0ZWRcbiAgICAgKiBhbiBhbmltYXRpb24gZnJhbWUgaXQgaXMgY2FuY2VsZWQgYXQgdGhpcyBwb2ludC5cbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIHRpY2tlciBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuIENhbGxpbmdcbiAgICAgKiB0aGlzIG1ldGhvZCByZW1vdmVzIGFsbCByZWZlcmVuY2VzIHRvIGludGVybmFsIGV2ZW50cy5cbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgdmFyIGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuXG4gICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faGVhZC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyBhbiB1cGRhdGUuIEFuIHVwZGF0ZSBlbnRhaWxzIHNldHRpbmcgdGhlXG4gICAgICogY3VycmVudCB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2VsYXBzZWRNU30sXG4gICAgICogdGhlIGN1cnJlbnQge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNkZWx0YVRpbWV9LFxuICAgICAqIGludm9raW5nIGFsbCBsaXN0ZW5lcnMgd2l0aCBjdXJyZW50IGRlbHRhVGltZSxcbiAgICAgKiBhbmQgdGhlbiBmaW5hbGx5IHNldHRpbmcge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNsYXN0VGltZX1cbiAgICAgKiB3aXRoIHRoZSB2YWx1ZSBvZiBjdXJyZW50VGltZSB0aGF0IHdhcyBwcm92aWRlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IGFuaW1hdGlvblxuICAgICAqIGZyYW1lIGNhbGxiYWNrcyBpZiB0aGUgdGlja2VyIGluc3RhbmNlIGhhcyBiZWVuIHN0YXJ0ZWRcbiAgICAgKiBhbmQgbGlzdGVuZXJzIGFyZSBhZGRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY3VycmVudFRpbWU9cGVyZm9ybWFuY2Uubm93KCldIC0gdGhlIGN1cnJlbnQgdGltZSBvZiBleGVjdXRpb25cbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAgICAgdmFyIGVsYXBzZWRNUyA9IHZvaWQgMDtcblxuICAgICAgICAvLyBJZiB0aGUgZGlmZmVyZW5jZSBpbiB0aW1lIGlzIHplcm8gb3IgbmVnYXRpdmUsIHdlIGlnbm9yZSBtb3N0IG9mIHRoZSB3b3JrIGRvbmUgaGVyZS5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gdmFsaWQgZGlmZmVyZW5jZSwgdGhlbiBzaG91bGQgYmUgbm8gcmVhc29uIHRvIGxldCBhbnlvbmUga25vdyBhYm91dCBpdC5cbiAgICAgICAgLy8gQSB6ZXJvIGRlbHRhLCBpcyBleGFjdGx5IHRoYXQsIG5vdGhpbmcgc2hvdWxkIHVwZGF0ZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlIGRpZmZlcmVuY2UgaW4gdGltZSBjYW4gYmUgbmVnYXRpdmUsIGFuZCBubyB0aGlzIGRvZXMgbm90IG1lYW4gdGltZSB0cmF2ZWxpbmcuXG4gICAgICAgIC8vIFRoaXMgY2FuIGJlIHRoZSByZXN1bHQgb2YgYSByYWNlIGNvbmRpdGlvbiBiZXR3ZWVuIHdoZW4gYW4gYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZFxuICAgICAgICAvLyBvbiB0aGUgY3VycmVudCBKYXZhU2NyaXB0IGVuZ2luZSBldmVudCBsb29wLCBhbmQgd2hlbiB0aGUgdGlja2VyJ3Mgc3RhcnQgbWV0aG9kIGlzIGludm9rZWRcbiAgICAgICAgLy8gKHdoaWNoIGludm9rZXMgdGhlIGludGVybmFsIF9yZXF1ZXN0SWZOZWVkZWQgbWV0aG9kKS4gSWYgYSBmcmFtZSBpcyByZXF1ZXN0ZWQgYmVmb3JlXG4gICAgICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQgaXMgaW52b2tlZCwgdGhlbiB0aGUgY2FsbGJhY2sgZm9yIHRoZSBhbmltYXRpb24gZnJhbWUgdGhlIHRpY2tlciByZXF1ZXN0cyxcbiAgICAgICAgLy8gY2FuIHJlY2VpdmUgYSB0aW1lIGFyZ3VtZW50IHRoYXQgY2FuIGJlIGxlc3MgdGhhbiB0aGUgbGFzdFRpbWUgdmFsdWUgdGhhdCB3YXMgc2V0IHdpdGhpblxuICAgICAgICAvLyBfcmVxdWVzdElmTmVlZGVkLiBUaGlzIGRpZmZlcmVuY2UgaXMgaW4gbWljcm9zZWNvbmRzLCBidXQgdGhpcyBpcyBlbm91Z2ggdG8gY2F1c2UgcHJvYmxlbXMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgY2hlY2sgY292ZXJzIHRoaXMgYnJvd3NlciBlbmdpbmUgdGltaW5nIGlzc3VlLCBhcyB3ZWxsIGFzIGlmIGNvbnN1bWVycyBwYXNzIGFuIGludmFsaWRcbiAgICAgICAgLy8gY3VycmVudFRpbWUgdmFsdWUuIFRoaXMgbWF5IGhhcHBlbiBpZiBjb25zdW1lcnMgb3B0LW91dCBvZiB0aGUgYXV0b1N0YXJ0LCBhbmQgdXBkYXRlIHRoZW1zZWx2ZXMuXG5cbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lID4gdGhpcy5sYXN0VGltZSkge1xuICAgICAgICAgICAgLy8gU2F2ZSB1bmNhcHBlZCBlbGFwc2VkTVMgZm9yIG1lYXN1cmVtZW50XG4gICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLmVsYXBzZWRNUyA9IGN1cnJlbnRUaW1lIC0gdGhpcy5sYXN0VGltZTtcblxuICAgICAgICAgICAgLy8gY2FwIHRoZSBtaWxsaXNlY29uZHMgZWxhcHNlZCB1c2VkIGZvciBkZWx0YVRpbWVcbiAgICAgICAgICAgIGlmIChlbGFwc2VkTVMgPiB0aGlzLl9tYXhFbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gZWxhcHNlZE1TICogX3NldHRpbmdzMi5kZWZhdWx0LlRBUkdFVF9GUE1TICogdGhpcy5zcGVlZDtcblxuICAgICAgICAgICAgLy8gQ2FjaGUgYSBsb2NhbCByZWZlcmVuY2UsIGluLWNhc2UgdGlja2VyIGlzIGRlc3Ryb3llZFxuICAgICAgICAgICAgLy8gZHVyaW5nIHRoZSBlbWl0LCB3ZSBjYW4gc3RpbGwgY2hlY2sgZm9yIGhlYWQubmV4dFxuICAgICAgICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuXG4gICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIGFkZGVkIHRvIGludGVybmFsIGVtaXR0ZXJcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lciA9IGhlYWQubmV4dDtcblxuICAgICAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5lbWl0KHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFoZWFkLm5leHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmVsYXBzZWRNUyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxhc3RUaW1lID0gY3VycmVudFRpbWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFtZXMgcGVyIHNlY29uZCBhdCB3aGljaCB0aGlzIHRpY2tlciBpcyBydW5uaW5nLlxuICAgICAqIFRoZSBkZWZhdWx0IGlzIGFwcHJveGltYXRlbHkgNjAgaW4gbW9zdCBtb2Rlcm4gYnJvd3NlcnMuXG4gICAgICogKipOb3RlOioqIFRoaXMgZG9lcyBub3QgZmFjdG9yIGluIHRoZSB2YWx1ZSBvZlxuICAgICAqIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjc3BlZWR9LCB3aGljaCBpcyBzcGVjaWZpY1xuICAgICAqIHRvIHNjYWxpbmcge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNkZWx0YVRpbWV9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoVGlja2VyLCBbe1xuICAgICAgICBrZXk6ICdGUFMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5lbGFwc2VkTVM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIGFsbG93ZWQgdG9cbiAgICAgICAgICogZWxhcHNlIGJldHdlZW4gaW52b2tpbmcge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciN1cGRhdGV9LlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIHVzZWQgdG8gY2FwIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgICAgICogYnV0IGRvZXMgbm90IGVmZmVjdCB0aGUgbWVhc3VyZWQgdmFsdWUgb2Yge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNGUFN9LlxuICAgICAgICAgKiBXaGVuIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSBpdCBpcyBjbGFtcGVkIHRvIGEgdmFsdWUgYmV0d2VlblxuICAgICAgICAgKiBgMGAgYW5kIGBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TICogMTAwMGAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21pbkZQUycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIDEwMDAgLyB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZwcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIENsYW1wOiAwIHRvIFRBUkdFVF9GUE1TXG4gICAgICAgICAgICB2YXIgbWluRlBNUyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGZwcykgLyAxMDAwLCBfc2V0dGluZ3MyLmRlZmF1bHQuVEFSR0VUX0ZQTVMpO1xuXG4gICAgICAgICAgICB0aGlzLl9tYXhFbGFwc2VkTVMgPSAxIC8gbWluRlBNUztcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUaWNrZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRpY2tlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpY2tlci5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RyaW5naWZ5UHJpbWl0aXZlID0gZnVuY3Rpb24odikge1xuICBzd2l0Y2ggKHR5cGVvZiB2KSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiB2O1xuXG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gdiA/ICd0cnVlJyA6ICdmYWxzZSc7XG5cbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIGlzRmluaXRlKHYpID8gdiA6ICcnO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnJztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmosIHNlcCwgZXEsIG5hbWUpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIGlmIChvYmogPT09IG51bGwpIHtcbiAgICBvYmogPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbWFwKG9iamVjdEtleXMob2JqKSwgZnVuY3Rpb24oaykge1xuICAgICAgdmFyIGtzID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShrKSkgKyBlcTtcbiAgICAgIGlmIChpc0FycmF5KG9ialtrXSkpIHtcbiAgICAgICAgcmV0dXJuIG1hcChvYmpba10sIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKHYpKTtcbiAgICAgICAgfSkuam9pbihzZXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmpba10pKTtcbiAgICAgIH1cbiAgICB9KS5qb2luKHNlcCk7XG5cbiAgfVxuXG4gIGlmICghbmFtZSkgcmV0dXJuICcnO1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShuYW1lKSkgKyBlcSArXG4gICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9iaikpO1xufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh4cykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHhzKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cbmZ1bmN0aW9uIG1hcCAoeHMsIGYpIHtcbiAgaWYgKHhzLm1hcCkgcmV0dXJuIHhzLm1hcChmKTtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzLnB1c2goZih4c1tpXSwgaSkpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgcmVzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8vIElmIG9iai5oYXNPd25Qcm9wZXJ0eSBoYXMgYmVlbiBvdmVycmlkZGVuLCB0aGVuIGNhbGxpbmdcbi8vIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSB3aWxsIGJyZWFrLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvaXNzdWVzLzE3MDdcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocXMsIHNlcCwgZXEsIG9wdGlvbnMpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIHZhciBvYmogPSB7fTtcblxuICBpZiAodHlwZW9mIHFzICE9PSAnc3RyaW5nJyB8fCBxcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgdmFyIHJlZ2V4cCA9IC9cXCsvZztcbiAgcXMgPSBxcy5zcGxpdChzZXApO1xuXG4gIHZhciBtYXhLZXlzID0gMTAwMDtcbiAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWF4S2V5cyA9PT0gJ251bWJlcicpIHtcbiAgICBtYXhLZXlzID0gb3B0aW9ucy5tYXhLZXlzO1xuICB9XG5cbiAgdmFyIGxlbiA9IHFzLmxlbmd0aDtcbiAgLy8gbWF4S2V5cyA8PSAwIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIG5vdCBsaW1pdCBrZXlzIGNvdW50XG4gIGlmIChtYXhLZXlzID4gMCAmJiBsZW4gPiBtYXhLZXlzKSB7XG4gICAgbGVuID0gbWF4S2V5cztcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgeCA9IHFzW2ldLnJlcGxhY2UocmVnZXhwLCAnJTIwJyksXG4gICAgICAgIGlkeCA9IHguaW5kZXhPZihlcSksXG4gICAgICAgIGtzdHIsIHZzdHIsIGssIHY7XG5cbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIGtzdHIgPSB4LnN1YnN0cigwLCBpZHgpO1xuICAgICAgdnN0ciA9IHguc3Vic3RyKGlkeCArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrc3RyID0geDtcbiAgICAgIHZzdHIgPSAnJztcbiAgICB9XG5cbiAgICBrID0gZGVjb2RlVVJJQ29tcG9uZW50KGtzdHIpO1xuICAgIHYgPSBkZWNvZGVVUklDb21wb25lbnQodnN0cik7XG5cbiAgICBpZiAoIWhhc093blByb3BlcnR5KG9iaiwgaykpIHtcbiAgICAgIG9ialtrXSA9IHY7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9ialtrXSkpIHtcbiAgICAgIG9ialtrXS5wdXNoKHYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba10gPSBbb2JqW2tdLCB2XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh4cykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHhzKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuZGVjb2RlID0gZXhwb3J0cy5wYXJzZSA9IHJlcXVpcmUoJy4vZGVjb2RlJyk7XG5leHBvcnRzLmVuY29kZSA9IGV4cG9ydHMuc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuNC4xIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBuZXcgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXlcblx0ICogaXRlbS5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwKGFycmF5LCBmbikge1xuXHRcdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdHdoaWxlIChsZW5ndGgtLSkge1xuXHRcdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWxcblx0ICogYWRkcmVzc2VzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcblx0ICogY2hhcmFjdGVyLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7XG5cdFx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdFx0dmFyIHJlc3VsdCA9ICcnO1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0XHQvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LlxuXHRcdFx0cmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7XG5cdFx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0XHR9XG5cdFx0Ly8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LlxuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdFx0dmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpO1xuXHRcdHZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTtcblx0XHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG5cdCAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSxcblx0ICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcblx0ICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG5cdCAqIG1hdGNoaW5nIFVURi0xNi5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgXG5cdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBkZWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cblx0ICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGNvdW50ZXIgPSAwLFxuXHRcdCAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgZXh0cmE7XG5cdFx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdFx0Ly8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG5cdFx0XHRcdGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0aWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGVcblx0XHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0XG5cdFx0XHRcdFx0Ly8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGVuY29kZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0cmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cblx0ICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWZcblx0ICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdFx0aWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSAyMjtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA2NTtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA5Nztcblx0XHR9XG5cdFx0cmV0dXJuIGJhc2U7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3Jcblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2Vcblx0ICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzXG5cdCAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG5cdCAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uXG5cdCAqL1xuXHRmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHtcblx0XHQvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWlxuXHRcdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRcdHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG5cdH1cblxuXHQvKipcblx0ICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi5cblx0ICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHRcdHZhciBrID0gMDtcblx0XHRkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuXHRcdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0XHRmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkge1xuXHRcdFx0ZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZVxuXHQgKiBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0XHQvLyBEb24ndCB1c2UgVUNTLTJcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHRcdCAgICBvdXQsXG5cdFx0ICAgIGkgPSAwLFxuXHRcdCAgICBuID0gaW5pdGlhbE4sXG5cdFx0ICAgIGJpYXMgPSBpbml0aWFsQmlhcyxcblx0XHQgICAgYmFzaWMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIGluZGV4LFxuXHRcdCAgICBvbGRpLFxuXHRcdCAgICB3LFxuXHRcdCAgICBrLFxuXHRcdCAgICBkaWdpdCxcblx0XHQgICAgdCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGJhc2VNaW51c1Q7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGVcblx0XHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHRcdC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LlxuXG5cdFx0YmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRcdGlmIChiYXNpYyA8IDApIHtcblx0XHRcdGJhc2ljID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikge1xuXHRcdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0XHRpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7XG5cdFx0XHRcdGVycm9yKCdub3QtYmFzaWMnKTtcblx0XHRcdH1cblx0XHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGVcblx0XHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdFx0Zm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHtcblxuXHRcdFx0Ly8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLlxuXHRcdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdFx0Ly8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXJcblx0XHRcdC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nXG5cdFx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdFx0Zm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXG5cdFx0XHRcdGlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkge1xuXHRcdFx0XHRcdGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpICs9IGRpZ2l0ICogdztcblx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3ICo9IGJhc2VNaW51c1Q7XG5cblx0XHRcdH1cblxuXHRcdFx0b3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7XG5cdFx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdFx0Ly8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCxcblx0XHRcdC8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6XG5cdFx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRuICs9IGZsb29yKGkgLyBvdXQpO1xuXHRcdFx0aSAlPSBvdXQ7XG5cblx0XHRcdC8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXRcblx0XHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGFcblx0ICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG5cdFx0dmFyIG4sXG5cdFx0ICAgIGRlbHRhLFxuXHRcdCAgICBoYW5kbGVkQ1BDb3VudCxcblx0XHQgICAgYmFzaWNMZW5ndGgsXG5cdFx0ICAgIGJpYXMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIG0sXG5cdFx0ICAgIHEsXG5cdFx0ICAgIGssXG5cdFx0ICAgIHQsXG5cdFx0ICAgIGN1cnJlbnRWYWx1ZSxcblx0XHQgICAgb3V0cHV0ID0gW10sXG5cdFx0ICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovXG5cdFx0ICAgIGlucHV0TGVuZ3RoLFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLFxuXHRcdCAgICBiYXNlTWludXNULFxuXHRcdCAgICBxTWludXNUO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZVxuXHRcdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0XHQvLyBDYWNoZSB0aGUgbGVuZ3RoXG5cdFx0aW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cblx0XHQvLyBJbml0aWFsaXplIHRoZSBzdGF0ZVxuXHRcdG4gPSBpbml0aWFsTjtcblx0XHRkZWx0YSA9IDA7XG5cdFx0YmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50c1xuXHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcblxuXHRcdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHRcdC8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cblxuXHRcdC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlclxuXHRcdGlmIChiYXNpY0xlbmd0aCkge1xuXHRcdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGVuY29kaW5nIGxvb3A6XG5cdFx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdFx0Ly8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dFxuXHRcdFx0Ly8gbGFyZ2VyIG9uZTpcblx0XHRcdGZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkge1xuXHRcdFx0XHRcdG0gPSBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LFxuXHRcdFx0Ly8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3dcblx0XHRcdGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcblx0XHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lO1xuXHRcdFx0biA9IG07XG5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyXG5cdFx0XHRcdFx0Zm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXHRcdFx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRxTWludXNUID0gcSAtIHQ7XG5cdFx0XHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdFx0XHRvdXRwdXQucHVzaChcblx0XHRcdFx0XHRcdFx0c3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpO1xuXHRcdFx0XHRcdGJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7XG5cdFx0XHRcdFx0ZGVsdGEgPSAwO1xuXHRcdFx0XHRcdCsraGFuZGxlZENQQ291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0KytkZWx0YTtcblx0XHRcdCsrbjtcblxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3Ncblx0ICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLlxuXHQgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cblx0ICogY29udmVydGVkIHRvIFVuaWNvZGUuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIGNvbnZlcnQgdG8gVW5pY29kZS5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlXG5cdCAqIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG5cdCAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpblxuXHQgKiBBU0NJSS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhXG5cdCAqIFVuaWNvZGUgc3RyaW5nLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG5cdCAqIGVtYWlsIGFkZHJlc3MuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi9cblx0cHVueWNvZGUgPSB7XG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqL1xuXHRcdCd2ZXJzaW9uJzogJzEuNC4xJyxcblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuXHRcdCAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG5cdFx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICovXG5cdFx0J3VjczInOiB7XG5cdFx0XHQnZGVjb2RlJzogdWNzMmRlY29kZSxcblx0XHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdFx0fSxcblx0XHQnZGVjb2RlJzogZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiBlbmNvZGUsXG5cdFx0J3RvQVNDSUknOiB0b0FTQ0lJLFxuXHRcdCd0b1VuaWNvZGUnOiB0b1VuaWNvZGVcblx0fTtcblxuXHQvKiogRXhwb3NlIGBwdW55Y29kZWAgKi9cblx0Ly8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zXG5cdC8vIGxpa2UgdGhlIGZvbGxvd2luZzpcblx0aWYgKFxuXHRcdHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmXG5cdFx0ZGVmaW5lLmFtZFxuXHQpIHtcblx0XHRkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuXHRcdGlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykge1xuXHRcdFx0Ly8gaW4gTm9kZS5qcywgaW8uanMsIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnB1bnljb2RlID0gcHVueWNvZGU7XG5cdH1cblxufSh0aGlzKSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcztcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbi8qKlxuICogQ29ycmVjdHMgUGl4aUpTIGJsZW5kLCB0YWtlcyBwcmVtdWx0aXBsaWVkIGFscGhhIGludG8gYWNjb3VudFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcltdPn0gW2FycmF5XSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcltdPn0gTWFwcGVkIG1vZGVzLlxuICovXG5cbmZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCkge1xuICAgIHZhciBwbSA9IFtdO1xuICAgIHZhciBucG0gPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzI7IGkrKykge1xuICAgICAgICBwbVtpXSA9IGk7XG4gICAgICAgIG5wbVtpXSA9IGk7XG4gICAgfVxuXG4gICAgcG1bX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICBwbVtfY29uc3QuQkxFTkRfTU9ERVMuQUREX05QTV0gPSBfY29uc3QuQkxFTkRfTU9ERVMuQUREO1xuICAgIHBtW19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IF9jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU47XG5cbiAgICBucG1bX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSBfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMX05QTTtcbiAgICBucG1bX2NvbnN0LkJMRU5EX01PREVTLkFERF0gPSBfY29uc3QuQkxFTkRfTU9ERVMuQUREX05QTTtcbiAgICBucG1bX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSBfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOX05QTTtcblxuICAgIHZhciBhcnJheSA9IFtdO1xuXG4gICAgYXJyYXkucHVzaChucG0pO1xuICAgIGFycmF5LnB1c2gocG0pO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMuanMubWFwIiwiJ3VzZSBzdHJpY3QnXG5cbi8qKlxuICogUmVtb3ZlIGEgcmFuZ2Ugb2YgaXRlbXMgZnJvbSBhbiBhcnJheVxuICpcbiAqIEBmdW5jdGlvbiByZW1vdmVJdGVtc1xuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSB0YXJnZXQgYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydElkeCBUaGUgaW5kZXggdG8gYmVnaW4gcmVtb3ZpbmcgZnJvbSAoaW5jbHVzaXZlKVxuICogQHBhcmFtIHtudW1iZXJ9IHJlbW92ZUNvdW50IEhvdyBtYW55IGl0ZW1zIHRvIHJlbW92ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlbW92ZUl0ZW1zKGFyciwgc3RhcnRJZHgsIHJlbW92ZUNvdW50KVxue1xuICB2YXIgaSwgbGVuZ3RoID0gYXJyLmxlbmd0aFxuXG4gIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHJlbW92ZUNvdW50ID0gKHN0YXJ0SWR4ICsgcmVtb3ZlQ291bnQgPiBsZW5ndGggPyBsZW5ndGggLSBzdGFydElkeCA6IHJlbW92ZUNvdW50KVxuXG4gIHZhciBsZW4gPSBsZW5ndGggLSByZW1vdmVDb3VudFxuXG4gIGZvciAoaSA9IHN0YXJ0SWR4OyBpIDwgbGVuOyArK2kpIHtcbiAgICBhcnJbaV0gPSBhcnJbaSArIHJlbW92ZUNvdW50XVxuICB9XG5cbiAgYXJyLmxlbmd0aCA9IGxlblxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLm1peGluID0gbWl4aW47XG5leHBvcnRzLmRlbGF5TWl4aW4gPSBkZWxheU1peGluO1xuZXhwb3J0cy5wZXJmb3JtTWl4aW5zID0gcGVyZm9ybU1peGlucztcbi8qKlxuICogTWl4ZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBhIHRhcmdldCBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gKiBAZnVuY3Rpb24gbWl4aW5cbiAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXQgVGhlIHByb3RvdHlwZSBvciBpbnN0YW5jZSB0aGF0IHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgc2hvdWxkIGJlIGFkZGVkIHRvLlxuICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9mIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdG8gbWl4IGluLlxuICovXG5mdW5jdGlvbiBtaXhpbih0YXJnZXQsIHNvdXJjZSkge1xuICAgIGlmICghdGFyZ2V0IHx8ICFzb3VyY2UpIHJldHVybjtcbiAgICAvLyBpbiBFUzgvRVMyMDE3LCB0aGlzIHdvdWxkIGJlIHJlYWxseSBlYXN5OlxuICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG5cbiAgICAvLyBnZXQgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IGtleXNcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICAvLyBsb29wIHRocm91Z2ggcHJvcGVydGllc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0ga2V5c1tpXTtcblxuICAgICAgICAvLyBTZXQgdGhlIHByb3BlcnR5IHVzaW5nIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIC0gdGhpcyB3b3JrcyBmb3IgYWNjZXNzb3JzIGFuZCBub3JtYWwgdmFsdWUgcHJvcGVydGllc1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBwcm9wZXJ0eU5hbWUpKTtcbiAgICB9XG59XG5cbnZhciBtaXhpbnMgPSBbXTtcblxuLyoqXG4gKiBRdWV1ZXMgYSBtaXhpbiB0byBiZSBoYW5kbGVkIHRvd2FyZHMgdGhlIGVuZCBvZiB0aGUgaW5pdGlhbGl6YXRpb24gb2YgUElYSSwgc28gdGhhdCBkZXByZWNhdGlvblxuICogY2FuIHRha2UgZWZmZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICogQGZ1bmN0aW9uIGRlbGF5TWl4aW5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0IFRoZSBwcm90b3R5cGUgb3IgaW5zdGFuY2UgdGhhdCBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHNob3VsZCBiZSBhZGRlZCB0by5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvZiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHRvIG1peCBpbi5cbiAqL1xuZnVuY3Rpb24gZGVsYXlNaXhpbih0YXJnZXQsIHNvdXJjZSkge1xuICAgIG1peGlucy5wdXNoKHRhcmdldCwgc291cmNlKTtcbn1cblxuLyoqXG4gKiBIYW5kbGVzIGFsbCBtaXhpbnMgcXVldWVkIHZpYSBkZWxheU1peGluKCkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gKiBAZnVuY3Rpb24gcGVyZm9ybU1peGluc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcGVyZm9ybU1peGlucygpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBtaXhpbihtaXhpbnNbaV0sIG1peGluc1tpICsgMV0pO1xuICAgIH1cbiAgICBtaXhpbnMubGVuZ3RoID0gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLyoqXG4gKiBNaXhpbnMgZnVuY3Rpb25hbGl0eSB0byBtYWtlIGFuIG9iamVjdCBoYXZlIFwicGx1Z2luc1wiLlxuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIHBsdWdpblRhcmdldC5taXhpbihNeU9iamVjdCk7XG4gKlxuICogQG1peGluXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIFRoZSBvYmplY3QgdG8gbWl4IGludG8uXG4gKi9cbmZ1bmN0aW9uIHBsdWdpblRhcmdldChvYmopIHtcbiAgICBvYmouX19wbHVnaW5zID0ge307XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcGx1Z2luIHRvIGFuIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpbk5hbWUgLSBUaGUgZXZlbnRzIHRoYXQgc2hvdWxkIGJlIGxpc3RlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciB0aGUgcGx1Z2luLlxuICAgICAqL1xuICAgIG9iai5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luKHBsdWdpbk5hbWUsIGN0b3IpIHtcbiAgICAgICAgb2JqLl9fcGx1Z2luc1twbHVnaW5OYW1lXSA9IGN0b3I7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlcyBhbGwgdGhlIHBsdWdpbnMgb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqL1xuICAgIG9iai5wcm90b3R5cGUuaW5pdFBsdWdpbnMgPSBmdW5jdGlvbiBpbml0UGx1Z2lucygpIHtcbiAgICAgICAgdGhpcy5wbHVnaW5zID0gdGhpcy5wbHVnaW5zIHx8IHt9O1xuXG4gICAgICAgIGZvciAodmFyIG8gaW4gb2JqLl9fcGx1Z2lucykge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbmV3IG9iai5fX3BsdWdpbnNbb10odGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIHBsdWdpbnMgb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqL1xuICAgIG9iai5wcm90b3R5cGUuZGVzdHJveVBsdWdpbnMgPSBmdW5jdGlvbiBkZXN0cm95UGx1Z2lucygpIHtcbiAgICAgICAgZm9yICh2YXIgbyBpbiB0aGlzLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbHVnaW5zID0gbnVsbDtcbiAgICB9O1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgLyoqXG4gICAgICogTWl4ZXMgaW4gdGhlIHByb3BlcnRpZXMgb2YgdGhlIHBsdWdpblRhcmdldCBpbnRvIGFub3RoZXIgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gVGhlIG9iaiB0byBtaXggaW50b1xuICAgICAqL1xuICAgIG1peGluOiBmdW5jdGlvbiBtaXhpbihvYmopIHtcbiAgICAgICAgcGx1Z2luVGFyZ2V0KG9iaik7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsdWdpblRhcmdldC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNhblVwbG9hZFNhbWVCdWZmZXI7XG5mdW5jdGlvbiBjYW5VcGxvYWRTYW1lQnVmZmVyKCkge1xuXHQvLyBVcGxvYWRpbmcgdGhlIHNhbWUgYnVmZmVyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlIGZyYW1lIGNhbiBjYXVzZSBwZXJmIGlzc3Vlcy5cblx0Ly8gQXBwYXJlbnQgb24gSU9TIHNvIG9ubHkgY2hlY2sgZm9yIHRoYXQgYXQgdGhlIG1vbWVudFxuXHQvLyB0aGlzIGNoZWNrIG1heSBiZWNvbWUgbW9yZSBjb21wbGV4IGlmIHRoaXMgaXNzdWUgcG9wcyB1cCBlbHNld2hlcmUuXG5cdHZhciBpb3MgPSAhIW5hdmlnYXRvci5wbGF0Zm9ybSAmJiAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xuXG5cdHJldHVybiAhaW9zO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuVXBsb2FkU2FtZUJ1ZmZlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXhSZWNvbW1lbmRlZFRleHR1cmVzO1xuXG52YXIgX2lzbW9iaWxlanMgPSByZXF1aXJlKCdpc21vYmlsZWpzJyk7XG5cbnZhciBfaXNtb2JpbGVqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc21vYmlsZWpzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gbWF4UmVjb21tZW5kZWRUZXh0dXJlcyhtYXgpIHtcbiAgICBpZiAoX2lzbW9iaWxlanMyLmRlZmF1bHQudGFibGV0IHx8IF9pc21vYmlsZWpzMi5kZWZhdWx0LnBob25lKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZSByZXMgaXMgaXBob25lIDYgb3IgaGlnaGVyLi5cbiAgICAgICAgcmV0dXJuIDQ7XG4gICAgfVxuXG4gICAgLy8gZGVza3RvcCBzaG91bGQgYmUgb2tcbiAgICByZXR1cm4gbWF4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF4UmVjb21tZW5kZWRUZXh0dXJlcy5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjb21waWxlUHJvZ3JhbTogcmVxdWlyZSgnLi9jb21waWxlUHJvZ3JhbScpLFxuICAgIGRlZmF1bHRWYWx1ZTogcmVxdWlyZSgnLi9kZWZhdWx0VmFsdWUnKSxcbiAgICBleHRyYWN0QXR0cmlidXRlczogcmVxdWlyZSgnLi9leHRyYWN0QXR0cmlidXRlcycpLFxuICAgIGV4dHJhY3RVbmlmb3JtczogcmVxdWlyZSgnLi9leHRyYWN0VW5pZm9ybXMnKSxcbiAgICBnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3Q6IHJlcXVpcmUoJy4vZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0JyksXG4gICAgc2V0UHJlY2lzaW9uOiByZXF1aXJlKCcuL3NldFByZWNpc2lvbicpLFxuICAgIG1hcFNpemU6IHJlcXVpcmUoJy4vbWFwU2l6ZScpLFxuICAgIG1hcFR5cGU6IHJlcXVpcmUoJy4vbWFwVHlwZScpXG59OyIsIlxuLy8gc3RhdGUgb2JqZWN0Ly9cbnZhciBzZXRWZXJ0ZXhBdHRyaWJBcnJheXMgPSByZXF1aXJlKCAnLi9zZXRWZXJ0ZXhBdHRyaWJBcnJheXMnICk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIHdvcmsgd2l0aCBXZWJHTCBWZXJ0ZXhBcnJheU9iamVjdHMgKHZhb3MpXG4gKiBPbmx5IHdvcmtzIGlmIFdlYkdMIGV4dGVuc2lvbnMgYXJlIGVuYWJsZWQgKHRoZXkgdXN1YWxseSBhcmUpXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICovXG5mdW5jdGlvbiBWZXJ0ZXhBcnJheU9iamVjdChnbCwgc3RhdGUpXG57XG4gICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24gPSBudWxsO1xuXG4gICAgaWYoIVZlcnRleEFycmF5T2JqZWN0LkZPUkNFX05BVElWRSlcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uID0gZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdmVydGV4X2FycmF5X29iamVjdCcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5uYXRpdmVTdGF0ZSA9IHN0YXRlO1xuXG4gICAgaWYodGhpcy5uYXRpdmVWYW9FeHRlbnNpb24pXG4gICAge1xuICAgICAgICB0aGlzLm5hdGl2ZVZhbyA9IHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmNyZWF0ZVZlcnRleEFycmF5T0VTKCk7XG5cbiAgICAgICAgdmFyIG1heEF0dHJpYnMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1ZFUlRFWF9BVFRSSUJTKTtcblxuICAgICAgICAvLyBWQU8gLSBvdmVyd3JpdGUgdGhlIHN0YXRlLi5cbiAgICAgICAgdGhpcy5uYXRpdmVTdGF0ZSA9IHtcbiAgICAgICAgICAgIHRlbXBBdHRyaWJTdGF0ZTogbmV3IEFycmF5KG1heEF0dHJpYnMpLFxuICAgICAgICAgICAgYXR0cmliU3RhdGU6IG5ldyBBcnJheShtYXhBdHRyaWJzKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgYXR0cmlidXRlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtQSVhJLmdsQ29yZS5HTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEgYm9vbGVhbiBmbGFnXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtCb29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbn1cblxuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmVydGV4QXJyYXlPYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IFZlcnRleEFycmF5T2JqZWN0O1xuXG4vKipcbiogU29tZSBkZXZpY2VzIGJlaGF2ZSBhIGJpdCBmdW5ueSB3aGVuIHVzaW5nIHRoZSBuZXdlciBleHRlbnNpb25zIChpbSBsb29raW5nIGF0IHlvdSBpcGFkIDIhKVxuKiBJZiB5b3UgZmluZCBvbiBvbGRlciBkZXZpY2VzIHRoYXQgdGhpbmdzIGhhdmUgZ29uZSBhIGJpdCB3ZWlyZCB0aGVuIHNldCB0aGlzIHRvIHRydWUuXG4qL1xuLyoqXG4gKiBMZXRzIHRoZSBWQU8ga25vdyBpZiB5b3Ugc2hvdWxkIHVzZSB0aGUgV2ViR0wgZXh0ZW5zaW9uIG9yIHRoZSBuYXRpdmUgbWV0aG9kcy5cbiAqIFNvbWUgZGV2aWNlcyBiZWhhdmUgYSBiaXQgZnVubnkgd2hlbiB1c2luZyB0aGUgbmV3ZXIgZXh0ZW5zaW9ucyAoaW0gbG9va2luZyBhdCB5b3UgaXBhZCAyISlcbiAqIElmIHlvdSBmaW5kIG9uIG9sZGVyIGRldmljZXMgdGhhdCB0aGluZ3MgaGF2ZSBnb25lIGEgYml0IHdlaXJkIHRoZW4gc2V0IHRoaXMgdG8gdHJ1ZS5cbiAqIEBzdGF0aWNcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gRk9SQ0VfTkFUSVZFXG4gKi9cblZlcnRleEFycmF5T2JqZWN0LkZPUkNFX05BVElWRSA9IGZhbHNlO1xuXG4vKipcbiAqIEJpbmRzIHRoZSBidWZmZXJcbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpXG57XG4gICAgaWYodGhpcy5uYXRpdmVWYW8pXG4gICAge1xuICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVModGhpcy5uYXRpdmVWYW8pO1xuXG4gICAgICAgIGlmKHRoaXMuZGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmJpbmQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFVuYmluZHMgdGhlIGJ1ZmZlclxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24oKVxue1xuICAgIGlmKHRoaXMubmF0aXZlVmFvKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKG51bGwpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBVc2VzIHRoaXMgdmFvXG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uKClcbntcblxuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgdmFyIGxhc3RCdWZmZXIgPSBudWxsO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuXG4gICAgICAgIGlmKGxhc3RCdWZmZXIgIT09IGF0dHJpYi5idWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYi5idWZmZXIuYmluZCgpO1xuICAgICAgICAgICAgbGFzdEJ1ZmZlciA9IGF0dHJpYi5idWZmZXI7XG4gICAgICAgIH1cblxuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGF0dHJpYi5hdHRyaWJ1dGUubG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmliLmF0dHJpYnV0ZS5zaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYi50eXBlIHx8IGdsLkZMT0FULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYi5ub3JtYWxpemVkIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYi5zdHJpZGUgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWIuc3RhcnQgfHwgMCk7XG4gICAgfVxuXG4gICAgc2V0VmVydGV4QXR0cmliQXJyYXlzKGdsLCB0aGlzLmF0dHJpYnV0ZXMsIHRoaXMubmF0aXZlU3RhdGUpO1xuXG4gICAgaWYodGhpcy5pbmRleEJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuYmluZCgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIGJ1ZmZlciAgICAge1BJWEkuZ2wuR0xCdWZmZXJ9XG4gKiBAcGFyYW0gYXR0cmlidXRlICB7Kn1cbiAqIEBwYXJhbSB0eXBlICAgICAgIHtTdHJpbmd9XG4gKiBAcGFyYW0gbm9ybWFsaXplZCB7Qm9vbGVhbn1cbiAqIEBwYXJhbSBzdHJpZGUgICAgIHtOdW1iZXJ9XG4gKiBAcGFyYW0gc3RhcnQgICAgICB7TnVtYmVyfVxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuYWRkQXR0cmlidXRlID0gZnVuY3Rpb24oYnVmZmVyLCBhdHRyaWJ1dGUsIHR5cGUsIG5vcm1hbGl6ZWQsIHN0cmlkZSwgc3RhcnQpXG57XG4gICAgdGhpcy5hdHRyaWJ1dGVzLnB1c2goe1xuICAgICAgICBidWZmZXI6ICAgICBidWZmZXIsXG4gICAgICAgIGF0dHJpYnV0ZTogIGF0dHJpYnV0ZSxcblxuICAgICAgICBsb2NhdGlvbjogICBhdHRyaWJ1dGUubG9jYXRpb24sXG4gICAgICAgIHR5cGU6ICAgICAgIHR5cGUgfHwgdGhpcy5nbC5GTE9BVCxcbiAgICAgICAgbm9ybWFsaXplZDogbm9ybWFsaXplZCB8fCBmYWxzZSxcbiAgICAgICAgc3RyaWRlOiAgICAgc3RyaWRlIHx8IDAsXG4gICAgICAgIHN0YXJ0OiAgICAgIHN0YXJ0IHx8IDBcbiAgICB9KTtcblxuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gYnVmZmVyICAge1BJWEkuZ2wuR0xCdWZmZXJ9XG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5hZGRJbmRleCA9IGZ1bmN0aW9uKGJ1ZmZlci8qLCBvcHRpb25zKi8pXG57XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IGJ1ZmZlcjtcblxuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFVuYmluZHMgdGhpcyB2YW8gYW5kIGRpc2FibGVzIGl0XG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKClcbntcbiAgICAvLyB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgLy8gVE9ETyAtIHNob3VsZCB0aGlzIGZ1bmN0aW9uIHVuYmluZCBhZnRlciBjbGVhcj9cbiAgICAvLyBmb3Igbm93LCBubyBidXQgbGV0cyBzZWUgd2hhdCBoYXBwZW5zIGluIHRoZSByZWFsIHdvcmxkIVxuICAgIGlmKHRoaXMubmF0aXZlVmFvKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKHRoaXMubmF0aXZlVmFvKTtcbiAgICB9XG5cbiAgICB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gdHlwZSAge051bWJlcn1cbiAqIEBwYXJhbSBzaXplICB7TnVtYmVyfVxuICogQHBhcmFtIHN0YXJ0IHtOdW1iZXJ9XG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24odHlwZSwgc2l6ZSwgc3RhcnQpXG57XG4gICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIGlmKHRoaXMuaW5kZXhCdWZmZXIpXG4gICAge1xuICAgICAgICBnbC5kcmF3RWxlbWVudHModHlwZSwgc2l6ZSB8fCB0aGlzLmluZGV4QnVmZmVyLmRhdGEubGVuZ3RoLCBnbC5VTlNJR05FRF9TSE9SVCwgKHN0YXJ0IHx8IDApICogMiApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyBUT0RPIG5lZWQgYSBiZXR0ZXIgd2F5IHRvIGNhbGN1bGF0ZSBzaXplLi5cbiAgICAgICAgZ2wuZHJhd0FycmF5cyh0eXBlLCBzdGFydCwgc2l6ZSB8fCB0aGlzLmdldFNpemUoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgdGhpcyB2YW9cbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpXG57XG4gICAgLy8gbG9zZSByZWZlcmVuY2VzXG4gICAgdGhpcy5nbCA9IG51bGw7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICB0aGlzLm5hdGl2ZVN0YXRlID0gbnVsbDtcblxuICAgIGlmKHRoaXMubmF0aXZlVmFvKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uZGVsZXRlVmVydGV4QXJyYXlPRVModGhpcy5uYXRpdmVWYW8pO1xuICAgIH1cblxuICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uID0gbnVsbDtcbiAgICB0aGlzLm5hdGl2ZVZhbyA9IG51bGw7XG59O1xuXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uKClcbntcbiAgICB2YXIgYXR0cmliID0gdGhpcy5hdHRyaWJ1dGVzWzBdO1xuICAgIHJldHVybiBhdHRyaWIuYnVmZmVyLmRhdGEubGVuZ3RoIC8gKCggYXR0cmliLnN0cmlkZS80ICkgfHwgYXR0cmliLmF0dHJpYnV0ZS5zaXplKTtcbn07XG4iLCJcbnZhciBjb21waWxlUHJvZ3JhbSA9IHJlcXVpcmUoJy4vc2hhZGVyL2NvbXBpbGVQcm9ncmFtJyksXG5cdGV4dHJhY3RBdHRyaWJ1dGVzID0gcmVxdWlyZSgnLi9zaGFkZXIvZXh0cmFjdEF0dHJpYnV0ZXMnKSxcblx0ZXh0cmFjdFVuaWZvcm1zID0gcmVxdWlyZSgnLi9zaGFkZXIvZXh0cmFjdFVuaWZvcm1zJyksXG5cdHNldFByZWNpc2lvbiA9IHJlcXVpcmUoJy4vc2hhZGVyL3NldFByZWNpc2lvbicpLFxuXHRnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QgPSByZXF1aXJlKCcuL3NoYWRlci9nZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QnKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgU2hhZGVyXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBmcmFnbWVudFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIHByZWNpc2lvbiB7c3RyaW5nfSBUaGUgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gKiBAcGFyYW0gYXR0cmlidXRlTG9jYXRpb25zIHtvYmplY3R9IEEga2V5IHZhbHVlIHBhaXIgc2hvd2luZyB3aGljaCBsb2NhdGlvbiBlYWN0IGF0dHJpYnV0ZSBzaG91bGQgc2l0IGVnIHtwb3NpdGlvbjowLCB1dnM6MX1cbiAqL1xudmFyIFNoYWRlciA9IGZ1bmN0aW9uKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBwcmVjaXNpb24sIGF0dHJpYnV0ZUxvY2F0aW9ucylcbntcblx0LyoqXG5cdCAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG5cdCAqXG5cdCAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cblx0ICovXG5cdHRoaXMuZ2wgPSBnbDtcblxuXHRpZihwcmVjaXNpb24pXG5cdHtcblx0XHR2ZXJ0ZXhTcmMgPSBzZXRQcmVjaXNpb24odmVydGV4U3JjLCBwcmVjaXNpb24pO1xuXHRcdGZyYWdtZW50U3JjID0gc2V0UHJlY2lzaW9uKGZyYWdtZW50U3JjLCBwcmVjaXNpb24pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBzaGFkZXIgcHJvZ3JhbVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtXZWJHTFByb2dyYW19XG5cdCAqL1xuXHQvLyBGaXJzdCBjb21waWxlIHRoZSBwcm9ncmFtLi5cblx0dGhpcy5wcm9ncmFtID0gY29tcGlsZVByb2dyYW0oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIGF0dHJpYnV0ZUxvY2F0aW9ucyk7XG5cblx0LyoqXG5cdCAqIFRoZSBhdHRyaWJ1dGVzIG9mIHRoZSBzaGFkZXIgYXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzXG5cdCAqIHtcblx0ICogXHR0eXBlLFxuXHQgKiBcdHNpemUsXG5cdCAqIFx0bG9jYXRpb24sXG5cdCAqIFx0cG9pbnRlclxuXHQgKiB9XG5cdCAqIEBtZW1iZXIge09iamVjdH1cblx0ICovXG5cdC8vIG5leHQgZXh0cmFjdCB0aGUgYXR0cmlidXRlc1xuXHR0aGlzLmF0dHJpYnV0ZXMgPSBleHRyYWN0QXR0cmlidXRlcyhnbCwgdGhpcy5wcm9ncmFtKTtcblxuICAgIHRoaXMudW5pZm9ybURhdGEgPSBleHRyYWN0VW5pZm9ybXMoZ2wsIHRoaXMucHJvZ3JhbSk7XG5cblx0LyoqXG5cdCAqIFRoZSB1bmlmb3JtcyBvZiB0aGUgc2hhZGVyIGFzIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllc1xuXHQgKiB7XG5cdCAqIFx0Z2wsXG5cdCAqIFx0ZGF0YVxuXHQgKiB9XG5cdCAqIEBtZW1iZXIge09iamVjdH1cblx0ICovXG5cdHRoaXMudW5pZm9ybXMgPSBnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QoIGdsLCB0aGlzLnVuaWZvcm1EYXRhICk7XG5cbn07XG4vKipcbiAqIFVzZXMgdGhpcyBzaGFkZXJcbiAqIFxuICogQHJldHVybiB7UElYSS5nbENvcmUuR0xTaGFkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5TaGFkZXIucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpXG57XG5cdHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhpcyBzaGFkZXJcbiAqIFRPRE9cbiAqL1xuU2hhZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKVxue1xuXHR0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuXHR0aGlzLnVuaWZvcm1EYXRhID0gbnVsbDtcblx0dGhpcy51bmlmb3JtcyA9IG51bGw7XG5cblx0dmFyIGdsID0gdGhpcy5nbDtcblx0Z2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFNoYWRlcjtcbiIsIlxudmFyIFRleHR1cmUgPSByZXF1aXJlKCcuL0dMVGV4dHVyZScpO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSB3ZWJHTCBGcmFtZWJ1ZmZlclxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSB3aWR0aCB7TnVtYmVyfSB0aGUgd2lkdGggb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKiBAcGFyYW0gaGVpZ2h0IHtOdW1iZXJ9IHRoZSBoZWlnaHQgb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKi9cbnZhciBGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uKGdsLCB3aWR0aCwgaGVpZ2h0KVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xGcmFtZWJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJidWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5zdGVuY2lsID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5nbENvcmUuR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoIHx8IDEwMDtcbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IDEwMDtcbn07XG5cbi8qKlxuICogQWRkcyBhIHRleHR1cmUgdG8gdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIHRleHR1cmUge1BJWEkuZ2xDb3JlLkdMVGV4dHVyZX1cbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmVuYWJsZVRleHR1cmUgPSBmdW5jdGlvbih0ZXh0dXJlKVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IG5ldyBUZXh0dXJlKGdsKTtcblxuICAgIHRoaXMudGV4dHVyZS5iaW5kKCk7XG5cbiAgICAvL2dsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcblxuICAgIHRoaXMuYmluZCgpO1xuXG4gICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUudGV4dHVyZSwgMCk7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpc2VzIHRoZSBzdGVuY2lsIGJ1ZmZlclxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlU3RlbmNpbCA9IGZ1bmN0aW9uKClcbntcbiAgICBpZih0aGlzLnN0ZW5jaWwpcmV0dXJuO1xuXG4gICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIHRoaXMuc3RlbmNpbCA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuXG4gICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHRoaXMuc3RlbmNpbCk7XG5cbiAgICAvLyBUT0RPLi4gdGhpcyBpcyBkZXB0aCBBTkQgc3RlbmNpbD9cbiAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHRoaXMuc3RlbmNpbCk7XG4gICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsICB0aGlzLndpZHRoICAsIHRoaXMuaGVpZ2h0ICk7XG5cblxufTtcblxuLyoqXG4gKiBFcmFzZXMgdGhlIGRyYXdpbmcgYXJlYSBhbmQgZmlsbHMgaXQgd2l0aCBhIGNvbG91clxuICogQHBhcmFtICByIHtOdW1iZXJ9IHRoZSByZWQgdmFsdWUgb2YgdGhlIGNsZWFyaW5nIGNvbG91clxuICogQHBhcmFtICBnIHtOdW1iZXJ9IHRoZSBncmVlbiB2YWx1ZSBvZiB0aGUgY2xlYXJpbmcgY29sb3VyXG4gKiBAcGFyYW0gIGIge051bWJlcn0gdGhlIGJsdWUgdmFsdWUgb2YgdGhlIGNsZWFyaW5nIGNvbG91clxuICogQHBhcmFtICBhIHtOdW1iZXJ9IHRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgY2xlYXJpbmcgY29sb3VyXG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCByLCBnLCBiLCBhIClcbntcbiAgICB0aGlzLmJpbmQoKTtcblxuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICBnbC5jbGVhckNvbG9yKHIsIGcsIGIsIGEpO1xuICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTtcbn07XG5cbi8qKlxuICogQmluZHMgdGhlIGZyYW1lIGJ1ZmZlciB0byB0aGUgV2ViR0wgY29udGV4dFxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKClcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5mcmFtZWJ1ZmZlciApO1xufTtcblxuLyoqXG4gKiBVbmJpbmRzIHRoZSBmcmFtZSBidWZmZXIgdG8gdGhlIFdlYkdMIGNvbnRleHRcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uKClcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCApO1xufTtcbi8qKlxuICogUmVzaXplcyB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBidWZmZXIgdG8gdGhlIGdpdmVuIHdpZHRoIGFuZCBoZWlnaHRcbiAqIEBwYXJhbSAgd2lkdGggIHtOdW1iZXJ9IHRoZSBuZXcgd2lkdGhcbiAqIEBwYXJhbSAgaGVpZ2h0IHtOdW1iZXJ9IHRoZSBuZXcgaGVpZ2h0XG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICBpZiAoIHRoaXMudGV4dHVyZSApXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmUudXBsb2FkRGF0YShudWxsLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAoIHRoaXMuc3RlbmNpbCApXG4gICAge1xuICAgICAgICAvLyB1cGRhdGUgdGhlIHN0ZW5jaWwgYnVmZmVyIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHRoaXMuc3RlbmNpbCk7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoaXMgYnVmZmVyXG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAvL1RPRE9cbiAgICBpZih0aGlzLnRleHR1cmUpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmUuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZnJhbWVidWZmZXIpO1xuXG4gICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICB0aGlzLnN0ZW5jaWwgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmcmFtZSBidWZmZXIgd2l0aCBhIHRleHR1cmUgY29udGFpbmluZyB0aGUgZ2l2ZW4gZGF0YVxuICogQHN0YXRpY1xuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gd2lkdGgge051bWJlcn0gdGhlIHdpZHRoIG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIGhlaWdodCB7TnVtYmVyfSB0aGUgaGVpZ2h0IG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIGRhdGEge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGFuIGFycmF5IG9mIGRhdGFcbiAqL1xuRnJhbWVidWZmZXIuY3JlYXRlUkdCQSA9IGZ1bmN0aW9uKGdsLCB3aWR0aCwgaGVpZ2h0LCBkYXRhKVxue1xuICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tRGF0YShnbCwgbnVsbCwgd2lkdGgsIGhlaWdodCk7XG4gICAgdGV4dHVyZS5lbmFibGVOZWFyZXN0U2NhbGluZygpO1xuICAgIHRleHR1cmUuZW5hYmxlV3JhcENsYW1wKCk7XG5cbiAgICAvL25vdyBjcmVhdGUgdGhlIGZyYW1lYnVmZmVyIG9iamVjdCBhbmQgYXR0YWNoIHRoZSB0ZXh0dXJlIHRvIGl0LlxuICAgIHZhciBmYm8gPSBuZXcgRnJhbWVidWZmZXIoZ2wsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGZiby5lbmFibGVUZXh0dXJlKHRleHR1cmUpO1xuICAgIC8vZmJvLmVuYWJsZVN0ZW5jaWwoKTsgLy8gZ2V0IHRoaXMgYmFjayBvbiBzb29uIVxuXG4gICAgLy9mYm8uZW5hYmxlU3RlbmNpbCgpOyAvLyBnZXQgdGhpcyBiYWNrIG9uIHNvb24hXG5cbiAgICBmYm8udW5iaW5kKCk7XG5cbiAgICByZXR1cm4gZmJvO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnJhbWUgYnVmZmVyIHdpdGggYSB0ZXh0dXJlIGNvbnRhaW5pbmcgdGhlIGdpdmVuIGRhdGFcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHdpZHRoIHtOdW1iZXJ9IHRoZSB3aWR0aCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSBoZWlnaHQge051bWJlcn0gdGhlIGhlaWdodCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSBkYXRhIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBhbiBhcnJheSBvZiBkYXRhXG4gKi9cbkZyYW1lYnVmZmVyLmNyZWF0ZUZsb2F0MzIgPSBmdW5jdGlvbihnbCwgd2lkdGgsIGhlaWdodCwgZGF0YSlcbntcbiAgICAvLyBjcmVhdGUgYSBuZXcgdGV4dHVyZS4uXG4gICAgdmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZS5mcm9tRGF0YShnbCwgZGF0YSwgd2lkdGgsIGhlaWdodCk7XG4gICAgdGV4dHVyZS5lbmFibGVOZWFyZXN0U2NhbGluZygpO1xuICAgIHRleHR1cmUuZW5hYmxlV3JhcENsYW1wKCk7XG5cbiAgICAvL25vdyBjcmVhdGUgdGhlIGZyYW1lYnVmZmVyIG9iamVjdCBhbmQgYXR0YWNoIHRoZSB0ZXh0dXJlIHRvIGl0LlxuICAgIHZhciBmYm8gPSBuZXcgRnJhbWVidWZmZXIoZ2wsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGZiby5lbmFibGVUZXh0dXJlKHRleHR1cmUpO1xuXG4gICAgZmJvLnVuYmluZCgpO1xuXG4gICAgcmV0dXJuIGZibztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRnJhbWVidWZmZXI7XG4iLCJ2YXIgRU1QVFlfQVJSQVlfQlVGRkVSID0gbmV3IEFycmF5QnVmZmVyKDApO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSB3ZWJHTCBidWZmZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZVxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gdHlwZSB7Z2wuQVJSQVlfQlVGRkVSIHwgZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVJ9IEBtYXRcbiAqIEBwYXJhbSBkYXRhIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBhbiBhcnJheSBvZiBkYXRhXG4gKiBAcGFyYW0gZHJhd1R5cGUge2dsLlNUQVRJQ19EUkFXfGdsLkRZTkFNSUNfRFJBV3xnbC5TVFJFQU1fRFJBV31cbiAqL1xudmFyIEJ1ZmZlciA9IGZ1bmN0aW9uKGdsLCB0eXBlLCBkYXRhLCBkcmF3VHlwZSlcbntcblxuXHQvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuXHR0aGlzLmdsID0gZ2w7XG5cblx0LyoqXG4gICAgICogVGhlIFdlYkdMIGJ1ZmZlciwgY3JlYXRlZCB1cG9uIGluc3RhbnRpYXRpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMQnVmZmVyfVxuICAgICAqL1xuXHR0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuXG5cdC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsLkFSUkFZX0JVRkZFUnxnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUn1cbiAgICAgKi9cblx0dGhpcy50eXBlID0gdHlwZSB8fCBnbC5BUlJBWV9CVUZGRVI7XG5cblx0LyoqXG4gICAgICogVGhlIGRyYXcgdHlwZSBvZiB0aGUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbC5TVEFUSUNfRFJBV3xnbC5EWU5BTUlDX0RSQVd8Z2wuU1RSRUFNX0RSQVd9XG4gICAgICovXG5cdHRoaXMuZHJhd1R5cGUgPSBkcmF3VHlwZSB8fCBnbC5TVEFUSUNfRFJBVztcblxuXHQvKipcbiAgICAgKiBUaGUgZGF0YSBpbiB0aGUgYnVmZmVyLCBhcyBhIHR5cGVkIGFycmF5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fVxuICAgICAqL1xuXHR0aGlzLmRhdGEgPSBFTVBUWV9BUlJBWV9CVUZGRVI7XG5cblx0aWYoZGF0YSlcblx0e1xuXHRcdHRoaXMudXBsb2FkKGRhdGEpO1xuXHR9XG5cblx0dGhpcy5fdXBkYXRlSUQgPSAwO1xufTtcblxuLyoqXG4gKiBVcGxvYWRzIHRoZSBidWZmZXIgdG8gdGhlIEdQVVxuICogQHBhcmFtIGRhdGEge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGFuIGFycmF5IG9mIGRhdGEgdG8gdXBsb2FkXG4gKiBAcGFyYW0gb2Zmc2V0IHtOdW1iZXJ9IGlmIG9ubHkgYSBzdWJzZXQgb2YgdGhlIGRhdGEgc2hvdWxkIGJlIHVwbG9hZGVkLCB0aGlzIGlzIHRoZSBhbW91bnQgb2YgZGF0YSB0byBzdWJ0cmFjdFxuICogQHBhcmFtIGRvbnRCaW5kIHtCb29sZWFufSB3aGV0aGVyIHRvIGJpbmQgdGhlIGJ1ZmZlciBiZWZvcmUgdXBsb2FkaW5nIGl0XG4gKi9cbkJ1ZmZlci5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24oZGF0YSwgb2Zmc2V0LCBkb250QmluZClcbntcblx0Ly8gdG9kbyAtIG5lZWRlZD9cblx0aWYoIWRvbnRCaW5kKSB0aGlzLmJpbmQoKTtcblxuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdGRhdGEgPSBkYXRhIHx8IHRoaXMuZGF0YTtcblx0b2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cblx0aWYodGhpcy5kYXRhLmJ5dGVMZW5ndGggPj0gZGF0YS5ieXRlTGVuZ3RoKVxuXHR7XG5cdFx0Z2wuYnVmZmVyU3ViRGF0YSh0aGlzLnR5cGUsIG9mZnNldCwgZGF0YSk7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdFx0Z2wuYnVmZmVyRGF0YSh0aGlzLnR5cGUsIGRhdGEsIHRoaXMuZHJhd1R5cGUpO1xuXHR9XG5cblx0dGhpcy5kYXRhID0gZGF0YTtcbn07XG4vKipcbiAqIEJpbmRzIHRoZSBidWZmZXJcbiAqXG4gKi9cbkJ1ZmZlci5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblx0Z2wuYmluZEJ1ZmZlcih0aGlzLnR5cGUsIHRoaXMuYnVmZmVyKTtcbn07XG5cbkJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIgPSBmdW5jdGlvbihnbCwgZGF0YSwgZHJhd1R5cGUpXG57XG5cdHJldHVybiBuZXcgQnVmZmVyKGdsLCBnbC5BUlJBWV9CVUZGRVIsIGRhdGEsIGRyYXdUeXBlKTtcbn07XG5cbkJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlciA9IGZ1bmN0aW9uKGdsLCBkYXRhLCBkcmF3VHlwZSlcbntcblx0cmV0dXJuIG5ldyBCdWZmZXIoZ2wsIGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBkYXRhLCBkcmF3VHlwZSk7XG59O1xuXG5CdWZmZXIuY3JlYXRlID0gZnVuY3Rpb24oZ2wsIHR5cGUsIGRhdGEsIGRyYXdUeXBlKVxue1xuXHRyZXR1cm4gbmV3IEJ1ZmZlcihnbCwgdHlwZSwgZGF0YSwgZHJhd1R5cGUpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgYnVmZmVyXG4gKlxuICovXG5CdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpe1xuXHR0aGlzLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJ1ZmZlcjtcbiIsIlxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgQ29udGV4dFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gY2FudmFzIHtIVE1MQ2FudmFzRWxlbWVudH0gdGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgd2Ugd2lsbCBnZXQgdGhlIGNvbnRleHQgZnJvbVxuICogQHBhcmFtIG9wdGlvbnMge09iamVjdH0gQW4gb3B0aW9ucyBvYmplY3QgdGhhdCBnZXRzIHBhc3NlZCBpbiB0byB0aGUgY2FudmFzIGVsZW1lbnQgY29udGFpbmluZyB0aGUgY29udGV4dCBhdHRyaWJ1dGVzLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC9nZXRDb250ZXh0IGZvciB0aGUgb3B0aW9ucyBhdmFpbGFibGVcbiAqIEByZXR1cm4ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gdGhlIFdlYkdMIGNvbnRleHRcbiAqL1xudmFyIGNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbihjYW52YXMsIG9wdGlvbnMpXG57XG4gICAgdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgb3B0aW9ucykgfHwgXG4gICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgb3B0aW9ucyk7XG5cbiAgICBpZiAoIWdsKVxuICAgIHtcbiAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlcicpO1xuICAgIH1cblxuICAgIHJldHVybiBnbDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQ29udGV4dDtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFJvdW5kZWQgUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIHRoYXQgaGFzIG5pY2Ugcm91bmRlZCBjb3JuZXJzLCBhcyBpbmRpY2F0ZWQgYnkgaXRzXG4gKiB0b3AtbGVmdCBjb3JuZXIgcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQgYW5kIGl0cyByYWRpdXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUm91bmRlZFJlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0yMF0gLSBDb250cm9scyB0aGUgcmFkaXVzIG9mIHRoZSByb3VuZGVkIGNvcm5lcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3VuZGVkUmVjdGFuZ2xlKCkge1xuICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcbiAgICAgICAgdmFyIHJhZGl1cyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogMjA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvdW5kZWRSZWN0YW5nbGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMjBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJSRUNcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5SUkVDO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKi9cblxuXG4gICAgUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yYWRpdXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICovXG5cblxuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSArIHRoaXMucmFkaXVzICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cyB8fCB4ID49IHRoaXMueCArIHRoaXMucmFkaXVzICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICB2YXIgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzMiA9IHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHJldHVybiBSb3VuZGVkUmVjdGFuZ2xlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSb3VuZGVkUmVjdGFuZ2xlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um91bmRlZFJlY3RhbmdsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUG9pbnQgPSByZXF1aXJlKCcuLi9Qb2ludCcpO1xuXG52YXIgX1BvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvaW50KTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUG9seWdvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXXxudW1iZXJbXX0gcG9pbnRzIC0gVGhpcyBjYW4gYmUgYW4gYXJyYXkgb2YgUG9pbnRzXG4gICAgICogIHRoYXQgZm9ybSB0aGUgcG9seWdvbiwgYSBmbGF0IGFycmF5IG9mIG51bWJlcnMgdGhhdCB3aWxsIGJlIGludGVycHJldGVkIGFzIFt4LHksIHgseSwgLi4uXSwgb3JcbiAgICAgKiAgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGFsbCB0aGUgcG9pbnRzIG9mIHRoZSBwb2x5Z29uIGUuZy5cbiAgICAgKiAgYG5ldyBQSVhJLlBvbHlnb24obmV3IFBJWEkuUG9pbnQoKSwgbmV3IFBJWEkuUG9pbnQoKSwgLi4uKWAsIG9yIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBmbGF0XG4gICAgICogIHgseSB2YWx1ZXMgZS5nLiBgbmV3IFBvbHlnb24oeCx5LCB4LHksIHgseSwgLi4uKWAgd2hlcmUgYHhgIGFuZCBgeWAgYXJlIE51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9seWdvbigpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBvaW50cyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgcG9pbnRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvbHlnb24pO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBvaW50c1swXSkpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50c1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gYXJyYXkgb2YgcG9pbnRzLCBjb252ZXJ0IGl0IHRvIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzXG4gICAgICAgIGlmIChwb2ludHNbMF0gaW5zdGFuY2VvZiBfUG9pbnQyLmRlZmF1bHQpIHtcbiAgICAgICAgICAgIHZhciBwID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHBvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcC5wdXNoKHBvaW50c1tpXS54LCBwb2ludHNbaV0ueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvaW50cyA9IHA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBwb2ludHMgb2YgdGhpcyBwb2x5Z29uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUE9MWVxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLlBPTFk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Qb2x5Z29ufSBhIGNvcHkgb2YgdGhlIHBvbHlnb25cbiAgICAgKi9cblxuXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2x5Z29uKHRoaXMucG9pbnRzLnNsaWNlKCkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHBvbHlnb24sIGFkZGluZyBwb2ludHMgaWYgbmVjZXNzYXJ5LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFBvbHlnb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICAvLyBjbG9zZSB0aGUgcG9seSBpZiB0aGUgdmFsdWUgaXMgdHJ1ZSFcbiAgICAgICAgaWYgKHBvaW50c1swXSAhPT0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSB8fCBwb2ludHNbMV0gIT09IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqL1xuXG5cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICAgICAgdmFyIGluc2lkZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHVzZSBzb21lIHJheWNhc3RpbmcgdG8gdGVzdCBoaXRzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9wb2ludC1pbi1wb2x5Z29uL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gbGVuZ3RoIC0gMTsgaSA8IGxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICAgICAgdmFyIHhpID0gdGhpcy5wb2ludHNbaSAqIDJdO1xuICAgICAgICAgICAgdmFyIHlpID0gdGhpcy5wb2ludHNbaSAqIDIgKyAxXTtcbiAgICAgICAgICAgIHZhciB4aiA9IHRoaXMucG9pbnRzW2ogKiAyXTtcbiAgICAgICAgICAgIHZhciB5aiA9IHRoaXMucG9pbnRzW2ogKiAyICsgMV07XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0ID0geWkgPiB5ICE9PSB5aiA+IHkgJiYgeCA8ICh4aiAtIHhpKSAqICgoeSAtIHlpKSAvICh5aiAtIHlpKSkgKyB4aTtcblxuICAgICAgICAgICAgaWYgKGludGVyc2VjdCkge1xuICAgICAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zaWRlO1xuICAgIH07XG5cbiAgICByZXR1cm4gUG9seWdvbjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUG9seWdvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvbHlnb24uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1JlY3RhbmdsZSA9IHJlcXVpcmUoJy4vUmVjdGFuZ2xlJyk7XG5cbnZhciBfUmVjdGFuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlY3RhbmdsZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBFbGxpcHNlIG9iamVjdCBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRWxsaXBzZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoaXMgZWxsaXBzZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGlzIGVsbGlwc2VcbiAgICovXG4gIGZ1bmN0aW9uIEVsbGlwc2UoKSB7XG4gICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgdmFyIHdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWxsaXBzZSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuRUxJUFxuICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLkVMSVA7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgRWxsaXBzZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLkVsbGlwc2V9IGEgY29weSBvZiB0aGUgZWxsaXBzZVxuICAgKi9cblxuXG4gIEVsbGlwc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBFbGxpcHNlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZHMgYXJlIHdpdGhpbiB0aGlzIGVsbGlwc2VcbiAgICovXG5cblxuICBFbGxpcHNlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBub3JtYWxpemUgdGhlIGNvb3JkcyB0byBhbiBlbGxpcHNlIHdpdGggY2VudGVyIDAsMFxuICAgIHZhciBub3JteCA9ICh4IC0gdGhpcy54KSAvIHRoaXMud2lkdGg7XG4gICAgdmFyIG5vcm15ID0gKHkgLSB0aGlzLnkpIC8gdGhpcy5oZWlnaHQ7XG5cbiAgICBub3JteCAqPSBub3JteDtcbiAgICBub3JteSAqPSBub3JteTtcblxuICAgIHJldHVybiBub3JteCArIG5vcm15IDw9IDE7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBlbGxpcHNlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICAqL1xuXG5cbiAgRWxsaXBzZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xuICAgIHJldHVybiBuZXcgX1JlY3RhbmdsZTIuZGVmYXVsdCh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9O1xuXG4gIHJldHVybiBFbGxpcHNlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBFbGxpcHNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RWxsaXBzZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi9SZWN0YW5nbGUnKTtcblxudmFyIF9SZWN0YW5nbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVjdGFuZ2xlKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIENpcmNsZSBvYmplY3QgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENpcmNsZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXM9MF0gLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICovXG4gIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICB2YXIgcmFkaXVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENpcmNsZSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkNJUkNcbiAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICovXG4gICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5DSVJDO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIENpcmNsZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLkNpcmNsZX0gYSBjb3B5IG9mIHRoZSBDaXJjbGVcbiAgICovXG5cblxuICBDaXJjbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBjaXJjbGVcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIENpcmNsZVxuICAgKi9cblxuXG4gIENpcmNsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyh4LCB5KSB7XG4gICAgaWYgKHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgIHZhciBkeCA9IHRoaXMueCAtIHg7XG4gICAgdmFyIGR5ID0gdGhpcy55IC0geTtcblxuICAgIGR4ICo9IGR4O1xuICAgIGR5ICo9IGR5O1xuXG4gICAgcmV0dXJuIGR4ICsgZHkgPD0gcjI7XG4gIH07XG5cbiAgLyoqXG4gICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGNpcmNsZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAgKlxuICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgKi9cblxuXG4gIENpcmNsZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xuICAgIHJldHVybiBuZXcgX1JlY3RhbmdsZTIuZGVmYXVsdCh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbiAgfTtcblxuICByZXR1cm4gQ2lyY2xlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDaXJjbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaXJjbGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL2lzSW50ZWdlclxuXG5pZiAoIU51bWJlci5pc0ludGVnZXIpIHtcbiAgICBOdW1iZXIuaXNJbnRlZ2VyID0gZnVuY3Rpb24gbnVtYmVySXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKSAmJiBNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU51bWJlci5pc0ludGVnZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3NpZ25cblxuaWYgKCFNYXRoLnNpZ24pIHtcbiAgICBNYXRoLnNpZ24gPSBmdW5jdGlvbiBtYXRoU2lnbih4KSB7XG4gICAgICAgIHggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgaWYgKHggPT09IDAgfHwgaXNOYU4oeCkpIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHggPiAwID8gMSA6IC0xO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXRoLnNpZ24uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzE1Nzk2NzFcbi8vIGh0dHA6Ly91cGRhdGVzLmh0bWw1cm9ja3MuY29tLzIwMTIvMDUvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLUFQSS1ub3ctd2l0aC1zdWItbWlsbGlzZWNvbmQtcHJlY2lzaW9uXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS90aW1oYWxsLzQwNzg2MTRcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS90cmVlL21hc3Rlci9wb2x5ZmlsbHMvcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cbi8vIEV4cGVjdGVkIHRvIGJlIHVzZWQgd2l0aCBCcm93c2VyZml5XG4vLyBCcm93c2VyaWZ5IGF1dG9tYXRpY2FsbHkgZGV0ZWN0cyB0aGUgdXNlIG9mIGBnbG9iYWxgIGFuZCBwYXNzZXMgdGhlXG4vLyBjb3JyZWN0IHJlZmVyZW5jZSBvZiBgZ2xvYmFsYCwgYHNlbGZgLCBhbmQgZmluYWxseSBgd2luZG93YFxuXG52YXIgT05FX0ZSQU1FX1RJTUUgPSAxNjtcblxuLy8gRGF0ZS5ub3dcbmlmICghKERhdGUubm93ICYmIERhdGUucHJvdG90eXBlLmdldFRpbWUpKSB7XG4gICAgRGF0ZS5ub3cgPSBmdW5jdGlvbiBub3coKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB9O1xufVxuXG4vLyBwZXJmb3JtYW5jZS5ub3dcbmlmICghKGdsb2JhbC5wZXJmb3JtYW5jZSAmJiBnbG9iYWwucGVyZm9ybWFuY2Uubm93KSkge1xuICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgaWYgKCFnbG9iYWwucGVyZm9ybWFuY2UpIHtcbiAgICAgICAgZ2xvYmFsLnBlcmZvcm1hbmNlID0ge307XG4gICAgfVxuXG4gICAgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgfTtcbn1cblxuLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG52YXIgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xudmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuXG5mb3IgKHZhciB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICFnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpIHtcbiAgICB2YXIgcCA9IHZlbmRvcnNbeF07XG5cbiAgICBnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZ2xvYmFsW3AgKyAnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgZ2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZ2xvYmFsW3AgKyAnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fCBnbG9iYWxbcCArICdDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbn1cblxuaWYgKCFnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGNhbGxiYWNrICsgJ2lzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgZGVsYXkgPSBPTkVfRlJBTUVfVElNRSArIGxhc3RUaW1lIC0gY3VycmVudFRpbWU7XG5cbiAgICAgICAgaWYgKGRlbGF5IDwgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdFRpbWUgPSBjdXJyZW50VGltZTtcblxuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsYXN0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjYWxsYmFjayhwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICB9O1xufVxuXG5pZiAoIWdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgIGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzLm1hcCIsIi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5pZiAoIU9iamVjdC5hc3NpZ24pIHtcbiAgICBPYmplY3QuYXNzaWduID0gX29iamVjdEFzc2lnbjIuZGVmYXVsdDtcbn0gLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvb2JqZWN0LWFzc2lnblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0LmFzc2lnbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xuXG5yZXF1aXJlKCcuL3JlcXVlc3RBbmltYXRpb25GcmFtZScpO1xuXG5yZXF1aXJlKCcuL01hdGguc2lnbicpO1xuXG5yZXF1aXJlKCcuL051bWJlci5pc0ludGVnZXInKTtcblxuaWYgKCF3aW5kb3cuQXJyYXlCdWZmZXIpIHtcbiAgICB3aW5kb3cuQXJyYXlCdWZmZXIgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuRmxvYXQzMkFycmF5KSB7XG4gICAgd2luZG93LkZsb2F0MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MzJBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MTZBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MTZBcnJheSA9IEFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5sb2FkZXIgPSBleHBvcnRzLnByZXBhcmUgPSBleHBvcnRzLnBhcnRpY2xlcyA9IGV4cG9ydHMubWVzaCA9IGV4cG9ydHMubG9hZGVycyA9IGV4cG9ydHMuaW50ZXJhY3Rpb24gPSBleHBvcnRzLmZpbHRlcnMgPSBleHBvcnRzLmV4dHJhcyA9IGV4cG9ydHMuZXh0cmFjdCA9IGV4cG9ydHMuYWNjZXNzaWJpbGl0eSA9IHVuZGVmaW5lZDtcblxudmFyIF9wb2x5ZmlsbCA9IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcblxuT2JqZWN0LmtleXMoX3BvbHlmaWxsKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfcG9seWZpbGxba2V5XTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4vY29yZScpO1xuXG5PYmplY3Qua2V5cyhfY29yZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvcmVba2V5XTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbnZhciBfZGVwcmVjYXRpb24gPSByZXF1aXJlKCcuL2RlcHJlY2F0aW9uJyk7XG5cbnZhciBfZGVwcmVjYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRpb24pO1xuXG52YXIgX2FjY2Vzc2liaWxpdHkgPSByZXF1aXJlKCcuL2FjY2Vzc2liaWxpdHknKTtcblxudmFyIGFjY2Vzc2liaWxpdHkgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfYWNjZXNzaWJpbGl0eSk7XG5cbnZhciBfZXh0cmFjdCA9IHJlcXVpcmUoJy4vZXh0cmFjdCcpO1xuXG52YXIgZXh0cmFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9leHRyYWN0KTtcblxudmFyIF9leHRyYXMgPSByZXF1aXJlKCcuL2V4dHJhcycpO1xuXG52YXIgZXh0cmFzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2V4dHJhcyk7XG5cbnZhciBfZmlsdGVycyA9IHJlcXVpcmUoJy4vZmlsdGVycycpO1xuXG52YXIgZmlsdGVycyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9maWx0ZXJzKTtcblxudmFyIF9pbnRlcmFjdGlvbiA9IHJlcXVpcmUoJy4vaW50ZXJhY3Rpb24nKTtcblxudmFyIGludGVyYWN0aW9uID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2ludGVyYWN0aW9uKTtcblxudmFyIF9sb2FkZXJzID0gcmVxdWlyZSgnLi9sb2FkZXJzJyk7XG5cbnZhciBsb2FkZXJzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2xvYWRlcnMpO1xuXG52YXIgX21lc2ggPSByZXF1aXJlKCcuL21lc2gnKTtcblxudmFyIG1lc2ggPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbWVzaCk7XG5cbnZhciBfcGFydGljbGVzID0gcmVxdWlyZSgnLi9wYXJ0aWNsZXMnKTtcblxudmFyIHBhcnRpY2xlcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9wYXJ0aWNsZXMpO1xuXG52YXIgX3ByZXBhcmUgPSByZXF1aXJlKCcuL3ByZXBhcmUnKTtcblxudmFyIHByZXBhcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfcHJlcGFyZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vIGV4cG9ydCBjb3JlXG5fY29yZS51dGlscy5taXhpbnMucGVyZm9ybU1peGlucygpO1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgUElYSS5sb2FkZXJzLnNoYXJlZH0uXG4gKiBAbmFtZSBsb2FkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7UElYSS5sb2FkZXIuTG9hZGVyfVxuICovXG5cblxuLy8gaGFuZGxlIG1peGlucyBub3csIGFmdGVyIGFsbCBjb2RlIGhhcyBiZWVuIGFkZGVkLCBpbmNsdWRpbmcgZGVwcmVjYXRpb25cblxuXG4vLyBleHBvcnQgbGlic1xuLy8gaW1wb3J0IHBvbHlmaWxscy4gRG9uZSBhcyBhbiBleHBvcnQgdG8gbWFrZSBzdXJlIHBvbHlmaWxscyBhcmUgaW1wb3J0ZWQgZmlyc3RcbnZhciBsb2FkZXIgPSBsb2FkZXJzLnNoYXJlZCB8fCBudWxsO1xuXG5leHBvcnRzLmFjY2Vzc2liaWxpdHkgPSBhY2Nlc3NpYmlsaXR5O1xuZXhwb3J0cy5leHRyYWN0ID0gZXh0cmFjdDtcbmV4cG9ydHMuZXh0cmFzID0gZXh0cmFzO1xuZXhwb3J0cy5maWx0ZXJzID0gZmlsdGVycztcbmV4cG9ydHMuaW50ZXJhY3Rpb24gPSBpbnRlcmFjdGlvbjtcbmV4cG9ydHMubG9hZGVycyA9IGxvYWRlcnM7XG5leHBvcnRzLm1lc2ggPSBtZXNoO1xuZXhwb3J0cy5wYXJ0aWNsZXMgPSBwYXJ0aWNsZXM7XG5leHBvcnRzLnByZXBhcmUgPSBwcmVwYXJlO1xuZXhwb3J0cy5sb2FkZXIgPSBsb2FkZXI7XG5cbi8vIEFwcGx5IHRoZSBkZXByZWNhdGlvbnNcblxuaWYgKHR5cGVvZiBfZGVwcmVjYXRpb24yLmRlZmF1bHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAoMCwgX2RlcHJlY2F0aW9uMi5kZWZhdWx0KShleHBvcnRzKTtcbn1cblxuLy8gQWx3YXlzIGV4cG9ydCBQaXhpSlMgZ2xvYmFsbHkuXG5nbG9iYWwuUElYSSA9IGV4cG9ydHM7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=